var __vite_style__=document.createElement("style");__vite_style__.innerHTML=`@charset "UTF-8";.border{width:calc(100vw - 40px);height:calc(100vh - 40px);
top:20px;left:20px;z-index:10}@media screen and (max-width: 991px){.border{width:calc(100vw - 20px);
	height:calc(100dvh - 20px);top:10px;left:10px}}.at-top .logo-char,.active-burger .logo-char,
	.logo-hover .logo-char{translate:0% 0%}.at-top .logo-char-1,.active-burger .logo-char-1,.logo-hover .logo-char-1{transition-delay:.05s!important}.at-top .logo-char-2,.active-burger .logo-char-2,.logo-hover .logo-char-2{transition-delay:.1s!important}.
	at-top .logo-char-3,.active-burger .logo-char-3,.logo-hover .logo-char-3{transition-delay:.15s!important}.
	at-top .logo-char-4,.active-burger .logo-char-4,.logo-hover .logo-char-4{transition-delay:.2s!important}.at-top .logo-char-5,.active-burger .logo-char-5,.logo-hover .logo-char
	-5{transition-delay:.25s!important}.at-top .logo-char-6,.active-burger .logo-char-6,.logo-hover .logo-char-6{transition-delay:.3s!important}.at-top .logo-char-7,.active-burger .logo-ch
	ar-7,.logo-hover .logo-char-7{transition-delay:.35s!important}.at-top .logo-char-8,.active-burger .logo-char-8,.logo-hover .logo-char-8{transition-delay:.4s!important}.l
	ogo-char{transition:translate .4s cubic-bezier(.25,1,.5,1);translate:-100% 0%}.top-logo .f-30{transition:font-variation-settings .4s cubic-bezier(.25,1,.5,1),color .4s cubic-bezier(.25,1,.5,1)}.
	top-logo:hover .f-30{font-variation-settings:"HGHT" 800,"wdth" 400;color:#dcff7d}.top-logo.black .f-30{color:#0a0a0a}.preview-disabled .top-logo:hover .f-30{color:#dcff7d}.grey-tile .f-30{color:#0a0a0a}.active-burger .logo-char,.logo-hover 
	.logo-char{transition:translate .4s cubic-bezier(.25,1,.5,1);translate:0% 0%}.loader{pointer-events:all!important;background-color:transparent}#loader-counter{font-variation-settings:"wdth" var(--loader-text-width),"HGHT" var(--loader-text-height)}.loader__grid{display:grid;grid-template-columns:repeat(var(--columns),1fr);grid-template-rows:repeat(var(--rows),1fr)}.loader__tile{background:#DCFF7D}.grey-tile .loade
	r__tile{background:#C7C7C7}.grey-tile .top-logo .f-30{color:#0a0a0a!important}.nav{overflow:hidden}.nav .container{background-color:#0a0a0a;clip-path:inset(0% 0 0 0);transition:clip-path .4s cubic-bezier(.25,1,.5,1);border-bottom-left-radius:10px;border
		-bottom-right-radius:10px}.nav,.nav .col-grey-40,.nav .col-green{transition:color .4s cubic-bezier(.25,1,.5,1)}.preview-disabled .preview{display:none!important}.preview.active{display:flex}.preview .f-30{position:relative;z-index:2;opacity:0}.preview .preview__grid{z-index:1;display:grid;grid-template-columns:
			repeat(var(--columns),1fr);grid-template-rows:repeat(var(--rows),1fr)}.preview .preview__tile{background:#DCFF7D;opacity:0}@media screen and (max-width: 991px){.burger{display:block;pointer-events:none;touch-action:none}.burger .burger__tile{background-color:#dcff7d;opacity:0}.burger .burger__i
			tem-index{transition:opacity .4s cubic-bezier(.25,1,.5,1);opacity:0}.burger .burger__bg{background-color:transparent;display:grid;grid-template-columns:repeat(var(--columns),1fr);grid-template-rows:repeat(var(--rows),1fr)}.burger .burger__char{transition:transform .2s cubic-bezier(.25,1,.5,1),font-variation-settings .4s e
				ase;font-variation-settings:"wdth" 200,"HGHT" 200;transform:scaleY(0);transform-origin:bottom}.burger.no-delay .burger__char,.burger.no-delay .burger__item-index{transition-delay:0s!important}.nav .container,.nav .nav__progress{transition:background-color .2s cubic-bezier(.25,1,.5,1)}.active-burger .burger{pointer-events:all}.active-burger .burger .burger__tile{opacity:1}.active-burger .burger .burger__char{tra
					nsform:scaleY(1);font-variation-settings:"wdth" 200,"HGHT" 1000}.active-burger .burger .burger__item-index{opacity:1}.active-burger .nav .container,.active-burger .nav .nav__progress{background-color:transparent}.active-burger .nav,.active-burger .nav .col-grey-40,.active-burger .nav .col-green{color:#0a0a0a!important}.burger.skip-delay .burger__char,.burger.skip-delay .burger__item-index,.burger.skip-delay .burger__tile{transition:opacity 0s!important;transition-delay:0s!important}}[text-char]{display:block}[no-flex] .text-line{display:block!important}[no-flex] .text-word{padding:0 .1rem!impor
						tant}[no-flex] .text-line:first-child .text-word:first-child{margin-left:0!important}[text-word],[text-word] .text-line,[text-word] .text-word{text-indent:0!important}[text-word] .text-line:first-chil
						d .text-word:first-child{text-indent:3.75vw!important}[text-word][no-flex] .text-line:first-child .text-word:first-child{text-indent:0!important}[text-word] .text-word{padding:0 .2rem;flex-shrink:0;flex-grow:0}[text-word] .text-line{display:flex!important;flex-direction:row;flex-wrap:wrap;justify-content:space
							-between}[text-word] .text-line:last-child{justify-content:start}@media screen and (max-width: 991px){[text-word] .text-line:first-child .text-word:first-child{text-indent:60px!important}[text-word] .text-word{padding:0 .1rem!important}}@media screen and (max-widt
								h: 480px){[text-word] .text-line:first-child .text-word:first-child{text-indent:45px!important}}li{position:relative;display:inline}li:before{content:"\\2014";font-size:.875rem;position:absolute;color:#dcff7d;left:-1.5rem;font-family:Su
								pply,sans-serif}.form__step{position:absolute;top:0;left:0;display:block;pointer-events:none;width:100%}.form__step .form__char{transition:transform .4s cubic-bezier(.25,1
									,.5,1),font-variation-settings .4s cubic-bezier(.25,1,.5,1);font-variation-settings:"wdth" 200,"HGHT" 200;transform:scaleY(0);transform-origin:top}.form__step .form__radio{transition:opacity .4s cubic-bezier(.25,1,.5,1);opacity:0}.form__step .form__input--label{opacity:0;transition:opacity .2s cubic-bezier(.25,1,.5,1);pointer-events:none}.form__step.active{display:block;pointer-events:all}.form__step.active .form__char{transform:scaleY(1);font-variation-settings:"wdth" 200,"HGHT" 1000;transform-origin:bottom}.form__step.active .form__radio,.form__step.active .form__input--label{opacity:1}.form__radio{transition:border-color .4s cubic-bezier(.25,1,.5,1)}.form__radio:hover{border-color:#dcff7d}.form__radio .form__radio--text{overflow:hidden;display:flex}.form__radio .form__radio--text span{white-space:nowrap;transition:color .4s cubic-bezier(.25,1,.5,1)}.form__radio.active{pointer-events:none}.form__radio.active span{color:#dcff7d}.form__label{padding-left:1vw;transition:opacity .2s cubic-bezier(.25,1,.5,1)}.form__input--wrapper{position:relative}.form__input--wrapper .form__title{margin-bottom:0}.form__title{transition:color .2s cubic-bezier(.25,1,.5,1)}.form__input--parent{position:absolute;left:0;right:0;top:0;pointer-events:none}.form__input--parent input[type=text],.form__input--parent input[type=email]{text-indent:calc(var(--left) + 1vw)}.form__input--parent.active{opacity:1;pointer-events:all}.form__input--parent.is--text-area{top:calc(var(--top) - .13vw);height:calc(var(--top) * 2)}.form__input--parent.is--text-area textarea{text-indent:calc(var(--left) + 1vw);height:100%}.form__step .form__input{opacity:0;transition:opacity .2s cubic-bezier(.25,1,.5,1);pointer-events:none;color:#c7c7c7;caret-color:#dcff7d}.form__step .form__input--parent.active{pointer-events:none}.form__step .form__input--line{height:calc(var(--top) - 1.7vw);left:calc(var(--left) + .5vw);width:.25em;top:.75vw;opacity:0;transition:transform .4s cubic-bezier(.25,1,.5,1);transform:scaleY(0);transform-origin:top;transition-delay:.3s}.form__step.active .form__input--wrapper.active .form__input{opacity:1;pointer-events:all}.form__step.active .form__input--wrapper.active .form__label{opacity:0;pointer-events:none}.form__step.active .form__input--wrapper.active .form__label.still-active{opacity:1;pointer-events:none}.form__step.active .form__input--wrapper.active .form__title{color:#565656}.form__step.active .form__input--wrapper.filled .form__label{opacity:0}.form__step.active .form__input--wrapper.filled .form__input{opacity:1}.form__step.active .form__input--wrapper.filled .form__title{color:#565656}.form__step.active .form__input--wrapper.error .form__input{caret-color:#ff4545}.form__step.active .form__input--wrapper.error .form__label{color:#ff454533}.form__step.active .form__input--line{transform:scaleY(1);transform-origin:bottom}.animated{animation:line infinite 1.2s linear}@keyframes line{0%{opacity:1}19%{opacity:1}30%{opacity:0}89%{opacity:0}to{opacity:1}}.form__subtitle--span{transition:opacity .4s cubic-bezier(.25,1,.5,1)}.form__subtitle--span.hide{opacity:0}.contact__next--parent.last .form__submit{pointer-events:all}.contact__next--parent .form__submit{pointer-events:none}.contact__next--parent .contact__back{pointer-events:none;opacity:0;transition:opacity .4s cubic-bezier(.25,1,.5,1)}.contact__next--parent .contact__next{transition:margin-left .4s cubic-bezier(.25,1,.5,1);margin-left:calc(0px - var(--back-width) * 2)}.contact__next--parent .contact__next .button{transition:background-color .4s cubic-bezier(.25,1,.5,1)}.contact__next--parent .contact__next .button .f-24{transition:color .4s cubic-bezier(.25,1,.5,1)}.contact__next--parent .contact__next:hover .button{background-color:#dcff7d}.contact__next--parent .contact__next:hover .button .f-24{color:#0a0a0a}.contact__next--parent .contact__next.error{pointer-events:none}.contact__next--parent .contact__next.error .button{border-color:#ff4545!important}.contact__next--parent .contact__next.error .button .f-24{color:#ff4545!important}.contact__next--parent.show-back .contact__back{pointer-events:all;opacity:1}.contact__next--parent.show-back .contact__next{margin-left:0}@media screen and (max-width: 480px){.contact__next--parent .contact__next{margin-left:calc(0px - (var(--back-width) + 1rem))}}.contact__tile{background:#DCFF7D;opacity:0}.contact__bg{display:grid;grid-template-columns:repeat(var(--columns),1fr);grid-template-rows:repeat(var(--rows),1fr)}.success .contact__tile{opacity:1}.success .form__title{color:#262626}.success .button{border-color:#262626}.success .button .f-24{color:#262626}.success .contact__socials--divider{background-color:#1d1d1d!important}.success .contact__socials{color:#1d1d1d}.success .contact__socials .col-grey-40{color:#c7c7c7}.success .contact__social--item .col-whtie{color:#0a0a0a}@media screen and (min-width: 992px){input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:transparent!important}}@media screen and (max-width: 991px){input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#262626!important}.form__step--list{transition:height .4s cubic-bezier(.25,1,.5,1);height:var(--height);transition-delay:.3s}.form__title .form__label{opacity:0;pointer-events:none;display:none}.form__input--parent{position:relative;top:0!important;left:0!important;height:auto!important}.form__input{text-indent:0!important}.form__input--wrapper.active .form__input--label,.form__input--wrapper.filled .form__input--label{opacity:0}.form__step .form__input{opacity:1;pointer-events:none}.form__step .form__input--wrapper .form__input--parent{transition:opacity .4s cubic-bezier(.25,1,.5,1);opacity:0;pointer-events:none}.form__step.active .form__input--wrapper .form__input{opacity:1;pointer-events:all}.form__step.active .form__input--wrapper .form__input--parent{transition-delay:.4s;opacity:1;pointer-events:all}}@media screen and (max-width: 480px){.form__step .form__title br{display:none}.form__step .f-96,.form__step textarea,.form__step input{font-size:16em!important}}@media screen and (min-width: 1080px) and (max-width: 1365px){.contact__socials{grid-column-start:8!important}}@media screen and (min-width: 991px) and (max-width: 1080px){.contact__socials{grid-column-start:7!important}}grammarly-extension{display:none!important}.process{height:400vh;margin-top:-100vh;pointer-events:none;z-index:1}.process .process__sticky{position:sticky;top:0;background-color:transparent;transition:opacity .2s cubic-bezier(.25,1,.5,1);opacity:0}.process .process__bg{display:grid;grid-template-columns:repeat(var(--columns),1fr);grid-template-rows:repeat(var(--rows),1fr)}.process .process__tile{background:#DCFF7D;opacity:0}.process .process__titles{padding-top:calc(var(--info-height-fixed) + 26px)}.process .process__titles .process__title.is--first{position:absolute;translate:0 -90%}.process .process__title--list{padding-left:60%}.process .process__title--list .process__title{width:60%}.process .process__title--list .process__title:nth-child(1),.process .process__title--list .process__title:nth-child(3){align-self:flex-start}.process .process__index{transition:opacity .2s cubic-bezier(.25,1,.5,1);opacity:0}.process .process__char{transition:transform .2s cubic-bezier(.25,1,.5,1),font-variation-settings .4s ease;font-variation-settings:"wdth" 200,"HGHT" 200;transform:scaleY(0);transform-origin:bottom}.process .process__info{padding:0;height:var(--info-height)}.process .process__info .process__info--list{padding:40px 40px 40px 20px;position:absolute;pointer-events:none}@media screen and (max-width: 991px){.process__info{width:calc(50% - 10px)}.process__titles{padding-top:0!important;margin-top:120px}.process__titles .process__title.is--first{position:absolute;translate:0 0!important}.process__titles .process__title--list{position:static}.process__titles .process__title--list .process__title{position:absolute;left:0;top:0;width:100%;margin-right:0}}@media screen and (max-width: 480px){.process{height:350vh}.process__info{width:calc(100% - 20px)}.process__info--list{padding:20px!important}.process__titles{margin-top:100px!important}}.active-process .process{pointer-events:all}.active-process .process__tile,.active-process .process__sticky{opacity:1}.active-process .nav .container{clip-path:inset(100% 0 0 0)}.active-process .top-logo{color:#0a0a0a}.active-process .top-logo:hover{color:#c7c7c7!important}.active-process .process__title.is--first .process__char{transform:scaleY(1);font-variation-settings:"wdth" 200,"HGHT" 1000}.active-process .active-1 .process__title--list .process__title:nth-child(1) .process__char{transform:scaleY(1);font-variation-settings:"wdth" 200,"HGHT" 1000}.active-process .active-1 .process__title--list .process__title:nth-child(1) .process__index{opacity:1}.active-process .active-2 .process__title--list .process__title:nth-child(2) .process__char{transform:scaleY(1);font-variation-settings:"wdth" 200,"HGHT" 1000}.active-process .active-2 .process__title--list .process__title:nth-child(2) .process__index{opacity:1}.active-process .active-3 .process__title--list .process__title:nth-child(3) .process__char{transform:scaleY(1);font-variation-settings:"wdth" 200,"HGHT" 1000}.active-process .active-3 .process__title--list .process__title:nth-child(3) .process__index{opacity:1}@media screen and (max-width: 991px){.active-process .hide-first .process__title.is--first .process__char{transform:scaleY(0);font-variation-settings:"wdth" 200,"HGHT" 200}.active-process .hide-first .process__title.is--first .process__index{opacity:1}}.process__info{transition:opacity .1s ease;opacity:0}.process__info--word{transition:opacity .05s ease;opacity:0}.process__info--divider{transition:transform .4s ease;transition-delay:.3s;transform:scaleX(0);transform-origin:right}.no-delay .process__info--word,.no-delay .process__info--divider{transition-delay:0s!important}.no-delay .process__info--divider{transform-origin:left}.process__info--descr .process__info--word{padding:0 .2rem;flex-shrink:0;flex-grow:0}.process__info--descr .process__info--line{display:flex!important;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.process__info--descr .process__info--line:last-child{justify-content:start}.active-process .active-1 .process__info--list:nth-child(1) .process__info--word{opacity:1}.active-process .active-1 .process__info--list:nth-child(1) .process__info--divider{transform:scaleX(1)}.active-process .active-1 .process__info{opacity:1}.active-process .active-2 .process__info--list:nth-child(2) .process__info--word{opacity:1}.active-process .active-2 .process__info--list:nth-child(2) .process__info--divider{transform:scaleX(1)}.active-process .active-2 .process__info{opacity:1}.active-process .active-3 .process__info--list:nth-child(3) .process__info--word{opacity:1}.active-process .active-3 .process__info--list:nth-child(3) .process__info--divider{transform:scaleX(1)}.active-process .active-3 .process__info{opacity:1}.awards{margin-top:-100dvh;padding-top:60dvh}.awards__divider.is--short{left:-1.7rem;right:0;width:calc(100% + 1.7rem)}.awards__row [text-target]{transition:color .2s cubic-bezier(.25,1,.5,1)}.awards__row:hover [text-target]{color:#dcff7d}@media screen and (max-width: 480px){.awards__divider.is--short{left:0;right:0;width:100%}}header canvas{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}header .hero__img img,header .hero__img .hero__video{opacity:0}header .hero__text--parent{pointer-events:none}.services .services__divider{left:-1.7rem;right:0;width:calc(100% + 1.7rem)}.services .services__list:first-child .services__divider.is--first{left:0;width:100%}.services .services__text{padding-bottom:.2rem}.about__descr{padding-right:var(--padding)}@media screen and (max-width: 991px){.about__img{top:calc(50dvh - 12.695em)}.hero__img .hero__video{opacity:1!important}}@media screen and (max-width: 480px){.hero__img--parent{width:calc(100% + 40px)!important;margin-left:-20px}.hero__row.grid.is--1{top:calc(0px - (70vh + 176px));overflow:visible}.hero__row.grid.is--1 .hero__divider{width:calc(100% + 40px);left:-20px}.about__img{aspect-ratio:130/195}.services .services__divider{left:auto;width:50%}.services .services__divider.is--first{width:100%}}.cases__list{overflow:hidden}.cases__item--link{position:absolute;width:100%}.cases__item--link:hover{transition:color .2s cubic-bezier(.25,1,.5,1);color:#dcff7d}.cases__item--link .f-154{display:flex;justify-content:center;gap:1vw}.cases__item--link .cases__char{font-variation-settings:"wdth" 200,"HGHT" 1000}.cases__trail--img{opacity:0}.playground__item{display:none;transition:opacity .2s cubic-bezier(.25,1,.5,1)}.playground__item.active{display:block}.playground__wrapper{--space: 130px;padding-top:var(--space)}@media screen and (min-width: 1501px){.column1{margin-top:-80px}.column2{margin-top:0}.column3{margin-top:calc(var(--space) * -1)}}@media screen and (min-width: 991px) and (max-width: 1500px){.playground__wrapper{--space: 80px;padding-top:var(--space)}.small-column2{margin-top:calc(var(--space) * -1)}.playground__item--title{width:24em}.playground__list{grid-template-columns:repeat(2,1fr)}.playground__img{height:25em}}.playground__img{overflow:hidden;transform:translate(0)}.playground__img img{scale:1.05!important}.playground__categories .categories__item{transition:border-color .2s cubic-bezier(.25,1,.5,1),color .2s cubic-bezier(.25,1,.5,1);cursor:pointer}.playground__categories .categories__item:hover{border-color:#dcff7d}.playground__categories .categories__item.active{border-color:#dcff7d;color:#dcff7d}@media screen and (max-width: 480px){.playground__wrapper{--space: 0px}.categories__item.is--select:last-child{border-bottom:none}.playground__categories{height:var(--static-height)}.playground__categories .playground__categories--arrow{transition:transform .4s cubic-bezier(.25,1,.5,1)}.playground__categories .playground__categories--title{border-bottom:1px solid transparent}.playground__categories .categories__list{height:0px;transition:height .4s cubic-bezier(.25,1,.5,1);overflow:hidden;outline:1px solid #262626;outline-offset:-1px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;margin-top:-1px}.playground__categories.active{border-bottom-left-radius:0;border-bottom-right-radius:0}.playground__categories.active .playground__categories--arrow{transform:rotate(180deg)}.playground__categories.active .categories__list{height:var(--height)}.playground__categories .categories__item.categories__clear{padding:10px;border-color:#262626;border-radius:0;border-top:none;border-left:none;border-right:none;border-bottom:none}}.depo-text{height:400dvh}.depo-font{padding:0 5vw 0 25vw}.depo-awards__item img{transition:opacity .4s cubic-bezier(.25,1,.5,1),transform .4s cubic-bezier(.25,1,.5,1);transform:scale(.8);opacity:0}.depo-awards__item:hover img{opacity:1;transform:scale(1)}.depo-awards__img-parent{pointer-events:none}.aron-font.absolute{position:absolute;top:2.31vw;left:2.31vw}[data-page=aaron]{--color: #c7c7c7;--bg-color: #0a0a0a;color:var(--color)}[data-page=aaron] .inner-case__bg .inner-case__bg-tile{background:var(--bg-color);opacity:1}[data-page=aaron] .aaron-toggle__icon path{fill:var(--color)}[data-page=aaron].show-next .inner-case__bg .inner-case__bg-tile{background:#dcff7d!important}[data-page=aaron].brown{--color: #F4975A;--bg-color: #252018}[data-page=aaron].brown .aaron__line{background:var(--color)}[data-page=aaron].brown .col-green{color:#fff}[data-page=aaron].brown .aron-font.absolute{color:var(--bg-color)}[data-page=aaron].brown .order__current{color:var(--color)}[data-page=aaron].brown .button{border-color:var(--color)}[data-page=aaron].brown .button .col-green{color:var(--color)}[data-page=aaron].default{--color: #c7c7c7;--bg-color: #0a0a0a}[data-page=aaron].green{--color: #F4FDDC;--bg-color: #105717}[data-page=aaron].green .aaron__line{background:var(--color)}[data-page=aaron].green .col-green{color:#fff}[data-page=aaron].green .aron-font.absolute{color:var(--bg-color)}[data-page=aaron].green .order__current{color:var(--color)}[data-page=aaron].green .button{border-color:var(--color)}[data-page=aaron].green .button .col-green{color:var(--color)}[data-page=aaron].orange{--color: #E98F54;--bg-color: #051A26}[data-page=aaron].orange .aaron__line{background:var(--color)}[data-page=aaron].orange .col-green{color:#fff}[data-page=aaron].orange .aron-font.absolute{color:var(--bg-color)}[data-page=aaron].orange .order__current{color:var(--color)}[data-page=aaron].orange .button{border-color:var(--color)}[data-page=aaron].orange .button .col-green{color:var(--color)}[data-page=aaron].pink{--color: #E8807A;--bg-color: #0C0827}[data-page=aaron].pink .aaron__line{background:var(--color)}[data-page=aaron].pink .col-green{color:#fff}[data-page=aaron].pink .aron-font.absolute{color:var(--bg-color)}[data-page=aaron].pink .order__current{color:var(--color)}[data-page=aaron].pink .button{border-color:var(--color)}[data-page=aaron].pink .button .col-green{color:var(--color)}[data-page=aaron].purple{--color: #DCF5FD;--bg-color: #301057}[data-page=aaron].purple .aaron__line{background:var(--color)}[data-page=aaron].purple .col-green{color:#fff}[data-page=aaron].purple .aron-font.absolute{color:var(--bg-color)}[data-page=aaron].purple .order__current{color:var(--color)}[data-page=aaron].purple .button{border-color:var(--color)}[data-page=aaron].purple .button .col-green{color:var(--color)}[data-page=aaron].yellow{--color: #E9E354;--bg-color: #051A26}[data-page=aaron].yellow .aaron__line{background:var(--color)}[data-page=aaron].yellow .col-green{color:#fff}[data-page=aaron].yellow .aron-font.absolute{color:var(--bg-color)}[data-page=aaron].yellow .order__current{color:var(--color)}[data-page=aaron].yellow .button{border-color:var(--color)}[data-page=aaron].yellow .button .col-green{color:var(--color)}@media screen and (max-width: 480px){.aron-font.absolute{position:absolute;left:3.41vw;top:0}}.fox-cases__descr .f>*{text-indent:0!important;margin-left:0!important}@media screen and (min-width: 991px){.fox-cases{height:400vh}.fox-cases__list{pointer-events:none}.fox-cases__item{display:none;pointer-events:auto}.fox-cases__item.show{display:block}}.fox-cases__bg{filter:blur(140px);-webkit-filter:blur(140px);-moz-filter:blur(140px);-ms-filter:blur(140px);-o-filter:blur(140px);will-change:transform;-webkit-will-change:transform;animation:rotate 60s ease 0s infinite normal forwards;opacity:.45}.fox-cases__bg div{width:100%;height:100%;mask-image:url(https://uploads-ssl.webflow.com/63dbcfbb162886644b8eddf3/63de192add1066652213d868_Blur%20Mask.svg);-webkit-mask-size:100% 100%;-webkit-mask-clip:border-box;-webkit-mask-image:url(https://uploads-ssl.webflow.com/63dbcfbb162886644b8eddf3/63de192add1066652213d868_Blur%20Mask.svg);mask-size:100% 100%;mask-clip:border-box;background-image:linear-gradient(264deg,#e42424,#f69230 67%,#ffc635 99%);background-image:-webkit-linear-gradient(264deg,#e42424,#f69230 67%,#ffc635 99%)}@keyframes rotate{0%{transform:translate(-50%,-50%),rotate(0)}to{transform:translate(-50%,-50%),rotate(360deg)}}.is--fox-3 img{border-radius:20px}[data-page=fox] .inner-case__img img{scale:1}.lf__logo path{fill:#000}.lf{height:400dvh}.lf .lf__logo-parent,.lf .lf__phone-parent,.lf .lf__utilites-parent{position:absolute;top:0;left:0;width:100%}[data-page=lf7] .inner-case__img img{scale:1}.bubble-lottie path{stroke:#e9e9e9}.dima-horizontal{height:300vh}.dima-horizontal__img{aspect-ratio:5383/1601}[data-page=dima] .inner-case__img img{scale:1}[terrane-pin]{height:300vh}[terrane-pin] .container{position:sticky;top:0}[terrane-pin] .container .terrane-photos{position:absolute;left:-20px;right:-20px;pointer-events:none;z-index:3;top:0}.terrane-photo{clip-path:polygon(0% 100%,100% 100%,100% 100%,0% 100%)}@media screen and (min-width: 991px){.terrane-hover__btn .terrane-hover__text-line{transform:translateY(101%);transition:transform .4s cubic-bezier(.25,1,.5,1)}.terrane-hover__btn .terrane-hover__btn-circle{transition:width .8s cubic-bezier(.25,1,.5,1),height .8s cubic-bezier(.25,1,.5,1)}.terrane-hover__btn:hover .terrane-hover__text-line{transition:transform .4s cubic-bezier(.25,1,.5,1) var(--delay);transform:translateY(0)}.terrane-hover__btn:hover .terrane-hover__btn-circle{transition:width .8s cubic-bezier(.25,1,.5,1) .1s,height .8s cubic-bezier(.25,1,.5,1) .1s;width:45em;height:45em}}[data-page=terrane] .inner-case__img img{scale:1}.inner-case__img{overflow:hidden}.inner-case__img img{scale:1.01}.inner-case__bg{display:grid;grid-template-columns:repeat(var(--columns),1fr);grid-template-rows:repeat(var(--rows),1fr)}.inner-case__bg .inner-case__bg-tile{background:#DCFF7D;opacity:0}.inner-case__bg.filled .inner-case__bg-tile{opacity:1}.inner-case__bg.filled.orb .inner-case__bg-tile{background:#FF0000}.inner-case__bg.filled.lf7 .inner-case__bg-tile{background:#D91D0C}.inner-case__bg.filled.bubble .inner-case__bg-tile{background:#E9E9E9}[small-index]{position:relative;z-index:-2}[self-height="20"]{height:120%}[next-section]{position:fixed;top:0;left:0;width:100%;z-index:2;opacity:0;pointer-events:none;transition:opacity .4s cubic-bezier(.25,1,.5,1)}.show-next [next-section]{opacity:1;pointer-events:all}.show-next .inner-case__bg{z-index:1}.show-next .inner-case__bg .inner-case__bg-tile{opacity:1}label.error{display:none!important}.form__radio.error{display:flex!important;border-color:#ff4545}input.error{color:#ff4545!important}input.valid{color:#dcff7d!important}[text-target]{pointer-events:none!important}[data-barba-namespace="404"] .contact__socials,[data-barba-namespace="404"] .col-whtie{color:#0a0a0a}[data-barba-namespace="404"] .contact__socials--divider{background-color:#c7c7c7}[data-barba-namespace="404"] .button{border-color:#0a0a0a}[data-barba-namespace="404"] .button .f-24,.page-404 .f-30{color:#0a0a0a}.page-404 .f-30:hover{color:#c7c7c7}.page-404 .loader__tile{background-color:#c7c7c7}.page-404 .contact__socials--divider{background-color:#1d1d1d}::selection{background-color:#dcff7d;color:#0a0a0a;-webkit-text-fill-color:#0A0A0A;-webkit-text-stroke-color:transparent}::-webkit-scrollbar{width:0;background:transparent}
`;document.head.appendChild(__vite_style__);(function(se,ne){typeof exports=="object"&&typeof module!="undefined"?ne(require("https://cdn.jsdelivr.net/npm/pathseg@1.2.1/pathseg.min.js"),require("https://cdn.jsdelivr.net/npm/poly-decomp@0.3.0/build/decomp.min.js"),require("https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"),require("jquery")):typeof define=="function"&&define.amd?define(["https://cdn.jsdelivr.net/npm/pathseg@1.2.1/pathseg.min.js","https://cdn.jsdelivr.net/npm/poly-decomp@0.3.0/build/decomp.min.js","https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js","jquery"],ne):(se=typeof globalThis!="undefined"?globalThis:se||self,ne(null,null,null,se.$))})(this,function(pathseg_min_js,decomp_min_js,jquery_validate_min_js,require$$0){"use strict";function _interopDefaultLegacy(se){return se&&typeof se=="object"&&"default"in se?se:{default:se}}var require$$0__default=_interopDefaultLegacy(require$$0),style="";function t(se,ne){for(var te=0;te<ne.length;te++){var ee=ne[te];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(se,ee.key,ee)}}function n$1(se,ne,te){return ne&&t(se.prototype,ne),te&&t(se,te),se}function r$1(){return(r$1=Object.assign||function(se){for(var ne=1;ne<arguments.length;ne++){var te=arguments[ne];for(var ee in te)Object.prototype.hasOwnProperty.call(te,ee)&&(se[ee]=te[ee])}return se}).apply(this,arguments)}function i$1(se,ne){se.prototype=Object.create(ne.prototype),se.prototype.constructor=se,se.__proto__=ne}function e$1(se){return(e$1=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)})(se)}function o$1(se,ne){return(o$1=Object.setPrototypeOf||function(te,ee){return te.__proto__=ee,te})(se,ne)}function u(se,ne,te){return(u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(ee,re,ie){var ae=[null];ae.push.apply(ae,re);var oe=new(Function.bind.apply(ee,ae));return ie&&o$1(oe,ie.prototype),oe}).apply(null,arguments)}function s$1(se){var ne=typeof Map=="function"?new Map:void 0;return(s$1=function(te){if(te===null||Function.toString.call(te).indexOf("[native code]")===-1)return te;if(typeof te!="function")throw new TypeError("Super expression must either be null or a function");if(ne!==void 0){if(ne.has(te))return ne.get(te);ne.set(te,ee)}function ee(){return u(te,arguments,e$1(this).constructor)}return ee.prototype=Object.create(te.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),o$1(ee,te)})(se)}function f(se,ne){try{var te=se()}catch(ee){return ne(ee)}return te&&te.then?te.then(void 0,ne):te}typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var c$1,a$1="2.9.7",h=function(){};(function(se){se[se.off=0]="off",se[se.error=1]="error",se[se.warning=2]="warning",se[se.info=3]="info",se[se.debug=4]="debug"})(c$1||(c$1={}));var v=c$1.off,l$1=function(){function se(te){this.t=te}se.getLevel=function(){return v},se.setLevel=function(te){return v=c$1[te]};var ne=se.prototype;return ne.error=function(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];this.i(console.error,c$1.error,ee)},ne.warn=function(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];this.i(console.warn,c$1.warning,ee)},ne.info=function(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];this.i(console.info,c$1.info,ee)},ne.debug=function(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];this.i(console.log,c$1.debug,ee)},ne.i=function(te,ee,re){ee<=se.getLevel()&&te.apply(console,["["+this.t+"] "].concat(re))},se}(),d=O,m=E$1,w=g,p=x,b=T,y="/",P=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function g(se,ne){for(var te,ee=[],re=0,ie=0,ae="",oe=ne&&ne.delimiter||y,le=ne&&ne.whitelist||void 0,he=!1;(te=P.exec(se))!==null;){var ue=te[0],pe=te[1],ce=te.index;if(ae+=se.slice(ie,ce),ie=ce+ue.length,pe)ae+=pe[1],he=!0;else{var fe="",me=te[2],de=te[3],ve=te[4],ge=te[5];if(!he&&ae.length){var xe=ae.length-1,_e=ae[xe];(!le||le.indexOf(_e)>-1)&&(fe=_e,ae=ae.slice(0,xe))}ae&&(ee.push(ae),ae="",he=!1);var ye=de||ve,we=fe||oe;ee.push({name:me||re++,prefix:fe,delimiter:we,optional:ge==="?"||ge==="*",repeat:ge==="+"||ge==="*",pattern:ye?A(ye):"[^"+k(we===oe?we:we+oe)+"]+?"})}}return(ae||ie<se.length)&&ee.push(ae+se.substr(ie)),ee}function E$1(se,ne){return function(te,ee){var re=se.exec(te);if(!re)return!1;for(var ie=re[0],ae=re.index,oe={},le=ee&&ee.decode||decodeURIComponent,he=1;he<re.length;he++)if(re[he]!==void 0){var ue=ne[he-1];oe[ue.name]=ue.repeat?re[he].split(ue.delimiter).map(function(pe){return le(pe,ue)}):le(re[he],ue)}return{path:ie,index:ae,params:oe}}}function x(se,ne){for(var te=new Array(se.length),ee=0;ee<se.length;ee++)typeof se[ee]=="object"&&(te[ee]=new RegExp("^(?:"+se[ee].pattern+")$",R(ne)));return function(re,ie){for(var ae="",oe=ie&&ie.encode||encodeURIComponent,le=!ie||ie.validate!==!1,he=0;he<se.length;he++){var ue=se[he];if(typeof ue!="string"){var pe,ce=re?re[ue.name]:void 0;if(Array.isArray(ce)){if(!ue.repeat)throw new TypeError('Expected "'+ue.name+'" to not repeat, but got array');if(ce.length===0){if(ue.optional)continue;throw new TypeError('Expected "'+ue.name+'" to not be empty')}for(var fe=0;fe<ce.length;fe++){if(pe=oe(ce[fe],ue),le&&!te[he].test(pe))throw new TypeError('Expected all "'+ue.name+'" to match "'+ue.pattern+'"');ae+=(fe===0?ue.prefix:ue.delimiter)+pe}}else if(typeof ce!="string"&&typeof ce!="number"&&typeof ce!="boolean"){if(!ue.optional)throw new TypeError('Expected "'+ue.name+'" to be '+(ue.repeat?"an array":"a string"))}else{if(pe=oe(String(ce),ue),le&&!te[he].test(pe))throw new TypeError('Expected "'+ue.name+'" to match "'+ue.pattern+'", but got "'+pe+'"');ae+=ue.prefix+pe}}else ae+=ue}return ae}}function k(se){return se.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function A(se){return se.replace(/([=!:$/()])/g,"\\$1")}function R(se){return se&&se.sensitive?"":"i"}function T(se,ne,te){for(var ee=(te=te||{}).strict,re=te.start!==!1,ie=te.end!==!1,ae=te.delimiter||y,oe=[].concat(te.endsWith||[]).map(k).concat("$").join("|"),le=re?"^":"",he=0;he<se.length;he++){var ue=se[he];if(typeof ue=="string")le+=k(ue);else{var pe=ue.repeat?"(?:"+ue.pattern+")(?:"+k(ue.delimiter)+"(?:"+ue.pattern+"))*":ue.pattern;ne&&ne.push(ue),le+=ue.optional?ue.prefix?"(?:"+k(ue.prefix)+"("+pe+"))?":"("+pe+")?":k(ue.prefix)+"("+pe+")"}}if(ie)ee||(le+="(?:"+k(ae)+")?"),le+=oe==="$"?"$":"(?="+oe+")";else{var ce=se[se.length-1],fe=typeof ce=="string"?ce[ce.length-1]===ae:ce===void 0;ee||(le+="(?:"+k(ae)+"(?="+oe+"))?"),fe||(le+="(?="+k(ae)+"|"+oe+")")}return new RegExp(le,R(te))}function O(se,ne,te){return se instanceof RegExp?function(ee,re){if(!re)return ee;var ie=ee.source.match(/\((?!\?)/g);if(ie)for(var ae=0;ae<ie.length;ae++)re.push({name:ae,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return ee}(se,ne):Array.isArray(se)?function(ee,re,ie){for(var ae=[],oe=0;oe<ee.length;oe++)ae.push(O(ee[oe],re,ie).source);return new RegExp("(?:"+ae.join("|")+")",R(ie))}(se,ne,te):function(ee,re,ie){return T(g(ee,ie),re,ie)}(se,ne,te)}d.match=function(se,ne){var te=[];return E$1(O(se,te,ne),te)},d.regexpToFunction=m,d.parse=w,d.compile=function(se,ne){return x(g(se,ne),ne)},d.tokensToFunction=p,d.tokensToRegExp=b;var S={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},j=new(function(){function se(){this.o=S,this.u=new DOMParser}var ne=se.prototype;return ne.toString=function(te){return te.outerHTML},ne.toDocument=function(te){return this.u.parseFromString(te,"text/html")},ne.toElement=function(te){var ee=document.createElement("div");return ee.innerHTML=te,ee},ne.getHtml=function(te){return te===void 0&&(te=document),this.toString(te.documentElement)},ne.getWrapper=function(te){return te===void 0&&(te=document),te.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},ne.getContainer=function(te){return te===void 0&&(te=document),te.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},ne.removeContainer=function(te){document.body.contains(te)&&te.parentNode.removeChild(te)},ne.addContainer=function(te,ee){var re=this.getContainer();re?this.s(te,re):ee.appendChild(te)},ne.getNamespace=function(te){te===void 0&&(te=document);var ee=te.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return ee?ee.getAttribute(this.o.prefix+"-"+this.o.namespace):null},ne.getHref=function(te){if(te.tagName&&te.tagName.toLowerCase()==="a"){if(typeof te.href=="string")return te.href;var ee=te.getAttribute("href")||te.getAttribute("xlink:href");if(ee)return this.resolveUrl(ee.baseVal||ee)}return null},ne.resolveUrl=function(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];var ie=ee.length;if(ie===0)throw new Error("resolveUrl requires at least one argument; got none.");var ae=document.createElement("base");if(ae.href=arguments[0],ie===1)return ae.href;var oe=document.getElementsByTagName("head")[0];oe.insertBefore(ae,oe.firstChild);for(var le,he=document.createElement("a"),ue=1;ue<ie;ue++)he.href=arguments[ue],ae.href=le=he.href;return oe.removeChild(ae),le},ne.s=function(te,ee){ee.parentNode.insertBefore(te,ee.nextSibling)},se}()),M=new(function(){function se(){this.h=[],this.v=-1}var ne=se.prototype;return ne.init=function(te,ee){this.l="barba";var re={ns:ee,scroll:{x:window.scrollX,y:window.scrollY},url:te};this.h.push(re),this.v=0;var ie={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(ie,"",te)},ne.change=function(te,ee,re){if(re&&re.state){var ie=re.state,ae=ie.index;ee=this.m(this.v-ae),this.replace(ie.states),this.v=ae}else this.add(te,ee);return ee},ne.add=function(te,ee){var re=this.size,ie=this.p(ee),ae={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:te};this.h.push(ae),this.v=re;var oe={from:this.l,index:re,states:[].concat(this.h)};switch(ie){case"push":window.history&&window.history.pushState(oe,"",te);break;case"replace":window.history&&window.history.replaceState(oe,"",te)}},ne.update=function(te,ee){var re=ee||this.v,ie=r$1({},this.get(re),{},te);this.set(re,ie)},ne.remove=function(te){te?this.h.splice(te,1):this.h.pop(),this.v--},ne.clear=function(){this.h=[],this.v=-1},ne.replace=function(te){this.h=te},ne.get=function(te){return this.h[te]},ne.set=function(te,ee){return this.h[te]=ee},ne.p=function(te){var ee="push",re=te,ie=S.prefix+"-"+S.history;return re.hasAttribute&&re.hasAttribute(ie)&&(ee=re.getAttribute(ie)),ee},ne.m=function(te){return Math.abs(te)>1?te>0?"forward":"back":te===0?"popstate":te>0?"back":"forward"},n$1(se,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),se}()),L=function(se,ne){try{var te=function(){if(!ne.next.html)return Promise.resolve(se).then(function(ee){var re=ne.next;if(ee){var ie=j.toElement(ee);re.namespace=j.getNamespace(ie),re.container=j.getContainer(ie),re.html=ee,M.update({ns:re.namespace});var ae=j.toDocument(ee);document.title=ae.title}})}();return Promise.resolve(te&&te.then?te.then(function(){}):void 0)}catch(ee){return Promise.reject(ee)}},$$1=d,_={__proto__:null,update:L,nextTick:function(){return new Promise(function(se){window.requestAnimationFrame(se)})},pathToRegexp:$$1},q=function(){return window.location.origin},B=function(se){return se===void 0&&(se=window.location.href),U(se).port},U=function(se){var ne,te=se.match(/:\d+/);if(te===null)/^http/.test(se)&&(ne=80),/^https/.test(se)&&(ne=443);else{var ee=te[0].substring(1);ne=parseInt(ee,10)}var re,ie=se.replace(q(),""),ae={},oe=ie.indexOf("#");oe>=0&&(re=ie.slice(oe+1),ie=ie.slice(0,oe));var le=ie.indexOf("?");return le>=0&&(ae=D(ie.slice(le+1)),ie=ie.slice(0,le)),{hash:re,path:ie,port:ne,query:ae}},D=function(se){return se.split("&").reduce(function(ne,te){var ee=te.split("=");return ne[ee[0]]=ee[1],ne},{})},F=function(se){return se===void 0&&(se=window.location.href),se.replace(/(\/#.*|\/|#.*)$/,"")},H={__proto__:null,getHref:function(){return window.location.href},getOrigin:q,getPort:B,getPath:function(se){return se===void 0&&(se=window.location.href),U(se).path},parse:U,parseQuery:D,clean:F};function I(se,ne,te){return ne===void 0&&(ne=2e3),new Promise(function(ee,re){var ie=new XMLHttpRequest;ie.onreadystatechange=function(){if(ie.readyState===XMLHttpRequest.DONE){if(ie.status===200)ee(ie.responseText);else if(ie.status){var ae={status:ie.status,statusText:ie.statusText};te(se,ae),re(ae)}}},ie.ontimeout=function(){var ae=new Error("Timeout error ["+ne+"]");te(se,ae),re(ae)},ie.onerror=function(){var ae=new Error("Fetch error");te(se,ae),re(ae)},ie.open("GET",se),ie.timeout=ne,ie.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),ie.setRequestHeader("x-barba","yes"),ie.send()})}var C=function(se){return!!se&&(typeof se=="object"||typeof se=="function")&&typeof se.then=="function"};function N(se,ne){return ne===void 0&&(ne={}),function(){for(var te=arguments.length,ee=new Array(te),re=0;re<te;re++)ee[re]=arguments[re];var ie=!1,ae=new Promise(function(oe,le){ne.async=function(){return ie=!0,function(ue,pe){ue?le(ue):oe(pe)}};var he=se.apply(ne,ee);ie||(C(he)?he.then(oe,le):oe(he))});return ae}}var X=new(function(se){function ne(){var ee;return(ee=se.call(this)||this).logger=new l$1("@barba/core"),ee.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],ee.registered=new Map,ee.init(),ee}i$1(ne,se);var te=ne.prototype;return te.init=function(){var ee=this;this.registered.clear(),this.all.forEach(function(re){ee[re]||(ee[re]=function(ie,ae){ee.registered.has(re)||ee.registered.set(re,new Set),ee.registered.get(re).add({ctx:ae||{},fn:ie})})})},te.do=function(ee){for(var re=this,ie=arguments.length,ae=new Array(ie>1?ie-1:0),oe=1;oe<ie;oe++)ae[oe-1]=arguments[oe];if(this.registered.has(ee)){var le=Promise.resolve();return this.registered.get(ee).forEach(function(he){le=le.then(function(){return N(he.fn,he.ctx).apply(void 0,ae)})}),le.catch(function(he){re.logger.debug("Hook error ["+ee+"]"),re.logger.error(he)})}return Promise.resolve()},te.clear=function(){var ee=this;this.all.forEach(function(re){delete ee[re]}),this.init()},te.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var ee=[];this.registered.forEach(function(re,ie){return ee.push(ie)}),this.logger.info("Registered hooks: "+ee.join(","))},ne}(h)),z=function(){function se(ne){if(this.P=[],typeof ne=="boolean")this.g=ne;else{var te=Array.isArray(ne)?ne:[ne];this.P=te.map(function(ee){return $$1(ee)})}}return se.prototype.checkHref=function(ne){if(typeof this.g=="boolean")return this.g;var te=U(ne).path;return this.P.some(function(ee){return ee.exec(te)!==null})},se}(),G=function(se){function ne(ee){var re;return(re=se.call(this,ee)||this).k=new Map,re}i$1(ne,se);var te=ne.prototype;return te.set=function(ee,re,ie){return this.k.set(ee,{action:ie,request:re}),{action:ie,request:re}},te.get=function(ee){return this.k.get(ee)},te.getRequest=function(ee){return this.k.get(ee).request},te.getAction=function(ee){return this.k.get(ee).action},te.has=function(ee){return!this.checkHref(ee)&&this.k.has(ee)},te.delete=function(ee){return this.k.delete(ee)},te.update=function(ee,re){var ie=r$1({},this.k.get(ee),{},re);return this.k.set(ee,ie),ie},ne}(z),Q=function(){return!window.history.pushState},W=function(se){return!se.el||!se.href},J=function(se){var ne=se.event;return ne.which>1||ne.metaKey||ne.ctrlKey||ne.shiftKey||ne.altKey},K=function(se){var ne=se.el;return ne.hasAttribute("target")&&ne.target==="_blank"},V=function(se){var ne=se.el;return ne.protocol!==void 0&&window.location.protocol!==ne.protocol||ne.hostname!==void 0&&window.location.hostname!==ne.hostname},Y=function(se){var ne=se.el;return ne.port!==void 0&&B()!==B(ne.href)},Z=function(se){var ne=se.el;return ne.getAttribute&&typeof ne.getAttribute("download")=="string"},tt=function(se){return se.el.hasAttribute(S.prefix+"-"+S.prevent)},nt=function(se){return Boolean(se.el.closest("["+S.prefix+"-"+S.prevent+'="all"]'))},rt=function(se){var ne=se.href;return F(ne)===F()&&B(ne)===B()},it=function(se){function ne(ee){var re;return(re=se.call(this,ee)||this).suite=[],re.tests=new Map,re.init(),re}i$1(ne,se);var te=ne.prototype;return te.init=function(){this.add("pushState",Q),this.add("exists",W),this.add("newTab",J),this.add("blank",K),this.add("corsDomain",V),this.add("corsPort",Y),this.add("download",Z),this.add("preventSelf",tt),this.add("preventAll",nt),this.add("sameUrl",rt,!1)},te.add=function(ee,re,ie){ie===void 0&&(ie=!0),this.tests.set(ee,re),ie&&this.suite.push(ee)},te.run=function(ee,re,ie,ae){return this.tests.get(ee)({el:re,event:ie,href:ae})},te.checkLink=function(ee,re,ie){var ae=this;return this.suite.some(function(oe){return ae.run(oe,ee,re,ie)})},ne}(z),et=function(se){function ne(te,ee){var re;ee===void 0&&(ee="Barba error");for(var ie=arguments.length,ae=new Array(ie>2?ie-2:0),oe=2;oe<ie;oe++)ae[oe-2]=arguments[oe];return(re=se.call.apply(se,[this].concat(ae))||this).error=te,re.label=ee,Error.captureStackTrace&&Error.captureStackTrace(function(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}(re),ne),re.name="BarbaError",re}return i$1(ne,se),ne}(s$1(Error)),ot=function(){function se(te){te===void 0&&(te=[]),this.logger=new l$1("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],te&&(this.all=this.all.concat(te)),this.update()}var ne=se.prototype;return ne.add=function(te,ee){switch(te){case"rule":this.A.splice(ee.position||0,0,ee.value);break;case"transition":default:this.all.push(ee)}this.update()},ne.resolve=function(te,ee){var re=this;ee===void 0&&(ee={});var ie=ee.once?this.once:this.page;ie=ie.filter(ee.self?function(ce){return ce.name&&ce.name==="self"}:function(ce){return!ce.name||ce.name!=="self"});var ae=new Map,oe=ie.find(function(ce){var fe=!0,me={};return!(!ee.self||ce.name!=="self")||(re.A.reverse().forEach(function(de){fe&&(fe=re.R(ce,de,te,me),ce.from&&ce.to&&(fe=re.R(ce,de,te,me,"from")&&re.R(ce,de,te,me,"to")),ce.from&&!ce.to&&(fe=re.R(ce,de,te,me,"from")),!ce.from&&ce.to&&(fe=re.R(ce,de,te,me,"to")))}),ae.set(ce,me),fe)}),le=ae.get(oe),he=[];if(he.push(ee.once?"once":"page"),ee.self&&he.push("self"),le){var ue,pe=[oe];Object.keys(le).length>0&&pe.push(le),(ue=this.logger).info.apply(ue,["Transition found ["+he.join(",")+"]"].concat(pe))}else this.logger.info("No transition found ["+he.join(",")+"]");return oe},ne.update=function(){var te=this;this.all=this.all.map(function(ee){return te.T(ee)}).sort(function(ee,re){return ee.priority-re.priority}).reverse().map(function(ee){return delete ee.priority,ee}),this.page=this.all.filter(function(ee){return ee.leave!==void 0||ee.enter!==void 0}),this.once=this.all.filter(function(ee){return ee.once!==void 0})},ne.R=function(te,ee,re,ie,ae){var oe=!0,le=!1,he=te,ue=ee.name,pe=ue,ce=ue,fe=ue,me=ae?he[ae]:he,de=ae==="to"?re.next:re.current;if(ae?me&&me[ue]:me[ue]){switch(ee.type){case"strings":default:var ve=Array.isArray(me[pe])?me[pe]:[me[pe]];de[pe]&&ve.indexOf(de[pe])!==-1&&(le=!0),ve.indexOf(de[pe])===-1&&(oe=!1);break;case"object":var ge=Array.isArray(me[ce])?me[ce]:[me[ce]];de[ce]?(de[ce].name&&ge.indexOf(de[ce].name)!==-1&&(le=!0),ge.indexOf(de[ce].name)===-1&&(oe=!1)):oe=!1;break;case"function":me[fe](re)?le=!0:oe=!1}le&&(ae?(ie[ae]=ie[ae]||{},ie[ae][ue]=he[ae][ue]):ie[ue]=he[ue])}return oe},ne.O=function(te,ee,re){var ie=0;return(te[ee]||te.from&&te.from[ee]||te.to&&te.to[ee])&&(ie+=Math.pow(10,re),te.from&&te.from[ee]&&(ie+=1),te.to&&te.to[ee]&&(ie+=2)),ie},ne.T=function(te){var ee=this;te.priority=0;var re=0;return this.A.forEach(function(ie,ae){re+=ee.O(te,ie.name,ae+1)}),te.priority=re,te},se}(),ut=function(){function se(te){te===void 0&&(te=[]),this.logger=new l$1("@barba/core"),this.S=!1,this.store=new ot(te)}var ne=se.prototype;return ne.get=function(te,ee){return this.store.resolve(te,ee)},ne.doOnce=function(te){var ee=te.data,re=te.transition;try{var ie=function(){ae.S=!1},ae=this,oe=re||{};ae.S=!0;var le=f(function(){return Promise.resolve(ae.j("beforeOnce",ee,oe)).then(function(){return Promise.resolve(ae.once(ee,oe)).then(function(){return Promise.resolve(ae.j("afterOnce",ee,oe)).then(function(){})})})},function(he){ae.S=!1,ae.logger.debug("Transition error [before/after/once]"),ae.logger.error(he)});return Promise.resolve(le&&le.then?le.then(ie):ie())}catch(he){return Promise.reject(he)}},ne.doPage=function(te){var ee=te.data,re=te.transition,ie=te.page,ae=te.wrapper;try{var oe=function(fe){if(le)return fe;he.S=!1},le=!1,he=this,ue=re||{},pe=ue.sync===!0||!1;he.S=!0;var ce=f(function(){function fe(){return Promise.resolve(he.j("before",ee,ue)).then(function(){var de=!1;function ve(xe){return de?xe:Promise.resolve(he.remove(ee)).then(function(){return Promise.resolve(he.j("after",ee,ue)).then(function(){})})}var ge=function(){if(pe)return f(function(){return Promise.resolve(he.add(ee,ae)).then(function(){return Promise.resolve(he.j("beforeLeave",ee,ue)).then(function(){return Promise.resolve(he.j("beforeEnter",ee,ue)).then(function(){return Promise.resolve(Promise.all([he.leave(ee,ue),he.enter(ee,ue)])).then(function(){return Promise.resolve(he.j("afterLeave",ee,ue)).then(function(){return Promise.resolve(he.j("afterEnter",ee,ue)).then(function(){})})})})})})},function(we){if(he.M(we))throw new et(we,"Transition error [sync]")});var xe=function(we){return de?we:f(function(){var be=function(){if(_e!==!1)return Promise.resolve(he.add(ee,ae)).then(function(){return Promise.resolve(he.j("beforeEnter",ee,ue)).then(function(){return Promise.resolve(he.enter(ee,ue,_e)).then(function(){return Promise.resolve(he.j("afterEnter",ee,ue)).then(function(){})})})})}();if(be&&be.then)return be.then(function(){})},function(be){if(he.M(be))throw new et(be,"Transition error [before/after/enter]")})},_e=!1,ye=f(function(){return Promise.resolve(he.j("beforeLeave",ee,ue)).then(function(){return Promise.resolve(Promise.all([he.leave(ee,ue),L(ie,ee)]).then(function(we){return we[0]})).then(function(we){return _e=we,Promise.resolve(he.j("afterLeave",ee,ue)).then(function(){})})})},function(we){if(he.M(we))throw new et(we,"Transition error [before/after/leave]")});return ye&&ye.then?ye.then(xe):xe(ye)}();return ge&&ge.then?ge.then(ve):ve(ge)})}var me=function(){if(pe)return Promise.resolve(L(ie,ee)).then(function(){})}();return me&&me.then?me.then(fe):fe()},function(fe){throw he.S=!1,fe.name&&fe.name==="BarbaError"?(he.logger.debug(fe.label),he.logger.error(fe.error),fe):(he.logger.debug("Transition error [page]"),he.logger.error(fe),fe)});return Promise.resolve(ce&&ce.then?ce.then(oe):oe(ce))}catch(fe){return Promise.reject(fe)}},ne.once=function(te,ee){try{return Promise.resolve(X.do("once",te,ee)).then(function(){return ee.once?N(ee.once,ee)(te):Promise.resolve()})}catch(re){return Promise.reject(re)}},ne.leave=function(te,ee){try{return Promise.resolve(X.do("leave",te,ee)).then(function(){return ee.leave?N(ee.leave,ee)(te):Promise.resolve()})}catch(re){return Promise.reject(re)}},ne.enter=function(te,ee,re){try{return Promise.resolve(X.do("enter",te,ee)).then(function(){return ee.enter?N(ee.enter,ee)(te,re):Promise.resolve()})}catch(ie){return Promise.reject(ie)}},ne.add=function(te,ee){try{return j.addContainer(te.next.container,ee),X.do("nextAdded",te),Promise.resolve()}catch(re){return Promise.reject(re)}},ne.remove=function(te){try{return j.removeContainer(te.current.container),X.do("currentRemoved",te),Promise.resolve()}catch(ee){return Promise.reject(ee)}},ne.M=function(te){return te.message?!/Timeout error|Fetch error/.test(te.message):!te.status},ne.j=function(te,ee,re){try{return Promise.resolve(X.do(te,ee,re)).then(function(){return re[te]?N(re[te],re)(ee):Promise.resolve()})}catch(ie){return Promise.reject(ie)}},n$1(se,[{key:"isRunning",get:function(){return this.S},set:function(te){this.S=te}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(te){return te.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(te){return te.to&&!te.to.route||te.sync})}}]),se}(),st=function(){function se(ne){var te=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,ne.length!==0&&(ne.forEach(function(ee){te.byNamespace.set(ee.namespace,ee)}),this.names.forEach(function(ee){X[ee](te.L(ee))}))}return se.prototype.L=function(ne){var te=this;return function(ee){var re=ne.match(/enter/i)?ee.next:ee.current,ie=te.byNamespace.get(re.namespace);return ie&&ie[ne]?N(ie[ne],ie)(ee):Promise.resolve()}},se}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(se){var ne=this;do{if(ne.matches(se))return ne;ne=ne.parentElement||ne.parentNode}while(ne!==null&&ne.nodeType===1);return null});var ft={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},ct=new(function(){function se(){this.version=a$1,this.schemaPage=ft,this.Logger=l$1,this.logger=new l$1("@barba/core"),this.plugins=[],this.hooks=X,this.dom=j,this.helpers=_,this.history=M,this.request=I,this.url=H}var ne=se.prototype;return ne.use=function(te,ee){var re=this.plugins;re.indexOf(te)>-1?this.logger.warn("Plugin ["+te.name+"] already installed."):typeof te.install=="function"?(te.install(this,ee),re.push(te)):this.logger.warn("Plugin ["+te.name+'] has no "install" method.')},ne.init=function(te){var ee=te===void 0?{}:te,re=ee.transitions,ie=re===void 0?[]:re,ae=ee.views,oe=ae===void 0?[]:ae,le=ee.schema,he=le===void 0?S:le,ue=ee.requestError,pe=ee.timeout,ce=pe===void 0?2e3:pe,fe=ee.cacheIgnore,me=fe!==void 0&&fe,de=ee.prefetchIgnore,ve=de!==void 0&&de,ge=ee.preventRunning,xe=ge!==void 0&&ge,_e=ee.prevent,ye=_e===void 0?null:_e,we=ee.debug,be=ee.logLevel;if(l$1.setLevel((we!==void 0&&we)===!0?"debug":be===void 0?"off":be),this.logger.info(this.version),Object.keys(he).forEach(function(Te){S[Te]&&(S[Te]=he[Te])}),this.$=ue,this.timeout=ce,this.cacheIgnore=me,this.prefetchIgnore=ve,this.preventRunning=xe,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var Se=this.data.current;if(!Se.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new G(me),this.prevent=new it(ve),this.transitions=new ut(ie),this.views=new st(oe),ye!==null){if(typeof ye!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",ye)}this.history.init(Se.url.href,Se.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(Te){return Te.init()});var Ce=this.data;Ce.trigger="barba",Ce.next=Ce.current,Ce.current=r$1({},this.schemaPage),this.hooks.do("ready",Ce),this.once(Ce),this.q()},ne.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},ne.force=function(te){window.location.assign(te)},ne.go=function(te,ee,re){var ie;if(ee===void 0&&(ee="barba"),this.transitions.isRunning)this.force(te);else if(!(ie=ee==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(te):this.prevent.run("sameUrl",null,null,te))||this.transitions.hasSelf)return ee=this.history.change(te,ee,re),re&&(re.stopPropagation(),re.preventDefault()),this.page(te,ee,ie)},ne.once=function(te){try{var ee=this;return Promise.resolve(ee.hooks.do("beforeEnter",te)).then(function(){function re(){return Promise.resolve(ee.hooks.do("afterEnter",te)).then(function(){})}var ie=function(){if(ee.transitions.hasOnce){var ae=ee.transitions.get(te,{once:!0});return Promise.resolve(ee.transitions.doOnce({transition:ae,data:te})).then(function(){})}}();return ie&&ie.then?ie.then(re):re()})}catch(re){return Promise.reject(re)}},ne.page=function(te,ee,re){try{var ie=function(){var he=ae.data;return Promise.resolve(ae.hooks.do("page",he)).then(function(){var ue=f(function(){var pe=ae.transitions.get(he,{once:!1,self:re});return Promise.resolve(ae.transitions.doPage({data:he,page:oe,transition:pe,wrapper:ae._})).then(function(){ae.q()})},function(){l$1.getLevel()===0&&ae.force(he.current.url.href)});if(ue&&ue.then)return ue.then(function(){})})},ae=this;ae.data.next.url=r$1({href:te},ae.url.parse(te)),ae.data.trigger=ee;var oe=ae.cache.has(te)?ae.cache.update(te,{action:"click"}).request:ae.cache.set(te,ae.request(te,ae.timeout,ae.onRequestError.bind(ae,ee)),"click").request,le=function(){if(ae.transitions.shouldWait)return Promise.resolve(L(oe,ae.data)).then(function(){})}();return Promise.resolve(le&&le.then?le.then(ie):ie())}catch(he){return Promise.reject(he)}},ne.onRequestError=function(te){this.transitions.isRunning=!1;for(var ee=arguments.length,re=new Array(ee>1?ee-1:0),ie=1;ie<ee;ie++)re[ie-1]=arguments[ie];var ae=re[0],oe=re[1],le=this.cache.getAction(ae);return this.cache.delete(ae),!(this.$&&this.$(te,le,ae,oe)===!1||(le==="click"&&this.force(ae),1))},ne.prefetch=function(te){var ee=this;this.cache.has(te)||this.cache.set(te,this.request(te,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(re){ee.logger.error(re)}),"prefetch")},ne.F=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},ne.H=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},ne.B=function(te){var ee=this,re=this.I(te);if(re){var ie=this.dom.getHref(re);this.prevent.checkHref(ie)||this.cache.has(ie)||this.cache.set(ie,this.request(ie,this.timeout,this.onRequestError.bind(this,re)).catch(function(ae){ee.logger.error(ae)}),"enter")}},ne.U=function(te){var ee=this.I(te);if(ee)return this.transitions.isRunning&&this.preventRunning?(te.preventDefault(),void te.stopPropagation()):void this.go(this.dom.getHref(ee),ee,te)},ne.D=function(te){this.go(this.url.getHref(),"popstate",te)},ne.I=function(te){for(var ee=te.target;ee&&!this.dom.getHref(ee);)ee=ee.parentNode;if(ee&&!this.prevent.checkLink(ee,te,this.dom.getHref(ee)))return ee},ne.q=function(){var te=this.url.getHref(),ee={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:r$1({href:te},this.url.parse(te))};this.C={current:ee,next:r$1({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},n$1(se,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),se}());const getSiteId=(se=document)=>se.documentElement.getAttribute("data-wf-site"),restartWebflow=async se=>{var te,ee;const{Webflow:ne}=window;if(!(!ne||!("destroy"in ne)||!("ready"in ne)||!("require"in ne))&&!(se&&!se.length)){if(se||(ne.destroy(),ne.ready()),!se||se.includes("ix2")){const re=ne.require("ix2");if(re){const{store:ie,actions:ae}=re,{eventState:oe}=ie.getState().ixSession,le=Object.entries(oe);se||re.destroy(),re.init(),await Promise.all(le.map(he=>ie.dispatch(ae.eventStateChanged(...he))))}}if(!se||se.includes("commerce")){const re=ne.require("commerce"),ie=getSiteId();re&&ie&&(re.destroy(),re.init({siteId:ie,apiUrl:"https://render.webflow.com"}))}if(se!=null&&se.includes("lightbox")&&((te=ne.require("lightbox"))==null||te.ready()),se!=null&&se.includes("slider")){const re=ne.require("slider");re&&(re.redraw(),re.ready())}return se!=null&&se.includes("tabs")&&((ee=ne.require("tabs"))==null||ee.redraw()),new Promise(re=>ne.push(()=>re(void 0)))}};var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(se){return se&&se.__esModule&&Object.prototype.hasOwnProperty.call(se,"default")?se.default:se}var tinyEmitter={exports:{}};function E(){}E.prototype={on:function(se,ne,te){var ee=this.e||(this.e={});return(ee[se]||(ee[se]=[])).push({fn:ne,ctx:te}),this},once:function(se,ne,te){var ee=this;function re(){ee.off(se,re),ne.apply(te,arguments)}return re._=ne,this.on(se,re,te)},emit:function(se){var ne=[].slice.call(arguments,1),te=((this.e||(this.e={}))[se]||[]).slice(),ee=0,re=te.length;for(ee;ee<re;ee++)te[ee].fn.apply(te[ee].ctx,ne);return this},off:function(se,ne){var te=this.e||(this.e={}),ee=te[se],re=[];if(ee&&ne)for(var ie=0,ae=ee.length;ie<ae;ie++)ee[ie].fn!==ne&&ee[ie].fn._!==ne&&re.push(ee[ie]);return re.length?te[se]=re:delete te[se],this}},tinyEmitter.exports=E;var TinyEmitter=tinyEmitter.exports.TinyEmitter=E,virtualscroll={exports:{}};(function(se,ne){(function(te,ee){se.exports=ee()})(commonjsGlobal,function(){var te=0;function ee(de){return"__private_"+te+++"_"+de}function re(de,ve){if(!Object.prototype.hasOwnProperty.call(de,ve))throw new TypeError("attempted to use private field on non-instance");return de}function ie(){}ie.prototype={on:function(de,ve,ge){var xe=this.e||(this.e={});return(xe[de]||(xe[de]=[])).push({fn:ve,ctx:ge}),this},once:function(de,ve,ge){var xe=this;function _e(){xe.off(de,_e),ve.apply(ge,arguments)}return _e._=ve,this.on(de,_e,ge)},emit:function(de){for(var ve=[].slice.call(arguments,1),ge=((this.e||(this.e={}))[de]||[]).slice(),xe=0,_e=ge.length;xe<_e;xe++)ge[xe].fn.apply(ge[xe].ctx,ve);return this},off:function(de,ve){var ge=this.e||(this.e={}),xe=ge[de],_e=[];if(xe&&ve)for(var ye=0,we=xe.length;ye<we;ye++)xe[ye].fn!==ve&&xe[ye].fn._!==ve&&_e.push(xe[ye]);return _e.length?ge[de]=_e:delete ge[de],this}};var ae=ie;ae.TinyEmitter=ie;var oe,le="virtualscroll",he=ee("options"),ue=ee("el"),pe=ee("emitter"),ce=ee("event"),fe=ee("touchStart"),me=ee("bodyTouchAction");return function(){function de(ge){var xe=this;Object.defineProperty(this,he,{writable:!0,value:void 0}),Object.defineProperty(this,ue,{writable:!0,value:void 0}),Object.defineProperty(this,pe,{writable:!0,value:void 0}),Object.defineProperty(this,ce,{writable:!0,value:void 0}),Object.defineProperty(this,fe,{writable:!0,value:void 0}),Object.defineProperty(this,me,{writable:!0,value:void 0}),this._onWheel=function(_e){var ye=re(xe,he)[he],we=re(xe,ce)[ce];we.deltaX=_e.wheelDeltaX||-1*_e.deltaX,we.deltaY=_e.wheelDeltaY||-1*_e.deltaY,oe.isFirefox&&_e.deltaMode===1&&(we.deltaX*=ye.firefoxMultiplier,we.deltaY*=ye.firefoxMultiplier),we.deltaX*=ye.mouseMultiplier,we.deltaY*=ye.mouseMultiplier,xe._notify(_e)},this._onMouseWheel=function(_e){var ye=re(xe,ce)[ce];ye.deltaX=_e.wheelDeltaX?_e.wheelDeltaX:0,ye.deltaY=_e.wheelDeltaY?_e.wheelDeltaY:_e.wheelDelta,xe._notify(_e)},this._onTouchStart=function(_e){var ye=_e.targetTouches?_e.targetTouches[0]:_e;re(xe,fe)[fe].x=ye.pageX,re(xe,fe)[fe].y=ye.pageY},this._onTouchMove=function(_e){var ye=re(xe,he)[he];ye.preventTouch&&!_e.target.classList.contains(ye.unpreventTouchClass)&&_e.preventDefault();var we=re(xe,ce)[ce],be=_e.targetTouches?_e.targetTouches[0]:_e;we.deltaX=(be.pageX-re(xe,fe)[fe].x)*ye.touchMultiplier,we.deltaY=(be.pageY-re(xe,fe)[fe].y)*ye.touchMultiplier,re(xe,fe)[fe].x=be.pageX,re(xe,fe)[fe].y=be.pageY,xe._notify(_e)},this._onKeyDown=function(_e){var ye=re(xe,ce)[ce];ye.deltaX=ye.deltaY=0;var we=window.innerHeight-40;switch(_e.keyCode){case 37:case 38:ye.deltaY=re(xe,he)[he].keyStep;break;case 39:case 40:ye.deltaY=-re(xe,he)[he].keyStep;break;case 32:ye.deltaY=we*(_e.shiftKey?1:-1);break;default:return}xe._notify(_e)},re(this,ue)[ue]=window,ge&&ge.el&&(re(this,ue)[ue]=ge.el,delete ge.el),oe||(oe={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in document,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}),re(this,he)[he]=Object.assign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",useKeyboard:!0,useTouch:!0},ge),re(this,pe)[pe]=new ae,re(this,ce)[ce]={y:0,x:0,deltaX:0,deltaY:0},re(this,fe)[fe]={x:null,y:null},re(this,me)[me]=null,re(this,he)[he].passive!==void 0&&(this.listenerOptions={passive:re(this,he)[he].passive})}var ve=de.prototype;return ve._notify=function(ge){var xe=re(this,ce)[ce];xe.x+=xe.deltaX,xe.y+=xe.deltaY,re(this,pe)[pe].emit(le,{x:xe.x,y:xe.y,deltaX:xe.deltaX,deltaY:xe.deltaY,originalEvent:ge})},ve._bind=function(){oe.hasWheelEvent&&re(this,ue)[ue].addEventListener("wheel",this._onWheel,this.listenerOptions),oe.hasMouseWheelEvent&&re(this,ue)[ue].addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),oe.hasTouch&&re(this,he)[he].useTouch&&(re(this,ue)[ue].addEventListener("touchstart",this._onTouchStart,this.listenerOptions),re(this,ue)[ue].addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),oe.hasPointer&&oe.hasTouchWin&&(re(this,me)[me]=document.body.style.msTouchAction,document.body.style.msTouchAction="none",re(this,ue)[ue].addEventListener("MSPointerDown",this._onTouchStart,!0),re(this,ue)[ue].addEventListener("MSPointerMove",this._onTouchMove,!0)),oe.hasKeyDown&&re(this,he)[he].useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},ve._unbind=function(){oe.hasWheelEvent&&re(this,ue)[ue].removeEventListener("wheel",this._onWheel),oe.hasMouseWheelEvent&&re(this,ue)[ue].removeEventListener("mousewheel",this._onMouseWheel),oe.hasTouch&&(re(this,ue)[ue].removeEventListener("touchstart",this._onTouchStart),re(this,ue)[ue].removeEventListener("touchmove",this._onTouchMove)),oe.hasPointer&&oe.hasTouchWin&&(document.body.style.msTouchAction=re(this,me)[me],re(this,ue)[ue].removeEventListener("MSPointerDown",this._onTouchStart,!0),re(this,ue)[ue].removeEventListener("MSPointerMove",this._onTouchMove,!0)),oe.hasKeyDown&&re(this,he)[he].useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},ve.on=function(ge,xe){re(this,pe)[pe].on(le,ge,xe);var _e=re(this,pe)[pe].e;_e&&_e[le]&&_e[le].length===1&&this._bind()},ve.off=function(ge,xe){re(this,pe)[pe].off(le,ge,xe);var _e=re(this,pe)[pe].e;(!_e[le]||_e[le].length<=0)&&this._unbind()},ve.destroy=function(){re(this,pe)[pe].off(),this._unbind()},de}()})})(virtualscroll);var e=virtualscroll.exports;function i(se,ne){for(var te=0;te<ne.length;te++){var ee=ne[te];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(se,ee.key,ee)}}function o(se,ne,te){return ne&&i(se.prototype,ne),te&&i(se,te),Object.defineProperty(se,"prototype",{writable:!1}),se}function r(){return r=Object.assign?Object.assign.bind():function(se){for(var ne=1;ne<arguments.length;ne++){var te=arguments[ne];for(var ee in te)Object.prototype.hasOwnProperty.call(te,ee)&&(se[ee]=te[ee])}return se},r.apply(this,arguments)}function n(se,ne){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ee){return te.__proto__=ee,te},n(se,ne)}function s(se,ne){var te=se%ne;return(ne>0&&te<0||ne<0&&te>0)&&(te+=ne),te}var l=["duration","easing"],a=function(){function se(){}var ne=se.prototype;return ne.to=function(te,ee){var re=this,ie=ee===void 0?{}:ee,ae=ie.duration,oe=ae===void 0?1:ae,le=ie.easing,he=le===void 0?function(pe){return pe}:le,ue=function(pe,ce){if(pe==null)return{};var fe,me,de={},ve=Object.keys(pe);for(me=0;me<ve.length;me++)ce.indexOf(fe=ve[me])>=0||(de[fe]=pe[fe]);return de}(ie,l);this.target=te,this.fromKeys=r({},ue),this.toKeys=r({},ue),this.keys=Object.keys(r({},ue)),this.keys.forEach(function(pe){re.fromKeys[pe]=te[pe]}),this.duration=oe,this.easing=he,this.currentTime=0,this.isRunning=!0},ne.stop=function(){this.isRunning=!1},ne.raf=function(te){var ee=this;if(this.isRunning){this.currentTime=Math.min(this.currentTime+te,this.duration);var re=this.progress>=1?1:this.easing(this.progress);this.keys.forEach(function(ie){var ae=ee.fromKeys[ie];ee.target[ie]=ae+(ee.toKeys[ie]-ae)*re}),re===1&&this.stop()}},o(se,[{key:"progress",get:function(){return this.currentTime/this.duration}}]),se}(),c=function(se){var ne,te;function ee(ie){var ae,oe,le,he,ue=ie===void 0?{}:ie,pe=ue.duration,ce=pe===void 0?1.2:pe,fe=ue.easing,me=fe===void 0?function(Ee){return Math.min(1,1.001-Math.pow(2,-10*Ee))}:fe,de=ue.smooth,ve=de===void 0||de,ge=ue.mouseMultiplier,xe=ge===void 0?1:ge,_e=ue.smoothTouch,ye=_e!==void 0&&_e,we=ue.touchMultiplier,be=we===void 0?2:we,Se=ue.direction,Ce=Se===void 0?"vertical":Se,Te=ue.gestureDirection,De=Te===void 0?"vertical":Te,Fe=ue.infinite,Le=Fe!==void 0&&Fe,Ie=ue.wrapper,Oe=Ie===void 0?window:Ie,ke=ue.content,Pe=ke===void 0?document.body:ke;(he=se.call(this)||this).onWindowResize=function(){he.wrapperWidth=window.innerWidth,he.wrapperHeight=window.innerHeight},he.onWrapperResize=function(Ee){var Ae=Ee[0];if(Ae){var Re=Ae.contentRect;he.wrapperWidth=Re.width,he.wrapperHeight=Re.height}},he.onContentResize=function(Ee){var Ae=Ee[0];if(Ae){var Re=Ae.contentRect;he.contentWidth=Re.width,he.contentHeight=Re.height}},he.onVirtualScroll=function(Ee){var Ae=Ee.deltaY,Re=Ee.deltaX,Be=Ee.originalEvent;if(!(he.gestureDirection==="vertical"&&Ae===0||he.gestureDirection==="horizontal"&&Re===0)){var ze=!!Be.composedPath().find(function(je){return je.hasAttribute&&je.hasAttribute("data-lenis-prevent")});Be.ctrlKey||ze||(he.smooth=Be.changedTouches?he.smoothTouch:he.options.smooth,he.stopped?Be.preventDefault():he.smooth&&Be.buttons!==4&&(he.smooth&&Be.preventDefault(),he.targetScroll-=he.gestureDirection==="both"?Re+Ae:he.gestureDirection==="horizontal"?Re:Ae,he.scrollTo(he.targetScroll)))}},he.onScroll=function(Ee){he.isScrolling&&he.smooth||(he.targetScroll=he.scroll=he.lastScroll=he.wrapperNode[he.scrollProperty],he.notify())},window.lenisVersion="0.2.28",he.options={duration:ce,easing:me,smooth:ve,mouseMultiplier:xe,smoothTouch:ye,touchMultiplier:be,direction:Ce,gestureDirection:De,infinite:Le,wrapper:Oe,content:Pe},he.duration=ce,he.easing=me,he.smooth=ve,he.mouseMultiplier=xe,he.smoothTouch=ye,he.touchMultiplier=be,he.direction=Ce,he.gestureDirection=De,he.infinite=Le,he.wrapperNode=Oe,he.contentNode=Pe,he.wrapperNode.addEventListener("scroll",he.onScroll),he.wrapperNode===window?(he.wrapperNode.addEventListener("resize",he.onWindowResize),he.onWindowResize()):(he.wrapperHeight=he.wrapperNode.offsetHeight,he.wrapperWidth=he.wrapperNode.offsetWidth,he.wrapperObserver=new ResizeObserver(he.onWrapperResize),he.wrapperObserver.observe(he.wrapperNode)),he.contentHeight=he.contentNode.offsetHeight,he.contentWidth=he.contentNode.offsetWidth,he.contentObserver=new ResizeObserver(he.onContentResize),he.contentObserver.observe(he.contentNode),he.targetScroll=he.scroll=he.lastScroll=he.wrapperNode[he.scrollProperty],he.animate=new a;var Me=((ae=navigator)==null||(oe=ae.userAgentData)==null?void 0:oe.platform)||((le=navigator)==null?void 0:le.platform)||"unknown";return he.virtualScroll=new e({el:he.wrapperNode,firefoxMultiplier:50,mouseMultiplier:he.mouseMultiplier*(Me.includes("Win")||Me.includes("Linux")?.84:.4),touchMultiplier:he.touchMultiplier,passive:!1,useKeyboard:!1,useTouch:!0}),he.virtualScroll.on(he.onVirtualScroll),he}te=se,(ne=ee).prototype=Object.create(te.prototype),ne.prototype.constructor=ne,n(ne,te);var re=ee.prototype;return re.start=function(){var ie=this.wrapperNode;this.wrapperNode===window&&(ie=document.documentElement),ie.classList.remove("lenis-stopped"),this.stopped=!1},re.stop=function(){var ie=this.wrapperNode;this.wrapperNode===window&&(ie=document.documentElement),ie.classList.add("lenis-stopped"),this.stopped=!0,this.animate.stop()},re.destroy=function(){var ie;this.wrapperNode===window&&this.wrapperNode.removeEventListener("resize",this.onWindowResize),this.wrapperNode.removeEventListener("scroll",this.onScroll),this.virtualScroll.destroy(),(ie=this.wrapperObserver)==null||ie.disconnect(),this.contentObserver.disconnect()},re.raf=function(ie){var ae=ie-(this.now||0);this.now=ie,!this.stopped&&this.smooth&&(this.lastScroll=this.scroll,this.animate.raf(.001*ae),this.scroll===this.targetScroll&&(this.lastScroll=this.scroll),this.isScrolling&&(this.setScroll(this.scroll),this.notify()),this.isScrolling=this.scroll!==this.targetScroll)},re.setScroll=function(ie){var ae=this.infinite?s(ie,this.limit):ie;this.direction==="horizontal"?this.wrapperNode.scrollTo(ae,0):this.wrapperNode.scrollTo(0,ae)},re.notify=function(){var ie=this.infinite?s(this.scroll,this.limit):this.scroll;this.emit("scroll",{scroll:ie,limit:this.limit,velocity:this.velocity,direction:this.velocity===0?0:this.velocity>0?1:-1,progress:ie/this.limit})},re.scrollTo=function(ie,ae){var oe=ae===void 0?{}:ae,le=oe.offset,he=le===void 0?0:le,ue=oe.immediate,pe=ue!==void 0&&ue,ce=oe.duration,fe=ce===void 0?this.duration:ce,me=oe.easing,de=me===void 0?this.easing:me;if(ie!=null&&!this.stopped){var ve;if(typeof ie=="number")ve=ie;else if(ie==="top"||ie==="#top")ve=0;else if(ie==="bottom")ve=this.limit;else{var ge;if(typeof ie=="string")ge=document.querySelector(ie);else{if(ie==null||!ie.nodeType)return;ge=ie}if(!ge)return;var xe=0;if(this.wrapperNode!==window){var _e=this.wrapperNode.getBoundingClientRect();xe=this.direction==="horizontal"?_e.left:_e.top}var ye=ge.getBoundingClientRect();ve=(this.direction==="horizontal"?ye.left:ye.top)+this.scroll-xe}ve+=he,this.targetScroll=this.infinite?ve:Math.max(0,Math.min(ve,this.limit)),!this.smooth||pe?(this.animate.stop(),this.scroll=this.lastScroll=this.targetScroll,this.setScroll(this.targetScroll)):this.animate.to(this,{duration:fe,easing:de,scroll:this.targetScroll})}},o(ee,[{key:"scrollProperty",get:function(){return this.wrapperNode===window?this.direction==="horizontal"?"scrollX":"scrollY":this.direction==="horizontal"?"scrollLeft":"scrollTop"}},{key:"limit",get:function(){return this.direction==="horizontal"?this.contentWidth-this.wrapperWidth:this.contentHeight-this.wrapperHeight}},{key:"velocity",get:function(){return this.scroll-this.lastScroll}}]),ee}(TinyEmitter);class Scroll{constructor(){this.lenis=new c({duration:.8,easing:ee=>Math.min(1,1.001-Math.pow(2,-10*ee)),direction:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1.2,smoothTouch:!1});let ne=this.lenis;function te(ee){ne.raf(ee),requestAnimationFrame(te)}requestAnimationFrame(te)}}function _assertThisInitialized(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function _inheritsLoose(se,ne){se.prototype=Object.create(ne.prototype),se.prototype.constructor=se,se.__proto__=ne}/*!
 * GSAP 3.11.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults$1={duration:.5,overwrite:!1,delay:0},_suppressOverwrites$1,_reverting$1,_context$3,_bigNum$1=1e8,_tinyNum=1/_bigNum$1,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString$1=function(ne){return typeof ne=="string"},_isFunction$1=function(ne){return typeof ne=="function"},_isNumber$1=function(ne){return typeof ne=="number"},_isUndefined=function(ne){return typeof ne=="undefined"},_isObject$1=function(ne){return typeof ne=="object"},_isNotFalse=function(ne){return ne!==!1},_windowExists$2=function(){return typeof window!="undefined"},_isFuncOrString=function(ne){return _isFunction$1(ne)||_isString$1(ne)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$4,_coreInitted$4,_doc$4,_globals={},_installScope={},_coreReady,_install=function(ne){return(_installScope=_merge(ne,_globals))&&gsap$4},_missingPlugin=function(ne,te){return console.warn("Invalid property",ne,"set to",te,"Missing plugin? gsap.registerPlugin()")},_warn=function(ne,te){return!te&&console.warn(ne)},_addGlobal=function(ne,te){return ne&&(_globals[ne]=te)&&_installScope&&(_installScope[ne]=te)||_globals},_emptyFunc=function(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function(ne){var te=ne[0],ee,re;if(_isObject$1(te)||_isFunction$1(te)||(ne=[ne]),!(ee=(te._gsap||{}).harness)){for(re=_harnessPlugins.length;re--&&!_harnessPlugins[re].targetTest(te););ee=_harnessPlugins[re]}for(re=ne.length;re--;)ne[re]&&(ne[re]._gsap||(ne[re]._gsap=new GSCache(ne[re],ee)))||ne.splice(re,1);return ne},_getCache=function(ne){return ne._gsap||_harness(toArray(ne))[0]._gsap},_getProperty=function(ne,te,ee){return(ee=ne[te])&&_isFunction$1(ee)?ne[te]():_isUndefined(ee)&&ne.getAttribute&&ne.getAttribute(te)||ee},_forEachName=function(ne,te){return(ne=ne.split(",")).forEach(te)||ne},_round$1=function(ne){return Math.round(ne*1e5)/1e5||0},_roundPrecise=function(ne){return Math.round(ne*1e7)/1e7||0},_parseRelative=function(ne,te){var ee=te.charAt(0),re=parseFloat(te.substr(2));return ne=parseFloat(ne),ee==="+"?ne+re:ee==="-"?ne-re:ee==="*"?ne*re:ne/re},_arrayContainsAny=function(ne,te){for(var ee=te.length,re=0;ne.indexOf(te[re])<0&&++re<ee;);return re<ee},_lazyRender=function(){var ne=_lazyTweens.length,te=_lazyTweens.slice(0),ee,re;for(_lazyLookup={},_lazyTweens.length=0,ee=0;ee<ne;ee++)re=te[ee],re&&re._lazy&&(re.render(re._lazy[0],re._lazy[1],!0)._lazy=0)},_lazySafeRender=function(ne,te,ee,re){_lazyTweens.length&&!_reverting$1&&_lazyRender(),ne.render(te,ee,re||_reverting$1&&te<0&&(ne._initted||ne._startAt)),_lazyTweens.length&&!_reverting$1&&_lazyRender()},_numericIfPossible=function(ne){var te=parseFloat(ne);return(te||te===0)&&(ne+"").match(_delimitedValueExp).length<2?te:_isString$1(ne)?ne.trim():ne},_passThrough$1=function(ne){return ne},_setDefaults$1=function(ne,te){for(var ee in te)ee in ne||(ne[ee]=te[ee]);return ne},_setKeyframeDefaults=function(ne){return function(te,ee){for(var re in ee)re in te||re==="duration"&&ne||re==="ease"||(te[re]=ee[re])}},_merge=function(ne,te){for(var ee in te)ne[ee]=te[ee];return ne},_mergeDeep=function se(ne,te){for(var ee in te)ee!=="__proto__"&&ee!=="constructor"&&ee!=="prototype"&&(ne[ee]=_isObject$1(te[ee])?se(ne[ee]||(ne[ee]={}),te[ee]):te[ee]);return ne},_copyExcluding=function(ne,te){var ee={},re;for(re in ne)re in te||(ee[re]=ne[re]);return ee},_inheritDefaults=function(ne){var te=ne.parent||_globalTimeline,ee=ne.keyframes?_setKeyframeDefaults(_isArray(ne.keyframes)):_setDefaults$1;if(_isNotFalse(ne.inherit))for(;te;)ee(ne,te.vars.defaults),te=te.parent||te._dp;return ne},_arraysMatch=function(ne,te){for(var ee=ne.length,re=ee===te.length;re&&ee--&&ne[ee]===te[ee];);return ee<0},_addLinkedListItem=function(ne,te,ee,re,ie){ee===void 0&&(ee="_first"),re===void 0&&(re="_last");var ae=ne[re],oe;if(ie)for(oe=te[ie];ae&&ae[ie]>oe;)ae=ae._prev;return ae?(te._next=ae._next,ae._next=te):(te._next=ne[ee],ne[ee]=te),te._next?te._next._prev=te:ne[re]=te,te._prev=ae,te.parent=te._dp=ne,te},_removeLinkedListItem=function(ne,te,ee,re){ee===void 0&&(ee="_first"),re===void 0&&(re="_last");var ie=te._prev,ae=te._next;ie?ie._next=ae:ne[ee]===te&&(ne[ee]=ae),ae?ae._prev=ie:ne[re]===te&&(ne[re]=ie),te._next=te._prev=te.parent=null},_removeFromParent=function(ne,te){ne.parent&&(!te||ne.parent.autoRemoveChildren)&&ne.parent.remove(ne),ne._act=0},_uncache=function(ne,te){if(ne&&(!te||te._end>ne._dur||te._start<0))for(var ee=ne;ee;)ee._dirty=1,ee=ee.parent;return ne},_recacheAncestors=function(ne){for(var te=ne.parent;te&&te.parent;)te._dirty=1,te.totalDuration(),te=te.parent;return ne},_rewindStartAt=function(ne,te,ee,re){return ne._startAt&&(_reverting$1?ne._startAt.revert(_revertConfigNoKill):ne.vars.immediateRender&&!ne.vars.autoRevert||ne._startAt.render(te,!0,re))},_hasNoPausedAncestors=function se(ne){return!ne||ne._ts&&se(ne.parent)},_elapsedCycleDuration=function(ne){return ne._repeat?_animationCycle(ne._tTime,ne=ne.duration()+ne._rDelay)*ne:0},_animationCycle=function(ne,te){var ee=Math.floor(ne/=te);return ne&&ee===ne?ee-1:ee},_parentToChildTotalTime=function(ne,te){return(ne-te._start)*te._ts+(te._ts>=0?0:te._dirty?te.totalDuration():te._tDur)},_setEnd=function(ne){return ne._end=_roundPrecise(ne._start+(ne._tDur/Math.abs(ne._ts||ne._rts||_tinyNum)||0))},_alignPlayhead=function(ne,te){var ee=ne._dp;return ee&&ee.smoothChildTiming&&ne._ts&&(ne._start=_roundPrecise(ee._time-(ne._ts>0?te/ne._ts:((ne._dirty?ne.totalDuration():ne._tDur)-te)/-ne._ts)),_setEnd(ne),ee._dirty||_uncache(ee,ne)),ne},_postAddChecks=function(ne,te){var ee;if((te._time||te._initted&&!te._dur)&&(ee=_parentToChildTotalTime(ne.rawTime(),te),(!te._dur||_clamp$1(0,te.totalDuration(),ee)-te._tTime>_tinyNum)&&te.render(ee,!0)),_uncache(ne,te)._dp&&ne._initted&&ne._time>=ne._dur&&ne._ts){if(ne._dur<ne.duration())for(ee=ne;ee._dp;)ee.rawTime()>=0&&ee.totalTime(ee._tTime),ee=ee._dp;ne._zTime=-_tinyNum}},_addToTimeline=function(ne,te,ee,re){return te.parent&&_removeFromParent(te),te._start=_roundPrecise((_isNumber$1(ee)?ee:ee||ne!==_globalTimeline?_parsePosition$1(ne,ee,te):ne._time)+te._delay),te._end=_roundPrecise(te._start+(te.totalDuration()/Math.abs(te.timeScale())||0)),_addLinkedListItem(ne,te,"_first","_last",ne._sort?"_start":0),_isFromOrFromStart(te)||(ne._recent=te),re||_postAddChecks(ne,te),ne._ts<0&&_alignPlayhead(ne,ne._tTime),ne},_scrollTrigger=function(ne,te){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",te))&&_globals.ScrollTrigger.create(te,ne)},_attemptInitTween=function(ne,te,ee,re,ie){if(_initTween(ne,te,ie),!ne._initted)return 1;if(!ee&&ne._pt&&!_reverting$1&&(ne._dur&&ne.vars.lazy!==!1||!ne._dur&&ne.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(ne),ne._lazy=[ie,re],1},_parentPlayheadIsBeforeStart=function se(ne){var te=ne.parent;return te&&te._ts&&te._initted&&!te._lock&&(te.rawTime()<0||se(te))},_isFromOrFromStart=function(ne){var te=ne.data;return te==="isFromStart"||te==="isStart"},_renderZeroDurationTween=function(ne,te,ee,re){var ie=ne.ratio,ae=te<0||!te&&(!ne._start&&_parentPlayheadIsBeforeStart(ne)&&!(!ne._initted&&_isFromOrFromStart(ne))||(ne._ts<0||ne._dp._ts<0)&&!_isFromOrFromStart(ne))?0:1,oe=ne._rDelay,le=0,he,ue,pe;if(oe&&ne._repeat&&(le=_clamp$1(0,ne._tDur,te),ue=_animationCycle(le,oe),ne._yoyo&&ue&1&&(ae=1-ae),ue!==_animationCycle(ne._tTime,oe)&&(ie=1-ae,ne.vars.repeatRefresh&&ne._initted&&ne.invalidate())),ae!==ie||_reverting$1||re||ne._zTime===_tinyNum||!te&&ne._zTime){if(!ne._initted&&_attemptInitTween(ne,te,re,ee,le))return;for(pe=ne._zTime,ne._zTime=te||(ee?_tinyNum:0),ee||(ee=te&&!pe),ne.ratio=ae,ne._from&&(ae=1-ae),ne._time=0,ne._tTime=le,he=ne._pt;he;)he.r(ae,he.d),he=he._next;te<0&&_rewindStartAt(ne,te,ee,!0),ne._onUpdate&&!ee&&_callback$1(ne,"onUpdate"),le&&ne._repeat&&!ee&&ne.parent&&_callback$1(ne,"onRepeat"),(te>=ne._tDur||te<0)&&ne.ratio===ae&&(ae&&_removeFromParent(ne,1),!ee&&!_reverting$1&&(_callback$1(ne,ae?"onComplete":"onReverseComplete",!0),ne._prom&&ne._prom()))}else ne._zTime||(ne._zTime=te)},_findNextPauseTween=function(ne,te,ee){var re;if(ee>te)for(re=ne._first;re&&re._start<=ee;){if(re.data==="isPause"&&re._start>te)return re;re=re._next}else for(re=ne._last;re&&re._start>=ee;){if(re.data==="isPause"&&re._start<te)return re;re=re._prev}},_setDuration=function(ne,te,ee,re){var ie=ne._repeat,ae=_roundPrecise(te)||0,oe=ne._tTime/ne._tDur;return oe&&!re&&(ne._time*=ae/ne._dur),ne._dur=ae,ne._tDur=ie?ie<0?1e10:_roundPrecise(ae*(ie+1)+ne._rDelay*ie):ae,oe>0&&!re&&_alignPlayhead(ne,ne._tTime=ne._tDur*oe),ne.parent&&_setEnd(ne),ee||_uncache(ne.parent,ne),ne},_onUpdateTotalDuration=function(ne){return ne instanceof Timeline?_uncache(ne):_setDuration(ne,ne._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition$1=function se(ne,te,ee){var re=ne.labels,ie=ne._recent||_zeroPosition,ae=ne.duration()>=_bigNum$1?ie.endTime(!1):ne._dur,oe,le,he;return _isString$1(te)&&(isNaN(te)||te in re)?(le=te.charAt(0),he=te.substr(-1)==="%",oe=te.indexOf("="),le==="<"||le===">"?(oe>=0&&(te=te.replace(/=/,"")),(le==="<"?ie._start:ie.endTime(ie._repeat>=0))+(parseFloat(te.substr(1))||0)*(he?(oe<0?ie:ee).totalDuration()/100:1)):oe<0?(te in re||(re[te]=ae),re[te]):(le=parseFloat(te.charAt(oe-1)+te.substr(oe+1)),he&&ee&&(le=le/100*(_isArray(ee)?ee[0]:ee).totalDuration()),oe>1?se(ne,te.substr(0,oe-1),ee)+le:ae+le)):te==null?ae:+te},_createTweenType=function(ne,te,ee){var re=_isNumber$1(te[1]),ie=(re?2:1)+(ne<2?0:1),ae=te[ie],oe,le;if(re&&(ae.duration=te[1]),ae.parent=ee,ne){for(oe=ae,le=ee;le&&!("immediateRender"in oe);)oe=le.vars.defaults||{},le=_isNotFalse(le.vars.inherit)&&le.parent;ae.immediateRender=_isNotFalse(oe.immediateRender),ne<2?ae.runBackwards=1:ae.startAt=te[ie-1]}return new Tween(te[0],ae,te[ie+1])},_conditionalReturn=function(ne,te){return ne||ne===0?te(ne):te},_clamp$1=function(ne,te,ee){return ee<ne?ne:ee>te?te:ee},getUnit=function(ne,te){return!_isString$1(ne)||!(te=_unitExp.exec(ne))?"":te[1]},clamp$1=function(ne,te,ee){return _conditionalReturn(ee,function(re){return _clamp$1(ne,te,re)})},_slice=[].slice,_isArrayLike=function(ne,te){return ne&&_isObject$1(ne)&&"length"in ne&&(!te&&!ne.length||ne.length-1 in ne&&_isObject$1(ne[0]))&&!ne.nodeType&&ne!==_win$4},_flatten=function(ne,te,ee){return ee===void 0&&(ee=[]),ne.forEach(function(re){var ie;return _isString$1(re)&&!te||_isArrayLike(re,1)?(ie=ee).push.apply(ie,toArray(re)):ee.push(re)})||ee},toArray=function(ne,te,ee){return _context$3&&!te&&_context$3.selector?_context$3.selector(ne):_isString$1(ne)&&!ee&&(_coreInitted$4||!_wake())?_slice.call((te||_doc$4).querySelectorAll(ne),0):_isArray(ne)?_flatten(ne,ee):_isArrayLike(ne)?_slice.call(ne,0):ne?[ne]:[]},selector=function(ne){return ne=toArray(ne)[0]||_warn("Invalid scope")||{},function(te){var ee=ne.current||ne.nativeElement||ne;return toArray(te,ee.querySelectorAll?ee:ee===ne?_warn("Invalid scope")||_doc$4.createElement("div"):ne)}},shuffle=function(ne){return ne.sort(function(){return .5-Math.random()})},distribute=function(ne){if(_isFunction$1(ne))return ne;var te=_isObject$1(ne)?ne:{each:ne},ee=_parseEase(te.ease),re=te.from||0,ie=parseFloat(te.base)||0,ae={},oe=re>0&&re<1,le=isNaN(re)||oe,he=te.axis,ue=re,pe=re;return _isString$1(re)?ue=pe={center:.5,edges:.5,end:1}[re]||0:!oe&&le&&(ue=re[0],pe=re[1]),function(ce,fe,me){var de=(me||te).length,ve=ae[de],ge,xe,_e,ye,we,be,Se,Ce,Te;if(!ve){if(Te=te.grid==="auto"?0:(te.grid||[1,_bigNum$1])[1],!Te){for(Se=-_bigNum$1;Se<(Se=me[Te++].getBoundingClientRect().left)&&Te<de;);Te--}for(ve=ae[de]=[],ge=le?Math.min(Te,de)*ue-.5:re%Te,xe=Te===_bigNum$1?0:le?de*pe/Te-.5:re/Te|0,Se=0,Ce=_bigNum$1,be=0;be<de;be++)_e=be%Te-ge,ye=xe-(be/Te|0),ve[be]=we=he?Math.abs(he==="y"?ye:_e):_sqrt(_e*_e+ye*ye),we>Se&&(Se=we),we<Ce&&(Ce=we);re==="random"&&shuffle(ve),ve.max=Se-Ce,ve.min=Ce,ve.v=de=(parseFloat(te.amount)||parseFloat(te.each)*(Te>de?de-1:he?he==="y"?de/Te:Te:Math.max(Te,de/Te))||0)*(re==="edges"?-1:1),ve.b=de<0?ie-de:ie,ve.u=getUnit(te.amount||te.each)||0,ee=ee&&de<0?_invertEase(ee):ee}return de=(ve[ce]-ve.min)/ve.max||0,_roundPrecise(ve.b+(ee?ee(de):de)*ve.v)+ve.u}},_roundModifier=function(ne){var te=Math.pow(10,((ne+"").split(".")[1]||"").length);return function(ee){var re=_roundPrecise(Math.round(parseFloat(ee)/ne)*ne*te);return(re-re%1)/te+(_isNumber$1(ee)?0:getUnit(ee))}},snap=function(ne,te){var ee=_isArray(ne),re,ie;return!ee&&_isObject$1(ne)&&(re=ee=ne.radius||_bigNum$1,ne.values?(ne=toArray(ne.values),(ie=!_isNumber$1(ne[0]))&&(re*=re)):ne=_roundModifier(ne.increment)),_conditionalReturn(te,ee?_isFunction$1(ne)?function(ae){return ie=ne(ae),Math.abs(ie-ae)<=re?ie:ae}:function(ae){for(var oe=parseFloat(ie?ae.x:ae),le=parseFloat(ie?ae.y:0),he=_bigNum$1,ue=0,pe=ne.length,ce,fe;pe--;)ie?(ce=ne[pe].x-oe,fe=ne[pe].y-le,ce=ce*ce+fe*fe):ce=Math.abs(ne[pe]-oe),ce<he&&(he=ce,ue=pe);return ue=!re||he<=re?ne[ue]:ae,ie||ue===ae||_isNumber$1(ae)?ue:ue+getUnit(ae)}:_roundModifier(ne))},random=function(ne,te,ee,re){return _conditionalReturn(_isArray(ne)?!te:ee===!0?!!(ee=0):!re,function(){return _isArray(ne)?ne[~~(Math.random()*ne.length)]:(ee=ee||1e-5)&&(re=ee<1?Math.pow(10,(ee+"").length-2):1)&&Math.floor(Math.round((ne-ee/2+Math.random()*(te-ne+ee*.99))/ee)*ee*re)/re})},pipe=function(){for(var ne=arguments.length,te=new Array(ne),ee=0;ee<ne;ee++)te[ee]=arguments[ee];return function(re){return te.reduce(function(ie,ae){return ae(ie)},re)}},unitize=function(ne,te){return function(ee){return ne(parseFloat(ee))+(te||getUnit(ee))}},normalize=function(ne,te,ee){return mapRange(ne,te,0,1,ee)},_wrapArray=function(ne,te,ee){return _conditionalReturn(ee,function(re){return ne[~~te(re)]})},wrap=function se(ne,te,ee){var re=te-ne;return _isArray(ne)?_wrapArray(ne,se(0,ne.length),te):_conditionalReturn(ee,function(ie){return(re+(ie-ne)%re)%re+ne})},wrapYoyo=function se(ne,te,ee){var re=te-ne,ie=re*2;return _isArray(ne)?_wrapArray(ne,se(0,ne.length-1),te):_conditionalReturn(ee,function(ae){return ae=(ie+(ae-ne)%ie)%ie||0,ne+(ae>re?ie-ae:ae)})},_replaceRandom=function(ne){for(var te=0,ee="",re,ie,ae,oe;~(re=ne.indexOf("random(",te));)ae=ne.indexOf(")",re),oe=ne.charAt(re+7)==="[",ie=ne.substr(re+7,ae-re-7).match(oe?_delimitedValueExp:_strictNumExp),ee+=ne.substr(te,re-te)+random(oe?ie:+ie[0],oe?0:+ie[1],+ie[2]||1e-5),te=ae+1;return ee+ne.substr(te,ne.length-te)},mapRange=function(ne,te,ee,re,ie){var ae=te-ne,oe=re-ee;return _conditionalReturn(ie,function(le){return ee+((le-ne)/ae*oe||0)})},interpolate=function se(ne,te,ee,re){var ie=isNaN(ne+te)?0:function(fe){return(1-fe)*ne+fe*te};if(!ie){var ae=_isString$1(ne),oe={},le,he,ue,pe,ce;if(ee===!0&&(re=1)&&(ee=null),ae)ne={p:ne},te={p:te};else if(_isArray(ne)&&!_isArray(te)){for(ue=[],pe=ne.length,ce=pe-2,he=1;he<pe;he++)ue.push(se(ne[he-1],ne[he]));pe--,ie=function(me){me*=pe;var de=Math.min(ce,~~me);return ue[de](me-de)},ee=te}else re||(ne=_merge(_isArray(ne)?[]:{},ne));if(!ue){for(le in te)_addPropTween.call(oe,ne,le,"get",te[le]);ie=function(me){return _renderPropTweens(me,oe)||(ae?ne.p:ne)}}}return _conditionalReturn(ee,ie)},_getLabelInDirection=function(ne,te,ee){var re=ne.labels,ie=_bigNum$1,ae,oe,le;for(ae in re)oe=re[ae]-te,oe<0==!!ee&&oe&&ie>(oe=Math.abs(oe))&&(le=ae,ie=oe);return le},_callback$1=function(ne,te,ee){var re=ne.vars,ie=re[te],ae=_context$3,oe=ne._ctx,le,he,ue;if(!!ie)return le=re[te+"Params"],he=re.callbackScope||ne,ee&&_lazyTweens.length&&_lazyRender(),oe&&(_context$3=oe),ue=le?ie.apply(he,le):ie.call(he),_context$3=ae,ue},_interrupt=function(ne){return _removeFromParent(ne),ne.scrollTrigger&&ne.scrollTrigger.kill(!!_reverting$1),ne.progress()<1&&_callback$1(ne,"onInterrupt"),ne},_quickTween,_createPlugin=function(ne){ne=!ne.name&&ne.default||ne;var te=ne.name,ee=_isFunction$1(ne),re=te&&!ee&&ne.init?function(){this._props=[]}:ne,ie={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},ae={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),ne!==re){if(_plugins[te])return;_setDefaults$1(re,_setDefaults$1(_copyExcluding(ne,ie),ae)),_merge(re.prototype,_merge(ie,_copyExcluding(ne,ae))),_plugins[re.prop=te]=re,ne.targetTest&&(_harnessPlugins.push(re),_reservedProps[te]=1),te=(te==="css"?"CSS":te.charAt(0).toUpperCase()+te.substr(1))+"Plugin"}_addGlobal(te,re),ne.register&&ne.register(gsap$4,re,PropTween)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function(ne,te,ee){return ne+=ne<0?1:ne>1?-1:0,(ne*6<1?te+(ee-te)*ne*6:ne<.5?ee:ne*3<2?te+(ee-te)*(2/3-ne)*6:te)*_255+.5|0},splitColor=function(ne,te,ee){var re=ne?_isNumber$1(ne)?[ne>>16,ne>>8&_255,ne&_255]:0:_colorLookup.black,ie,ae,oe,le,he,ue,pe,ce,fe,me;if(!re){if(ne.substr(-1)===","&&(ne=ne.substr(0,ne.length-1)),_colorLookup[ne])re=_colorLookup[ne];else if(ne.charAt(0)==="#"){if(ne.length<6&&(ie=ne.charAt(1),ae=ne.charAt(2),oe=ne.charAt(3),ne="#"+ie+ie+ae+ae+oe+oe+(ne.length===5?ne.charAt(4)+ne.charAt(4):"")),ne.length===9)return re=parseInt(ne.substr(1,6),16),[re>>16,re>>8&_255,re&_255,parseInt(ne.substr(7),16)/255];ne=parseInt(ne.substr(1),16),re=[ne>>16,ne>>8&_255,ne&_255]}else if(ne.substr(0,3)==="hsl"){if(re=me=ne.match(_strictNumExp),!te)le=+re[0]%360/360,he=+re[1]/100,ue=+re[2]/100,ae=ue<=.5?ue*(he+1):ue+he-ue*he,ie=ue*2-ae,re.length>3&&(re[3]*=1),re[0]=_hue(le+1/3,ie,ae),re[1]=_hue(le,ie,ae),re[2]=_hue(le-1/3,ie,ae);else if(~ne.indexOf("="))return re=ne.match(_numExp),ee&&re.length<4&&(re[3]=1),re}else re=ne.match(_strictNumExp)||_colorLookup.transparent;re=re.map(Number)}return te&&!me&&(ie=re[0]/_255,ae=re[1]/_255,oe=re[2]/_255,pe=Math.max(ie,ae,oe),ce=Math.min(ie,ae,oe),ue=(pe+ce)/2,pe===ce?le=he=0:(fe=pe-ce,he=ue>.5?fe/(2-pe-ce):fe/(pe+ce),le=pe===ie?(ae-oe)/fe+(ae<oe?6:0):pe===ae?(oe-ie)/fe+2:(ie-ae)/fe+4,le*=60),re[0]=~~(le+.5),re[1]=~~(he*100+.5),re[2]=~~(ue*100+.5)),ee&&re.length<4&&(re[3]=1),re},_colorOrderData=function(ne){var te=[],ee=[],re=-1;return ne.split(_colorExp).forEach(function(ie){var ae=ie.match(_numWithUnitExp)||[];te.push.apply(te,ae),ee.push(re+=ae.length+1)}),te.c=ee,te},_formatColors=function(ne,te,ee){var re="",ie=(ne+re).match(_colorExp),ae=te?"hsla(":"rgba(",oe=0,le,he,ue,pe;if(!ie)return ne;if(ie=ie.map(function(ce){return(ce=splitColor(ce,te,1))&&ae+(te?ce[0]+","+ce[1]+"%,"+ce[2]+"%,"+ce[3]:ce.join(","))+")"}),ee&&(ue=_colorOrderData(ne),le=ee.c,le.join(re)!==ue.c.join(re)))for(he=ne.replace(_colorExp,"1").split(_numWithUnitExp),pe=he.length-1;oe<pe;oe++)re+=he[oe]+(~le.indexOf(oe)?ie.shift()||ae+"0,0,0,0)":(ue.length?ue:ie.length?ie:ee).shift());if(!he)for(he=ne.split(_colorExp),pe=he.length-1;oe<pe;oe++)re+=he[oe]+ie[oe];return re+he[pe]},_colorExp=function(){var se="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",ne;for(ne in _colorLookup)se+="|"+ne+"\\b";return new RegExp(se+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function(ne){var te=ne.join(" "),ee;if(_colorExp.lastIndex=0,_colorExp.test(te))return ee=_hslExp.test(te),ne[1]=_formatColors(ne[1],ee),ne[0]=_formatColors(ne[0],ee,_colorOrderData(ne[1])),!0},_tickerActive,_ticker=function(){var se=Date.now,ne=500,te=33,ee=se(),re=ee,ie=1e3/240,ae=ie,oe=[],le,he,ue,pe,ce,fe,me=function de(ve){var ge=se()-re,xe=ve===!0,_e,ye,we,be;if(ge>ne&&(ee+=ge-te),re+=ge,we=re-ee,_e=we-ae,(_e>0||xe)&&(be=++pe.frame,ce=we-pe.time*1e3,pe.time=we=we/1e3,ae+=_e+(_e>=ie?4:ie-_e),ye=1),xe||(le=he(de)),ye)for(fe=0;fe<oe.length;fe++)oe[fe](we,ce,be,ve)};return pe={time:0,frame:0,tick:function(){me(!0)},deltaRatio:function(ve){return ce/(1e3/(ve||60))},wake:function(){_coreReady&&(!_coreInitted$4&&_windowExists$2()&&(_win$4=_coreInitted$4=window,_doc$4=_win$4.document||{},_globals.gsap=gsap$4,(_win$4.gsapVersions||(_win$4.gsapVersions=[])).push(gsap$4.version),_install(_installScope||_win$4.GreenSockGlobals||!_win$4.gsap&&_win$4||{}),ue=_win$4.requestAnimationFrame),le&&pe.sleep(),he=ue||function(ve){return setTimeout(ve,ae-pe.time*1e3+1|0)},_tickerActive=1,me(2))},sleep:function(){(ue?_win$4.cancelAnimationFrame:clearTimeout)(le),_tickerActive=0,he=_emptyFunc},lagSmoothing:function(ve,ge){ne=ve||1/0,te=Math.min(ge||33,ne)},fps:function(ve){ie=1e3/(ve||240),ae=pe.time*1e3+ie},add:function(ve,ge,xe){var _e=ge?function(ye,we,be,Se){ve(ye,we,be,Se),pe.remove(_e)}:ve;return pe.remove(ve),oe[xe?"unshift":"push"](_e),_wake(),_e},remove:function(ve,ge){~(ge=oe.indexOf(ve))&&oe.splice(ge,1)&&fe>=ge&&fe--},_listeners:oe},pe}(),_wake=function(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function(ne){for(var te={},ee=ne.substr(1,ne.length-3).split(":"),re=ee[0],ie=1,ae=ee.length,oe,le,he;ie<ae;ie++)le=ee[ie],oe=ie!==ae-1?le.lastIndexOf(","):le.length,he=le.substr(0,oe),te[re]=isNaN(he)?he.replace(_quotesExp,"").trim():+he,re=le.substr(oe+1).trim();return te},_valueInParentheses=function(ne){var te=ne.indexOf("(")+1,ee=ne.indexOf(")"),re=ne.indexOf("(",te);return ne.substring(te,~re&&re<ee?ne.indexOf(")",ee+1):ee)},_configEaseFromString=function(ne){var te=(ne+"").split("("),ee=_easeMap[te[0]];return ee&&te.length>1&&ee.config?ee.config.apply(null,~ne.indexOf("{")?[_parseObjectInString(te[1])]:_valueInParentheses(ne).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(ne)?_easeMap._CE("",ne):ee},_invertEase=function(ne){return function(te){return 1-ne(1-te)}},_propagateYoyoEase=function se(ne,te){for(var ee=ne._first,re;ee;)ee instanceof Timeline?se(ee,te):ee.vars.yoyoEase&&(!ee._yoyo||!ee._repeat)&&ee._yoyo!==te&&(ee.timeline?se(ee.timeline,te):(re=ee._ease,ee._ease=ee._yEase,ee._yEase=re,ee._yoyo=te)),ee=ee._next},_parseEase=function(ne,te){return ne&&(_isFunction$1(ne)?ne:_easeMap[ne]||_configEaseFromString(ne))||te},_insertEase=function(ne,te,ee,re){ee===void 0&&(ee=function(le){return 1-te(1-le)}),re===void 0&&(re=function(le){return le<.5?te(le*2)/2:1-te((1-le)*2)/2});var ie={easeIn:te,easeOut:ee,easeInOut:re},ae;return _forEachName(ne,function(oe){_easeMap[oe]=_globals[oe]=ie,_easeMap[ae=oe.toLowerCase()]=ee;for(var le in ie)_easeMap[ae+(le==="easeIn"?".in":le==="easeOut"?".out":".inOut")]=_easeMap[oe+"."+le]=ie[le]}),ie},_easeInOutFromOut=function(ne){return function(te){return te<.5?(1-ne(1-te*2))/2:.5+ne((te-.5)*2)/2}},_configElastic=function se(ne,te,ee){var re=te>=1?te:1,ie=(ee||(ne?.3:.45))/(te<1?te:1),ae=ie/_2PI*(Math.asin(1/re)||0),oe=function(ue){return ue===1?1:re*Math.pow(2,-10*ue)*_sin((ue-ae)*ie)+1},le=ne==="out"?oe:ne==="in"?function(he){return 1-oe(1-he)}:_easeInOutFromOut(oe);return ie=_2PI/ie,le.config=function(he,ue){return se(ne,he,ue)},le},_configBack=function se(ne,te){te===void 0&&(te=1.70158);var ee=function(ae){return ae?--ae*ae*((te+1)*ae+te)+1:0},re=ne==="out"?ee:ne==="in"?function(ie){return 1-ee(1-ie)}:_easeInOutFromOut(ee);return re.config=function(ie){return se(ne,ie)},re};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(se,ne){var te=ne<5?ne+1:ne;_insertEase(se+",Power"+(te-1),ne?function(ee){return Math.pow(ee,te)}:function(ee){return ee},function(ee){return 1-Math.pow(1-ee,te)},function(ee){return ee<.5?Math.pow(ee*2,te)/2:1-Math.pow((1-ee)*2,te)/2})}),_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn,_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic()),function(se,ne){var te=1/ne,ee=2*te,re=2.5*te,ie=function(oe){return oe<te?se*oe*oe:oe<ee?se*Math.pow(oe-1.5/ne,2)+.75:oe<re?se*(oe-=2.25/ne)*oe+.9375:se*Math.pow(oe-2.625/ne,2)+.984375};_insertEase("Bounce",function(ae){return 1-ie(1-ae)},ie)}(7.5625,2.75),_insertEase("Expo",function(se){return se?Math.pow(2,10*(se-1)):0}),_insertEase("Circ",function(se){return-(_sqrt(1-se*se)-1)}),_insertEase("Sine",function(se){return se===1?1:-_cos(se*_HALF_PI)+1}),_insertEase("Back",_configBack("in"),_configBack("out"),_configBack()),_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function(ne,te){ne===void 0&&(ne=1);var ee=1/ne,re=ne+(te?0:1),ie=te?1:0,ae=1-_tinyNum;return function(oe){return((re*_clamp$1(0,ae,oe)|0)+ie)*ee}}},_defaults$1.ease=_easeMap["quad.out"],_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(se){return _callbackNames+=se+","+se+"Params,"});var GSCache=function(ne,te){this.id=_gsID++,ne._gsap=this,this.target=ne,this.harness=te,this.get=te?te.get:_getProperty,this.set=te?te.getSetter:_getSetter},Animation=function(){function se(te){this.vars=te,this._delay=+te.delay||0,(this._repeat=te.repeat===1/0?-2:te.repeat||0)&&(this._rDelay=te.repeatDelay||0,this._yoyo=!!te.yoyo||!!te.yoyoEase),this._ts=1,_setDuration(this,+te.duration,1,1),this.data=te.data,_context$3&&(this._ctx=_context$3,_context$3.data.push(this)),_tickerActive||_ticker.wake()}var ne=se.prototype;return ne.delay=function(ee){return ee||ee===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+ee-this._delay),this._delay=ee,this):this._delay},ne.duration=function(ee){return arguments.length?this.totalDuration(this._repeat>0?ee+(ee+this._rDelay)*this._repeat:ee):this.totalDuration()&&this._dur},ne.totalDuration=function(ee){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?ee:(ee-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},ne.totalTime=function(ee,re){if(_wake(),!arguments.length)return this._tTime;var ie=this._dp;if(ie&&ie.smoothChildTiming&&this._ts){for(_alignPlayhead(this,ee),!ie._dp||ie.parent||_postAddChecks(ie,this);ie&&ie.parent;)ie.parent._time!==ie._start+(ie._ts>=0?ie._tTime/ie._ts:(ie.totalDuration()-ie._tTime)/-ie._ts)&&ie.totalTime(ie._tTime,!0),ie=ie.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&ee<this._tDur||this._ts<0&&ee>0||!this._tDur&&!ee)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==ee||!this._dur&&!re||this._initted&&Math.abs(this._zTime)===_tinyNum||!ee&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=ee),_lazySafeRender(this,ee,re)),this},ne.time=function(ee,re){return arguments.length?this.totalTime(Math.min(this.totalDuration(),ee+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(ee?this._dur:0),re):this._time},ne.totalProgress=function(ee,re){return arguments.length?this.totalTime(this.totalDuration()*ee,re):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},ne.progress=function(ee,re){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-ee:ee)+_elapsedCycleDuration(this),re):this.duration()?Math.min(1,this._time/this._dur):this.ratio},ne.iteration=function(ee,re){var ie=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(ee-1)*ie,re):this._repeat?_animationCycle(this._tTime,ie)+1:1},ne.timeScale=function(ee){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===ee)return this;var re=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+ee||0,this._ts=this._ps||ee===-_tinyNum?0:this._rts,this.totalTime(_clamp$1(-this._delay,this._tDur,re),!0),_setEnd(this),_recacheAncestors(this)},ne.paused=function(ee){return arguments.length?(this._ps!==ee&&(this._ps=ee,ee?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},ne.startTime=function(ee){if(arguments.length){this._start=ee;var re=this.parent||this._dp;return re&&(re._sort||!this.parent)&&_addToTimeline(re,this,ee-this._delay),this}return this._start},ne.endTime=function(ee){return this._start+(_isNotFalse(ee)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},ne.rawTime=function(ee){var re=this.parent||this._dp;return re?ee&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(re.rawTime(ee),this):this._tTime:this._tTime},ne.revert=function(ee){ee===void 0&&(ee=_revertConfig);var re=_reverting$1;return _reverting$1=ee,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(ee),this.totalTime(-.01,ee.suppressEvents)),this.data!=="nested"&&ee.kill!==!1&&this.kill(),_reverting$1=re,this},ne.globalTime=function(ee){for(var re=this,ie=arguments.length?ee:re.rawTime();re;)ie=re._start+ie/(re._ts||1),re=re._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(ee):ie},ne.repeat=function(ee){return arguments.length?(this._repeat=ee===1/0?-2:ee,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},ne.repeatDelay=function(ee){if(arguments.length){var re=this._time;return this._rDelay=ee,_onUpdateTotalDuration(this),re?this.time(re):this}return this._rDelay},ne.yoyo=function(ee){return arguments.length?(this._yoyo=ee,this):this._yoyo},ne.seek=function(ee,re){return this.totalTime(_parsePosition$1(this,ee),_isNotFalse(re))},ne.restart=function(ee,re){return this.play().totalTime(ee?-this._delay:0,_isNotFalse(re))},ne.play=function(ee,re){return ee!=null&&this.seek(ee,re),this.reversed(!1).paused(!1)},ne.reverse=function(ee,re){return ee!=null&&this.seek(ee||this.totalDuration(),re),this.reversed(!0).paused(!1)},ne.pause=function(ee,re){return ee!=null&&this.seek(ee,re),this.paused(!0)},ne.resume=function(){return this.paused(!1)},ne.reversed=function(ee){return arguments.length?(!!ee!==this.reversed()&&this.timeScale(-this._rts||(ee?-_tinyNum:0)),this):this._rts<0},ne.invalidate=function(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},ne.isActive=function(){var ee=this.parent||this._dp,re=this._start,ie;return!!(!ee||this._ts&&this._initted&&ee.isActive()&&(ie=ee.rawTime(!0))>=re&&ie<this.endTime(!0)-_tinyNum)},ne.eventCallback=function(ee,re,ie){var ae=this.vars;return arguments.length>1?(re?(ae[ee]=re,ie&&(ae[ee+"Params"]=ie),ee==="onUpdate"&&(this._onUpdate=re)):delete ae[ee],this):ae[ee]},ne.then=function(ee){var re=this;return new Promise(function(ie){var ae=_isFunction$1(ee)?ee:_passThrough$1,oe=function(){var he=re.then;re.then=null,_isFunction$1(ae)&&(ae=ae(re))&&(ae.then||ae===re)&&(re.then=he),ie(ae),re.then=he};re._initted&&re.totalProgress()===1&&re._ts>=0||!re._tTime&&re._ts<0?oe():re._prom=oe})},ne.kill=function(){_interrupt(this)},se}();_setDefaults$1(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});var Timeline=function(se){_inheritsLoose(ne,se);function ne(ee,re){var ie;return ee===void 0&&(ee={}),ie=se.call(this,ee)||this,ie.labels={},ie.smoothChildTiming=!!ee.smoothChildTiming,ie.autoRemoveChildren=!!ee.autoRemoveChildren,ie._sort=_isNotFalse(ee.sortChildren),_globalTimeline&&_addToTimeline(ee.parent||_globalTimeline,_assertThisInitialized(ie),re),ee.reversed&&ie.reverse(),ee.paused&&ie.paused(!0),ee.scrollTrigger&&_scrollTrigger(_assertThisInitialized(ie),ee.scrollTrigger),ie}var te=ne.prototype;return te.to=function(re,ie,ae){return _createTweenType(0,arguments,this),this},te.from=function(re,ie,ae){return _createTweenType(1,arguments,this),this},te.fromTo=function(re,ie,ae,oe){return _createTweenType(2,arguments,this),this},te.set=function(re,ie,ae){return ie.duration=0,ie.parent=this,_inheritDefaults(ie).repeatDelay||(ie.repeat=0),ie.immediateRender=!!ie.immediateRender,new Tween(re,ie,_parsePosition$1(this,ae),1),this},te.call=function(re,ie,ae){return _addToTimeline(this,Tween.delayedCall(0,re,ie),ae)},te.staggerTo=function(re,ie,ae,oe,le,he,ue){return ae.duration=ie,ae.stagger=ae.stagger||oe,ae.onComplete=he,ae.onCompleteParams=ue,ae.parent=this,new Tween(re,ae,_parsePosition$1(this,le)),this},te.staggerFrom=function(re,ie,ae,oe,le,he,ue){return ae.runBackwards=1,_inheritDefaults(ae).immediateRender=_isNotFalse(ae.immediateRender),this.staggerTo(re,ie,ae,oe,le,he,ue)},te.staggerFromTo=function(re,ie,ae,oe,le,he,ue,pe){return oe.startAt=ae,_inheritDefaults(oe).immediateRender=_isNotFalse(oe.immediateRender),this.staggerTo(re,ie,oe,le,he,ue,pe)},te.render=function(re,ie,ae){var oe=this._time,le=this._dirty?this.totalDuration():this._tDur,he=this._dur,ue=re<=0?0:_roundPrecise(re),pe=this._zTime<0!=re<0&&(this._initted||!he),ce,fe,me,de,ve,ge,xe,_e,ye,we,be,Se;if(this!==_globalTimeline&&ue>le&&re>=0&&(ue=le),ue!==this._tTime||ae||pe){if(oe!==this._time&&he&&(ue+=this._time-oe,re+=this._time-oe),ce=ue,ye=this._start,_e=this._ts,ge=!_e,pe&&(he||(oe=this._zTime),(re||!ie)&&(this._zTime=re)),this._repeat){if(be=this._yoyo,ve=he+this._rDelay,this._repeat<-1&&re<0)return this.totalTime(ve*100+re,ie,ae);if(ce=_roundPrecise(ue%ve),ue===le?(de=this._repeat,ce=he):(de=~~(ue/ve),de&&de===ue/ve&&(ce=he,de--),ce>he&&(ce=he)),we=_animationCycle(this._tTime,ve),!oe&&this._tTime&&we!==de&&(we=de),be&&de&1&&(ce=he-ce,Se=1),de!==we&&!this._lock){var Ce=be&&we&1,Te=Ce===(be&&de&1);if(de<we&&(Ce=!Ce),oe=Ce?0:he,this._lock=1,this.render(oe||(Se?0:_roundPrecise(de*ve)),ie,!he)._lock=0,this._tTime=ue,!ie&&this.parent&&_callback$1(this,"onRepeat"),this.vars.repeatRefresh&&!Se&&(this.invalidate()._lock=1),oe&&oe!==this._time||ge!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(he=this._dur,le=this._tDur,Te&&(this._lock=2,oe=Ce?he:-1e-4,this.render(oe,!0),this.vars.repeatRefresh&&!Se&&this.invalidate()),this._lock=0,!this._ts&&!ge)return this;_propagateYoyoEase(this,Se)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(xe=_findNextPauseTween(this,_roundPrecise(oe),_roundPrecise(ce)),xe&&(ue-=ce-(ce=xe._start))),this._tTime=ue,this._time=ce,this._act=!_e,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=re,oe=0),!oe&&ce&&!ie&&(_callback$1(this,"onStart"),this._tTime!==ue))return this;if(ce>=oe&&re>=0)for(fe=this._first;fe;){if(me=fe._next,(fe._act||ce>=fe._start)&&fe._ts&&xe!==fe){if(fe.parent!==this)return this.render(re,ie,ae);if(fe.render(fe._ts>0?(ce-fe._start)*fe._ts:(fe._dirty?fe.totalDuration():fe._tDur)+(ce-fe._start)*fe._ts,ie,ae),ce!==this._time||!this._ts&&!ge){xe=0,me&&(ue+=this._zTime=-_tinyNum);break}}fe=me}else{fe=this._last;for(var De=re<0?re:ce;fe;){if(me=fe._prev,(fe._act||De<=fe._end)&&fe._ts&&xe!==fe){if(fe.parent!==this)return this.render(re,ie,ae);if(fe.render(fe._ts>0?(De-fe._start)*fe._ts:(fe._dirty?fe.totalDuration():fe._tDur)+(De-fe._start)*fe._ts,ie,ae||_reverting$1&&(fe._initted||fe._startAt)),ce!==this._time||!this._ts&&!ge){xe=0,me&&(ue+=this._zTime=De?-_tinyNum:_tinyNum);break}}fe=me}}if(xe&&!ie&&(this.pause(),xe.render(ce>=oe?0:-_tinyNum)._zTime=ce>=oe?1:-1,this._ts))return this._start=ye,_setEnd(this),this.render(re,ie,ae);this._onUpdate&&!ie&&_callback$1(this,"onUpdate",!0),(ue===le&&this._tTime>=this.totalDuration()||!ue&&oe)&&(ye===this._start||Math.abs(_e)!==Math.abs(this._ts))&&(this._lock||((re||!he)&&(ue===le&&this._ts>0||!ue&&this._ts<0)&&_removeFromParent(this,1),!ie&&!(re<0&&!oe)&&(ue||oe||!le)&&(_callback$1(this,ue===le&&re>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(ue<le&&this.timeScale()>0)&&this._prom())))}return this},te.add=function(re,ie){var ae=this;if(_isNumber$1(ie)||(ie=_parsePosition$1(this,ie,re)),!(re instanceof Animation)){if(_isArray(re))return re.forEach(function(oe){return ae.add(oe,ie)}),this;if(_isString$1(re))return this.addLabel(re,ie);if(_isFunction$1(re))re=Tween.delayedCall(0,re);else return this}return this!==re?_addToTimeline(this,re,ie):this},te.getChildren=function(re,ie,ae,oe){re===void 0&&(re=!0),ie===void 0&&(ie=!0),ae===void 0&&(ae=!0),oe===void 0&&(oe=-_bigNum$1);for(var le=[],he=this._first;he;)he._start>=oe&&(he instanceof Tween?ie&&le.push(he):(ae&&le.push(he),re&&le.push.apply(le,he.getChildren(!0,ie,ae)))),he=he._next;return le},te.getById=function(re){for(var ie=this.getChildren(1,1,1),ae=ie.length;ae--;)if(ie[ae].vars.id===re)return ie[ae]},te.remove=function(re){return _isString$1(re)?this.removeLabel(re):_isFunction$1(re)?this.killTweensOf(re):(_removeLinkedListItem(this,re),re===this._recent&&(this._recent=this._last),_uncache(this))},te.totalTime=function(re,ie){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?re/this._ts:(this.totalDuration()-re)/-this._ts))),se.prototype.totalTime.call(this,re,ie),this._forcing=0,this):this._tTime},te.addLabel=function(re,ie){return this.labels[re]=_parsePosition$1(this,ie),this},te.removeLabel=function(re){return delete this.labels[re],this},te.addPause=function(re,ie,ae){var oe=Tween.delayedCall(0,ie||_emptyFunc,ae);return oe.data="isPause",this._hasPause=1,_addToTimeline(this,oe,_parsePosition$1(this,re))},te.removePause=function(re){var ie=this._first;for(re=_parsePosition$1(this,re);ie;)ie._start===re&&ie.data==="isPause"&&_removeFromParent(ie),ie=ie._next},te.killTweensOf=function(re,ie,ae){for(var oe=this.getTweensOf(re,ae),le=oe.length;le--;)_overwritingTween!==oe[le]&&oe[le].kill(re,ie);return this},te.getTweensOf=function(re,ie){for(var ae=[],oe=toArray(re),le=this._first,he=_isNumber$1(ie),ue;le;)le instanceof Tween?_arrayContainsAny(le._targets,oe)&&(he?(!_overwritingTween||le._initted&&le._ts)&&le.globalTime(0)<=ie&&le.globalTime(le.totalDuration())>ie:!ie||le.isActive())&&ae.push(le):(ue=le.getTweensOf(oe,ie)).length&&ae.push.apply(ae,ue),le=le._next;return ae},te.tweenTo=function(re,ie){ie=ie||{};var ae=this,oe=_parsePosition$1(ae,re),le=ie,he=le.startAt,ue=le.onStart,pe=le.onStartParams,ce=le.immediateRender,fe,me=Tween.to(ae,_setDefaults$1({ease:ie.ease||"none",lazy:!1,immediateRender:!1,time:oe,overwrite:"auto",duration:ie.duration||Math.abs((oe-(he&&"time"in he?he.time:ae._time))/ae.timeScale())||_tinyNum,onStart:function(){if(ae.pause(),!fe){var ve=ie.duration||Math.abs((oe-(he&&"time"in he?he.time:ae._time))/ae.timeScale());me._dur!==ve&&_setDuration(me,ve,0,1).render(me._time,!0,!0),fe=1}ue&&ue.apply(me,pe||[])}},ie));return ce?me.render(0):me},te.tweenFromTo=function(re,ie,ae){return this.tweenTo(ie,_setDefaults$1({startAt:{time:_parsePosition$1(this,re)}},ae))},te.recent=function(){return this._recent},te.nextLabel=function(re){return re===void 0&&(re=this._time),_getLabelInDirection(this,_parsePosition$1(this,re))},te.previousLabel=function(re){return re===void 0&&(re=this._time),_getLabelInDirection(this,_parsePosition$1(this,re),1)},te.currentLabel=function(re){return arguments.length?this.seek(re,!0):this.previousLabel(this._time+_tinyNum)},te.shiftChildren=function(re,ie,ae){ae===void 0&&(ae=0);for(var oe=this._first,le=this.labels,he;oe;)oe._start>=ae&&(oe._start+=re,oe._end+=re),oe=oe._next;if(ie)for(he in le)le[he]>=ae&&(le[he]+=re);return _uncache(this)},te.invalidate=function(re){var ie=this._first;for(this._lock=0;ie;)ie.invalidate(re),ie=ie._next;return se.prototype.invalidate.call(this,re)},te.clear=function(re){re===void 0&&(re=!0);for(var ie=this._first,ae;ie;)ae=ie._next,this.remove(ie),ie=ae;return this._dp&&(this._time=this._tTime=this._pTime=0),re&&(this.labels={}),_uncache(this)},te.totalDuration=function(re){var ie=0,ae=this,oe=ae._last,le=_bigNum$1,he,ue,pe;if(arguments.length)return ae.timeScale((ae._repeat<0?ae.duration():ae.totalDuration())/(ae.reversed()?-re:re));if(ae._dirty){for(pe=ae.parent;oe;)he=oe._prev,oe._dirty&&oe.totalDuration(),ue=oe._start,ue>le&&ae._sort&&oe._ts&&!ae._lock?(ae._lock=1,_addToTimeline(ae,oe,ue-oe._delay,1)._lock=0):le=ue,ue<0&&oe._ts&&(ie-=ue,(!pe&&!ae._dp||pe&&pe.smoothChildTiming)&&(ae._start+=ue/ae._ts,ae._time-=ue,ae._tTime-=ue),ae.shiftChildren(-ue,!1,-1/0),le=0),oe._end>ie&&oe._ts&&(ie=oe._end),oe=he;_setDuration(ae,ae===_globalTimeline&&ae._time>ie?ae._time:ie,1,1),ae._dirty=0}return ae._tDur},ne.updateRoot=function(re){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(re,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var ie=_globalTimeline._first;if((!ie||!ie._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;ie&&!ie._ts;)ie=ie._next;ie||_ticker.sleep()}}},ne}(Animation);_setDefaults$1(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function(ne,te,ee,re,ie,ae,oe){var le=new PropTween(this._pt,ne,te,0,1,_renderComplexString,null,ie),he=0,ue=0,pe,ce,fe,me,de,ve,ge,xe;for(le.b=ee,le.e=re,ee+="",re+="",(ge=~re.indexOf("random("))&&(re=_replaceRandom(re)),ae&&(xe=[ee,re],ae(xe,ne,te),ee=xe[0],re=xe[1]),ce=ee.match(_complexStringNumExp)||[];pe=_complexStringNumExp.exec(re);)me=pe[0],de=re.substring(he,pe.index),fe?fe=(fe+1)%5:de.substr(-5)==="rgba("&&(fe=1),me!==ce[ue++]&&(ve=parseFloat(ce[ue-1])||0,le._pt={_next:le._pt,p:de||ue===1?de:",",s:ve,c:me.charAt(1)==="="?_parseRelative(ve,me)-ve:parseFloat(me)-ve,m:fe&&fe<4?Math.round:0},he=_complexStringNumExp.lastIndex);return le.c=he<re.length?re.substring(he,re.length):"",le.fp=oe,(_relExp.test(re)||ge)&&(le.e=0),this._pt=le,le},_addPropTween=function(ne,te,ee,re,ie,ae,oe,le,he,ue){_isFunction$1(re)&&(re=re(ie||0,ne,ae));var pe=ne[te],ce=ee!=="get"?ee:_isFunction$1(pe)?he?ne[te.indexOf("set")||!_isFunction$1(ne["get"+te.substr(3)])?te:"get"+te.substr(3)](he):ne[te]():pe,fe=_isFunction$1(pe)?he?_setterFuncWithParam:_setterFunc:_setterPlain,me;if(_isString$1(re)&&(~re.indexOf("random(")&&(re=_replaceRandom(re)),re.charAt(1)==="="&&(me=_parseRelative(ce,re)+(getUnit(ce)||0),(me||me===0)&&(re=me))),!ue||ce!==re||_forceAllPropTweens)return!isNaN(ce*re)&&re!==""?(me=new PropTween(this._pt,ne,te,+ce||0,re-(ce||0),typeof pe=="boolean"?_renderBoolean:_renderPlain,0,fe),he&&(me.fp=he),oe&&me.modifier(oe,this,ne),this._pt=me):(!pe&&!(te in ne)&&_missingPlugin(te,re),_addComplexStringPropTween.call(this,ne,te,ce,re,fe,le||_config.stringFilter,he))},_processVars=function(ne,te,ee,re,ie){if(_isFunction$1(ne)&&(ne=_parseFuncOrString(ne,ie,te,ee,re)),!_isObject$1(ne)||ne.style&&ne.nodeType||_isArray(ne)||_isTypedArray(ne))return _isString$1(ne)?_parseFuncOrString(ne,ie,te,ee,re):ne;var ae={},oe;for(oe in ne)ae[oe]=_parseFuncOrString(ne[oe],ie,te,ee,re);return ae},_checkPlugin=function(ne,te,ee,re,ie,ae){var oe,le,he,ue;if(_plugins[ne]&&(oe=new _plugins[ne]).init(ie,oe.rawVars?te[ne]:_processVars(te[ne],re,ie,ae,ee),ee,re,ae)!==!1&&(ee._pt=le=new PropTween(ee._pt,ie,ne,0,1,oe.render,oe,0,oe.priority),ee!==_quickTween))for(he=ee._ptLookup[ee._targets.indexOf(ie)],ue=oe._props.length;ue--;)he[oe._props[ue]]=le;return oe},_overwritingTween,_forceAllPropTweens,_initTween=function se(ne,te,ee){var re=ne.vars,ie=re.ease,ae=re.startAt,oe=re.immediateRender,le=re.lazy,he=re.onUpdate,ue=re.onUpdateParams,pe=re.callbackScope,ce=re.runBackwards,fe=re.yoyoEase,me=re.keyframes,de=re.autoRevert,ve=ne._dur,ge=ne._startAt,xe=ne._targets,_e=ne.parent,ye=_e&&_e.data==="nested"?_e.vars.targets:xe,we=ne._overwrite==="auto"&&!_suppressOverwrites$1,be=ne.timeline,Se,Ce,Te,De,Fe,Le,Ie,Oe,ke,Pe,Me,Ee,Ae;if(be&&(!me||!ie)&&(ie="none"),ne._ease=_parseEase(ie,_defaults$1.ease),ne._yEase=fe?_invertEase(_parseEase(fe===!0?ie:fe,_defaults$1.ease)):0,fe&&ne._yoyo&&!ne._repeat&&(fe=ne._yEase,ne._yEase=ne._ease,ne._ease=fe),ne._from=!be&&!!re.runBackwards,!be||me&&!re.stagger){if(Oe=xe[0]?_getCache(xe[0]).harness:0,Ee=Oe&&re[Oe.prop],Se=_copyExcluding(re,_reservedProps),ge&&(ge._zTime<0&&ge.progress(1),te<0&&ce&&oe&&!de?ge.render(-1,!0):ge.revert(ce&&ve?_revertConfigNoKill:_startAtRevertConfig),ge._lazy=0),ae){if(_removeFromParent(ne._startAt=Tween.set(xe,_setDefaults$1({data:"isStart",overwrite:!1,parent:_e,immediateRender:!0,lazy:!ge&&_isNotFalse(le),startAt:null,delay:0,onUpdate:he,onUpdateParams:ue,callbackScope:pe,stagger:0},ae))),ne._startAt._dp=0,ne._startAt._sat=ne,te<0&&(_reverting$1||!oe&&!de)&&ne._startAt.revert(_revertConfigNoKill),oe&&ve&&te<=0&&ee<=0){te&&(ne._zTime=te);return}}else if(ce&&ve&&!ge){if(te&&(oe=!1),Te=_setDefaults$1({overwrite:!1,data:"isFromStart",lazy:oe&&!ge&&_isNotFalse(le),immediateRender:oe,stagger:0,parent:_e},Se),Ee&&(Te[Oe.prop]=Ee),_removeFromParent(ne._startAt=Tween.set(xe,Te)),ne._startAt._dp=0,ne._startAt._sat=ne,te<0&&(_reverting$1?ne._startAt.revert(_revertConfigNoKill):ne._startAt.render(-1,!0)),ne._zTime=te,!oe)se(ne._startAt,_tinyNum,_tinyNum);else if(!te)return}for(ne._pt=ne._ptCache=0,le=ve&&_isNotFalse(le)||le&&!ve,Ce=0;Ce<xe.length;Ce++){if(Fe=xe[Ce],Ie=Fe._gsap||_harness(xe)[Ce]._gsap,ne._ptLookup[Ce]=Pe={},_lazyLookup[Ie.id]&&_lazyTweens.length&&_lazyRender(),Me=ye===xe?Ce:ye.indexOf(Fe),Oe&&(ke=new Oe).init(Fe,Ee||Se,ne,Me,ye)!==!1&&(ne._pt=De=new PropTween(ne._pt,Fe,ke.name,0,1,ke.render,ke,0,ke.priority),ke._props.forEach(function(Re){Pe[Re]=De}),ke.priority&&(Le=1)),!Oe||Ee)for(Te in Se)_plugins[Te]&&(ke=_checkPlugin(Te,Se,ne,Me,Fe,ye))?ke.priority&&(Le=1):Pe[Te]=De=_addPropTween.call(ne,Fe,Te,"get",Se[Te],Me,ye,0,re.stringFilter);ne._op&&ne._op[Ce]&&ne.kill(Fe,ne._op[Ce]),we&&ne._pt&&(_overwritingTween=ne,_globalTimeline.killTweensOf(Fe,Pe,ne.globalTime(te)),Ae=!ne.parent,_overwritingTween=0),ne._pt&&le&&(_lazyLookup[Ie.id]=1)}Le&&_sortPropTweensByPriority(ne),ne._onInit&&ne._onInit(ne)}ne._onUpdate=he,ne._initted=(!ne._op||ne._pt)&&!Ae,me&&te<=0&&be.render(_bigNum$1,!0,!0)},_updatePropTweens=function(ne,te,ee,re,ie,ae,oe){var le=(ne._pt&&ne._ptCache||(ne._ptCache={}))[te],he,ue,pe,ce;if(!le)for(le=ne._ptCache[te]=[],pe=ne._ptLookup,ce=ne._targets.length;ce--;){if(he=pe[ce][te],he&&he.d&&he.d._pt)for(he=he.d._pt;he&&he.p!==te&&he.fp!==te;)he=he._next;if(!he)return _forceAllPropTweens=1,ne.vars[te]="+=0",_initTween(ne,oe),_forceAllPropTweens=0,1;le.push(he)}for(ce=le.length;ce--;)ue=le[ce],he=ue._pt||ue,he.s=(re||re===0)&&!ie?re:he.s+(re||0)+ae*he.c,he.c=ee-he.s,ue.e&&(ue.e=_round$1(ee)+getUnit(ue.e)),ue.b&&(ue.b=he.s+getUnit(ue.b))},_addAliasesToVars=function(ne,te){var ee=ne[0]?_getCache(ne[0]).harness:0,re=ee&&ee.aliases,ie,ae,oe,le;if(!re)return te;ie=_merge({},te);for(ae in re)if(ae in ie)for(le=re[ae].split(","),oe=le.length;oe--;)ie[le[oe]]=ie[ae];return ie},_parseKeyframe=function(ne,te,ee,re){var ie=te.ease||re||"power1.inOut",ae,oe;if(_isArray(te))oe=ee[ne]||(ee[ne]=[]),te.forEach(function(le,he){return oe.push({t:he/(te.length-1)*100,v:le,e:ie})});else for(ae in te)oe=ee[ae]||(ee[ae]=[]),ae==="ease"||oe.push({t:parseFloat(ne),v:te[ae],e:ie})},_parseFuncOrString=function(ne,te,ee,re,ie){return _isFunction$1(ne)?ne.call(te,ee,re,ie):_isString$1(ne)&&~ne.indexOf("random(")?_replaceRandom(ne):ne},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(se){return _staggerPropsToSkip[se]=1});var Tween=function(se){_inheritsLoose(ne,se);function ne(ee,re,ie,ae){var oe;typeof re=="number"&&(ie.duration=re,re=ie,ie=null),oe=se.call(this,ae?re:_inheritDefaults(re))||this;var le=oe.vars,he=le.duration,ue=le.delay,pe=le.immediateRender,ce=le.stagger,fe=le.overwrite,me=le.keyframes,de=le.defaults,ve=le.scrollTrigger,ge=le.yoyoEase,xe=re.parent||_globalTimeline,_e=(_isArray(ee)||_isTypedArray(ee)?_isNumber$1(ee[0]):"length"in re)?[ee]:toArray(ee),ye,we,be,Se,Ce,Te,De,Fe;if(oe._targets=_e.length?_harness(_e):_warn("GSAP target "+ee+" not found. https://greensock.com",!_config.nullTargetWarn)||[],oe._ptLookup=[],oe._overwrite=fe,me||ce||_isFuncOrString(he)||_isFuncOrString(ue)){if(re=oe.vars,ye=oe.timeline=new Timeline({data:"nested",defaults:de||{},targets:xe&&xe.data==="nested"?xe.vars.targets:_e}),ye.kill(),ye.parent=ye._dp=_assertThisInitialized(oe),ye._start=0,ce||_isFuncOrString(he)||_isFuncOrString(ue)){if(Se=_e.length,De=ce&&distribute(ce),_isObject$1(ce))for(Ce in ce)~_staggerTweenProps.indexOf(Ce)&&(Fe||(Fe={}),Fe[Ce]=ce[Ce]);for(we=0;we<Se;we++)be=_copyExcluding(re,_staggerPropsToSkip),be.stagger=0,ge&&(be.yoyoEase=ge),Fe&&_merge(be,Fe),Te=_e[we],be.duration=+_parseFuncOrString(he,_assertThisInitialized(oe),we,Te,_e),be.delay=(+_parseFuncOrString(ue,_assertThisInitialized(oe),we,Te,_e)||0)-oe._delay,!ce&&Se===1&&be.delay&&(oe._delay=ue=be.delay,oe._start+=ue,be.delay=0),ye.to(Te,be,De?De(we,Te,_e):0),ye._ease=_easeMap.none;ye.duration()?he=ue=0:oe.timeline=0}else if(me){_inheritDefaults(_setDefaults$1(ye.vars.defaults,{ease:"none"})),ye._ease=_parseEase(me.ease||re.ease||"none");var Le=0,Ie,Oe,ke;if(_isArray(me))me.forEach(function(Pe){return ye.to(_e,Pe,">")}),ye.duration();else{be={};for(Ce in me)Ce==="ease"||Ce==="easeEach"||_parseKeyframe(Ce,me[Ce],be,me.easeEach);for(Ce in be)for(Ie=be[Ce].sort(function(Pe,Me){return Pe.t-Me.t}),Le=0,we=0;we<Ie.length;we++)Oe=Ie[we],ke={ease:Oe.e,duration:(Oe.t-(we?Ie[we-1].t:0))/100*he},ke[Ce]=Oe.v,ye.to(_e,ke,Le),Le+=ke.duration;ye.duration()<he&&ye.to({},{duration:he-ye.duration()})}}he||oe.duration(he=ye.duration())}else oe.timeline=0;return fe===!0&&!_suppressOverwrites$1&&(_overwritingTween=_assertThisInitialized(oe),_globalTimeline.killTweensOf(_e),_overwritingTween=0),_addToTimeline(xe,_assertThisInitialized(oe),ie),re.reversed&&oe.reverse(),re.paused&&oe.paused(!0),(pe||!he&&!me&&oe._start===_roundPrecise(xe._time)&&_isNotFalse(pe)&&_hasNoPausedAncestors(_assertThisInitialized(oe))&&xe.data!=="nested")&&(oe._tTime=-_tinyNum,oe.render(Math.max(0,-ue)||0)),ve&&_scrollTrigger(_assertThisInitialized(oe),ve),oe}var te=ne.prototype;return te.render=function(re,ie,ae){var oe=this._time,le=this._tDur,he=this._dur,ue=re<0,pe=re>le-_tinyNum&&!ue?le:re<_tinyNum?0:re,ce,fe,me,de,ve,ge,xe,_e,ye;if(!he)_renderZeroDurationTween(this,re,ie,ae);else if(pe!==this._tTime||!re||ae||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==ue){if(ce=pe,_e=this.timeline,this._repeat){if(de=he+this._rDelay,this._repeat<-1&&ue)return this.totalTime(de*100+re,ie,ae);if(ce=_roundPrecise(pe%de),pe===le?(me=this._repeat,ce=he):(me=~~(pe/de),me&&me===pe/de&&(ce=he,me--),ce>he&&(ce=he)),ge=this._yoyo&&me&1,ge&&(ye=this._yEase,ce=he-ce),ve=_animationCycle(this._tTime,de),ce===oe&&!ae&&this._initted)return this._tTime=pe,this;me!==ve&&(_e&&this._yEase&&_propagateYoyoEase(_e,ge),this.vars.repeatRefresh&&!ge&&!this._lock&&(this._lock=ae=1,this.render(_roundPrecise(de*me),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,ue?re:ce,ae,ie,pe))return this._tTime=0,this;if(oe!==this._time)return this;if(he!==this._dur)return this.render(re,ie,ae)}if(this._tTime=pe,this._time=ce,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=xe=(ye||this._ease)(ce/he),this._from&&(this.ratio=xe=1-xe),ce&&!oe&&!ie&&(_callback$1(this,"onStart"),this._tTime!==pe))return this;for(fe=this._pt;fe;)fe.r(xe,fe.d),fe=fe._next;_e&&_e.render(re<0?re:!ce&&ge?-_tinyNum:_e._dur*_e._ease(ce/this._dur),ie,ae)||this._startAt&&(this._zTime=re),this._onUpdate&&!ie&&(ue&&_rewindStartAt(this,re,ie,ae),_callback$1(this,"onUpdate")),this._repeat&&me!==ve&&this.vars.onRepeat&&!ie&&this.parent&&_callback$1(this,"onRepeat"),(pe===this._tDur||!pe)&&this._tTime===pe&&(ue&&!this._onUpdate&&_rewindStartAt(this,re,!0,!0),(re||!he)&&(pe===this._tDur&&this._ts>0||!pe&&this._ts<0)&&_removeFromParent(this,1),!ie&&!(ue&&!oe)&&(pe||oe||ge)&&(_callback$1(this,pe===le?"onComplete":"onReverseComplete",!0),this._prom&&!(pe<le&&this.timeScale()>0)&&this._prom()))}return this},te.targets=function(){return this._targets},te.invalidate=function(re){return(!re||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(re),se.prototype.invalidate.call(this,re)},te.resetTo=function(re,ie,ae,oe){_tickerActive||_ticker.wake(),this._ts||this.play();var le=Math.min(this._dur,(this._dp._time-this._start)*this._ts),he;return this._initted||_initTween(this,le),he=this._ease(le/this._dur),_updatePropTweens(this,re,ie,ae,oe,he,le)?this.resetTo(re,ie,ae,oe):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},te.kill=function(re,ie){if(ie===void 0&&(ie="all"),!re&&(!ie||ie==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){var ae=this.timeline.totalDuration();return this.timeline.killTweensOf(re,ie,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&ae!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/ae,0,1),this}var oe=this._targets,le=re?toArray(re):oe,he=this._ptLookup,ue=this._pt,pe,ce,fe,me,de,ve,ge;if((!ie||ie==="all")&&_arraysMatch(oe,le))return ie==="all"&&(this._pt=0),_interrupt(this);for(pe=this._op=this._op||[],ie!=="all"&&(_isString$1(ie)&&(de={},_forEachName(ie,function(xe){return de[xe]=1}),ie=de),ie=_addAliasesToVars(oe,ie)),ge=oe.length;ge--;)if(~le.indexOf(oe[ge])){ce=he[ge],ie==="all"?(pe[ge]=ie,me=ce,fe={}):(fe=pe[ge]=pe[ge]||{},me=ie);for(de in me)ve=ce&&ce[de],ve&&((!("kill"in ve.d)||ve.d.kill(de)===!0)&&_removeLinkedListItem(this,ve,"_pt"),delete ce[de]),fe!=="all"&&(fe[de]=1)}return this._initted&&!this._pt&&ue&&_interrupt(this),this},ne.to=function(re,ie){return new ne(re,ie,arguments[2])},ne.from=function(re,ie){return _createTweenType(1,arguments)},ne.delayedCall=function(re,ie,ae,oe){return new ne(ie,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:re,onComplete:ie,onReverseComplete:ie,onCompleteParams:ae,onReverseCompleteParams:ae,callbackScope:oe})},ne.fromTo=function(re,ie,ae){return _createTweenType(2,arguments)},ne.set=function(re,ie){return ie.duration=0,ie.repeatDelay||(ie.repeat=0),new ne(re,ie)},ne.killTweensOf=function(re,ie,ae){return _globalTimeline.killTweensOf(re,ie,ae)},ne}(Animation);_setDefaults$1(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_forEachName("staggerTo,staggerFrom,staggerFromTo",function(se){Tween[se]=function(){var ne=new Timeline,te=_slice.call(arguments,0);return te.splice(se==="staggerFromTo"?5:4,0,0),ne[se].apply(ne,te)}});var _setterPlain=function(ne,te,ee){return ne[te]=ee},_setterFunc=function(ne,te,ee){return ne[te](ee)},_setterFuncWithParam=function(ne,te,ee,re){return ne[te](re.fp,ee)},_setterAttribute=function(ne,te,ee){return ne.setAttribute(te,ee)},_getSetter=function(ne,te){return _isFunction$1(ne[te])?_setterFunc:_isUndefined(ne[te])&&ne.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function(ne,te){return te.set(te.t,te.p,Math.round((te.s+te.c*ne)*1e6)/1e6,te)},_renderBoolean=function(ne,te){return te.set(te.t,te.p,!!(te.s+te.c*ne),te)},_renderComplexString=function(ne,te){var ee=te._pt,re="";if(!ne&&te.b)re=te.b;else if(ne===1&&te.e)re=te.e;else{for(;ee;)re=ee.p+(ee.m?ee.m(ee.s+ee.c*ne):Math.round((ee.s+ee.c*ne)*1e4)/1e4)+re,ee=ee._next;re+=te.c}te.set(te.t,te.p,re,te)},_renderPropTweens=function(ne,te){for(var ee=te._pt;ee;)ee.r(ne,ee.d),ee=ee._next},_addPluginModifier=function(ne,te,ee,re){for(var ie=this._pt,ae;ie;)ae=ie._next,ie.p===re&&ie.modifier(ne,te,ee),ie=ae},_killPropTweensOf=function(ne){for(var te=this._pt,ee,re;te;)re=te._next,te.p===ne&&!te.op||te.op===ne?_removeLinkedListItem(this,te,"_pt"):te.dep||(ee=1),te=re;return!ee},_setterWithModifier=function(ne,te,ee,re){re.mSet(ne,te,re.m.call(re.tween,ee,re.mt),re)},_sortPropTweensByPriority=function(ne){for(var te=ne._pt,ee,re,ie,ae;te;){for(ee=te._next,re=ie;re&&re.pr>te.pr;)re=re._next;(te._prev=re?re._prev:ae)?te._prev._next=te:ie=te,(te._next=re)?re._prev=te:ae=te,te=ee}ne._pt=ie},PropTween=function(){function se(te,ee,re,ie,ae,oe,le,he,ue){this.t=ee,this.s=ie,this.c=ae,this.p=re,this.r=oe||_renderPlain,this.d=le||this,this.set=he||_setterPlain,this.pr=ue||0,this._next=te,te&&(te._prev=this)}var ne=se.prototype;return ne.modifier=function(ee,re,ie){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=ee,this.mt=ie,this.tween=re},se}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(se){return _reservedProps[se]=1}),_globals.TweenMax=_globals.TweenLite=Tween,_globals.TimelineLite=_globals.TimelineMax=Timeline,_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults$1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_config.stringFilter=_colorStringFilter;var _media=[],_listeners$1={},_emptyArray$1=[],_lastMediaTime=0,_dispatch$1=function(ne){return(_listeners$1[ne]||_emptyArray$1).map(function(te){return te()})},_onMediaChange=function(){var ne=Date.now(),te=[];ne-_lastMediaTime>2&&(_dispatch$1("matchMediaInit"),_media.forEach(function(ee){var re=ee.queries,ie=ee.conditions,ae,oe,le,he;for(oe in re)ae=_win$4.matchMedia(re[oe]).matches,ae&&(le=1),ae!==ie[oe]&&(ie[oe]=ae,he=1);he&&(ee.revert(),le&&te.push(ee))}),_dispatch$1("matchMediaRevert"),te.forEach(function(ee){return ee.onMatch(ee)}),_lastMediaTime=ne,_dispatch$1("matchMedia"))},Context=function(){function se(te,ee){this.selector=ee&&selector(ee),this.data=[],this._r=[],this.isReverted=!1,te&&this.add(te)}var ne=se.prototype;return ne.add=function(ee,re,ie){_isFunction$1(ee)&&(ie=re,re=ee,ee=_isFunction$1);var ae=this,oe=function(){var he=_context$3,ue=ae.selector,pe;return he&&he!==ae&&he.data.push(ae),ie&&(ae.selector=selector(ie)),_context$3=ae,pe=re.apply(ae,arguments),_isFunction$1(pe)&&ae._r.push(pe),_context$3=he,ae.selector=ue,ae.isReverted=!1,pe};return ae.last=oe,ee===_isFunction$1?oe(ae):ee?ae[ee]=oe:oe},ne.ignore=function(ee){var re=_context$3;_context$3=null,ee(this),_context$3=re},ne.getTweens=function(){var ee=[];return this.data.forEach(function(re){return re instanceof se?ee.push.apply(ee,re.getTweens()):re instanceof Tween&&!(re.parent&&re.parent.data==="nested")&&ee.push(re)}),ee},ne.clear=function(){this._r.length=this.data.length=0},ne.kill=function(ee,re){var ie=this;if(ee){var ae=this.getTweens();this.data.forEach(function(le){le.data==="isFlip"&&(le.revert(),le.getChildren(!0,!0,!1).forEach(function(he){return ae.splice(ae.indexOf(he),1)}))}),ae.map(function(le){return{g:le.globalTime(0),t:le}}).sort(function(le,he){return he.g-le.g||-1}).forEach(function(le){return le.t.revert(ee)}),this.data.forEach(function(le){return!(le instanceof Animation)&&le.revert&&le.revert(ee)}),this._r.forEach(function(le){return le(ee,ie)}),this.isReverted=!0}else this.data.forEach(function(le){return le.kill&&le.kill()});if(this.clear(),re){var oe=_media.indexOf(this);~oe&&_media.splice(oe,1)}},ne.revert=function(ee){this.kill(ee||{})},se}(),MatchMedia=function(){function se(te){this.contexts=[],this.scope=te}var ne=se.prototype;return ne.add=function(ee,re,ie){_isObject$1(ee)||(ee={matches:ee});var ae=new Context(0,ie||this.scope),oe=ae.conditions={},le,he,ue;this.contexts.push(ae),re=ae.add("onMatch",re),ae.queries=ee;for(he in ee)he==="all"?ue=1:(le=_win$4.matchMedia(ee[he]),le&&(_media.indexOf(ae)<0&&_media.push(ae),(oe[he]=le.matches)&&(ue=1),le.addListener?le.addListener(_onMediaChange):le.addEventListener("change",_onMediaChange)));return ue&&re(ae),this},ne.revert=function(ee){this.kill(ee||{})},ne.kill=function(ee){this.contexts.forEach(function(re){return re.kill(ee,!0)})},se}(),_gsap={registerPlugin:function(){for(var ne=arguments.length,te=new Array(ne),ee=0;ee<ne;ee++)te[ee]=arguments[ee];te.forEach(function(re){return _createPlugin(re)})},timeline:function(ne){return new Timeline(ne)},getTweensOf:function(ne,te){return _globalTimeline.getTweensOf(ne,te)},getProperty:function(ne,te,ee,re){_isString$1(ne)&&(ne=toArray(ne)[0]);var ie=_getCache(ne||{}).get,ae=ee?_passThrough$1:_numericIfPossible;return ee==="native"&&(ee=""),ne&&(te?ae((_plugins[te]&&_plugins[te].get||ie)(ne,te,ee,re)):function(oe,le,he){return ae((_plugins[oe]&&_plugins[oe].get||ie)(ne,oe,le,he))})},quickSetter:function(ne,te,ee){if(ne=toArray(ne),ne.length>1){var re=ne.map(function(ue){return gsap$4.quickSetter(ue,te,ee)}),ie=re.length;return function(ue){for(var pe=ie;pe--;)re[pe](ue)}}ne=ne[0]||{};var ae=_plugins[te],oe=_getCache(ne),le=oe.harness&&(oe.harness.aliases||{})[te]||te,he=ae?function(ue){var pe=new ae;_quickTween._pt=0,pe.init(ne,ee?ue+ee:ue,_quickTween,0,[ne]),pe.render(1,pe),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:oe.set(ne,le);return ae?he:function(ue){return he(ne,le,ee?ue+ee:ue,oe,1)}},quickTo:function(ne,te,ee){var re,ie=gsap$4.to(ne,_merge((re={},re[te]="+=0.1",re.paused=!0,re),ee||{})),ae=function(le,he,ue){return ie.resetTo(te,le,he,ue)};return ae.tween=ie,ae},isTweening:function(ne){return _globalTimeline.getTweensOf(ne,!0).length>0},defaults:function(ne){return ne&&ne.ease&&(ne.ease=_parseEase(ne.ease,_defaults$1.ease)),_mergeDeep(_defaults$1,ne||{})},config:function(ne){return _mergeDeep(_config,ne||{})},registerEffect:function(ne){var te=ne.name,ee=ne.effect,re=ne.plugins,ie=ne.defaults,ae=ne.extendTimeline;(re||"").split(",").forEach(function(oe){return oe&&!_plugins[oe]&&!_globals[oe]&&_warn(te+" effect requires "+oe+" plugin.")}),_effects[te]=function(oe,le,he){return ee(toArray(oe),_setDefaults$1(le||{},ie),he)},ae&&(Timeline.prototype[te]=function(oe,le,he){return this.add(_effects[te](oe,_isObject$1(le)?le:(he=le)&&{},this),he)})},registerEase:function(ne,te){_easeMap[ne]=_parseEase(te)},parseEase:function(ne,te){return arguments.length?_parseEase(ne,te):_easeMap},getById:function(ne){return _globalTimeline.getById(ne)},exportRoot:function(ne,te){ne===void 0&&(ne={});var ee=new Timeline(ne),re,ie;for(ee.smoothChildTiming=_isNotFalse(ne.smoothChildTiming),_globalTimeline.remove(ee),ee._dp=0,ee._time=ee._tTime=_globalTimeline._time,re=_globalTimeline._first;re;)ie=re._next,(te||!(!re._dur&&re instanceof Tween&&re.vars.onComplete===re._targets[0]))&&_addToTimeline(ee,re,re._start-re._delay),re=ie;return _addToTimeline(_globalTimeline,ee,0),ee},context:function(ne,te){return ne?new Context(ne,te):_context$3},matchMedia:function(ne){return new MatchMedia(ne)},matchMediaRefresh:function(){return _media.forEach(function(ne){var te=ne.conditions,ee,re;for(re in te)te[re]&&(te[re]=!1,ee=1);ee&&ne.revert()})||_onMediaChange()},addEventListener:function(ne,te){var ee=_listeners$1[ne]||(_listeners$1[ne]=[]);~ee.indexOf(te)||ee.push(te)},removeEventListener:function(ne,te){var ee=_listeners$1[ne],re=ee&&ee.indexOf(te);re>=0&&ee.splice(re,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp:clamp$1,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function(){return _reverting$1},context:function(ne){return ne&&_context$3&&(_context$3.data.push(ne),ne._ctx=_context$3),_context$3},suppressOverwrites:function(ne){return _suppressOverwrites$1=ne}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(se){return _gsap[se]=Tween[se]}),_ticker.add(Timeline.updateRoot),_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function(ne,te){for(var ee=ne._pt;ee&&ee.p!==te&&ee.op!==te&&ee.fp!==te;)ee=ee._next;return ee},_addModifiers=function(ne,te){var ee=ne._targets,re,ie,ae;for(re in te)for(ie=ee.length;ie--;)ae=ne._ptLookup[ie][re],ae&&(ae=ae.d)&&(ae._pt&&(ae=_getPluginPropTween(ae,re)),ae&&ae.modifier&&ae.modifier(te[re],ne,ee[ie],re))},_buildModifierPlugin=function(ne,te){return{name:ne,rawVars:1,init:function(re,ie,ae){ae._onInit=function(oe){var le,he;if(_isString$1(ie)&&(le={},_forEachName(ie,function(ue){return le[ue]=1}),ie=le),te){le={};for(he in ie)le[he]=te(ie[he]);ie=le}_addModifiers(oe,ie)}}}},gsap$4=_gsap.registerPlugin({name:"attr",init:function(ne,te,ee,re,ie){var ae,oe,le;this.tween=ee;for(ae in te)le=ne.getAttribute(ae)||"",oe=this.add(ne,"setAttribute",(le||0)+"",te[ae],re,ie,0,0,ae),oe.op=ae,oe.b=le,this._props.push(ae)},render:function(ne,te){for(var ee=te._pt;ee;)_reverting$1?ee.set(ee.t,ee.p,ee.b,ee):ee.r(ne,ee.d),ee=ee._next}},{name:"endArray",init:function(ne,te){for(var ee=te.length;ee--;)this.add(ne,ee,ne[ee]||0,te[ee],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap$4.version="3.11.4",_coreReady=1,_windowExists$2()&&_wake(),_easeMap.Power0,_easeMap.Power1,_easeMap.Power2,_easeMap.Power3,_easeMap.Power4,_easeMap.Linear,_easeMap.Quad,_easeMap.Cubic,_easeMap.Quart,_easeMap.Quint,_easeMap.Strong,_easeMap.Elastic,_easeMap.Back,_easeMap.SteppedEase,_easeMap.Bounce,_easeMap.Sine,_easeMap.Expo,_easeMap.Circ;/*!
 * CSSPlugin 3.11.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _win$3,_doc$3,_docElement,_pluginInitted,_tempDiv,_recentSetterPlugin,_reverting,_windowExists$1=function(){return typeof window!="undefined"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum=1e8,_capsExp$1=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function(ne,te){return te.set(te.t,te.p,Math.round((te.s+te.c*ne)*1e4)/1e4+te.u,te)},_renderPropWithEnd=function(ne,te){return te.set(te.t,te.p,ne===1?te.e:Math.round((te.s+te.c*ne)*1e4)/1e4+te.u,te)},_renderCSSPropWithBeginning=function(ne,te){return te.set(te.t,te.p,ne?Math.round((te.s+te.c*ne)*1e4)/1e4+te.u:te.b,te)},_renderRoundedCSSProp=function(ne,te){var ee=te.s+te.c*ne;te.set(te.t,te.p,~~(ee+(ee<0?-.5:.5))+te.u,te)},_renderNonTweeningValue=function(ne,te){return te.set(te.t,te.p,ne?te.e:te.b,te)},_renderNonTweeningValueOnlyAtEnd=function(ne,te){return te.set(te.t,te.p,ne!==1?te.b:te.e,te)},_setterCSSStyle=function(ne,te,ee){return ne.style[te]=ee},_setterCSSProp=function(ne,te,ee){return ne.style.setProperty(te,ee)},_setterTransform=function(ne,te,ee){return ne._gsap[te]=ee},_setterScale=function(ne,te,ee){return ne._gsap.scaleX=ne._gsap.scaleY=ee},_setterScaleWithRender=function(ne,te,ee,re,ie){var ae=ne._gsap;ae.scaleX=ae.scaleY=ee,ae.renderTransform(ie,ae)},_setterTransformWithRender=function(ne,te,ee,re,ie){var ae=ne._gsap;ae[te]=ee,ae.renderTransform(ie,ae)},_transformProp$1="transform",_transformOriginProp=_transformProp$1+"Origin",_saveStyle=function(ne,te){var ee=this,re=this.target,ie=re.style;if(ne in _transformProps){if(this.tfm=this.tfm||{},ne!=="transform"&&(ne=_propertyAliases[ne]||ne,~ne.indexOf(",")?ne.split(",").forEach(function(ae){return ee.tfm[ae]=_get(re,ae)}):this.tfm[ne]=re._gsap.x?re._gsap[ne]:_get(re,ne)),this.props.indexOf(_transformProp$1)>=0)return;re._gsap.svg&&(this.svgo=re.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,te,"")),ne=_transformProp$1}(ie||te)&&this.props.push(ne,te,ie[ne])},_removeIndependentTransforms=function(ne){ne.translate&&(ne.removeProperty("translate"),ne.removeProperty("scale"),ne.removeProperty("rotate"))},_revertStyle=function(){var ne=this.props,te=this.target,ee=te.style,re=te._gsap,ie,ae;for(ie=0;ie<ne.length;ie+=3)ne[ie+1]?te[ne[ie]]=ne[ie+2]:ne[ie+2]?ee[ne[ie]]=ne[ie+2]:ee.removeProperty(ne[ie].replace(_capsExp$1,"-$1").toLowerCase());if(this.tfm){for(ae in this.tfm)re[ae]=this.tfm[ae];re.svg&&(re.renderTransform(),te.setAttribute("data-svg-origin",this.svgo||"")),ie=_reverting(),ie&&!ie.isStart&&!ee[_transformProp$1]&&(_removeIndependentTransforms(ee),re.uncache=1)}},_getStyleSaver=function(ne,te){var ee={target:ne,props:[],revert:_revertStyle,save:_saveStyle};return te&&te.split(",").forEach(function(re){return ee.save(re)}),ee},_supports3D,_createElement=function(ne,te){var ee=_doc$3.createElementNS?_doc$3.createElementNS((te||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),ne):_doc$3.createElement(ne);return ee.style?ee:_doc$3.createElement(ne)},_getComputedProperty=function se(ne,te,ee){var re=getComputedStyle(ne);return re[te]||re.getPropertyValue(te.replace(_capsExp$1,"-$1").toLowerCase())||re.getPropertyValue(te)||!ee&&se(ne,_checkPropPrefix(te)||te,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function(ne,te,ee){var re=te||_tempDiv,ie=re.style,ae=5;if(ne in ie&&!ee)return ne;for(ne=ne.charAt(0).toUpperCase()+ne.substr(1);ae--&&!(_prefixes[ae]+ne in ie););return ae<0?null:(ae===3?"ms":ae>=0?_prefixes[ae]:"")+ne},_initCore$3=function(){_windowExists$1()&&window.document&&(_win$3=window,_doc$3=_win$3.document,_docElement=_doc$3.documentElement,_tempDiv=_createElement("div")||{style:{}},_createElement("div"),_transformProp$1=_checkPropPrefix(_transformProp$1),_transformOriginProp=_transformProp$1+"Origin",_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting=gsap$4.core.reverting,_pluginInitted=1)},_getBBoxHack=function se(ne){var te=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),ee=this.parentNode,re=this.nextSibling,ie=this.style.cssText,ae;if(_docElement.appendChild(te),te.appendChild(this),this.style.display="block",ne)try{ae=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=se}catch{}else this._gsapBBox&&(ae=this._gsapBBox());return ee&&(re?ee.insertBefore(this,re):ee.appendChild(this)),_docElement.removeChild(te),this.style.cssText=ie,ae},_getAttributeFallbacks=function(ne,te){for(var ee=te.length;ee--;)if(ne.hasAttribute(te[ee]))return ne.getAttribute(te[ee])},_getBBox=function(ne){var te;try{te=ne.getBBox()}catch{te=_getBBoxHack.call(ne,!0)}return te&&(te.width||te.height)||ne.getBBox===_getBBoxHack||(te=_getBBoxHack.call(ne,!0)),te&&!te.width&&!te.x&&!te.y?{x:+_getAttributeFallbacks(ne,["x","cx","x1"])||0,y:+_getAttributeFallbacks(ne,["y","cy","y1"])||0,width:0,height:0}:te},_isSVG=function(ne){return!!(ne.getCTM&&(!ne.parentNode||ne.ownerSVGElement)&&_getBBox(ne))},_removeProperty=function(ne,te){if(te){var ee=ne.style;te in _transformProps&&te!==_transformOriginProp&&(te=_transformProp$1),ee.removeProperty?((te.substr(0,2)==="ms"||te.substr(0,6)==="webkit")&&(te="-"+te),ee.removeProperty(te.replace(_capsExp$1,"-$1").toLowerCase())):ee.removeAttribute(te)}},_addNonTweeningPT=function(ne,te,ee,re,ie,ae){var oe=new PropTween(ne._pt,te,ee,0,1,ae?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return ne._pt=oe,oe.b=re,oe.e=ie,ne._props.push(ee),oe},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function se(ne,te,ee,re){var ie=parseFloat(ee)||0,ae=(ee+"").trim().substr((ie+"").length)||"px",oe=_tempDiv.style,le=_horizontalExp.test(te),he=ne.tagName.toLowerCase()==="svg",ue=(he?"client":"offset")+(le?"Width":"Height"),pe=100,ce=re==="px",fe=re==="%",me,de,ve,ge;return re===ae||!ie||_nonConvertibleUnits[re]||_nonConvertibleUnits[ae]?ie:(ae!=="px"&&!ce&&(ie=se(ne,te,ee,"px")),ge=ne.getCTM&&_isSVG(ne),(fe||ae==="%")&&(_transformProps[te]||~te.indexOf("adius"))?(me=ge?ne.getBBox()[le?"width":"height"]:ne[ue],_round$1(fe?ie/me*pe:ie/100*me)):(oe[le?"width":"height"]=pe+(ce?ae:re),de=~te.indexOf("adius")||re==="em"&&ne.appendChild&&!he?ne:ne.parentNode,ge&&(de=(ne.ownerSVGElement||{}).parentNode),(!de||de===_doc$3||!de.appendChild)&&(de=_doc$3.body),ve=de._gsap,ve&&fe&&ve.width&&le&&ve.time===_ticker.time&&!ve.uncache?_round$1(ie/ve.width*pe):((fe||ae==="%")&&!_nonStandardLayouts[_getComputedProperty(de,"display")]&&(oe.position=_getComputedProperty(ne,"position")),de===ne&&(oe.position="static"),de.appendChild(_tempDiv),me=_tempDiv[ue],de.removeChild(_tempDiv),oe.position="absolute",le&&fe&&(ve=_getCache(de),ve.time=_ticker.time,ve.width=de[ue]),_round$1(ce?me*ie/pe:me&&ie?pe/me*ie:0))))},_get=function(ne,te,ee,re){var ie;return _pluginInitted||_initCore$3(),te in _propertyAliases&&te!=="transform"&&(te=_propertyAliases[te],~te.indexOf(",")&&(te=te.split(",")[0])),_transformProps[te]&&te!=="transform"?(ie=_parseTransform(ne,re),ie=te!=="transformOrigin"?ie[te]:ie.svg?ie.origin:_firstTwoOnly(_getComputedProperty(ne,_transformOriginProp))+" "+ie.zOrigin+"px"):(ie=ne.style[te],(!ie||ie==="auto"||re||~(ie+"").indexOf("calc("))&&(ie=_specialProps[te]&&_specialProps[te](ne,te,ee)||_getComputedProperty(ne,te)||_getProperty(ne,te)||(te==="opacity"?1:0))),ee&&!~(ie+"").trim().indexOf(" ")?_convertToUnit(ne,te,ie,ee)+ee:ie},_tweenComplexCSSString=function(ne,te,ee,re){if(!ee||ee==="none"){var ie=_checkPropPrefix(te,ne,1),ae=ie&&_getComputedProperty(ne,ie,1);ae&&ae!==ee?(te=ie,ee=ae):te==="borderColor"&&(ee=_getComputedProperty(ne,"borderTopColor"))}var oe=new PropTween(this._pt,ne.style,te,0,1,_renderComplexString),le=0,he=0,ue,pe,ce,fe,me,de,ve,ge,xe,_e,ye,we;if(oe.b=ee,oe.e=re,ee+="",re+="",re==="auto"&&(ne.style[te]=re,re=_getComputedProperty(ne,te)||re,ne.style[te]=ee),ue=[ee,re],_colorStringFilter(ue),ee=ue[0],re=ue[1],ce=ee.match(_numWithUnitExp)||[],we=re.match(_numWithUnitExp)||[],we.length){for(;pe=_numWithUnitExp.exec(re);)ve=pe[0],xe=re.substring(le,pe.index),me?me=(me+1)%5:(xe.substr(-5)==="rgba("||xe.substr(-5)==="hsla(")&&(me=1),ve!==(de=ce[he++]||"")&&(fe=parseFloat(de)||0,ye=de.substr((fe+"").length),ve.charAt(1)==="="&&(ve=_parseRelative(fe,ve)+ye),ge=parseFloat(ve),_e=ve.substr((ge+"").length),le=_numWithUnitExp.lastIndex-_e.length,_e||(_e=_e||_config.units[te]||ye,le===re.length&&(re+=_e,oe.e+=_e)),ye!==_e&&(fe=_convertToUnit(ne,te,de,_e)||0),oe._pt={_next:oe._pt,p:xe||he===1?xe:",",s:fe,c:ge-fe,m:me&&me<4||te==="zIndex"?Math.round:0});oe.c=le<re.length?re.substring(le,re.length):""}else oe.r=te==="display"&&re==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(re)&&(oe.e=0),this._pt=oe,oe},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function(ne){var te=ne.split(" "),ee=te[0],re=te[1]||"50%";return(ee==="top"||ee==="bottom"||re==="left"||re==="right")&&(ne=ee,ee=re,re=ne),te[0]=_keywordToPercent[ee]||ee,te[1]=_keywordToPercent[re]||re,te.join(" ")},_renderClearProps=function(ne,te){if(te.tween&&te.tween._time===te.tween._dur){var ee=te.t,re=ee.style,ie=te.u,ae=ee._gsap,oe,le,he;if(ie==="all"||ie===!0)re.cssText="",le=1;else for(ie=ie.split(","),he=ie.length;--he>-1;)oe=ie[he],_transformProps[oe]&&(le=1,oe=oe==="transformOrigin"?_transformOriginProp:_transformProp$1),_removeProperty(ee,oe);le&&(_removeProperty(ee,_transformProp$1),ae&&(ae.svg&&ee.removeAttribute("transform"),_parseTransform(ee,1),ae.uncache=1,_removeIndependentTransforms(re)))}},_specialProps={clearProps:function(ne,te,ee,re,ie){if(ie.data!=="isFromStart"){var ae=ne._pt=new PropTween(ne._pt,te,ee,0,0,_renderClearProps);return ae.u=re,ae.pr=-10,ae.tween=ie,ne._props.push(ee),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function(ne){return ne==="matrix(1, 0, 0, 1, 0, 0)"||ne==="none"||!ne},_getComputedTransformMatrixAsArray=function(ne){var te=_getComputedProperty(ne,_transformProp$1);return _isNullTransform(te)?_identity2DMatrix:te.substr(7).match(_numExp).map(_round$1)},_getMatrix=function(ne,te){var ee=ne._gsap||_getCache(ne),re=ne.style,ie=_getComputedTransformMatrixAsArray(ne),ae,oe,le,he;return ee.svg&&ne.getAttribute("transform")?(le=ne.transform.baseVal.consolidate().matrix,ie=[le.a,le.b,le.c,le.d,le.e,le.f],ie.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:ie):(ie===_identity2DMatrix&&!ne.offsetParent&&ne!==_docElement&&!ee.svg&&(le=re.display,re.display="block",ae=ne.parentNode,(!ae||!ne.offsetParent)&&(he=1,oe=ne.nextElementSibling,_docElement.appendChild(ne)),ie=_getComputedTransformMatrixAsArray(ne),le?re.display=le:_removeProperty(ne,"display"),he&&(oe?ae.insertBefore(ne,oe):ae?ae.appendChild(ne):_docElement.removeChild(ne))),te&&ie.length>6?[ie[0],ie[1],ie[4],ie[5],ie[12],ie[13]]:ie)},_applySVGOrigin=function(ne,te,ee,re,ie,ae){var oe=ne._gsap,le=ie||_getMatrix(ne,!0),he=oe.xOrigin||0,ue=oe.yOrigin||0,pe=oe.xOffset||0,ce=oe.yOffset||0,fe=le[0],me=le[1],de=le[2],ve=le[3],ge=le[4],xe=le[5],_e=te.split(" "),ye=parseFloat(_e[0])||0,we=parseFloat(_e[1])||0,be,Se,Ce,Te;ee?le!==_identity2DMatrix&&(Se=fe*ve-me*de)&&(Ce=ye*(ve/Se)+we*(-de/Se)+(de*xe-ve*ge)/Se,Te=ye*(-me/Se)+we*(fe/Se)-(fe*xe-me*ge)/Se,ye=Ce,we=Te):(be=_getBBox(ne),ye=be.x+(~_e[0].indexOf("%")?ye/100*be.width:ye),we=be.y+(~(_e[1]||_e[0]).indexOf("%")?we/100*be.height:we)),re||re!==!1&&oe.smooth?(ge=ye-he,xe=we-ue,oe.xOffset=pe+(ge*fe+xe*de)-ge,oe.yOffset=ce+(ge*me+xe*ve)-xe):oe.xOffset=oe.yOffset=0,oe.xOrigin=ye,oe.yOrigin=we,oe.smooth=!!re,oe.origin=te,oe.originIsAbsolute=!!ee,ne.style[_transformOriginProp]="0px 0px",ae&&(_addNonTweeningPT(ae,oe,"xOrigin",he,ye),_addNonTweeningPT(ae,oe,"yOrigin",ue,we),_addNonTweeningPT(ae,oe,"xOffset",pe,oe.xOffset),_addNonTweeningPT(ae,oe,"yOffset",ce,oe.yOffset)),ne.setAttribute("data-svg-origin",ye+" "+we)},_parseTransform=function(ne,te){var ee=ne._gsap||new GSCache(ne);if("x"in ee&&!te&&!ee.uncache)return ee;var re=ne.style,ie=ee.scaleX<0,ae="px",oe="deg",le=getComputedStyle(ne),he=_getComputedProperty(ne,_transformOriginProp)||"0",ue,pe,ce,fe,me,de,ve,ge,xe,_e,ye,we,be,Se,Ce,Te,De,Fe,Le,Ie,Oe,ke,Pe,Me,Ee,Ae,Re,Be,ze,je,$e,We;return ue=pe=ce=de=ve=ge=xe=_e=ye=0,fe=me=1,ee.svg=!!(ne.getCTM&&_isSVG(ne)),le.translate&&((le.translate!=="none"||le.scale!=="none"||le.rotate!=="none")&&(re[_transformProp$1]=(le.translate!=="none"?"translate3d("+(le.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(le.rotate!=="none"?"rotate("+le.rotate+") ":"")+(le.scale!=="none"?"scale("+le.scale.split(" ").join(",")+") ":"")+(le[_transformProp$1]!=="none"?le[_transformProp$1]:"")),re.scale=re.rotate=re.translate="none"),Se=_getMatrix(ne,ee.svg),ee.svg&&(ee.uncache?(Ee=ne.getBBox(),he=ee.xOrigin-Ee.x+"px "+(ee.yOrigin-Ee.y)+"px",Me=""):Me=!te&&ne.getAttribute("data-svg-origin"),_applySVGOrigin(ne,Me||he,!!Me||ee.originIsAbsolute,ee.smooth!==!1,Se)),we=ee.xOrigin||0,be=ee.yOrigin||0,Se!==_identity2DMatrix&&(Fe=Se[0],Le=Se[1],Ie=Se[2],Oe=Se[3],ue=ke=Se[4],pe=Pe=Se[5],Se.length===6?(fe=Math.sqrt(Fe*Fe+Le*Le),me=Math.sqrt(Oe*Oe+Ie*Ie),de=Fe||Le?_atan2(Le,Fe)*_RAD2DEG:0,xe=Ie||Oe?_atan2(Ie,Oe)*_RAD2DEG+de:0,xe&&(me*=Math.abs(Math.cos(xe*_DEG2RAD))),ee.svg&&(ue-=we-(we*Fe+be*Ie),pe-=be-(we*Le+be*Oe))):(We=Se[6],je=Se[7],Re=Se[8],Be=Se[9],ze=Se[10],$e=Se[11],ue=Se[12],pe=Se[13],ce=Se[14],Ce=_atan2(We,ze),ve=Ce*_RAD2DEG,Ce&&(Te=Math.cos(-Ce),De=Math.sin(-Ce),Me=ke*Te+Re*De,Ee=Pe*Te+Be*De,Ae=We*Te+ze*De,Re=ke*-De+Re*Te,Be=Pe*-De+Be*Te,ze=We*-De+ze*Te,$e=je*-De+$e*Te,ke=Me,Pe=Ee,We=Ae),Ce=_atan2(-Ie,ze),ge=Ce*_RAD2DEG,Ce&&(Te=Math.cos(-Ce),De=Math.sin(-Ce),Me=Fe*Te-Re*De,Ee=Le*Te-Be*De,Ae=Ie*Te-ze*De,$e=Oe*De+$e*Te,Fe=Me,Le=Ee,Ie=Ae),Ce=_atan2(Le,Fe),de=Ce*_RAD2DEG,Ce&&(Te=Math.cos(Ce),De=Math.sin(Ce),Me=Fe*Te+Le*De,Ee=ke*Te+Pe*De,Le=Le*Te-Fe*De,Pe=Pe*Te-ke*De,Fe=Me,ke=Ee),ve&&Math.abs(ve)+Math.abs(de)>359.9&&(ve=de=0,ge=180-ge),fe=_round$1(Math.sqrt(Fe*Fe+Le*Le+Ie*Ie)),me=_round$1(Math.sqrt(Pe*Pe+We*We)),Ce=_atan2(ke,Pe),xe=Math.abs(Ce)>2e-4?Ce*_RAD2DEG:0,ye=$e?1/($e<0?-$e:$e):0),ee.svg&&(Me=ne.getAttribute("transform"),ee.forceCSS=ne.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(ne,_transformProp$1)),Me&&ne.setAttribute("transform",Me))),Math.abs(xe)>90&&Math.abs(xe)<270&&(ie?(fe*=-1,xe+=de<=0?180:-180,de+=de<=0?180:-180):(me*=-1,xe+=xe<=0?180:-180)),te=te||ee.uncache,ee.x=ue-((ee.xPercent=ue&&(!te&&ee.xPercent||(Math.round(ne.offsetWidth/2)===Math.round(-ue)?-50:0)))?ne.offsetWidth*ee.xPercent/100:0)+ae,ee.y=pe-((ee.yPercent=pe&&(!te&&ee.yPercent||(Math.round(ne.offsetHeight/2)===Math.round(-pe)?-50:0)))?ne.offsetHeight*ee.yPercent/100:0)+ae,ee.z=ce+ae,ee.scaleX=_round$1(fe),ee.scaleY=_round$1(me),ee.rotation=_round$1(de)+oe,ee.rotationX=_round$1(ve)+oe,ee.rotationY=_round$1(ge)+oe,ee.skewX=xe+oe,ee.skewY=_e+oe,ee.transformPerspective=ye+ae,(ee.zOrigin=parseFloat(he.split(" ")[2])||0)&&(re[_transformOriginProp]=_firstTwoOnly(he)),ee.xOffset=ee.yOffset=0,ee.force3D=_config.force3D,ee.renderTransform=ee.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,ee.uncache=0,ee},_firstTwoOnly=function(ne){return(ne=ne.split(" "))[0]+" "+ne[1]},_addPxTranslate=function(ne,te,ee){var re=getUnit(te);return _round$1(parseFloat(te)+parseFloat(_convertToUnit(ne,"x",ee+"px",re)))+re},_renderNon3DTransforms=function(ne,te){te.z="0px",te.rotationY=te.rotationX="0deg",te.force3D=0,_renderCSSTransforms(ne,te)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function(ne,te){var ee=te||this,re=ee.xPercent,ie=ee.yPercent,ae=ee.x,oe=ee.y,le=ee.z,he=ee.rotation,ue=ee.rotationY,pe=ee.rotationX,ce=ee.skewX,fe=ee.skewY,me=ee.scaleX,de=ee.scaleY,ve=ee.transformPerspective,ge=ee.force3D,xe=ee.target,_e=ee.zOrigin,ye="",we=ge==="auto"&&ne&&ne!==1||ge===!0;if(_e&&(pe!==_zeroDeg||ue!==_zeroDeg)){var be=parseFloat(ue)*_DEG2RAD,Se=Math.sin(be),Ce=Math.cos(be),Te;be=parseFloat(pe)*_DEG2RAD,Te=Math.cos(be),ae=_addPxTranslate(xe,ae,Se*Te*-_e),oe=_addPxTranslate(xe,oe,-Math.sin(be)*-_e),le=_addPxTranslate(xe,le,Ce*Te*-_e+_e)}ve!==_zeroPx&&(ye+="perspective("+ve+_endParenthesis),(re||ie)&&(ye+="translate("+re+"%, "+ie+"%) "),(we||ae!==_zeroPx||oe!==_zeroPx||le!==_zeroPx)&&(ye+=le!==_zeroPx||we?"translate3d("+ae+", "+oe+", "+le+") ":"translate("+ae+", "+oe+_endParenthesis),he!==_zeroDeg&&(ye+="rotate("+he+_endParenthesis),ue!==_zeroDeg&&(ye+="rotateY("+ue+_endParenthesis),pe!==_zeroDeg&&(ye+="rotateX("+pe+_endParenthesis),(ce!==_zeroDeg||fe!==_zeroDeg)&&(ye+="skew("+ce+", "+fe+_endParenthesis),(me!==1||de!==1)&&(ye+="scale("+me+", "+de+_endParenthesis),xe.style[_transformProp$1]=ye||"translate(0, 0)"},_renderSVGTransforms=function(ne,te){var ee=te||this,re=ee.xPercent,ie=ee.yPercent,ae=ee.x,oe=ee.y,le=ee.rotation,he=ee.skewX,ue=ee.skewY,pe=ee.scaleX,ce=ee.scaleY,fe=ee.target,me=ee.xOrigin,de=ee.yOrigin,ve=ee.xOffset,ge=ee.yOffset,xe=ee.forceCSS,_e=parseFloat(ae),ye=parseFloat(oe),we,be,Se,Ce,Te;le=parseFloat(le),he=parseFloat(he),ue=parseFloat(ue),ue&&(ue=parseFloat(ue),he+=ue,le+=ue),le||he?(le*=_DEG2RAD,he*=_DEG2RAD,we=Math.cos(le)*pe,be=Math.sin(le)*pe,Se=Math.sin(le-he)*-ce,Ce=Math.cos(le-he)*ce,he&&(ue*=_DEG2RAD,Te=Math.tan(he-ue),Te=Math.sqrt(1+Te*Te),Se*=Te,Ce*=Te,ue&&(Te=Math.tan(ue),Te=Math.sqrt(1+Te*Te),we*=Te,be*=Te)),we=_round$1(we),be=_round$1(be),Se=_round$1(Se),Ce=_round$1(Ce)):(we=pe,Ce=ce,be=Se=0),(_e&&!~(ae+"").indexOf("px")||ye&&!~(oe+"").indexOf("px"))&&(_e=_convertToUnit(fe,"x",ae,"px"),ye=_convertToUnit(fe,"y",oe,"px")),(me||de||ve||ge)&&(_e=_round$1(_e+me-(me*we+de*Se)+ve),ye=_round$1(ye+de-(me*be+de*Ce)+ge)),(re||ie)&&(Te=fe.getBBox(),_e=_round$1(_e+re/100*Te.width),ye=_round$1(ye+ie/100*Te.height)),Te="matrix("+we+","+be+","+Se+","+Ce+","+_e+","+ye+")",fe.setAttribute("transform",Te),xe&&(fe.style[_transformProp$1]=Te)},_addRotationalPropTween=function(ne,te,ee,re,ie){var ae=360,oe=_isString$1(ie),le=parseFloat(ie)*(oe&&~ie.indexOf("rad")?_RAD2DEG:1),he=le-re,ue=re+he+"deg",pe,ce;return oe&&(pe=ie.split("_")[1],pe==="short"&&(he%=ae,he!==he%(ae/2)&&(he+=he<0?ae:-ae)),pe==="cw"&&he<0?he=(he+ae*_bigNum)%ae-~~(he/ae)*ae:pe==="ccw"&&he>0&&(he=(he-ae*_bigNum)%ae-~~(he/ae)*ae)),ne._pt=ce=new PropTween(ne._pt,te,ee,re,he,_renderPropWithEnd),ce.e=ue,ce.u="deg",ne._props.push(ee),ce},_assign=function(ne,te){for(var ee in te)ne[ee]=te[ee];return ne},_addRawTransformPTs=function(ne,te,ee){var re=_assign({},ee._gsap),ie="perspective,force3D,transformOrigin,svgOrigin",ae=ee.style,oe,le,he,ue,pe,ce,fe,me;re.svg?(he=ee.getAttribute("transform"),ee.setAttribute("transform",""),ae[_transformProp$1]=te,oe=_parseTransform(ee,1),_removeProperty(ee,_transformProp$1),ee.setAttribute("transform",he)):(he=getComputedStyle(ee)[_transformProp$1],ae[_transformProp$1]=te,oe=_parseTransform(ee,1),ae[_transformProp$1]=he);for(le in _transformProps)he=re[le],ue=oe[le],he!==ue&&ie.indexOf(le)<0&&(fe=getUnit(he),me=getUnit(ue),pe=fe!==me?_convertToUnit(ee,le,he,me):parseFloat(he),ce=parseFloat(ue),ne._pt=new PropTween(ne._pt,oe,le,pe,ce-pe,_renderCSSProp),ne._pt.u=me||0,ne._props.push(le));_assign(oe,re)};_forEachName("padding,margin,Width,Radius",function(se,ne){var te="Top",ee="Right",re="Bottom",ie="Left",ae=(ne<3?[te,ee,re,ie]:[te+ie,te+ee,re+ee,re+ie]).map(function(oe){return ne<2?se+oe:"border"+oe+se});_specialProps[ne>1?"border"+se:se]=function(oe,le,he,ue,pe){var ce,fe;if(arguments.length<4)return ce=ae.map(function(me){return _get(oe,me,he)}),fe=ce.join(" "),fe.split(ce[0]).length===5?ce[0]:fe;ce=(ue+"").split(" "),fe={},ae.forEach(function(me,de){return fe[me]=ce[de]=ce[de]||ce[(de-1)/2|0]}),oe.init(le,fe,pe)}});var CSSPlugin={name:"css",register:_initCore$3,targetTest:function(ne){return ne.style&&ne.nodeType},init:function(ne,te,ee,re,ie){var ae=this._props,oe=ne.style,le=ee.vars.startAt,he,ue,pe,ce,fe,me,de,ve,ge,xe,_e,ye,we,be,Se,Ce;_pluginInitted||_initCore$3(),this.styles=this.styles||_getStyleSaver(ne),Ce=this.styles.props,this.tween=ee;for(de in te)if(de!=="autoRound"&&(ue=te[de],!(_plugins[de]&&_checkPlugin(de,te,ee,re,ne,ie)))){if(fe=typeof ue,me=_specialProps[de],fe==="function"&&(ue=ue.call(ee,re,ne,ie),fe=typeof ue),fe==="string"&&~ue.indexOf("random(")&&(ue=_replaceRandom(ue)),me)me(this,ne,de,ue,ee)&&(Se=1);else if(de.substr(0,2)==="--")he=(getComputedStyle(ne).getPropertyValue(de)+"").trim(),ue+="",_colorExp.lastIndex=0,_colorExp.test(he)||(ve=getUnit(he),ge=getUnit(ue)),ge?ve!==ge&&(he=_convertToUnit(ne,de,he,ge)+ge):ve&&(ue+=ve),this.add(oe,"setProperty",he,ue,re,ie,0,0,de),ae.push(de),Ce.push(de,0,oe[de]);else if(fe!=="undefined"){if(le&&de in le?(he=typeof le[de]=="function"?le[de].call(ee,re,ne,ie):le[de],_isString$1(he)&&~he.indexOf("random(")&&(he=_replaceRandom(he)),getUnit(he+"")||(he+=_config.units[de]||getUnit(_get(ne,de))||""),(he+"").charAt(1)==="="&&(he=_get(ne,de))):he=_get(ne,de),ce=parseFloat(he),xe=fe==="string"&&ue.charAt(1)==="="&&ue.substr(0,2),xe&&(ue=ue.substr(2)),pe=parseFloat(ue),de in _propertyAliases&&(de==="autoAlpha"&&(ce===1&&_get(ne,"visibility")==="hidden"&&pe&&(ce=0),Ce.push("visibility",0,oe.visibility),_addNonTweeningPT(this,oe,"visibility",ce?"inherit":"hidden",pe?"inherit":"hidden",!pe)),de!=="scale"&&de!=="transform"&&(de=_propertyAliases[de],~de.indexOf(",")&&(de=de.split(",")[0]))),_e=de in _transformProps,_e){if(this.styles.save(de),ye||(we=ne._gsap,we.renderTransform&&!te.parseTransform||_parseTransform(ne,te.parseTransform),be=te.smoothOrigin!==!1&&we.smooth,ye=this._pt=new PropTween(this._pt,oe,_transformProp$1,0,1,we.renderTransform,we,0,-1),ye.dep=1),de==="scale")this._pt=new PropTween(this._pt,we,"scaleY",we.scaleY,(xe?_parseRelative(we.scaleY,xe+pe):pe)-we.scaleY||0,_renderCSSProp),this._pt.u=0,ae.push("scaleY",de),de+="X";else if(de==="transformOrigin"){Ce.push(_transformOriginProp,0,oe[_transformOriginProp]),ue=_convertKeywordsToPercentages(ue),we.svg?_applySVGOrigin(ne,ue,0,be,0,this):(ge=parseFloat(ue.split(" ")[2])||0,ge!==we.zOrigin&&_addNonTweeningPT(this,we,"zOrigin",we.zOrigin,ge),_addNonTweeningPT(this,oe,de,_firstTwoOnly(he),_firstTwoOnly(ue)));continue}else if(de==="svgOrigin"){_applySVGOrigin(ne,ue,1,be,0,this);continue}else if(de in _rotationalProperties){_addRotationalPropTween(this,we,de,ce,xe?_parseRelative(ce,xe+ue):ue);continue}else if(de==="smoothOrigin"){_addNonTweeningPT(this,we,"smooth",we.smooth,ue);continue}else if(de==="force3D"){we[de]=ue;continue}else if(de==="transform"){_addRawTransformPTs(this,ue,ne);continue}}else de in oe||(de=_checkPropPrefix(de)||de);if(_e||(pe||pe===0)&&(ce||ce===0)&&!_complexExp.test(ue)&&de in oe)ve=(he+"").substr((ce+"").length),pe||(pe=0),ge=getUnit(ue)||(de in _config.units?_config.units[de]:ve),ve!==ge&&(ce=_convertToUnit(ne,de,he,ge)),this._pt=new PropTween(this._pt,_e?we:oe,de,ce,(xe?_parseRelative(ce,xe+pe):pe)-ce,!_e&&(ge==="px"||de==="zIndex")&&te.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=ge||0,ve!==ge&&ge!=="%"&&(this._pt.b=he,this._pt.r=_renderCSSPropWithBeginning);else if(de in oe)_tweenComplexCSSString.call(this,ne,de,he,xe?xe+ue:ue);else if(de in ne)this.add(ne,de,he||ne[de],xe?xe+ue:ue,re,ie);else if(de!=="parseTransform"){_missingPlugin(de,ue);continue}_e||(de in oe?Ce.push(de,0,oe[de]):Ce.push(de,1,he||ne[de])),ae.push(de)}}Se&&_sortPropTweensByPriority(this)},render:function(ne,te){if(te.tween._time||!_reverting())for(var ee=te._pt;ee;)ee.r(ne,ee.d),ee=ee._next;else te.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function(ne,te,ee){var re=_propertyAliases[te];return re&&re.indexOf(",")<0&&(te=re),te in _transformProps&&te!==_transformOriginProp&&(ne._gsap.x||_get(ne,"x"))?ee&&_recentSetterPlugin===ee?te==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=ee||{})&&(te==="scale"?_setterScaleWithRender:_setterTransformWithRender):ne.style&&!_isUndefined(ne.style[te])?_setterCSSStyle:~te.indexOf("-")?_setterCSSProp:_getSetter(ne,te)},core:{_removeProperty,_getMatrix}};gsap$4.utils.checkPrefix=_checkPropPrefix,gsap$4.core.getStyleSaver=_getStyleSaver,function(se,ne,te,ee){var re=_forEachName(se+","+ne+","+te,function(ie){_transformProps[ie]=1});_forEachName(ne,function(ie){_config.units[ie]="deg",_rotationalProperties[ie]=1}),_propertyAliases[re[13]]=se+","+ne,_forEachName(ee,function(ie){var ae=ie.split(":");_propertyAliases[ae[1]]=re[ae[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(se){_config.units[se]="px"}),gsap$4.registerPlugin(CSSPlugin);var gsapWithCSS=gsap$4.registerPlugin(CSSPlugin)||gsap$4;gsapWithCSS.core.Tween;function _defineProperties(se,ne){for(var te=0;te<ne.length;te++){var ee=ne[te];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(se,ee.key,ee)}}function _createClass(se,ne,te){return ne&&_defineProperties(se.prototype,ne),te&&_defineProperties(se,te),se}/*!
 * Observer 3.11.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$3,_coreInitted$3,_win$2,_doc$2,_docEl$1,_body$1,_isTouch,_pointerType,ScrollTrigger$1,_root$1,_normalizer$1,_eventTypes,_context$2,_getGSAP$2=function(){return gsap$3||typeof window!="undefined"&&(gsap$3=window.gsap)&&gsap$3.registerPlugin&&gsap$3},_startup$1=1,_observers=[],_scrollers=[],_proxies=[],_getTime$1=Date.now,_bridge=function(ne,te){return te},_integrate=function(){var ne=ScrollTrigger$1.core,te=ne.bridge||{},ee=ne._scrollers,re=ne._proxies;ee.push.apply(ee,_scrollers),re.push.apply(re,_proxies),_scrollers=ee,_proxies=re,_bridge=function(ae,oe){return te[ae](oe)}},_getProxyProp=function(ne,te){return~_proxies.indexOf(ne)&&_proxies[_proxies.indexOf(ne)+1][te]},_isViewport$1=function(ne){return!!~_root$1.indexOf(ne)},_addListener$1=function(ne,te,ee,re,ie){return ne.addEventListener(te,ee,{passive:!re,capture:!!ie})},_removeListener$1=function(ne,te,ee,re){return ne.removeEventListener(te,ee,!!re)},_scrollLeft="scrollLeft",_scrollTop="scrollTop",_onScroll$1=function(){return _normalizer$1&&_normalizer$1.isPressed||_scrollers.cache++},_scrollCacheFunc=function(ne,te){var ee=function re(ie){if(ie||ie===0){_startup$1&&(_win$2.history.scrollRestoration="manual");var ae=_normalizer$1&&_normalizer$1.isPressed;ie=re.v=Math.round(ie)||(_normalizer$1&&_normalizer$1.iOS?1:0),ne(ie),re.cacheID=_scrollers.cache,ae&&_bridge("ss",ie)}else(te||_scrollers.cache!==re.cacheID||_bridge("ref"))&&(re.cacheID=_scrollers.cache,re.v=ne());return re.v+re.offset};return ee.offset=0,ne&&ee},_horizontal={s:_scrollLeft,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_scrollCacheFunc(function(se){return arguments.length?_win$2.scrollTo(se,_vertical.sc()):_win$2.pageXOffset||_doc$2[_scrollLeft]||_docEl$1[_scrollLeft]||_body$1[_scrollLeft]||0})},_vertical={s:_scrollTop,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_horizontal,sc:_scrollCacheFunc(function(se){return arguments.length?_win$2.scrollTo(_horizontal.sc(),se):_win$2.pageYOffset||_doc$2[_scrollTop]||_docEl$1[_scrollTop]||_body$1[_scrollTop]||0})},_getTarget=function(ne){return gsap$3.utils.toArray(ne)[0]||(typeof ne=="string"&&gsap$3.config().nullTargetWarn!==!1?console.warn("Element not found:",ne):null)},_getScrollFunc=function(ne,te){var ee=te.s,re=te.sc;_isViewport$1(ne)&&(ne=_doc$2.scrollingElement||_docEl$1);var ie=_scrollers.indexOf(ne),ae=re===_vertical.sc?1:2;!~ie&&(ie=_scrollers.push(ne)-1),_scrollers[ie+ae]||ne.addEventListener("scroll",_onScroll$1);var oe=_scrollers[ie+ae],le=oe||(_scrollers[ie+ae]=_scrollCacheFunc(_getProxyProp(ne,ee),!0)||(_isViewport$1(ne)?re:_scrollCacheFunc(function(he){return arguments.length?ne[ee]=he:ne[ee]})));return le.target=ne,oe||(le.smooth=gsap$3.getProperty(ne,"scrollBehavior")==="smooth"),le},_getVelocityProp=function(ne,te,ee){var re=ne,ie=ne,ae=_getTime$1(),oe=ae,le=te||50,he=Math.max(500,le*3),ue=function(me,de){var ve=_getTime$1();de||ve-ae>le?(ie=re,re=me,oe=ae,ae=ve):ee?re+=me:re=ie+(me-ie)/(ve-oe)*(ae-oe)},pe=function(){ie=re=ee?0:re,oe=ae=0},ce=function(me){var de=oe,ve=ie,ge=_getTime$1();return(me||me===0)&&me!==re&&ue(me),ae===oe||ge-oe>he?0:(re+(ee?ve:-ve))/((ee?ge:ae)-de)*1e3};return{update:ue,reset:pe,getVelocity:ce}},_getEvent=function(ne,te){return te&&!ne._gsapAllow&&ne.preventDefault(),ne.changedTouches?ne.changedTouches[0]:ne},_getAbsoluteMax=function(ne){var te=Math.max.apply(Math,ne),ee=Math.min.apply(Math,ne);return Math.abs(te)>=Math.abs(ee)?te:ee},_setScrollTrigger=function(){ScrollTrigger$1=gsap$3.core.globals().ScrollTrigger,ScrollTrigger$1&&ScrollTrigger$1.core&&_integrate()},_initCore$2=function(ne){return gsap$3=ne||_getGSAP$2(),gsap$3&&typeof document!="undefined"&&document.body&&(_win$2=window,_doc$2=document,_docEl$1=_doc$2.documentElement,_body$1=_doc$2.body,_root$1=[_win$2,_doc$2,_docEl$1,_body$1],gsap$3.utils.clamp,_context$2=gsap$3.core.context||function(){},_pointerType="onpointerenter"in _body$1?"pointer":"mouse",_isTouch=Observer.isTouch=_win$2.matchMedia&&_win$2.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in _win$2||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,_eventTypes=Observer.eventTypes=("ontouchstart"in _docEl$1?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in _docEl$1?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return _startup$1=0},500),_setScrollTrigger(),_coreInitted$3=1),_coreInitted$3};_horizontal.op=_vertical,_scrollers.cache=0;var Observer=function(){function se(te){this.init(te)}var ne=se.prototype;return ne.init=function(ee){_coreInitted$3||_initCore$2(gsap$3)||console.warn("Please gsap.registerPlugin(Observer)"),ScrollTrigger$1||_setScrollTrigger();var re=ee.tolerance,ie=ee.dragMinimum,ae=ee.type,oe=ee.target,le=ee.lineHeight,he=ee.debounce,ue=ee.preventDefault,pe=ee.onStop,ce=ee.onStopDelay,fe=ee.ignore,me=ee.wheelSpeed,de=ee.event,ve=ee.onDragStart,ge=ee.onDragEnd,xe=ee.onDrag,_e=ee.onPress,ye=ee.onRelease,we=ee.onRight,be=ee.onLeft,Se=ee.onUp,Ce=ee.onDown,Te=ee.onChangeX,De=ee.onChangeY,Fe=ee.onChange,Le=ee.onToggleX,Ie=ee.onToggleY,Oe=ee.onHover,ke=ee.onHoverEnd,Pe=ee.onMove,Me=ee.ignoreCheck,Ee=ee.isNormalizer,Ae=ee.onGestureStart,Re=ee.onGestureEnd,Be=ee.onWheel,ze=ee.onEnable,je=ee.onDisable,$e=ee.onClick,We=ee.scrollSpeed,Ge=ee.capture,He=ee.allowClicks,Ze=ee.lockAxis,Ye=ee.onLockAxis;this.target=oe=_getTarget(oe)||_docEl$1,this.vars=ee,fe&&(fe=gsap$3.utils.toArray(fe)),re=re||1e-9,ie=ie||0,me=me||1,We=We||1,ae=ae||"wheel,touch,pointer",he=he!==!1,le||(le=parseFloat(_win$2.getComputedStyle(_body$1).lineHeight)||22);var Qe,Je,Ne,Ke,ht,_t,pt,qe=this,Dt=0,wt=0,vt=_getScrollFunc(oe,_horizontal),gt=_getScrollFunc(oe,_vertical),Ft=vt(),Tt=gt(),Bt=~ae.indexOf("touch")&&!~ae.indexOf("pointer")&&_eventTypes[0]==="pointerdown",zt=_isViewport$1(oe),St=oe.ownerDocument||_doc$2,kt=[0,0,0],Rt=[0,0,0],Ut=0,Ht=function(){return Ut=_getTime$1()},nr=function(Ct,dt){return(qe.event=Ct)&&fe&&~fe.indexOf(Ct.target)||dt&&Bt&&Ct.pointerType!=="touch"||Me&&Me(Ct,dt)},mr=function(){qe._vx.reset(),qe._vy.reset(),Je.pause(),pe&&pe(qe)},sr=function(){var Ct=qe.deltaX=_getAbsoluteMax(kt),dt=qe.deltaY=_getAbsoluteMax(Rt),Mt=Math.abs(Ct)>=re,Pt=Math.abs(dt)>=re;Fe&&(Mt||Pt)&&Fe(qe,Ct,dt,kt,Rt),Mt&&(we&&qe.deltaX>0&&we(qe),be&&qe.deltaX<0&&be(qe),Te&&Te(qe),Le&&qe.deltaX<0!=Dt<0&&Le(qe),Dt=qe.deltaX,kt[0]=kt[1]=kt[2]=0),Pt&&(Ce&&qe.deltaY>0&&Ce(qe),Se&&qe.deltaY<0&&Se(qe),De&&De(qe),Ie&&qe.deltaY<0!=wt<0&&Ie(qe),wt=qe.deltaY,Rt[0]=Rt[1]=Rt[2]=0),(Ke||Ne)&&(Pe&&Pe(qe),Ne&&(xe(qe),Ne=!1),Ke=!1),_t&&!(_t=!1)&&Ye&&Ye(qe),ht&&(Be(qe),ht=!1),Qe=0},gr=function(Ct,dt,Mt){kt[Mt]+=Ct,Rt[Mt]+=dt,qe._vx.update(Ct),qe._vy.update(dt),he?Qe||(Qe=requestAnimationFrame(sr)):sr()},ur=function(Ct,dt){Ze&&!pt&&(qe.axis=pt=Math.abs(Ct)>Math.abs(dt)?"x":"y",_t=!0),pt!=="y"&&(kt[2]+=Ct,qe._vx.update(Ct,!0)),pt!=="x"&&(Rt[2]+=dt,qe._vy.update(dt,!0)),he?Qe||(Qe=requestAnimationFrame(sr)):sr()},cr=function(Ct){if(!nr(Ct,1)){Ct=_getEvent(Ct,ue);var dt=Ct.clientX,Mt=Ct.clientY,Pt=dt-qe.x,Lt=Mt-qe.y,Jt=qe.isDragging;qe.x=dt,qe.y=Mt,(Jt||Math.abs(qe.startX-dt)>=ie||Math.abs(qe.startY-Mt)>=ie)&&(xe&&(Ne=!0),Jt||(qe.isDragging=!0),ur(Pt,Lt),Jt||ve&&ve(qe))}},Gt=qe.onPress=function(Nt){nr(Nt,1)||(qe.axis=pt=null,Je.pause(),qe.isPressed=!0,Nt=_getEvent(Nt),Dt=wt=0,qe.startX=qe.x=Nt.clientX,qe.startY=qe.y=Nt.clientY,qe._vx.reset(),qe._vy.reset(),_addListener$1(Ee?oe:St,_eventTypes[1],cr,ue,!0),qe.deltaX=qe.deltaY=0,_e&&_e(qe))},or=function(Ct){if(!nr(Ct,1)){_removeListener$1(Ee?oe:St,_eventTypes[1],cr,!0);var dt=!isNaN(qe.y-qe.startY),Mt=qe.isDragging&&(Math.abs(qe.x-qe.startX)>3||Math.abs(qe.y-qe.startY)>3),Pt=_getEvent(Ct);!Mt&&dt&&(qe._vx.reset(),qe._vy.reset(),ue&&He&&gsap$3.delayedCall(.08,function(){if(_getTime$1()-Ut>300&&!Ct.defaultPrevented){if(Ct.target.click)Ct.target.click();else if(St.createEvent){var Lt=St.createEvent("MouseEvents");Lt.initMouseEvent("click",!0,!0,_win$2,1,Pt.screenX,Pt.screenY,Pt.clientX,Pt.clientY,!1,!1,!1,!1,0,null),Ct.target.dispatchEvent(Lt)}}})),qe.isDragging=qe.isGesturing=qe.isPressed=!1,pe&&!Ee&&Je.restart(!0),ge&&Mt&&ge(qe),ye&&ye(qe,Mt)}},ar=function(Ct){return Ct.touches&&Ct.touches.length>1&&(qe.isGesturing=!0)&&Ae(Ct,qe.isDragging)},ir=function(){return(qe.isGesturing=!1)||Re(qe)},fr=function(Ct){if(!nr(Ct)){var dt=vt(),Mt=gt();gr((dt-Ft)*We,(Mt-Tt)*We,1),Ft=dt,Tt=Mt,pe&&Je.restart(!0)}},pr=function(Ct){if(!nr(Ct)){Ct=_getEvent(Ct,ue),Be&&(ht=!0);var dt=(Ct.deltaMode===1?le:Ct.deltaMode===2?_win$2.innerHeight:1)*me;gr(Ct.deltaX*dt,Ct.deltaY*dt,0),pe&&!Ee&&Je.restart(!0)}},xr=function(Ct){if(!nr(Ct)){var dt=Ct.clientX,Mt=Ct.clientY,Pt=dt-qe.x,Lt=Mt-qe.y;qe.x=dt,qe.y=Mt,Ke=!0,(Pt||Lt)&&ur(Pt,Lt)}},yr=function(Ct){qe.event=Ct,Oe(qe)},vr=function(Ct){qe.event=Ct,ke(qe)},Sr=function(Ct){return nr(Ct)||_getEvent(Ct,ue)&&$e(qe)};Je=qe._dc=gsap$3.delayedCall(ce||.25,mr).pause(),qe.deltaX=qe.deltaY=0,qe._vx=_getVelocityProp(0,50,!0),qe._vy=_getVelocityProp(0,50,!0),qe.scrollX=vt,qe.scrollY=gt,qe.isDragging=qe.isGesturing=qe.isPressed=!1,_context$2(this),qe.enable=function(Nt){return qe.isEnabled||(_addListener$1(zt?St:oe,"scroll",_onScroll$1),ae.indexOf("scroll")>=0&&_addListener$1(zt?St:oe,"scroll",fr,ue,Ge),ae.indexOf("wheel")>=0&&_addListener$1(oe,"wheel",pr,ue,Ge),(ae.indexOf("touch")>=0&&_isTouch||ae.indexOf("pointer")>=0)&&(_addListener$1(oe,_eventTypes[0],Gt,ue,Ge),_addListener$1(St,_eventTypes[2],or),_addListener$1(St,_eventTypes[3],or),He&&_addListener$1(oe,"click",Ht,!1,!0),$e&&_addListener$1(oe,"click",Sr),Ae&&_addListener$1(St,"gesturestart",ar),Re&&_addListener$1(St,"gestureend",ir),Oe&&_addListener$1(oe,_pointerType+"enter",yr),ke&&_addListener$1(oe,_pointerType+"leave",vr),Pe&&_addListener$1(oe,_pointerType+"move",xr)),qe.isEnabled=!0,Nt&&Nt.type&&Gt(Nt),ze&&ze(qe)),qe},qe.disable=function(){qe.isEnabled&&(_observers.filter(function(Nt){return Nt!==qe&&_isViewport$1(Nt.target)}).length||_removeListener$1(zt?St:oe,"scroll",_onScroll$1),qe.isPressed&&(qe._vx.reset(),qe._vy.reset(),_removeListener$1(Ee?oe:St,_eventTypes[1],cr,!0)),_removeListener$1(zt?St:oe,"scroll",fr,Ge),_removeListener$1(oe,"wheel",pr,Ge),_removeListener$1(oe,_eventTypes[0],Gt,Ge),_removeListener$1(St,_eventTypes[2],or),_removeListener$1(St,_eventTypes[3],or),_removeListener$1(oe,"click",Ht,!0),_removeListener$1(oe,"click",Sr),_removeListener$1(St,"gesturestart",ar),_removeListener$1(St,"gestureend",ir),_removeListener$1(oe,_pointerType+"enter",yr),_removeListener$1(oe,_pointerType+"leave",vr),_removeListener$1(oe,_pointerType+"move",xr),qe.isEnabled=qe.isPressed=qe.isDragging=!1,je&&je(qe))},qe.kill=qe.revert=function(){qe.disable();var Nt=_observers.indexOf(qe);Nt>=0&&_observers.splice(Nt,1),_normalizer$1===qe&&(_normalizer$1=0)},_observers.push(qe),Ee&&_isViewport$1(oe)&&(_normalizer$1=qe),qe.enable(de)},_createClass(se,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),se}();Observer.version="3.11.4",Observer.create=function(se){return new Observer(se)},Observer.register=_initCore$2,Observer.getAll=function(){return _observers.slice()},Observer.getById=function(se){return _observers.filter(function(ne){return ne.vars.id===se})[0]},_getGSAP$2()&&gsap$3.registerPlugin(Observer);/*!
 * ScrollTrigger 3.11.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$2,_coreInitted$2,_win$1,_doc$1,_docEl,_body,_root,_resizeDelay,_toArray$1,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_normalizer,_ignoreMobileResize,_baseScreenHeight,_baseScreenWidth,_fixIOSBug,_context$1,_scrollRestoration,_limitCallbacks,_startup=1,_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=0,_pointerDownHandler=function(){return _pointerIsDown=1},_pointerUpHandler=function(){return _pointerIsDown=0},_passThrough=function(ne){return ne},_round=function(ne){return Math.round(ne*1e5)/1e5||0},_windowExists=function(){return typeof window!="undefined"},_getGSAP$1=function(){return gsap$2||_windowExists()&&(gsap$2=window.gsap)&&gsap$2.registerPlugin&&gsap$2},_isViewport=function(ne){return!!~_root.indexOf(ne)},_getBoundsFunc=function(ne){return _getProxyProp(ne,"getBoundingClientRect")||(_isViewport(ne)?function(){return _winOffsets.width=_win$1.innerWidth,_winOffsets.height=_win$1.innerHeight,_winOffsets}:function(){return _getBounds(ne)})},_getSizeFunc=function(ne,te,ee){var re=ee.d,ie=ee.d2,ae=ee.a;return(ae=_getProxyProp(ne,"getBoundingClientRect"))?function(){return ae()[re]}:function(){return(te?_win$1["inner"+ie]:ne["client"+ie])||0}},_getOffsetsFunc=function(ne,te){return!te||~_proxies.indexOf(ne)?_getBoundsFunc(ne):function(){return _winOffsets}},_maxScroll=function(ne,te){var ee=te.s,re=te.d2,ie=te.d,ae=te.a;return(ee="scroll"+re)&&(ae=_getProxyProp(ne,ee))?ae()-_getBoundsFunc(ne)()[ie]:_isViewport(ne)?(_docEl[ee]||_body[ee])-(_win$1["inner"+re]||_docEl["client"+re]||_body["client"+re]):ne[ee]-ne["offset"+re]},_iterateAutoRefresh=function(ne,te){for(var ee=0;ee<_autoRefresh.length;ee+=3)(!te||~te.indexOf(_autoRefresh[ee+1]))&&ne(_autoRefresh[ee],_autoRefresh[ee+1],_autoRefresh[ee+2])},_isString=function(ne){return typeof ne=="string"},_isFunction=function(ne){return typeof ne=="function"},_isNumber=function(ne){return typeof ne=="number"},_isObject=function(ne){return typeof ne=="object"},_endAnimation=function(ne,te,ee){return ne&&ne.progress(te?0:1)&&ee&&ne.pause()},_callback=function(ne,te){if(ne.enabled){var ee=te(ne);ee&&ee.totalTime&&(ne.callbackAnimation=ee)}},_abs=Math.abs,_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_getComputedStyle$1=function(ne){return _win$1.getComputedStyle(ne)},_makePositionable=function(ne){var te=_getComputedStyle$1(ne).position;ne.style.position=te==="absolute"||te==="fixed"?te:"relative"},_setDefaults=function(ne,te){for(var ee in te)ee in ne||(ne[ee]=te[ee]);return ne},_getBounds=function(ne,te){var ee=te&&_getComputedStyle$1(ne)[_transformProp]!=="matrix(1, 0, 0, 1, 0, 0)"&&gsap$2.to(ne,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),re=ne.getBoundingClientRect();return ee&&ee.progress(0).kill(),re},_getSize=function(ne,te){var ee=te.d2;return ne["offset"+ee]||ne["client"+ee]||0},_getLabelRatioArray=function(ne){var te=[],ee=ne.labels,re=ne.duration(),ie;for(ie in ee)te.push(ee[ie]/re);return te},_getClosestLabel=function(ne){return function(te){return gsap$2.utils.snap(_getLabelRatioArray(ne),te)}},_snapDirectional=function(ne){var te=gsap$2.utils.snap(ne),ee=Array.isArray(ne)&&ne.slice(0).sort(function(re,ie){return re-ie});return ee?function(re,ie,ae){ae===void 0&&(ae=.001);var oe;if(!ie)return te(re);if(ie>0){for(re-=ae,oe=0;oe<ee.length;oe++)if(ee[oe]>=re)return ee[oe];return ee[oe-1]}else for(oe=ee.length,re+=ae;oe--;)if(ee[oe]<=re)return ee[oe];return ee[0]}:function(re,ie,ae){ae===void 0&&(ae=.001);var oe=te(re);return!ie||Math.abs(oe-re)<ae||oe-re<0==ie<0?oe:te(ie<0?re-ne:re+ne)}},_getLabelAtDirection=function(ne){return function(te,ee){return _snapDirectional(_getLabelRatioArray(ne))(te,ee.direction)}},_multiListener=function(ne,te,ee,re){return ee.split(",").forEach(function(ie){return ne(te,ie,re)})},_addListener=function(ne,te,ee,re,ie){return ne.addEventListener(te,ee,{passive:!re,capture:!!ie})},_removeListener=function(ne,te,ee,re){return ne.removeEventListener(te,ee,!!re)},_wheelListener=function(ne,te,ee){return ee&&ee.wheelHandler&&ne(te,"wheel",ee)},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function(ne,te){if(_isString(ne)){var ee=ne.indexOf("="),re=~ee?+(ne.charAt(ee-1)+1)*parseFloat(ne.substr(ee+1)):0;~ee&&(ne.indexOf("%")>ee&&(re*=te/100),ne=ne.substr(0,ee-1)),ne=re+(ne in _keywords?_keywords[ne]*te:~ne.indexOf("%")?parseFloat(ne)*te/100:parseFloat(ne)||0)}return ne},_createMarker=function(ne,te,ee,re,ie,ae,oe,le){var he=ie.startColor,ue=ie.endColor,pe=ie.fontSize,ce=ie.indent,fe=ie.fontWeight,me=_doc$1.createElement("div"),de=_isViewport(ee)||_getProxyProp(ee,"pinType")==="fixed",ve=ne.indexOf("scroller")!==-1,ge=de?_body:ee,xe=ne.indexOf("start")!==-1,_e=xe?he:ue,ye="border-color:"+_e+";font-size:"+pe+";color:"+_e+";font-weight:"+fe+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return ye+="position:"+((ve||le)&&de?"fixed;":"absolute;"),(ve||le||!de)&&(ye+=(re===_vertical?_right:_bottom)+":"+(ae+parseFloat(ce))+"px;"),oe&&(ye+="box-sizing:border-box;text-align:left;width:"+oe.offsetWidth+"px;"),me._isStart=xe,me.setAttribute("class","gsap-marker-"+ne+(te?" marker-"+te:"")),me.style.cssText=ye,me.innerText=te||te===0?ne+"-"+te:ne,ge.children[0]?ge.insertBefore(me,ge.children[0]):ge.appendChild(me),me._offset=me["offset"+re.op.d2],_positionMarker(me,0,re,xe),me},_positionMarker=function(ne,te,ee,re){var ie={display:"block"},ae=ee[re?"os2":"p2"],oe=ee[re?"p2":"os2"];ne._isFlipped=re,ie[ee.a+"Percent"]=re?-100:0,ie[ee.a]=re?"1px":0,ie["border"+ae+_Width]=1,ie["border"+oe+_Width]=0,ie[ee.p]=te+"px",gsap$2.set(ne,ie)},_triggers=[],_ids={},_rafID,_sync=function(){return _getTime()-_lastScrollTime>34&&(_rafID||(_rafID=requestAnimationFrame(_updateAll)))},_onScroll=function(){(!_normalizer||!_normalizer.isPressed||_normalizer.startX>_body.clientWidth)&&(_scrollers.cache++,_normalizer?_rafID||(_rafID=requestAnimationFrame(_updateAll)):_updateAll(),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime())},_setBaseDimensions=function(){_baseScreenWidth=_win$1.innerWidth,_baseScreenHeight=_win$1.innerHeight},_onResize=function(){_scrollers.cache++,!_refreshing&&!_ignoreResize&&!_doc$1.fullscreenElement&&!_doc$1.webkitFullscreenElement&&(!_ignoreMobileResize||_baseScreenWidth!==_win$1.innerWidth||Math.abs(_win$1.innerHeight-_baseScreenHeight)>_win$1.innerHeight*.25)&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_softRefresh=function se(){return _removeListener(ScrollTrigger,"scrollEnd",se)||_refreshAll(!0)},_dispatch=function(ne){return _listeners[ne]&&_listeners[ne].map(function(te){return te()})||_emptyArray},_savedStyles=[],_revertRecorded=function(ne){for(var te=0;te<_savedStyles.length;te+=5)(!ne||_savedStyles[te+4]&&_savedStyles[te+4].query===ne)&&(_savedStyles[te].style.cssText=_savedStyles[te+1],_savedStyles[te].getBBox&&_savedStyles[te].setAttribute("transform",_savedStyles[te+2]||""),_savedStyles[te+3].uncache=1)},_revertAll=function(ne,te){var ee;for(_i=0;_i<_triggers.length;_i++)ee=_triggers[_i],ee&&(!te||ee._ctx===te)&&(ne?ee.kill(1):ee.revert(!0,!0));te&&_revertRecorded(te),te||_dispatch("revert")},_clearScrollMemory=function(ne,te){_scrollers.cache++,(te||!_refreshingAll)&&_scrollers.forEach(function(ee){return _isFunction(ee)&&ee.cacheID++&&(ee.rec=0)}),_isString(ne)&&(_win$1.history.scrollRestoration=_scrollRestoration=ne)},_refreshingAll,_refreshID=0,_queueRefreshID,_queueRefreshAll=function(){if(_queueRefreshID!==_refreshID){var ne=_queueRefreshID=_refreshID;requestAnimationFrame(function(){return ne===_refreshID&&_refreshAll(!0)})}},_refreshAll=function(ne,te){if(_lastScrollTime&&!ne){_addListener(ScrollTrigger,"scrollEnd",_softRefresh);return}_refreshingAll=ScrollTrigger.isRefreshing=!0,_scrollers.forEach(function(re){return _isFunction(re)&&re.cacheID++&&(re.rec=re())});var ee=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),te||_revertAll(),_scrollers.forEach(function(re){_isFunction(re)&&(re.smooth&&(re.target.style.scrollBehavior="auto"),re(0))}),_triggers.slice(0).forEach(function(re){return re.refresh()}),_triggers.forEach(function(re,ie){if(re._subPinOffset&&re.pin){var ae=re.vars.horizontal?"offsetWidth":"offsetHeight",oe=re.pin[ae];re.revert(!0,1),re.adjustPinSpacing(re.pin[ae]-oe),re.revert(!1,1)}}),_triggers.forEach(function(re){return re.vars.end==="max"&&re.setPositions(re.start,Math.max(re.start+1,_maxScroll(re.scroller,re._dir)))}),ee.forEach(function(re){return re&&re.render&&re.render(-1)}),_scrollers.forEach(function(re){_isFunction(re)&&(re.smooth&&requestAnimationFrame(function(){return re.target.style.scrollBehavior="smooth"}),re.rec&&re(re.rec))}),_clearScrollMemory(_scrollRestoration,1),_resizeDelay.pause(),_refreshID++,_updateAll(2),_triggers.forEach(function(re){return _isFunction(re.vars.onRefresh)&&re.vars.onRefresh(re)}),_refreshingAll=ScrollTrigger.isRefreshing=!1,_dispatch("refresh")},_lastScroll=0,_direction=1,_primary,_updateAll=function(ne){if(!_refreshingAll||ne===2){ScrollTrigger.isUpdating=!0,_primary&&_primary.update(0);var te=_triggers.length,ee=_getTime(),re=ee-_time1>=50,ie=te&&_triggers[0].scroll();if(_direction=_lastScroll>ie?-1:1,_lastScroll=ie,re&&(_lastScrollTime&&!_pointerIsDown&&ee-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=ee),_direction<0){for(_i=te;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,re);_direction=1}else for(_i=0;_i<te;_i++)_triggers[_i]&&_triggers[_i].update(0,re);ScrollTrigger.isUpdating=!1}_rafID=0},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function(ne,te,ee){_setState(ee);var re=ne._gsap;if(re.spacerIsNative)_setState(re.spacerState);else if(ne._gsap.swappedIn){var ie=te.parentNode;ie&&(ie.insertBefore(ne,te),ie.removeChild(te))}ne._gsap.swappedIn=!1},_swapPinIn=function(ne,te,ee,re){if(!ne._gsap.swappedIn){for(var ie=_propNamesToCopy.length,ae=te.style,oe=ne.style,le;ie--;)le=_propNamesToCopy[ie],ae[le]=ee[le];ae.position=ee.position==="absolute"?"absolute":"relative",ee.display==="inline"&&(ae.display="inline-block"),oe[_bottom]=oe[_right]="auto",ae.flexBasis=ee.flexBasis||"auto",ae.overflow="visible",ae.boxSizing="border-box",ae[_width]=_getSize(ne,_horizontal)+_px,ae[_height]=_getSize(ne,_vertical)+_px,ae[_padding]=oe[_margin]=oe[_top]=oe[_left]="0",_setState(re),oe[_width]=oe["max"+_Width]=ee[_width],oe[_height]=oe["max"+_Height]=ee[_height],oe[_padding]=ee[_padding],ne.parentNode!==te&&(ne.parentNode.insertBefore(te,ne),te.appendChild(ne)),ne._gsap.swappedIn=!0}},_capsExp=/([A-Z])/g,_setState=function(ne){if(ne){var te=ne.t.style,ee=ne.length,re=0,ie,ae;for((ne.t._gsap||gsap$2.core.getCache(ne.t)).uncache=1;re<ee;re+=2)ae=ne[re+1],ie=ne[re],ae?te[ie]=ae:te[ie]&&te.removeProperty(ie.replace(_capsExp,"-$1").toLowerCase())}},_getState=function(ne){for(var te=_stateProps.length,ee=ne.style,re=[],ie=0;ie<te;ie++)re.push(_stateProps[ie],ee[_stateProps[ie]]);return re.t=ne,re},_copyState=function(ne,te,ee){for(var re=[],ie=ne.length,ae=ee?8:0,oe;ae<ie;ae+=2)oe=ne[ae],re.push(oe,oe in te?te[oe]:ne[ae+1]);return re.t=ne.t,re},_winOffsets={left:0,top:0},_parsePosition=function(ne,te,ee,re,ie,ae,oe,le,he,ue,pe,ce,fe){_isFunction(ne)&&(ne=ne(le)),_isString(ne)&&ne.substr(0,3)==="max"&&(ne=ce+(ne.charAt(4)==="="?_offsetToPx("0"+ne.substr(3),ee):0));var me=fe?fe.time():0,de,ve,ge;if(fe&&fe.seek(0),_isNumber(ne))oe&&_positionMarker(oe,ee,re,!0);else{_isFunction(te)&&(te=te(le));var xe=(ne||"0").split(" "),_e,ye,we,be;ge=_getTarget(te)||_body,_e=_getBounds(ge)||{},(!_e||!_e.left&&!_e.top)&&_getComputedStyle$1(ge).display==="none"&&(be=ge.style.display,ge.style.display="block",_e=_getBounds(ge),be?ge.style.display=be:ge.style.removeProperty("display")),ye=_offsetToPx(xe[0],_e[re.d]),we=_offsetToPx(xe[1]||"0",ee),ne=_e[re.p]-he[re.p]-ue+ye+ie-we,oe&&_positionMarker(oe,we,re,ee-we<20||oe._isStart&&we>20),ee-=ee-we}if(ae){var Se=ne+ee,Ce=ae._isStart;de="scroll"+re.d2,_positionMarker(ae,Se,re,Ce&&Se>20||!Ce&&(pe?Math.max(_body[de],_docEl[de]):ae.parentNode[de])<=Se+1),pe&&(he=_getBounds(oe),pe&&(ae.style[re.op.p]=he[re.op.p]-re.op.m-ae._offset+_px))}return fe&&ge&&(de=_getBounds(ge),fe.seek(ce),ve=_getBounds(ge),fe._caScrollDist=de[re.p]-ve[re.p],ne=ne/fe._caScrollDist*ce),fe&&fe.seek(me),fe?ne:Math.round(ne)},_prefixExp=/(webkit|moz|length|cssText|inset)/i,_reparent=function(ne,te,ee,re){if(ne.parentNode!==te){var ie=ne.style,ae,oe;if(te===_body){ne._stOrig=ie.cssText,oe=_getComputedStyle$1(ne);for(ae in oe)!+ae&&!_prefixExp.test(ae)&&oe[ae]&&typeof ie[ae]=="string"&&ae!=="0"&&(ie[ae]=oe[ae]);ie.top=ee,ie.left=re}else ie.cssText=ne._stOrig;gsap$2.core.getCache(ne).uncache=1,te.appendChild(ne)}},_getTweenCreator=function(ne,te){var ee=_getScrollFunc(ne,te),re="_scroll"+te.p2,ie,ae,oe=function le(he,ue,pe,ce,fe){var me=le.tween,de=ue.onComplete,ve={};return pe=pe||ee(),fe=ce&&fe||0,ce=ce||he-pe,me&&me.kill(),ie=Math.round(pe),ue[re]=he,ue.modifiers=ve,ve[re]=function(ge){return ge=Math.round(ee()),ge!==ie&&ge!==ae&&Math.abs(ge-ie)>3&&Math.abs(ge-ae)>3?(me.kill(),le.tween=0):ge=pe+ce*me.ratio+fe*me.ratio*me.ratio,ae=ie,ie=Math.round(ge)},ue.onUpdate=function(){_scrollers.cache++,_updateAll()},ue.onComplete=function(){le.tween=0,de&&de.call(me)},me=le.tween=gsap$2.to(ne,ue),me};return ne[re]=ee,ee.wheelHandler=function(){return oe.tween&&oe.tween.kill()&&(oe.tween=0)},_addListener(ne,"wheel",ee.wheelHandler),oe},ScrollTrigger=function(){function se(te,ee){_coreInitted$2||se.register(gsap$2)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(te,ee)}var ne=se.prototype;return ne.init=function(ee,re){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!_enabled){this.update=this.refresh=this.kill=_passThrough;return}ee=_setDefaults(_isString(ee)||_isNumber(ee)||ee.nodeType?{trigger:ee}:ee,_defaults);var ie=ee,ae=ie.onUpdate,oe=ie.toggleClass,le=ie.id,he=ie.onToggle,ue=ie.onRefresh,pe=ie.scrub,ce=ie.trigger,fe=ie.pin,me=ie.pinSpacing,de=ie.invalidateOnRefresh,ve=ie.anticipatePin,ge=ie.onScrubComplete,xe=ie.onSnapComplete,_e=ie.once,ye=ie.snap,we=ie.pinReparent,be=ie.pinSpacer,Se=ie.containerAnimation,Ce=ie.fastScrollEnd,Te=ie.preventOverlaps,De=ee.horizontal||ee.containerAnimation&&ee.horizontal!==!1?_horizontal:_vertical,Fe=!pe&&pe!==0,Le=_getTarget(ee.scroller||_win$1),Ie=gsap$2.core.getCache(Le),Oe=_isViewport(Le),ke=("pinType"in ee?ee.pinType:_getProxyProp(Le,"pinType")||Oe&&"fixed")==="fixed",Pe=[ee.onEnter,ee.onLeave,ee.onEnterBack,ee.onLeaveBack],Me=Fe&&ee.toggleActions.split(" "),Ee="markers"in ee?ee.markers:_defaults.markers,Ae=Oe?0:parseFloat(_getComputedStyle$1(Le)["border"+De.p2+_Width])||0,Re=this,Be=ee.onRefreshInit&&function(){return ee.onRefreshInit(Re)},ze=_getSizeFunc(Le,Oe,De),je=_getOffsetsFunc(Le,Oe),$e=0,We=0,Ge=_getScrollFunc(Le,De),He,Ze,Ye,Qe,Je,Ne,Ke,ht,_t,pt,qe,Dt,wt,vt,gt,Ft,Tt,Bt,zt,St,kt,Rt,Ut,Ht,nr,mr,sr,gr,ur,cr,Gt,or,ar,ir,fr,pr,xr,yr,vr;if(_context$1(Re),Re._dir=De,ve*=45,Re.scroller=Le,Re.scroll=Se?Se.time.bind(Se):Ge,Qe=Ge(),Re.vars=ee,re=re||ee.animation,"refreshPriority"in ee&&(_sort=1,ee.refreshPriority===-9999&&(_primary=Re)),Ie.tweenScroll=Ie.tweenScroll||{top:_getTweenCreator(Le,_vertical),left:_getTweenCreator(Le,_horizontal)},Re.tweenTo=He=Ie.tweenScroll[De.p],Re.scrubDuration=function(dt){or=_isNumber(dt)&&dt,or?Gt?Gt.duration(dt):Gt=gsap$2.to(re,{ease:"expo",totalProgress:"+=0.001",duration:or,paused:!0,onComplete:function(){return ge&&ge(Re)}}):(Gt&&Gt.progress(1).kill(),Gt=0)},re&&(re.vars.lazy=!1,re._initted||re.vars.immediateRender!==!1&&ee.immediateRender!==!1&&re.duration()&&re.render(0,!0,!0),Re.animation=re.pause(),re.scrollTrigger=Re,Re.scrubDuration(pe),ur=0,le||(le=re.vars.id)),_triggers.push(Re),ye&&((!_isObject(ye)||ye.push)&&(ye={snapTo:ye}),"scrollBehavior"in _body.style&&gsap$2.set(Oe?[_body,_docEl]:Le,{scrollBehavior:"auto"}),_scrollers.forEach(function(dt){return _isFunction(dt)&&dt.target===(Oe?_doc$1.scrollingElement||_docEl:Le)&&(dt.smooth=!1)}),Ye=_isFunction(ye.snapTo)?ye.snapTo:ye.snapTo==="labels"?_getClosestLabel(re):ye.snapTo==="labelsDirectional"?_getLabelAtDirection(re):ye.directional!==!1?function(dt,Mt){return _snapDirectional(ye.snapTo)(dt,_getTime()-We<500?0:Mt.direction)}:gsap$2.utils.snap(ye.snapTo),ar=ye.duration||{min:.1,max:2},ar=_isObject(ar)?_clamp(ar.min,ar.max):_clamp(ar,ar),ir=gsap$2.delayedCall(ye.delay||or/2||.1,function(){var dt=Ge(),Mt=_getTime()-We<500,Pt=He.tween;if((Mt||Math.abs(Re.getVelocity())<10)&&!Pt&&!_pointerIsDown&&$e!==dt){var Lt=(dt-Ne)/wt,Jt=re&&!Fe?re.totalProgress():Lt,Vt=Mt?0:(Jt-cr)/(_getTime()-_time2)*1e3||0,Qt=gsap$2.utils.clamp(-Lt,1-Lt,_abs(Vt/2)*Vt/.185),Xt=Lt+(ye.inertia===!1?0:Qt),dr=_clamp(0,1,Ye(Xt,Re)),Wt=Math.round(Ne+dr*wt),er=ye,lr=er.onStart,qt=er.onInterrupt,Yt=er.onComplete;if(dt<=Ke&&dt>=Ne&&Wt!==dt){if(Pt&&!Pt._initted&&Pt.data<=_abs(Wt-dt))return;ye.inertia===!1&&(Qt=dr-Lt),He(Wt,{duration:ar(_abs(Math.max(_abs(Xt-Jt),_abs(dr-Jt))*.185/Vt/.05||0)),ease:ye.ease||"power3",data:_abs(Wt-dt),onInterrupt:function(){return ir.restart(!0)&&qt&&qt(Re)},onComplete:function(){Re.update(),$e=Ge(),ur=cr=re&&!Fe?re.totalProgress():Re.progress,xe&&xe(Re),Yt&&Yt(Re)}},dt,Qt*wt,Wt-dt-Qt*wt),lr&&lr(Re,He.tween)}}else Re.isActive&&$e!==dt&&ir.restart(!0)}).pause()),le&&(_ids[le]=Re),ce=Re.trigger=_getTarget(ce||fe),vr=ce&&ce._gsap&&ce._gsap.stRevert,vr&&(vr=vr(Re)),fe=fe===!0?ce:_getTarget(fe),_isString(oe)&&(oe={targets:ce,className:oe}),fe&&(me===!1||me===_margin||(me=!me&&fe.parentNode&&fe.parentNode.style&&_getComputedStyle$1(fe.parentNode).display==="flex"?!1:_padding),Re.pin=fe,Ze=gsap$2.core.getCache(fe),Ze.spacer?vt=Ze.pinState:(be&&(be=_getTarget(be),be&&!be.nodeType&&(be=be.current||be.nativeElement),Ze.spacerIsNative=!!be,be&&(Ze.spacerState=_getState(be))),Ze.spacer=Tt=be||_doc$1.createElement("div"),Tt.classList.add("pin-spacer"),le&&Tt.classList.add("pin-spacer-"+le),Ze.pinState=vt=_getState(fe)),ee.force3D!==!1&&gsap$2.set(fe,{force3D:!0}),Re.spacer=Tt=Ze.spacer,gr=_getComputedStyle$1(fe),Ut=gr[me+De.os2],zt=gsap$2.getProperty(fe),St=gsap$2.quickSetter(fe,De.a,_px),_swapPinIn(fe,Tt,gr),Ft=_getState(fe)),Ee){Dt=_isObject(Ee)?_setDefaults(Ee,_markerDefaults):_markerDefaults,pt=_createMarker("scroller-start",le,Le,De,Dt,0),qe=_createMarker("scroller-end",le,Le,De,Dt,0,pt),Bt=pt["offset"+De.op.d2];var Sr=_getTarget(_getProxyProp(Le,"content")||Le);ht=this.markerStart=_createMarker("start",le,Sr,De,Dt,Bt,0,Se),_t=this.markerEnd=_createMarker("end",le,Sr,De,Dt,Bt,0,Se),Se&&(yr=gsap$2.quickSetter([ht,_t],De.a,_px)),!ke&&!(_proxies.length&&_getProxyProp(Le,"fixedMarkers")===!0)&&(_makePositionable(Oe?_body:Le),gsap$2.set([pt,qe],{force3D:!0}),nr=gsap$2.quickSetter(pt,De.a,_px),sr=gsap$2.quickSetter(qe,De.a,_px))}if(Se){var Nt=Se.vars.onUpdate,Ct=Se.vars.onUpdateParams;Se.eventCallback("onUpdate",function(){Re.update(0,0,1),Nt&&Nt.apply(Ct||[])})}Re.previous=function(){return _triggers[_triggers.indexOf(Re)-1]},Re.next=function(){return _triggers[_triggers.indexOf(Re)+1]},Re.revert=function(dt,Mt){if(!Mt)return Re.kill(!0);var Pt=dt!==!1||!Re.enabled,Lt=_refreshing;Pt!==Re.isReverted&&(Pt&&(pr=Math.max(Ge(),Re.scroll.rec||0),fr=Re.progress,xr=re&&re.progress()),ht&&[ht,_t,pt,qe].forEach(function(Jt){return Jt.style.display=Pt?"none":"block"}),Pt&&(_refreshing=1,Re.update(Pt)),fe&&(!we||!Re.isActive)&&(Pt?_swapPinOut(fe,Tt,vt):_swapPinIn(fe,Tt,_getComputedStyle$1(fe),Ht)),Pt||Re.update(Pt),_refreshing=Lt,Re.isReverted=Pt)},Re.refresh=function(dt,Mt){if(!((_refreshing||!Re.enabled)&&!Mt)){if(fe&&dt&&_lastScrollTime){_addListener(se,"scrollEnd",_softRefresh);return}!_refreshingAll&&Be&&Be(Re),_refreshing=1,We=_getTime(),He.tween&&(He.tween.kill(),He.tween=0),Gt&&Gt.pause(),de&&re&&re.revert({kill:!1}).invalidate(),Re.isReverted||Re.revert(!0,!0),Re._subPinOffset=!1;for(var Pt=ze(),Lt=je(),Jt=Se?Se.duration():_maxScroll(Le,De),Vt=0,Qt=0,Xt=ee.end,dr=ee.endTrigger||ce,Wt=ee.start||(ee.start===0||!ce?0:fe?"0 0":"0 100%"),er=Re.pinnedContainer=ee.pinnedContainer&&_getTarget(ee.pinnedContainer),lr=ce&&Math.max(0,_triggers.indexOf(Re))||0,qt=lr,Yt,Kt,br,wr,$t,Ve,Ue,Xe,lt,at,mt;qt--;)Ve=_triggers[qt],Ve.end||Ve.refresh(0,1)||(_refreshing=1),Ue=Ve.pin,Ue&&(Ue===ce||Ue===fe)&&!Ve.isReverted&&(at||(at=[]),at.unshift(Ve),Ve.revert(!0,!0)),Ve!==_triggers[qt]&&(lr--,qt--);for(_isFunction(Wt)&&(Wt=Wt(Re)),Ne=_parsePosition(Wt,ce,Pt,De,Ge(),ht,pt,Re,Lt,Ae,ke,Jt,Se)||(fe?-.001:0),_isFunction(Xt)&&(Xt=Xt(Re)),_isString(Xt)&&!Xt.indexOf("+=")&&(~Xt.indexOf(" ")?Xt=(_isString(Wt)?Wt.split(" ")[0]:"")+Xt:(Vt=_offsetToPx(Xt.substr(2),Pt),Xt=_isString(Wt)?Wt:Ne+Vt,dr=ce)),Ke=Math.max(Ne,_parsePosition(Xt||(dr?"100% 0":Jt),dr,Pt,De,Ge()+Vt,_t,qe,Re,Lt,Ae,ke,Jt,Se))||-.001,wt=Ke-Ne||(Ne-=.01)&&.001,Vt=0,qt=lr;qt--;)Ve=_triggers[qt],Ue=Ve.pin,Ue&&Ve.start-Ve._pinPush<=Ne&&!Se&&Ve.end>0&&(Yt=Ve.end-Ve.start,(Ue===ce&&Ve.start-Ve._pinPush<Ne||Ue===er)&&!_isNumber(Wt)&&(Vt+=Yt*(1-Ve.progress)),Ue===fe&&(Qt+=Yt));if(Ne+=Vt,Ke+=Vt,Re._pinPush=Qt,ht&&Vt&&(Yt={},Yt[De.a]="+="+Vt,er&&(Yt[De.p]="-="+Ge()),gsap$2.set([ht,_t],Yt)),fe)Yt=_getComputedStyle$1(fe),wr=De===_vertical,br=Ge(),kt=parseFloat(zt(De.a))+Qt,!Jt&&Ke>1&&(mt=(Oe?_doc$1.scrollingElement||_docEl:Le).style,mt={style:mt,value:mt["overflow"+De.a.toUpperCase()]},mt["overflow"+De.a.toUpperCase()]="scroll"),_swapPinIn(fe,Tt,Yt),Ft=_getState(fe),Kt=_getBounds(fe,!0),Xe=ke&&_getScrollFunc(Le,wr?_horizontal:_vertical)(),me&&(Ht=[me+De.os2,wt+Qt+_px],Ht.t=Tt,qt=me===_padding?_getSize(fe,De)+wt+Qt:0,qt&&Ht.push(De.d,qt+_px),_setState(Ht),er&&_triggers.forEach(function(At){At.pin===er&&At.vars.pinSpacing!==!1&&(At._subPinOffset=!0)}),ke&&Ge(pr)),ke&&($t={top:Kt.top+(wr?br-Ne:Xe)+_px,left:Kt.left+(wr?Xe:br-Ne)+_px,boxSizing:"border-box",position:"fixed"},$t[_width]=$t["max"+_Width]=Math.ceil(Kt.width)+_px,$t[_height]=$t["max"+_Height]=Math.ceil(Kt.height)+_px,$t[_margin]=$t[_margin+_Top]=$t[_margin+_Right]=$t[_margin+_Bottom]=$t[_margin+_Left]="0",$t[_padding]=Yt[_padding],$t[_padding+_Top]=Yt[_padding+_Top],$t[_padding+_Right]=Yt[_padding+_Right],$t[_padding+_Bottom]=Yt[_padding+_Bottom],$t[_padding+_Left]=Yt[_padding+_Left],gt=_copyState(vt,$t,we),_refreshingAll&&Ge(0)),re?(lt=re._initted,_suppressOverwrites(1),re.render(re.duration(),!0,!0),Rt=zt(De.a)-kt+wt+Qt,mr=Math.abs(wt-Rt)>1,ke&&mr&&gt.splice(gt.length-2,2),re.render(0,!0,!0),lt||re.invalidate(!0),re.parent||re.totalTime(re.totalTime()),_suppressOverwrites(0)):Rt=wt,mt&&(mt.value?mt.style["overflow"+De.a.toUpperCase()]=mt.value:mt.style.removeProperty("overflow-"+De.a));else if(ce&&Ge()&&!Se)for(Kt=ce.parentNode;Kt&&Kt!==_body;)Kt._pinOffset&&(Ne-=Kt._pinOffset,Ke-=Kt._pinOffset),Kt=Kt.parentNode;at&&at.forEach(function(At){return At.revert(!1,!0)}),Re.start=Ne,Re.end=Ke,Qe=Je=_refreshingAll?pr:Ge(),!Se&&!_refreshingAll&&(Qe<pr&&Ge(pr),Re.scroll.rec=0),Re.revert(!1,!0),ir&&($e=-1,Re.isActive&&Ge(Ne+wt*fr),ir.restart(!0)),_refreshing=0,re&&Fe&&(re._initted||xr)&&re.progress()!==xr&&re.progress(xr,!0).render(re.time(),!0,!0),(fr!==Re.progress||Se)&&(re&&!Fe&&re.totalProgress(fr,!0),Re.progress=(Qe-Ne)/wt===fr?0:fr),fe&&me&&(Tt._pinOffset=Math.round(Re.progress*Rt)),ue&&!_refreshingAll&&ue(Re)}},Re.getVelocity=function(){return(Ge()-Je)/(_getTime()-_time2)*1e3||0},Re.endAnimation=function(){_endAnimation(Re.callbackAnimation),re&&(Gt?Gt.progress(1):re.paused()?Fe||_endAnimation(re,Re.direction<0,1):_endAnimation(re,re.reversed()))},Re.labelToScroll=function(dt){return re&&re.labels&&(Ne||Re.refresh()||Ne)+re.labels[dt]/re.duration()*wt||0},Re.getTrailing=function(dt){var Mt=_triggers.indexOf(Re),Pt=Re.direction>0?_triggers.slice(0,Mt).reverse():_triggers.slice(Mt+1);return(_isString(dt)?Pt.filter(function(Lt){return Lt.vars.preventOverlaps===dt}):Pt).filter(function(Lt){return Re.direction>0?Lt.end<=Ne:Lt.start>=Ke})},Re.update=function(dt,Mt,Pt){if(!(Se&&!Pt&&!dt)){var Lt=_refreshingAll?pr:Re.scroll(),Jt=dt?0:(Lt-Ne)/wt,Vt=Jt<0?0:Jt>1?1:Jt||0,Qt=Re.progress,Xt,dr,Wt,er,lr,qt,Yt,Kt;if(Mt&&(Je=Qe,Qe=Se?Ge():Lt,ye&&(cr=ur,ur=re&&!Fe?re.totalProgress():Vt)),ve&&!Vt&&fe&&!_refreshing&&!_startup&&_lastScrollTime&&Ne<Lt+(Lt-Je)/(_getTime()-_time2)*ve&&(Vt=1e-4),Vt!==Qt&&Re.enabled){if(Xt=Re.isActive=!!Vt&&Vt<1,dr=!!Qt&&Qt<1,qt=Xt!==dr,lr=qt||!!Vt!=!!Qt,Re.direction=Vt>Qt?1:-1,Re.progress=Vt,lr&&!_refreshing&&(Wt=Vt&&!Qt?0:Vt===1?1:Qt===1?2:3,Fe&&(er=!qt&&Me[Wt+1]!=="none"&&Me[Wt+1]||Me[Wt],Kt=re&&(er==="complete"||er==="reset"||er in re))),Te&&(qt||Kt)&&(Kt||pe||!re)&&(_isFunction(Te)?Te(Re):Re.getTrailing(Te).forEach(function(Ve){return Ve.endAnimation()})),Fe||(Gt&&!_refreshing&&!_startup?(Gt._dp._time-Gt._start!==Gt._time&&Gt.render(Gt._dp._time-Gt._start),Gt.resetTo?Gt.resetTo("totalProgress",Vt,re._tTime/re._tDur):(Gt.vars.totalProgress=Vt,Gt.invalidate().restart())):re&&re.totalProgress(Vt,!!_refreshing)),fe){if(dt&&me&&(Tt.style[me+De.os2]=Ut),!ke)St(_round(kt+Rt*Vt));else if(lr){if(Yt=!dt&&Vt>Qt&&Ke+1>Lt&&Lt+1>=_maxScroll(Le,De),we)if(!dt&&(Xt||Yt)){var br=_getBounds(fe,!0),wr=Lt-Ne;_reparent(fe,_body,br.top+(De===_vertical?wr:0)+_px,br.left+(De===_vertical?0:wr)+_px)}else _reparent(fe,Tt);_setState(Xt||Yt?gt:Ft),mr&&Vt<1&&Xt||St(kt+(Vt===1&&!Yt?Rt:0))}}ye&&!He.tween&&!_refreshing&&!_startup&&ir.restart(!0),oe&&(qt||_e&&Vt&&(Vt<1||!_limitCallbacks))&&_toArray$1(oe.targets).forEach(function(Ve){return Ve.classList[Xt||_e?"add":"remove"](oe.className)}),ae&&!Fe&&!dt&&ae(Re),lr&&!_refreshing?(Fe&&(Kt&&(er==="complete"?re.pause().totalProgress(1):er==="reset"?re.restart(!0).pause():er==="restart"?re.restart(!0):re[er]()),ae&&ae(Re)),(qt||!_limitCallbacks)&&(he&&qt&&_callback(Re,he),Pe[Wt]&&_callback(Re,Pe[Wt]),_e&&(Vt===1?Re.kill(!1,1):Pe[Wt]=0),qt||(Wt=Vt===1?1:3,Pe[Wt]&&_callback(Re,Pe[Wt]))),Ce&&!Xt&&Math.abs(Re.getVelocity())>(_isNumber(Ce)?Ce:2500)&&(_endAnimation(Re.callbackAnimation),Gt?Gt.progress(1):_endAnimation(re,er==="reverse"?1:!Vt,1))):Fe&&ae&&!_refreshing&&ae(Re)}if(sr){var $t=Se?Lt/Se.duration()*(Se._caScrollDist||0):Lt;nr($t+(pt._isFlipped?1:0)),sr($t)}yr&&yr(-Lt/Se.duration()*(Se._caScrollDist||0))}},Re.enable=function(dt,Mt){Re.enabled||(Re.enabled=!0,_addListener(Le,"resize",_onResize),_addListener(Oe?_doc$1:Le,"scroll",_onScroll),Be&&_addListener(se,"refreshInit",Be),dt!==!1&&(Re.progress=fr=0,Qe=Je=$e=Ge()),Mt!==!1&&Re.refresh())},Re.getTween=function(dt){return dt&&He?He.tween:Gt},Re.setPositions=function(dt,Mt){fe&&(kt+=dt-Ne,Rt+=Mt-dt-wt,me===_padding&&Re.adjustPinSpacing(Mt-dt-wt)),Re.start=Ne=dt,Re.end=Ke=Mt,wt=Mt-dt,Re.update()},Re.adjustPinSpacing=function(dt){if(Ht){var Mt=Ht.indexOf(De.d)+1;Ht[Mt]=parseFloat(Ht[Mt])+dt+_px,Ht[1]=parseFloat(Ht[1])+dt+_px,_setState(Ht)}},Re.disable=function(dt,Mt){if(Re.enabled&&(dt!==!1&&Re.revert(!0,!0),Re.enabled=Re.isActive=!1,Mt||Gt&&Gt.pause(),pr=0,Ze&&(Ze.uncache=1),Be&&_removeListener(se,"refreshInit",Be),ir&&(ir.pause(),He.tween&&He.tween.kill()&&(He.tween=0)),!Oe)){for(var Pt=_triggers.length;Pt--;)if(_triggers[Pt].scroller===Le&&_triggers[Pt]!==Re)return;_removeListener(Le,"resize",_onResize),_removeListener(Le,"scroll",_onScroll)}},Re.kill=function(dt,Mt){Re.disable(dt,Mt),Gt&&!Mt&&Gt.kill(),le&&delete _ids[le];var Pt=_triggers.indexOf(Re);Pt>=0&&_triggers.splice(Pt,1),Pt===_i&&_direction>0&&_i--,Pt=0,_triggers.forEach(function(Lt){return Lt.scroller===Re.scroller&&(Pt=1)}),Pt||_refreshingAll||(Re.scroll.rec=0),re&&(re.scrollTrigger=null,dt&&re.revert({kill:!1}),Mt||re.kill()),ht&&[ht,_t,pt,qe].forEach(function(Lt){return Lt.parentNode&&Lt.parentNode.removeChild(Lt)}),_primary===Re&&(_primary=0),fe&&(Ze&&(Ze.uncache=1),Pt=0,_triggers.forEach(function(Lt){return Lt.pin===fe&&Pt++}),Pt||(Ze.spacer=0)),ee.onKill&&ee.onKill(Re)},Re.enable(!1,!1),vr&&vr(Re),!re||!re.add||wt?Re.refresh():gsap$2.delayedCall(.01,function(){return Ne||Ke||Re.refresh()})&&(wt=.01)&&(Ne=Ke=0),fe&&_queueRefreshAll()},se.register=function(ee){return _coreInitted$2||(gsap$2=ee||_getGSAP$1(),_windowExists()&&window.document&&se.enable(),_coreInitted$2=_enabled),_coreInitted$2},se.defaults=function(ee){if(ee)for(var re in ee)_defaults[re]=ee[re];return _defaults},se.disable=function(ee,re){_enabled=0,_triggers.forEach(function(ae){return ae[re?"kill":"disable"](ee)}),_removeListener(_win$1,"wheel",_onScroll),_removeListener(_doc$1,"scroll",_onScroll),clearInterval(_syncInterval),_removeListener(_doc$1,"touchcancel",_passThrough),_removeListener(_body,"touchstart",_passThrough),_multiListener(_removeListener,_doc$1,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_removeListener,_doc$1,"pointerup,touchend,mouseup",_pointerUpHandler),_resizeDelay.kill(),_iterateAutoRefresh(_removeListener);for(var ie=0;ie<_scrollers.length;ie+=3)_wheelListener(_removeListener,_scrollers[ie],_scrollers[ie+1]),_wheelListener(_removeListener,_scrollers[ie],_scrollers[ie+2])},se.enable=function(){if(_win$1=window,_doc$1=document,_docEl=_doc$1.documentElement,_body=_doc$1.body,gsap$2&&(_toArray$1=gsap$2.utils.toArray,_clamp=gsap$2.utils.clamp,_context$1=gsap$2.core.context||_passThrough,_suppressOverwrites=gsap$2.core.suppressOverwrites||_passThrough,_scrollRestoration=_win$1.history.scrollRestoration||"auto",gsap$2.core.globals("ScrollTrigger",se),_body)){_enabled=1,Observer.register(gsap$2),se.isTouch=Observer.isTouch,_fixIOSBug=Observer.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_addListener(_win$1,"wheel",_onScroll),_root=[_win$1,_doc$1,_docEl,_body],gsap$2.matchMedia?(se.matchMedia=function(le){var he=gsap$2.matchMedia(),ue;for(ue in le)he.add(ue,le[ue]);return he},gsap$2.addEventListener("matchMediaInit",function(){return _revertAll()}),gsap$2.addEventListener("matchMediaRevert",function(){return _revertRecorded()}),gsap$2.addEventListener("matchMedia",function(){_refreshAll(0,1),_dispatch("matchMedia")}),gsap$2.matchMedia("(orientation: portrait)",function(){return _setBaseDimensions(),_setBaseDimensions})):console.warn("Requires GSAP 3.11.0 or later"),_setBaseDimensions(),_addListener(_doc$1,"scroll",_onScroll);var ee=_body.style,re=ee.borderTopStyle,ie=gsap$2.core.Animation.prototype,ae,oe;for(ie.revert||Object.defineProperty(ie,"revert",{value:function(){return this.time(-.01,!0)}}),ee.borderTopStyle="solid",ae=_getBounds(_body),_vertical.m=Math.round(ae.top+_vertical.sc())||0,_horizontal.m=Math.round(ae.left+_horizontal.sc())||0,re?ee.borderTopStyle=re:ee.removeProperty("border-top-style"),_syncInterval=setInterval(_sync,250),gsap$2.delayedCall(.5,function(){return _startup=0}),_addListener(_doc$1,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc$1,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_addListener,_doc$1,"pointerup,touchend,mouseup",_pointerUpHandler),_transformProp=gsap$2.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted$2=_getTime(),_resizeDelay=gsap$2.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc$1,"visibilitychange",function(){var le=_win$1.innerWidth,he=_win$1.innerHeight;_doc$1.hidden?(_prevWidth=le,_prevHeight=he):(_prevWidth!==le||_prevHeight!==he)&&_onResize()},_doc$1,"DOMContentLoaded",_refreshAll,_win$1,"load",_refreshAll,_win$1,"resize",_onResize],_iterateAutoRefresh(_addListener),_triggers.forEach(function(le){return le.enable(0,1)}),oe=0;oe<_scrollers.length;oe+=3)_wheelListener(_removeListener,_scrollers[oe],_scrollers[oe+1]),_wheelListener(_removeListener,_scrollers[oe],_scrollers[oe+2])}},se.config=function(ee){"limitCallbacks"in ee&&(_limitCallbacks=!!ee.limitCallbacks);var re=ee.syncInterval;re&&clearInterval(_syncInterval)||(_syncInterval=re)&&setInterval(_sync,re),"ignoreMobileResize"in ee&&(_ignoreMobileResize=se.isTouch===1&&ee.ignoreMobileResize),"autoRefreshEvents"in ee&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,ee.autoRefreshEvents||"none"),_ignoreResize=(ee.autoRefreshEvents+"").indexOf("resize")===-1)},se.scrollerProxy=function(ee,re){var ie=_getTarget(ee),ae=_scrollers.indexOf(ie),oe=_isViewport(ie);~ae&&_scrollers.splice(ae,oe?6:2),re&&(oe?_proxies.unshift(_win$1,re,_body,re,_docEl,re):_proxies.unshift(ie,re))},se.clearMatchMedia=function(ee){_triggers.forEach(function(re){return re._ctx&&re._ctx.query===ee&&re._ctx.kill(!0,!0)})},se.isInViewport=function(ee,re,ie){var ae=(_isString(ee)?_getTarget(ee):ee).getBoundingClientRect(),oe=ae[ie?_width:_height]*re||0;return ie?ae.right-oe>0&&ae.left+oe<_win$1.innerWidth:ae.bottom-oe>0&&ae.top+oe<_win$1.innerHeight},se.positionInViewport=function(ee,re,ie){_isString(ee)&&(ee=_getTarget(ee));var ae=ee.getBoundingClientRect(),oe=ae[ie?_width:_height],le=re==null?oe/2:re in _keywords?_keywords[re]*oe:~re.indexOf("%")?parseFloat(re)*oe/100:parseFloat(re)||0;return ie?(ae.left+le)/_win$1.innerWidth:(ae.top+le)/_win$1.innerHeight},se.killAll=function(ee){if(_triggers.slice(0).forEach(function(ie){return ie.vars.id!=="ScrollSmoother"&&ie.kill()}),ee!==!0){var re=_listeners.killAll||[];_listeners={},re.forEach(function(ie){return ie()})}},se}();ScrollTrigger.version="3.11.4",ScrollTrigger.saveStyles=function(se){return se?_toArray$1(se).forEach(function(ne){if(ne&&ne.style){var te=_savedStyles.indexOf(ne);te>=0&&_savedStyles.splice(te,5),_savedStyles.push(ne,ne.style.cssText,ne.getBBox&&ne.getAttribute("transform"),gsap$2.core.getCache(ne),_context$1())}}):_savedStyles},ScrollTrigger.revert=function(se,ne){return _revertAll(!se,ne)},ScrollTrigger.create=function(se,ne){return new ScrollTrigger(se,ne)},ScrollTrigger.refresh=function(se){return se?_onResize():(_coreInitted$2||ScrollTrigger.register())&&_refreshAll(!0)},ScrollTrigger.update=function(se){return++_scrollers.cache&&_updateAll(se===!0?2:0)},ScrollTrigger.clearScrollMemory=_clearScrollMemory,ScrollTrigger.maxScroll=function(se,ne){return _maxScroll(se,ne?_horizontal:_vertical)},ScrollTrigger.getScrollFunc=function(se,ne){return _getScrollFunc(_getTarget(se),ne?_horizontal:_vertical)},ScrollTrigger.getById=function(se){return _ids[se]},ScrollTrigger.getAll=function(){return _triggers.filter(function(se){return se.vars.id!=="ScrollSmoother"})},ScrollTrigger.isScrolling=function(){return!!_lastScrollTime},ScrollTrigger.snapDirectional=_snapDirectional,ScrollTrigger.addEventListener=function(se,ne){var te=_listeners[se]||(_listeners[se]=[]);~te.indexOf(ne)||te.push(ne)},ScrollTrigger.removeEventListener=function(se,ne){var te=_listeners[se],ee=te&&te.indexOf(ne);ee>=0&&te.splice(ee,1)},ScrollTrigger.batch=function(se,ne){var te=[],ee={},re=ne.interval||.016,ie=ne.batchMax||1e9,ae=function(he,ue){var pe=[],ce=[],fe=gsap$2.delayedCall(re,function(){ue(pe,ce),pe=[],ce=[]}).pause();return function(me){pe.length||fe.restart(!0),pe.push(me.trigger),ce.push(me),ie<=pe.length&&fe.progress(1)}},oe;for(oe in ne)ee[oe]=oe.substr(0,2)==="on"&&_isFunction(ne[oe])&&oe!=="onRefreshInit"?ae(oe,ne[oe]):ne[oe];return _isFunction(ie)&&(ie=ie(),_addListener(ScrollTrigger,"refresh",function(){return ie=ne.batchMax()})),_toArray$1(se).forEach(function(le){var he={};for(oe in ee)he[oe]=ee[oe];he.trigger=le,te.push(ScrollTrigger.create(he))}),te};var _clampScrollAndGetDurationMultiplier=function(ne,te,ee,re){return te>re?ne(re):te<0&&ne(0),ee>re?(re-te)/(ee-te):ee<0?te/(te-ee):1},_allowNativePanning=function se(ne,te){te===!0?ne.style.removeProperty("touch-action"):ne.style.touchAction=te===!0?"auto":te?"pan-"+te+(Observer.isTouch?" pinch-zoom":""):"none",ne===_docEl&&se(_body,te)},_overflow={auto:1,scroll:1},_nestedScroll=function(ne){var te=ne.event,ee=ne.target,re=ne.axis,ie=(te.changedTouches?te.changedTouches[0]:te).target,ae=ie._gsap||gsap$2.core.getCache(ie),oe=_getTime(),le;if(!ae._isScrollT||oe-ae._isScrollT>2e3){for(;ie&&ie!==_body&&(ie.scrollHeight<=ie.clientHeight&&ie.scrollWidth<=ie.clientWidth||!(_overflow[(le=_getComputedStyle$1(ie)).overflowY]||_overflow[le.overflowX]));)ie=ie.parentNode;ae._isScroll=ie&&ie!==ee&&!_isViewport(ie)&&(_overflow[(le=_getComputedStyle$1(ie)).overflowY]||_overflow[le.overflowX]),ae._isScrollT=oe}(ae._isScroll||re==="x")&&(te.stopPropagation(),te._gsapAllow=!0)},_inputObserver=function(ne,te,ee,re){return Observer.create({target:ne,capture:!0,debounce:!1,lockAxis:!0,type:te,onWheel:re=re&&_nestedScroll,onPress:re,onDrag:re,onScroll:re,onEnable:function(){return ee&&_addListener(_doc$1,Observer.eventTypes[0],_captureInputs,!1,!0)},onDisable:function(){return _removeListener(_doc$1,Observer.eventTypes[0],_captureInputs,!0)}})},_inputExp=/(input|label|select|textarea)/i,_inputIsFocused,_captureInputs=function(ne){var te=_inputExp.test(ne.target.tagName);(te||_inputIsFocused)&&(ne._gsapAllow=!0,_inputIsFocused=te)},_getScrollNormalizer=function(ne){_isObject(ne)||(ne={}),ne.preventDefault=ne.isNormalizer=ne.allowClicks=!0,ne.type||(ne.type="wheel,touch"),ne.debounce=!!ne.debounce,ne.id=ne.id||"normalizer";var te=ne,ee=te.normalizeScrollX,re=te.momentum,ie=te.allowNestedScroll,ae,oe,le=_getTarget(ne.target)||_docEl,he=gsap$2.core.globals().ScrollSmoother,ue=he&&he.get(),pe=_fixIOSBug&&(ne.content&&_getTarget(ne.content)||ue&&ne.content!==!1&&!ue.smooth()&&ue.content()),ce=_getScrollFunc(le,_vertical),fe=_getScrollFunc(le,_horizontal),me=1,de=(Observer.isTouch&&_win$1.visualViewport?_win$1.visualViewport.scale*_win$1.visualViewport.width:_win$1.outerWidth)/_win$1.innerWidth,ve=0,ge=_isFunction(re)?function(){return re(ae)}:function(){return re||2.8},xe,_e,ye=_inputObserver(le,ne.type,!0,ie),we=function(){return _e=!1},be=_passThrough,Se=_passThrough,Ce=function(){oe=_maxScroll(le,_vertical),Se=_clamp(_fixIOSBug?1:0,oe),ee&&(be=_clamp(0,_maxScroll(le,_horizontal))),xe=_refreshID},Te=function(){pe._gsap.y=_round(parseFloat(pe._gsap.y)+ce.offset)+"px",pe.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(pe._gsap.y)+", 0, 1)",ce.offset=ce.cacheID=0},De=function(){if(_e){requestAnimationFrame(we);var Me=_round(ae.deltaY/2),Ee=Se(ce.v-Me);if(pe&&Ee!==ce.v+ce.offset){ce.offset=Ee-ce.v;var Ae=_round((parseFloat(pe&&pe._gsap.y)||0)-ce.offset);pe.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Ae+", 0, 1)",pe._gsap.y=Ae+"px",ce.cacheID=_scrollers.cache,_updateAll()}return!0}ce.offset&&Te(),_e=!0},Fe,Le,Ie,Oe,ke=function(){Ce(),Fe.isActive()&&Fe.vars.scrollY>oe&&(ce()>oe?Fe.progress(1)&&ce(oe):Fe.resetTo("scrollY",oe))};return pe&&gsap$2.set(pe,{y:"+=0"}),ne.ignoreCheck=function(Pe){return _fixIOSBug&&Pe.type==="touchmove"&&De()||me>1.05&&Pe.type!=="touchstart"||ae.isGesturing||Pe.touches&&Pe.touches.length>1},ne.onPress=function(){var Pe=me;me=_round((_win$1.visualViewport&&_win$1.visualViewport.scale||1)/de),Fe.pause(),Pe!==me&&_allowNativePanning(le,me>1.01?!0:ee?!1:"x"),Le=fe(),Ie=ce(),Ce(),xe=_refreshID},ne.onRelease=ne.onGestureStart=function(Pe,Me){if(ce.offset&&Te(),!Me)Oe.restart(!0);else{_scrollers.cache++;var Ee=ge(),Ae,Re;ee&&(Ae=fe(),Re=Ae+Ee*.05*-Pe.velocityX/.227,Ee*=_clampScrollAndGetDurationMultiplier(fe,Ae,Re,_maxScroll(le,_horizontal)),Fe.vars.scrollX=be(Re)),Ae=ce(),Re=Ae+Ee*.05*-Pe.velocityY/.227,Ee*=_clampScrollAndGetDurationMultiplier(ce,Ae,Re,_maxScroll(le,_vertical)),Fe.vars.scrollY=Se(Re),Fe.invalidate().duration(Ee).play(.01),(_fixIOSBug&&Fe.vars.scrollY>=oe||Ae>=oe-1)&&gsap$2.to({},{onUpdate:ke,duration:Ee})}},ne.onWheel=function(){Fe._ts&&Fe.pause(),_getTime()-ve>1e3&&(xe=0,ve=_getTime())},ne.onChange=function(Pe,Me,Ee,Ae,Re){if(_refreshID!==xe&&Ce(),Me&&ee&&fe(be(Ae[2]===Me?Le+(Pe.startX-Pe.x):fe()+Me-Ae[1])),Ee){ce.offset&&Te();var Be=Re[2]===Ee,ze=Be?Ie+Pe.startY-Pe.y:ce()+Ee-Re[1],je=Se(ze);Be&&ze!==je&&(Ie+=je-ze),ce(je)}(Ee||Me)&&_updateAll()},ne.onEnable=function(){_allowNativePanning(le,ee?!1:"x"),ScrollTrigger.addEventListener("refresh",ke),_addListener(_win$1,"resize",ke),ce.smooth&&(ce.target.style.scrollBehavior="auto",ce.smooth=fe.smooth=!1),ye.enable()},ne.onDisable=function(){_allowNativePanning(le,!0),_removeListener(_win$1,"resize",ke),ScrollTrigger.removeEventListener("refresh",ke),ye.kill()},ne.lockAxis=ne.lockAxis!==!1,ae=new Observer(ne),ae.iOS=_fixIOSBug,_fixIOSBug&&!ce()&&ce(1),_fixIOSBug&&gsap$2.ticker.add(_passThrough),Oe=ae._dc,Fe=gsap$2.to(ae,{ease:"power4",paused:!0,scrollX:ee?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:Oe.vars.onComplete}),ae};ScrollTrigger.sort=function(se){return _triggers.sort(se||function(ne,te){return(ne.vars.refreshPriority||0)*-1e6+ne.start-(te.start+(te.vars.refreshPriority||0)*-1e6)})},ScrollTrigger.observe=function(se){return new Observer(se)},ScrollTrigger.normalizeScroll=function(se){if(typeof se=="undefined")return _normalizer;if(se===!0&&_normalizer)return _normalizer.enable();if(se===!1)return _normalizer&&_normalizer.kill();var ne=se instanceof Observer?se:_getScrollNormalizer(se);return _normalizer&&_normalizer.target===ne.target&&_normalizer.kill(),_isViewport(ne.target)&&(_normalizer=ne),ne},ScrollTrigger.core={_getVelocityProp,_inputObserver,_scrollers,_proxies,bridge:{ss:function(){_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime()},ref:function(){return _refreshing}}},_getGSAP$1()&&gsap$2.registerPlugin(ScrollTrigger),gsapWithCSS.registerPlugin(ScrollTrigger);class Utils{constructor(ne){gsapWithCSS.set(ne,{autoAlpha:1}),ne.attr("data-barba-namespace")!="cases"&&ScrollTrigger.create({trigger:ne,start:"top top",end:"300 top",onLeave:()=>$("body").removeClass("at-top"),onEnterBack:()=>$("body").addClass("at-top")}),$("#year").text("\xA9"+new Date().getFullYear())}}gsapWithCSS.registerPlugin(ScrollTrigger);class NavProgress{constructor(ne){ScrollTrigger.refresh();let te=0,ee=$(".nav__progress");gsapWithCSS.set(ee,{width:0}),ScrollTrigger.create({trigger:ne,start:"top top",end:"bottom bottom",onUpdate:re=>te=re.progress}),gsapWithCSS.ticker.add(()=>gsapWithCSS.set(ee,{width:te*100+"%"}))}}/*!
 * strings: 3.11.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _trimExp=/(?:^\s+|\s+$)/g,emojiExp=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function getText(se){var ne=se.nodeType,te="";if(ne===1||ne===9||ne===11){if(typeof se.textContent=="string")return se.textContent;for(se=se.firstChild;se;se=se.nextSibling)te+=getText(se)}else if(ne===3||ne===4)return se.nodeValue;return te}function emojiSafeSplit(se,ne,te,ee){if(se+="",te&&(se=se.trim?se.trim():se.replace(_trimExp,"")),ne&&ne!=="")return se.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(ne);for(var re=[],ie=se.length,ae=0,oe,le;ae<ie;ae++)le=se.charAt(ae),(le.charCodeAt(0)>=55296&&le.charCodeAt(0)<=56319||se.charCodeAt(ae+1)>=65024&&se.charCodeAt(ae+1)<=65039)&&(oe=((se.substr(ae,12).split(emojiExp)||[])[1]||"").length||2,le=se.substr(ae,oe),re.emoji=1,ae+=oe-1),re.push(le===">"?"&gt;":le==="<"?"&lt;":ee&&le===" "&&(se.charAt(ae-1)===" "||se.charAt(ae+1)===" ")?"&nbsp;":le);return re}/*!
 * SplitText: 3.11.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _doc,_win,_coreInitted$1,gsap$1,_context,_toArray,_stripExp=/(?:\r|\n|\t\t)/g,_multipleSpacesExp=/(?:\s\s+)/g,_initCore$1=function(ne){_doc=document,_win=window,gsap$1=gsap$1||ne||_win.gsap||console.warn("Please gsap.registerPlugin(SplitText)"),gsap$1&&(_toArray=gsap$1.utils.toArray,_context=gsap$1.core.context||function(){},_coreInitted$1=1)},_getComputedStyle=function(ne){return _win.getComputedStyle(ne)},_isAbsolute=function(ne){return ne.position==="absolute"||ne.absolute===!0},_findSpecialChars=function(ne,te){for(var ee=te.length,re;--ee>-1;)if(re=te[ee],ne.substr(0,re.length)===re)return re.length},_divStart=" style='position:relative;display:inline-block;'",_cssClassFunc=function(ne,te){ne===void 0&&(ne="");var ee=~ne.indexOf("++"),re=1;return ee&&(ne=ne.split("++").join("")),function(){return"<"+te+_divStart+(ne?" class='"+ne+(ee?re++:"")+"'>":">")}},_swapText=function se(ne,te,ee){var re=ne.nodeType;if(re===1||re===9||re===11)for(ne=ne.firstChild;ne;ne=ne.nextSibling)se(ne,te,ee);else(re===3||re===4)&&(ne.nodeValue=ne.nodeValue.split(te).join(ee))},_pushReversed=function(ne,te){for(var ee=te.length;--ee>-1;)ne.push(te[ee])},_isBeforeWordDelimiter=function(ne,te,ee){for(var re;ne&&ne!==te;){if(re=ne._next||ne.nextSibling,re)return re.textContent.charAt(0)===ee;ne=ne.parentNode||ne._parent}},_deWordify=function se(ne){var te=_toArray(ne.childNodes),ee=te.length,re,ie;for(re=0;re<ee;re++)ie=te[re],ie._isSplit?se(ie):re&&ie.previousSibling&&ie.previousSibling.nodeType===3?(ie.previousSibling.nodeValue+=ie.nodeType===3?ie.nodeValue:ie.firstChild.nodeValue,ne.removeChild(ie)):ie.nodeType!==3&&(ne.insertBefore(ie.firstChild,ie),ne.removeChild(ie))},_getStyleAsNumber=function(ne,te){return parseFloat(te[ne])||0},_setPositionsAfterSplit=function(ne,te,ee,re,ie,ae,oe){var le=_getComputedStyle(ne),he=_getStyleAsNumber("paddingLeft",le),ue=-999,pe=_getStyleAsNumber("borderBottomWidth",le)+_getStyleAsNumber("borderTopWidth",le),ce=_getStyleAsNumber("borderLeftWidth",le)+_getStyleAsNumber("borderRightWidth",le),fe=_getStyleAsNumber("paddingTop",le)+_getStyleAsNumber("paddingBottom",le),me=_getStyleAsNumber("paddingLeft",le)+_getStyleAsNumber("paddingRight",le),de=_getStyleAsNumber("fontSize",le)*(te.lineThreshold||.2),ve=le.textAlign,ge=[],xe=[],_e=[],ye=te.wordDelimiter||" ",we=te.tag?te.tag:te.span?"span":"div",be=te.type||te.split||"chars,words,lines",Se=ie&&~be.indexOf("lines")?[]:null,Ce=~be.indexOf("words"),Te=~be.indexOf("chars"),De=_isAbsolute(te),Fe=te.linesClass,Le=~(Fe||"").indexOf("++"),Ie=[],Oe=le.display==="flex",ke=ne.style.display,Pe,Me,Ee,Ae,Re,Be,ze,je,$e,We,Ge,He;for(Le&&(Fe=Fe.split("++").join("")),Oe&&(ne.style.display="block"),Me=ne.getElementsByTagName("*"),Ee=Me.length,Re=[],Pe=0;Pe<Ee;Pe++)Re[Pe]=Me[Pe];if(Se||De)for(Pe=0;Pe<Ee;Pe++)Ae=Re[Pe],Be=Ae.parentNode===ne,(Be||De||Te&&!Ce)&&(He=Ae.offsetTop,Se&&Be&&Math.abs(He-ue)>de&&(Ae.nodeName!=="BR"||Pe===0)&&(ze=[],Se.push(ze),ue=He),De&&(Ae._x=Ae.offsetLeft,Ae._y=He,Ae._w=Ae.offsetWidth,Ae._h=Ae.offsetHeight),Se&&((Ae._isSplit&&Be||!Te&&Be||Ce&&Be||!Ce&&Ae.parentNode.parentNode===ne&&!Ae.parentNode._isSplit)&&(ze.push(Ae),Ae._x-=he,_isBeforeWordDelimiter(Ae,ne,ye)&&(Ae._wordEnd=!0)),Ae.nodeName==="BR"&&(Ae.nextSibling&&Ae.nextSibling.nodeName==="BR"||Pe===0)&&Se.push([])));for(Pe=0;Pe<Ee;Pe++){if(Ae=Re[Pe],Be=Ae.parentNode===ne,Ae.nodeName==="BR"){Se||De?(Ae.parentNode&&Ae.parentNode.removeChild(Ae),Re.splice(Pe--,1),Ee--):Ce||ne.appendChild(Ae);continue}if(De&&($e=Ae.style,!Ce&&!Be&&(Ae._x+=Ae.parentNode._x,Ae._y+=Ae.parentNode._y),$e.left=Ae._x+"px",$e.top=Ae._y+"px",$e.position="absolute",$e.display="block",$e.width=Ae._w+1+"px",$e.height=Ae._h+"px"),!Ce&&Te)if(Ae._isSplit)for(Ae._next=Me=Ae.nextSibling,Ae.parentNode.appendChild(Ae);Me&&Me.nodeType===3&&Me.textContent===" ";)Ae._next=Me.nextSibling,Ae.parentNode.appendChild(Me),Me=Me.nextSibling;else Ae.parentNode._isSplit?(Ae._parent=Ae.parentNode,!Ae.previousSibling&&Ae.firstChild&&(Ae.firstChild._isFirst=!0),Ae.nextSibling&&Ae.nextSibling.textContent===" "&&!Ae.nextSibling.nextSibling&&Ie.push(Ae.nextSibling),Ae._next=Ae.nextSibling&&Ae.nextSibling._isFirst?null:Ae.nextSibling,Ae.parentNode.removeChild(Ae),Re.splice(Pe--,1),Ee--):Be||(He=!Ae.nextSibling&&_isBeforeWordDelimiter(Ae.parentNode,ne,ye),Ae.parentNode._parent&&Ae.parentNode._parent.appendChild(Ae),He&&Ae.parentNode.appendChild(_doc.createTextNode(" ")),we==="span"&&(Ae.style.display="inline"),ge.push(Ae));else Ae.parentNode._isSplit&&!Ae._isSplit&&Ae.innerHTML!==""?xe.push(Ae):Te&&!Ae._isSplit&&(we==="span"&&(Ae.style.display="inline"),ge.push(Ae))}for(Pe=Ie.length;--Pe>-1;)Ie[Pe].parentNode.removeChild(Ie[Pe]);if(Se){for(De&&(We=_doc.createElement(we),ne.appendChild(We),Ge=We.offsetWidth+"px",He=We.offsetParent===ne?0:ne.offsetLeft,ne.removeChild(We)),$e=ne.style.cssText,ne.style.cssText="display:none;";ne.firstChild;)ne.removeChild(ne.firstChild);for(je=ye===" "&&(!De||!Ce&&!Te),Pe=0;Pe<Se.length;Pe++){for(ze=Se[Pe],We=_doc.createElement(we),We.style.cssText="display:block;text-align:"+ve+";position:"+(De?"absolute;":"relative;"),Fe&&(We.className=Fe+(Le?Pe+1:"")),_e.push(We),Ee=ze.length,Me=0;Me<Ee;Me++)ze[Me].nodeName!=="BR"&&(Ae=ze[Me],We.appendChild(Ae),je&&Ae._wordEnd&&We.appendChild(_doc.createTextNode(" ")),De&&(Me===0&&(We.style.top=Ae._y+"px",We.style.left=he+He+"px"),Ae.style.top="0px",He&&(Ae.style.left=Ae._x-He+"px")));Ee===0?We.innerHTML="&nbsp;":!Ce&&!Te&&(_deWordify(We),_swapText(We,String.fromCharCode(160)," ")),De&&(We.style.width=Ge,We.style.height=Ae._h+"px"),ne.appendChild(We)}ne.style.cssText=$e}De&&(oe>ne.clientHeight&&(ne.style.height=oe-fe+"px",ne.clientHeight<oe&&(ne.style.height=oe+pe+"px")),ae>ne.clientWidth&&(ne.style.width=ae-me+"px",ne.clientWidth<ae&&(ne.style.width=ae+ce+"px"))),Oe&&(ke?ne.style.display=ke:ne.style.removeProperty("display")),_pushReversed(ee,ge),Ce&&_pushReversed(re,xe),_pushReversed(ie,_e)},_splitRawText=function(ne,te,ee,re){var ie=te.tag?te.tag:te.span?"span":"div",ae=te.type||te.split||"chars,words,lines",oe=~ae.indexOf("chars"),le=_isAbsolute(te),he=te.wordDelimiter||" ",ue=he!==" "?"":le?"&#173; ":" ",pe="</"+ie+">",ce=1,fe=te.specialChars?typeof te.specialChars=="function"?te.specialChars:_findSpecialChars:null,me,de,ve,ge,xe,_e,ye,we,be=_doc.createElement("div"),Se=ne.parentNode;for(Se.insertBefore(be,ne),be.textContent=ne.nodeValue,Se.removeChild(ne),ne=be,me=getText(ne),ye=me.indexOf("<")!==-1,te.reduceWhiteSpace!==!1&&(me=me.replace(_multipleSpacesExp," ").replace(_stripExp,"")),ye&&(me=me.split("<").join("{{LT}}")),xe=me.length,de=(me.charAt(0)===" "?ue:"")+ee(),ve=0;ve<xe;ve++)if(_e=me.charAt(ve),fe&&(we=fe(me.substr(ve),te.specialChars)))_e=me.substr(ve,we||1),de+=oe&&_e!==" "?re()+_e+"</"+ie+">":_e,ve+=we-1;else if(_e===he&&me.charAt(ve-1)!==he&&ve){for(de+=ce?pe:"",ce=0;me.charAt(ve+1)===he;)de+=ue,ve++;ve===xe-1?de+=ue:me.charAt(ve+1)!==")"&&(de+=ue+ee(),ce=1)}else _e==="{"&&me.substr(ve,6)==="{{LT}}"?(de+=oe?re()+"{{LT}}</"+ie+">":"{{LT}}",ve+=5):_e.charCodeAt(0)>=55296&&_e.charCodeAt(0)<=56319||me.charCodeAt(ve+1)>=65024&&me.charCodeAt(ve+1)<=65039?(ge=((me.substr(ve,12).split(emojiExp)||[])[1]||"").length||2,de+=oe&&_e!==" "?re()+me.substr(ve,ge)+"</"+ie+">":me.substr(ve,ge),ve+=ge-1):de+=oe&&_e!==" "?re()+_e+"</"+ie+">":_e;ne.outerHTML=de+(ce?pe:""),ye&&_swapText(Se,"{{LT}}","<")},_split=function se(ne,te,ee,re){var ie=_toArray(ne.childNodes),ae=ie.length,oe=_isAbsolute(te),le,he;if(ne.nodeType!==3||ae>1){for(te.absolute=!1,le=0;le<ae;le++)he=ie[le],he._next=he._isFirst=he._parent=he._wordEnd=null,(he.nodeType!==3||/\S+/.test(he.nodeValue))&&(oe&&he.nodeType!==3&&_getComputedStyle(he).display==="inline"&&(he.style.display="inline-block",he.style.position="relative"),he._isSplit=!0,se(he,te,ee,re));te.absolute=oe,ne._isSplit=!0;return}_splitRawText(ne,te,ee,re)},SplitText=function(){function se(te,ee){_coreInitted$1||_initCore$1(),this.elements=_toArray(te),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=ee||{},_context(this),this.split(ee)}var ne=se.prototype;return ne.split=function(ee){this.isSplit&&this.revert(),this.vars=ee=ee||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var re=this.elements.length,ie=ee.tag?ee.tag:ee.span?"span":"div",ae=_cssClassFunc(ee.wordsClass,ie),oe=_cssClassFunc(ee.charsClass,ie),le,he,ue;--re>-1;)ue=this.elements[re],this._originals[re]=ue.innerHTML,le=ue.clientHeight,he=ue.clientWidth,_split(ue,ee,ae,oe),_setPositionsAfterSplit(ue,ee,this.chars,this.words,this.lines,he,le);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},ne.revert=function(){var ee=this._originals;if(!ee)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(re,ie){return re.innerHTML=ee[ie]}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},se.create=function(ee,re){return new se(ee,re)},se}();SplitText.version="3.11.4",SplitText.register=_initCore$1,gsapWithCSS.registerPlugin(SplitText);class Logo{constructor(){let ne=$(".top-logo").find(".f-30"),te=new SplitText(ne,{type:"chars"}),ee=new SplitText(te.chars,{type:"chars"});gsapWithCSS.set(te.chars,{overflow:"hidden"}),$(ee.chars).each(function(re){let ie=$(this);re>0&&(ie.css("transition-delay",.4-re*.05+"s"),ie.addClass(`logo-char-${re}`),ie.addClass("logo-char"))}),ne.on("mouseenter",()=>{ne.addClass("logo-hover")}),ne.on("mouseleave",()=>{ne.removeClass("logo-hover")})}}class LinksHover{constructor(ne){const te="abcdefghijklmnopqrstuvwxyz";$(ne).each(function(){let re=$(this).find("[text-target]"),ie=re.text();re.attr("data-value",ie)}),ne.forEach(ee=>{let re=null,ie=ee.querySelector("[text-target]"),ae=ie.dataset.value.split(""),oe;ae.length<10?oe=40:oe=10,ee.onmouseenter=le=>{let he=0;clearInterval(re),re=setInterval(()=>{ie.innerText=ie.innerText.split("").map((ue,pe)=>pe<he?ie.dataset.value[pe]:te[Math.floor(Math.random()*26)]).join(""),he>=ie.dataset.value.length&&clearInterval(re),he+=1/5},oe)}})}}class CreateGrid{constructor(ne,te){let ee=0,re=0;const ie=ce=>{const fe=document.createElement("div");return fe.classList.add(te),fe},ae=ce=>{Array.from(Array(ce)).map((fe,me)=>{ne.appendChild(ie())})};let oe=0;(()=>{ne.innerHTML="";const ce=window.innerWidth>800?50:30;ee=Math.floor(window.innerWidth/ce),re=Math.floor(window.innerHeight/ce),document.documentElement.style.setProperty("--columns",ee),document.documentElement.style.setProperty("--rows",re),ae(ee*re),oe=ee*re})();let he=ne.children.length;const ue=()=>{const ce=window.innerWidth>800?50:30;if(ee=Math.floor(window.innerWidth/ce),re=Math.floor(window.innerHeight/ce),document.documentElement.style.setProperty("--columns",ee),document.documentElement.style.setProperty("--rows",re),oe=ee*re,he=ne.children.length,oe>he)ae(oe-he);else for(let fe=0;fe<he-oe;fe++)ne.removeChild(ne.lastChild)};function pe(ce){let fe;return function(me){fe&&clearTimeout(fe),fe=setTimeout(ce,300,me)}}window.addEventListener("resize",pe(function(ce){ue()}))}}gsapWithCSS.registerPlugin(SplitText);class Loader{constructor(){let ne=document.querySelector(".loader"),te=ne.querySelector(".loader__grid"),ee=ne.querySelector("#loader-counter"),re=ne.querySelector(".loader__text"),ie=$(".nav__body").find(".f"),ae=new SplitText(ie,{type:"chars"});gsapWithCSS.set(ae.chars,{opacity:0,filter:"blur(20px)"});const oe=()=>{for(let ve=0;ve<ae.elements.length;ve++){let ge=ae.elements[ve],xe=$(ge).find(ae.chars);gsapWithCSS.utils.shuffle(xe),gsapWithCSS.to(xe,{opacity:1,filter:"blur(0px)",duration:.4,stagger:{each:.08}})}};let le={value:0},he={value:1e3},ue={value:200};new CreateGrid(te,"loader__tile"),document.documentElement.style.setProperty("--loader-text-height",ue.value),document.documentElement.style.setProperty("--loader-text-width",he.value);const pe=()=>document.documentElement.style.setProperty("--loader-text-width",he.value),ce=()=>document.documentElement.style.setProperty("--loader-text-height",ue.value);let fe=$(".loader__tile");document.documentElement.style.getPropertyValue("--rows"),document.documentElement.style.getPropertyValue("--columns");let me=gsapWithCSS.timeline({defaults:{duration:1,ease:"power2"}});const de=()=>ee.textContent=Math.round(le.value);gsapWithCSS.utils.shuffle(fe),me.to(re,{opacity:1,filter:"blur(0px)",duration:.4}).to(le,{value:100,duration:2,ease:"none",onUpdate:de},"<").to(he,{value:100,duration:2,onUpdate:pe},"<").to(ue,{value:1e3,duration:2,onUpdate:ce},"<").to(re,{opacity:0,duration:.1},"<1.95").to(fe,{opacity:0,duration:0,stagger:{amount:.3},onComplete:oe},"<0.1").to(ne,{display:"none"}),this.duration=me.duration()}}class _Index{constructor(){let ne=$(".cases__list");$(".cases__item--link").each((ee,re)=>{let ie=$(re);ie.find(".cases__index").find(".f").eq(1).text(ee+1),ie.clone().appendTo(ne)})}}class _Scroll$1{constructor(){const ne=document.querySelector('[data-barba-namespace="cases"]'),te=ne.querySelectorAll(".cases__item--link");let ee=$(".nav__progress");ne.clientHeight;let re=te[0].clientHeight,ie=te.length*re;gsapWithCSS.set(ee,{width:"100%",x:"-100%"});let ae=0,oe=0;const le=(xe,_e,ye)=>xe*(1-ye)+_e*ye,he=xe=>{gsapWithCSS.set(te,{y:_e=>_e*re+xe,modifiers:{y:(_e,ye)=>`${gsapWithCSS.utils.wrap(-re,ie-re,parseInt(_e))}px`}})};he(0);const ue=xe=>{ae-=xe.deltaY*.9};let pe=0,ce=0,fe=!1;const me=xe=>{pe=xe.clientY||xe.touches[0].clientY,fe=!0,ne.classList.add("is-dragging")},de=xe=>{!fe||(ce=xe.clientY||xe.touches[0].clientY,ae+=(ce-pe)*2.5,pe=ce)},ve=()=>{fe=!1,ne.classList.remove("is-dragging")};ne.addEventListener("mousewheel",ue),ne.addEventListener("touchstart",me),ne.addEventListener("touchmove",de),ne.addEventListener("touchend",ve),ne.addEventListener("selectstart",()=>!1),window.addEventListener("resize",()=>{ne.clientHeight,re=te[0].clientHeight,ie=te.length*re});const ge=()=>{requestAnimationFrame(ge),oe=le(oe,ae,.08),he(oe);let xe=-oe/ie,_e=xe-Math.floor(xe);gsapWithCSS.set(ee,{x:`${_e*200-100}%`,width:"100%"}),gsapWithCSS.to(te,{})};ge()}}gsapWithCSS.registerPlugin(SplitText);class _TextHover{constructor(){let ne=$(".cases__item--link"),te=1e3;gsapWithCSS.set(".cases__char",{duration:.4,"font-variation-settings":`"wdth" 200, "HGHT" ${te}`}),ne.each((ee,re)=>{let ae=$(re).find(".cases__item"),oe=ae.find(".cases__char");ae.on("mousemove",le=>{oe.each((he,ue)=>{let pe=$(ue),ce=pe[0].getBoundingClientRect(),fe=ce.left+ce.width/2,me=ce.top+ce.height/2,de=Math.sqrt(Math.pow(le.pageX-fe,2)+Math.pow(le.pageY-me,2)),ve=te-800*(1-de/(ae.width()/2));ve>1e3&&(ve=1e3),gsapWithCSS.to(pe,{duration:.3,"font-variation-settings":`"wdth" 200, "HGHT" ${ve}`})})}),ae.on("mouseenter",le=>{oe.each((he,ue)=>{let pe=$(ue),ce=pe[0].getBoundingClientRect(),fe=ce.left+ce.width/2,me=ce.top+ce.height/2,de=Math.sqrt(Math.pow(le.pageX-fe,2)+Math.pow(le.pageY-me,2)),ve=te-800*(1-de/(ae.width()/2));ve>1e3&&(ve=1e3),gsapWithCSS.to(pe,{duration:.3,"font-variation-settings":`"wdth" 200, "HGHT" ${ve}`})})}),ae.on("mouseleave",le=>{gsapWithCSS.to(oe,{duration:.4,"font-variation-settings":`"wdth" 200, "HGHT" ${te}`})})})}}class _Trail{constructor(){let ne=gsapWithCSS.matchMedia(),te="(min-width: 991px)";const ee=document.body,re=document.querySelector("main"),ie={lerp:(me,de,ve)=>(1-ve)*me+ve*de,distance:(me,de,ve,ge)=>Math.hypot(ve-me,ge-de),getRandomFloat:(me,de)=>(Math.random()*(de-me)+me).toFixed(2)},ae=()=>({width:window.innerWidth,height:window.innerHeight});window.addEventListener("resize",ae);const oe=me=>{let de=0,ve=0;return me||(me=window.event),me.pageX||me.pageY?(de=me.pageX,ve=me.pageY):(me.clientX||me.clientY)&&(de=me.clientX+ee.scrollLeft+docEl.scrollLeft,ve=me.clientY+ee.scrollTop+docEl.scrollTop),{x:de,y:ve}};let le,he,ue=le=he={x:0,y:0};re.addEventListener("mousemove",me=>ue=oe(me));const pe=()=>ie.distance(ue.x,ue.y,le.x,le.y);class ce{constructor(de){this.DOM={el:de},this.defaultStyle={scaleX:1,scaleY:1,x:0,y:0,opacity:0},this.getRect(),this.initEvents()}initEvents(){window.addEventListener("resize",()=>this.resize())}resize(){gsapWithCSS.set(this.DOM.el,this.defaultStyle),this.getRect()}getRect(){this.rect=this.DOM.el.getBoundingClientRect()}isActive(){return gsapWithCSS.isTweening(this.DOM.el)||this.DOM.el.style.opacity!=0}}class fe{constructor(){this.DOM={content:document.querySelector(".cases__trail")},this.images=[],[...this.DOM.content.querySelectorAll(".cases__trail--img")].forEach(de=>this.images.push(new ce(de))),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.threshold=100,requestAnimationFrame(()=>this.render())}render(){let de=pe();he.x=ie.lerp(he.x||ue.x,ue.x,.1),he.y=ie.lerp(he.y||ue.y,ue.y,.1),de>this.threshold&&(this.showNextImage(),++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0,le=ue);let ve=!0;for(let ge of this.images)if(ge.isActive()){ve=!1;break}ve&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}showNextImage(){const de=this.images[this.imgPosition];gsapWithCSS.killTweensOf(de.DOM.el),new gsapWithCSS.timeline().set(de.DOM.el,{startAt:{opacity:0,scale:1},opacity:1,scale:1,zIndex:this.zIndexVal,x:he.x-de.rect.width/2,y:he.y-de.rect.height/2},0).to(de.DOM.el,.9,{ease:"Expo.easeOut",x:ue.x-de.rect.width/2,y:ue.y-de.rect.height/2},0).to(de.DOM.el,.4,{ease:"Power1.easeOut",opacity:0},.4)}}ne.add(te,()=>new fe)}}var source=[{orb:{src1:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a3ea27eeba453400f6c4_Case%20Page%20_%20Desktop-2.webp",src2:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a3eae36bb94018efd042_About%20_%20Desktop.webp",src3:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a3eaf18c12140d0a7b3a_Case%20Page%20_%20Desktop-1.webp",src4:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a3ea10efb35a56139e96_404%20_%20Desktop-2.webp",src5:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a3ea726164f947e1715d_404%20_%20Desktop.webp",src6:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a3eae5728a4d3e1a9238_404%20_%20Desktop-1.webp"},aaron:{src1:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a462067980784f57260f_Group%2020502.webp",src2:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a46210efb3773d13acd3_Frame%201000002067.webp",src3:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a462d807837c9ee22503_Frame%208655.webp",src4:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a46269707ea4decc8e9d_Frame%201000002068.webp",src5:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a46210efb3793c13acd2_image%2011.webp",src6:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a46227eeba468001040e_Slide%2016_9%20-%202.webp"},dima:{src1:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a4bf4674c8d48cd9e953_Menu%20Green.webp",src2:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a4bf2702c7076166e9bb_Preloader%2002.webp",src3:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a4bfe5728a35681aa1eb_Home%20full.webp",src4:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a4bfd807832321e22da0_Home%20_%20Desktop.webp",src5:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a4bfe36bb97ebfefe4a9_Menu%20Green-1.webp",src6:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6435a4be39f5392cba940fa8_Contact.webp"},depo:{src1:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367381b0b6703906244273_Slide%2016_9%20-%2085.webp",src2:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367381f69aae0babecb95b_Slide%2016_9%20-%2060.webp",src3:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367381fe9b9813d993b504_Slide%2016_9%20-%20104.webp",src4:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367381aa2ff4ec59b21519_Slide%2016_9%20-%20103.webp",src5:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643673810469ed07b0c1f22a_Frame%20148.webp",src6:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367381702aadc1074a1ff2_Slide%2016_9%20-%20105.webp"},fox:{src1:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643673cd702aad0d014a25ec_popup%202%20_%20desktop.webp",src2:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643673ccd6e529b96384eaec_menu%20_%20desktop.webp",src3:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643673cc876f3f28da2a6d8e_case%20study%20_%20desktop.webp",src4:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643673cced162734628949c2_home%202%20_%20desktop.webp",src5:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643673cc0469ede670c1f62a_home%202%20_%20desktop-1.webp",src6:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643673ccf962939aa4303fb0_412.webp"},lf7:{src1:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6436742931c54c1c34848341_Slide%2016_9%20-%2084.webp",src2:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367429c8c206e0ba89ef75_L3.webp",src3:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367429ee8724369115d4ba_404%20page.webp",src4:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643674295eb8222c17df3453_Slide%2016_9%20-%2071.webp",src5:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367429c8c206729a89ef6f_Slide%2016_9%20-%2065.webp",src6:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643674294f417374825c6eb9_Slide%2016_9%20-%2069.webp"},bubble:{src1:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367490f69aae0260ecd58c_our%20work.webp",src2:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367490ee8724d25515dfb8_home.webp",src3:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6436749031ade7d0a46ba76a_409.webp",src4:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/6436749039b2ccdc4fc86bed_B3.webp",src5:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/64367490103902060e7ba80c_407.webp",src6:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/643674907a17363ef0b94ddd_404.webp"},terrane:{src1:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/647c6d71b0177009b532b13b_414.webp",src2:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/647c6d709c1a138721b6d9b2_B3.webp",src3:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/647c6d704547bdc2cb36d154_our%20work.webp",src4:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/647c6d70ac8434042676108d_home.webp",src5:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/647c6d700a3ea753d8bcb2a2_415.webp",src6:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/647c6d6f20dd96af7cc9ebd4_416.webp"}}];class _ChangeImg{constructor(){let ne=$(".cases__item--link"),te=$(".cases__trail--img");te.find("img").removeAttr("srcset"),ne.each((ee,re)=>{let ie=$(re),ae=ie.attr("data-src");ie.on("mouseenter",()=>{te.each((oe,le)=>{let he=$(le).find("img"),ue=source[0][`${ae}`][`src${oe+1}`];he.attr("src",ue)})})})}}class Cases{constructor(){this.index=new _Index,this.scroll=new _Scroll$1,this.textHover=new _TextHover,this.trail=new _Trail,this.changeImg=new _ChangeImg}}var fontfaceobserver_standalone={exports:{}};(function(se){(function(){function ne(de,ve){document.addEventListener?de.addEventListener("scroll",ve,!1):de.attachEvent("scroll",ve)}function te(de){document.body?de():document.addEventListener?document.addEventListener("DOMContentLoaded",function ve(){document.removeEventListener("DOMContentLoaded",ve),de()}):document.attachEvent("onreadystatechange",function ve(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",ve),de())})}function ee(de){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(de)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function re(de,ve){de.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+ve+";"}function ie(de){var ve=de.g.offsetWidth,ge=ve+100;return de.j.style.width=ge+"px",de.i.scrollLeft=ge,de.h.scrollLeft=de.h.scrollWidth+100,de.l!==ve?(de.l=ve,!0):!1}function ae(de,ve){function ge(){var _e=xe;ie(_e)&&_e.g.parentNode!==null&&ve(_e.l)}var xe=de;ne(de.h,ge),ne(de.i,ge),ie(de)}function oe(de,ve,ge){ve=ve||{},ge=ge||window,this.family=de,this.style=ve.style||"normal",this.weight=ve.weight||"normal",this.stretch=ve.stretch||"normal",this.context=ge}var le=null,he=null,ue=null,pe=null;function ce(de){return he===null&&(fe(de)&&/Apple/.test(window.navigator.vendor)?(de=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),he=!!de&&603>parseInt(de[1],10)):he=!1),he}function fe(de){return pe===null&&(pe=!!de.document.fonts),pe}function me(de,ve){var ge=de.style,xe=de.weight;if(ue===null){var _e=document.createElement("div");try{_e.style.font="condensed 100px sans-serif"}catch{}ue=_e.style.font!==""}return[ge,xe,ue?de.stretch:"","100px",ve].join(" ")}oe.prototype.load=function(de,ve){var ge=this,xe=de||"BESbswy",_e=0,ye=ve||3e3,we=new Date().getTime();return new Promise(function(be,Se){if(fe(ge.context)&&!ce(ge.context)){var Ce=new Promise(function(De,Fe){function Le(){new Date().getTime()-we>=ye?Fe(Error(""+ye+"ms timeout exceeded")):ge.context.document.fonts.load(me(ge,'"'+ge.family+'"'),xe).then(function(Ie){1<=Ie.length?De():setTimeout(Le,25)},Fe)}Le()}),Te=new Promise(function(De,Fe){_e=setTimeout(function(){Fe(Error(""+ye+"ms timeout exceeded"))},ye)});Promise.race([Te,Ce]).then(function(){clearTimeout(_e),be(ge)},Se)}else te(function(){function De(){var ze;(ze=ke!=-1&&Pe!=-1||ke!=-1&&Me!=-1||Pe!=-1&&Me!=-1)&&((ze=ke!=Pe&&ke!=Me&&Pe!=Me)||(le===null&&(ze=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),le=!!ze&&(536>parseInt(ze[1],10)||parseInt(ze[1],10)===536&&11>=parseInt(ze[2],10))),ze=le&&(ke==Ee&&Pe==Ee&&Me==Ee||ke==Ae&&Pe==Ae&&Me==Ae||ke==Re&&Pe==Re&&Me==Re)),ze=!ze),ze&&(Be.parentNode!==null&&Be.parentNode.removeChild(Be),clearTimeout(_e),be(ge))}function Fe(){if(new Date().getTime()-we>=ye)Be.parentNode!==null&&Be.parentNode.removeChild(Be),Se(Error(""+ye+"ms timeout exceeded"));else{var ze=ge.context.document.hidden;(ze===!0||ze===void 0)&&(ke=Le.g.offsetWidth,Pe=Ie.g.offsetWidth,Me=Oe.g.offsetWidth,De()),_e=setTimeout(Fe,50)}}var Le=new ee(xe),Ie=new ee(xe),Oe=new ee(xe),ke=-1,Pe=-1,Me=-1,Ee=-1,Ae=-1,Re=-1,Be=document.createElement("div");Be.dir="ltr",re(Le,me(ge,"sans-serif")),re(Ie,me(ge,"serif")),re(Oe,me(ge,"monospace")),Be.appendChild(Le.g),Be.appendChild(Ie.g),Be.appendChild(Oe.g),ge.context.document.body.appendChild(Be),Ee=Le.g.offsetWidth,Ae=Ie.g.offsetWidth,Re=Oe.g.offsetWidth,Fe(),ae(Le,function(ze){ke=ze,De()}),re(Le,me(ge,'"'+ge.family+'",sans-serif')),ae(Ie,function(ze){Pe=ze,De()}),re(Ie,me(ge,'"'+ge.family+'",serif')),ae(Oe,function(ze){Me=ze,De()}),re(Oe,me(ge,'"'+ge.family+'",monospace'))})})},se.exports=oe})()})(fontfaceobserver_standalone);var FontFaceObserver=fontfaceobserver_standalone.exports,three={exports:{}};(function(se,ne){var te={REVISION:"79"};se.exports=te,Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Math.sign===void 0&&(Math.sign=function(ee){return ee<0?-1:ee>0?1:+ee}),Function.prototype.name===void 0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),Object.assign===void 0&&function(){Object.assign=function(ee){if(ee==null)throw new TypeError("Cannot convert undefined or null to object");for(var re=Object(ee),ie=1;ie<arguments.length;ie++){var ae=arguments[ie];if(ae!=null)for(var oe in ae)Object.prototype.hasOwnProperty.call(ae,oe)&&(re[oe]=ae[oe])}return re}}(),Object.assign(te,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:te.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3e3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,RGBADepthPacking:3201}),te.Color=function(ee,re,ie){return re===void 0&&ie===void 0?this.set(ee):this.setRGB(ee,re,ie)},te.Color.prototype={constructor:te.Color,r:1,g:1,b:1,set:function(ee){return ee instanceof te.Color?this.copy(ee):typeof ee=="number"?this.setHex(ee):typeof ee=="string"&&this.setStyle(ee),this},setScalar:function(ee){this.r=ee,this.g=ee,this.b=ee},setHex:function(ee){return ee=Math.floor(ee),this.r=(ee>>16&255)/255,this.g=(ee>>8&255)/255,this.b=(ee&255)/255,this},setRGB:function(ee,re,ie){return this.r=ee,this.g=re,this.b=ie,this},setHSL:function(){function ee(re,ie,ae){return ae<0&&(ae+=1),ae>1&&(ae-=1),ae<1/6?re+(ie-re)*6*ae:ae<1/2?ie:ae<2/3?re+(ie-re)*6*(2/3-ae):re}return function(ie,ae,oe){if(ie=te.Math.euclideanModulo(ie,1),ae=te.Math.clamp(ae,0,1),oe=te.Math.clamp(oe,0,1),ae===0)this.r=this.g=this.b=oe;else{var le=oe<=.5?oe*(1+ae):oe+ae-oe*ae,he=2*oe-le;this.r=ee(he,le,ie+1/3),this.g=ee(he,le,ie),this.b=ee(he,le,ie-1/3)}return this}}(),setStyle:function(ee){function re(me){me!==void 0&&parseFloat(me)<1&&console.warn("THREE.Color: Alpha component of "+ee+" will be ignored.")}var ie;if(ie=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(ee)){var ae,oe=ie[1],le=ie[2];switch(oe){case"rgb":case"rgba":if(ae=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(le))return this.r=Math.min(255,parseInt(ae[1],10))/255,this.g=Math.min(255,parseInt(ae[2],10))/255,this.b=Math.min(255,parseInt(ae[3],10))/255,re(ae[5]),this;if(ae=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(le))return this.r=Math.min(100,parseInt(ae[1],10))/100,this.g=Math.min(100,parseInt(ae[2],10))/100,this.b=Math.min(100,parseInt(ae[3],10))/100,re(ae[5]),this;break;case"hsl":case"hsla":if(ae=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(le)){var he=parseFloat(ae[1])/360,ue=parseInt(ae[2],10)/100,pe=parseInt(ae[3],10)/100;return re(ae[5]),this.setHSL(he,ue,pe)}break}}else if(ie=/^\#([A-Fa-f0-9]+)$/.exec(ee)){var ce=ie[1],fe=ce.length;if(fe===3)return this.r=parseInt(ce.charAt(0)+ce.charAt(0),16)/255,this.g=parseInt(ce.charAt(1)+ce.charAt(1),16)/255,this.b=parseInt(ce.charAt(2)+ce.charAt(2),16)/255,this;if(fe===6)return this.r=parseInt(ce.charAt(0)+ce.charAt(1),16)/255,this.g=parseInt(ce.charAt(2)+ce.charAt(3),16)/255,this.b=parseInt(ce.charAt(4)+ce.charAt(5),16)/255,this}if(ee&&ee.length>0){var ce=te.ColorKeywords[ee];ce!==void 0?this.setHex(ce):console.warn("THREE.Color: Unknown color "+ee)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(ee){return this.r=ee.r,this.g=ee.g,this.b=ee.b,this},copyGammaToLinear:function(ee,re){return re===void 0&&(re=2),this.r=Math.pow(ee.r,re),this.g=Math.pow(ee.g,re),this.b=Math.pow(ee.b,re),this},copyLinearToGamma:function(ee,re){re===void 0&&(re=2);var ie=re>0?1/re:1;return this.r=Math.pow(ee.r,ie),this.g=Math.pow(ee.g,ie),this.b=Math.pow(ee.b,ie),this},convertGammaToLinear:function(){var ee=this.r,re=this.g,ie=this.b;return this.r=ee*ee,this.g=re*re,this.b=ie*ie,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(ee){var re=ee||{h:0,s:0,l:0},ie=this.r,ae=this.g,oe=this.b,le=Math.max(ie,ae,oe),he=Math.min(ie,ae,oe),ue,pe,ce=(he+le)/2;if(he===le)ue=0,pe=0;else{var fe=le-he;switch(pe=ce<=.5?fe/(le+he):fe/(2-le-he),le){case ie:ue=(ae-oe)/fe+(ae<oe?6:0);break;case ae:ue=(oe-ie)/fe+2;break;case oe:ue=(ie-ae)/fe+4;break}ue/=6}return re.h=ue,re.s=pe,re.l=ce,re},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(ee,re,ie){var ae=this.getHSL();return ae.h+=ee,ae.s+=re,ae.l+=ie,this.setHSL(ae.h,ae.s,ae.l),this},add:function(ee){return this.r+=ee.r,this.g+=ee.g,this.b+=ee.b,this},addColors:function(ee,re){return this.r=ee.r+re.r,this.g=ee.g+re.g,this.b=ee.b+re.b,this},addScalar:function(ee){return this.r+=ee,this.g+=ee,this.b+=ee,this},sub:function(ee){return this.r=Math.max(0,this.r-ee.r),this.g=Math.max(0,this.g-ee.g),this.b=Math.max(0,this.b-ee.b),this},multiply:function(ee){return this.r*=ee.r,this.g*=ee.g,this.b*=ee.b,this},multiplyScalar:function(ee){return this.r*=ee,this.g*=ee,this.b*=ee,this},lerp:function(ee,re){return this.r+=(ee.r-this.r)*re,this.g+=(ee.g-this.g)*re,this.b+=(ee.b-this.b)*re,this},equals:function(ee){return ee.r===this.r&&ee.g===this.g&&ee.b===this.b},fromArray:function(ee,re){return re===void 0&&(re=0),this.r=ee[re],this.g=ee[re+1],this.b=ee[re+2],this},toArray:function(ee,re){return ee===void 0&&(ee=[]),re===void 0&&(re=0),ee[re]=this.r,ee[re+1]=this.g,ee[re+2]=this.b,ee}},te.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},te.Quaternion=function(ee,re,ie,ae){this._x=ee||0,this._y=re||0,this._z=ie||0,this._w=ae!==void 0?ae:1},te.Quaternion.prototype={constructor:te.Quaternion,get x(){return this._x},set x(ee){this._x=ee,this.onChangeCallback()},get y(){return this._y},set y(ee){this._y=ee,this.onChangeCallback()},get z(){return this._z},set z(ee){this._z=ee,this.onChangeCallback()},get w(){return this._w},set w(ee){this._w=ee,this.onChangeCallback()},set:function(ee,re,ie,ae){return this._x=ee,this._y=re,this._z=ie,this._w=ae,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(ee){return this._x=ee.x,this._y=ee.y,this._z=ee.z,this._w=ee.w,this.onChangeCallback(),this},setFromEuler:function(ee,re){if(!(ee instanceof te.Euler))throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var ie=Math.cos(ee._x/2),ae=Math.cos(ee._y/2),oe=Math.cos(ee._z/2),le=Math.sin(ee._x/2),he=Math.sin(ee._y/2),ue=Math.sin(ee._z/2),pe=ee.order;return pe==="XYZ"?(this._x=le*ae*oe+ie*he*ue,this._y=ie*he*oe-le*ae*ue,this._z=ie*ae*ue+le*he*oe,this._w=ie*ae*oe-le*he*ue):pe==="YXZ"?(this._x=le*ae*oe+ie*he*ue,this._y=ie*he*oe-le*ae*ue,this._z=ie*ae*ue-le*he*oe,this._w=ie*ae*oe+le*he*ue):pe==="ZXY"?(this._x=le*ae*oe-ie*he*ue,this._y=ie*he*oe+le*ae*ue,this._z=ie*ae*ue+le*he*oe,this._w=ie*ae*oe-le*he*ue):pe==="ZYX"?(this._x=le*ae*oe-ie*he*ue,this._y=ie*he*oe+le*ae*ue,this._z=ie*ae*ue-le*he*oe,this._w=ie*ae*oe+le*he*ue):pe==="YZX"?(this._x=le*ae*oe+ie*he*ue,this._y=ie*he*oe+le*ae*ue,this._z=ie*ae*ue-le*he*oe,this._w=ie*ae*oe-le*he*ue):pe==="XZY"&&(this._x=le*ae*oe-ie*he*ue,this._y=ie*he*oe-le*ae*ue,this._z=ie*ae*ue+le*he*oe,this._w=ie*ae*oe+le*he*ue),re!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(ee,re){var ie=re/2,ae=Math.sin(ie);return this._x=ee.x*ae,this._y=ee.y*ae,this._z=ee.z*ae,this._w=Math.cos(ie),this.onChangeCallback(),this},setFromRotationMatrix:function(ee){var re=ee.elements,ie=re[0],ae=re[4],oe=re[8],le=re[1],he=re[5],ue=re[9],pe=re[2],ce=re[6],fe=re[10],me=ie+he+fe,de;return me>0?(de=.5/Math.sqrt(me+1),this._w=.25/de,this._x=(ce-ue)*de,this._y=(oe-pe)*de,this._z=(le-ae)*de):ie>he&&ie>fe?(de=2*Math.sqrt(1+ie-he-fe),this._w=(ce-ue)/de,this._x=.25*de,this._y=(ae+le)/de,this._z=(oe+pe)/de):he>fe?(de=2*Math.sqrt(1+he-ie-fe),this._w=(oe-pe)/de,this._x=(ae+le)/de,this._y=.25*de,this._z=(ue+ce)/de):(de=2*Math.sqrt(1+fe-ie-he),this._w=(le-ae)/de,this._x=(oe+pe)/de,this._y=(ue+ce)/de,this._z=.25*de),this.onChangeCallback(),this},setFromUnitVectors:function(){var ee,re,ie=1e-6;return function(oe,le){return ee===void 0&&(ee=new te.Vector3),re=oe.dot(le)+1,re<ie?(re=0,Math.abs(oe.x)>Math.abs(oe.z)?ee.set(-oe.y,oe.x,0):ee.set(0,-oe.z,oe.y)):ee.crossVectors(oe,le),this._x=ee.x,this._y=ee.y,this._z=ee.z,this._w=re,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(ee){return this._x*ee._x+this._y*ee._y+this._z*ee._z+this._w*ee._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var ee=this.length();return ee===0?(this._x=0,this._y=0,this._z=0,this._w=1):(ee=1/ee,this._x=this._x*ee,this._y=this._y*ee,this._z=this._z*ee,this._w=this._w*ee),this.onChangeCallback(),this},multiply:function(ee,re){return re!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(ee,re)):this.multiplyQuaternions(this,ee)},premultiply:function(ee){return this.multiplyQuaternions(ee,this)},multiplyQuaternions:function(ee,re){var ie=ee._x,ae=ee._y,oe=ee._z,le=ee._w,he=re._x,ue=re._y,pe=re._z,ce=re._w;return this._x=ie*ce+le*he+ae*pe-oe*ue,this._y=ae*ce+le*ue+oe*he-ie*pe,this._z=oe*ce+le*pe+ie*ue-ae*he,this._w=le*ce-ie*he-ae*ue-oe*pe,this.onChangeCallback(),this},slerp:function(ee,re){if(re===0)return this;if(re===1)return this.copy(ee);var ie=this._x,ae=this._y,oe=this._z,le=this._w,he=le*ee._w+ie*ee._x+ae*ee._y+oe*ee._z;if(he<0?(this._w=-ee._w,this._x=-ee._x,this._y=-ee._y,this._z=-ee._z,he=-he):this.copy(ee),he>=1)return this._w=le,this._x=ie,this._y=ae,this._z=oe,this;var ue=Math.sqrt(1-he*he);if(Math.abs(ue)<.001)return this._w=.5*(le+this._w),this._x=.5*(ie+this._x),this._y=.5*(ae+this._y),this._z=.5*(oe+this._z),this;var pe=Math.atan2(ue,he),ce=Math.sin((1-re)*pe)/ue,fe=Math.sin(re*pe)/ue;return this._w=le*ce+this._w*fe,this._x=ie*ce+this._x*fe,this._y=ae*ce+this._y*fe,this._z=oe*ce+this._z*fe,this.onChangeCallback(),this},equals:function(ee){return ee._x===this._x&&ee._y===this._y&&ee._z===this._z&&ee._w===this._w},fromArray:function(ee,re){return re===void 0&&(re=0),this._x=ee[re],this._y=ee[re+1],this._z=ee[re+2],this._w=ee[re+3],this.onChangeCallback(),this},toArray:function(ee,re){return ee===void 0&&(ee=[]),re===void 0&&(re=0),ee[re]=this._x,ee[re+1]=this._y,ee[re+2]=this._z,ee[re+3]=this._w,ee},onChange:function(ee){return this.onChangeCallback=ee,this},onChangeCallback:function(){}},Object.assign(te.Quaternion,{slerp:function(ee,re,ie,ae){return ie.copy(ee).slerp(re,ae)},slerpFlat:function(ee,re,ie,ae,oe,le,he){var ue=ie[ae+0],pe=ie[ae+1],ce=ie[ae+2],fe=ie[ae+3],me=oe[le+0],de=oe[le+1],ve=oe[le+2],ge=oe[le+3];if(fe!==ge||ue!==me||pe!==de||ce!==ve){var xe=1-he,_e=ue*me+pe*de+ce*ve+fe*ge,ye=_e>=0?1:-1,we=1-_e*_e;if(we>Number.EPSILON){var be=Math.sqrt(we),Se=Math.atan2(be,_e*ye);xe=Math.sin(xe*Se)/be,he=Math.sin(he*Se)/be}var Ce=he*ye;if(ue=ue*xe+me*Ce,pe=pe*xe+de*Ce,ce=ce*xe+ve*Ce,fe=fe*xe+ge*Ce,xe===1-he){var Te=1/Math.sqrt(ue*ue+pe*pe+ce*ce+fe*fe);ue*=Te,pe*=Te,ce*=Te,fe*=Te}}ee[re]=ue,ee[re+1]=pe,ee[re+2]=ce,ee[re+3]=fe}}),te.Vector2=function(ee,re){this.x=ee||0,this.y=re||0},te.Vector2.prototype={constructor:te.Vector2,get width(){return this.x},set width(ee){this.x=ee},get height(){return this.y},set height(ee){this.y=ee},set:function(ee,re){return this.x=ee,this.y=re,this},setScalar:function(ee){return this.x=ee,this.y=ee,this},setX:function(ee){return this.x=ee,this},setY:function(ee){return this.y=ee,this},setComponent:function(ee,re){switch(ee){case 0:this.x=re;break;case 1:this.y=re;break;default:throw new Error("index is out of range: "+ee)}},getComponent:function(ee){switch(ee){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+ee)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(ee){return this.x=ee.x,this.y=ee.y,this},add:function(ee,re){return re!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(ee,re)):(this.x+=ee.x,this.y+=ee.y,this)},addScalar:function(ee){return this.x+=ee,this.y+=ee,this},addVectors:function(ee,re){return this.x=ee.x+re.x,this.y=ee.y+re.y,this},addScaledVector:function(ee,re){return this.x+=ee.x*re,this.y+=ee.y*re,this},sub:function(ee,re){return re!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(ee,re)):(this.x-=ee.x,this.y-=ee.y,this)},subScalar:function(ee){return this.x-=ee,this.y-=ee,this},subVectors:function(ee,re){return this.x=ee.x-re.x,this.y=ee.y-re.y,this},multiply:function(ee){return this.x*=ee.x,this.y*=ee.y,this},multiplyScalar:function(ee){return isFinite(ee)?(this.x*=ee,this.y*=ee):(this.x=0,this.y=0),this},divide:function(ee){return this.x/=ee.x,this.y/=ee.y,this},divideScalar:function(ee){return this.multiplyScalar(1/ee)},min:function(ee){return this.x=Math.min(this.x,ee.x),this.y=Math.min(this.y,ee.y),this},max:function(ee){return this.x=Math.max(this.x,ee.x),this.y=Math.max(this.y,ee.y),this},clamp:function(ee,re){return this.x=Math.max(ee.x,Math.min(re.x,this.x)),this.y=Math.max(ee.y,Math.min(re.y,this.y)),this},clampScalar:function(){var ee,re;return function(ae,oe){return ee===void 0&&(ee=new te.Vector2,re=new te.Vector2),ee.set(ae,ae),re.set(oe,oe),this.clamp(ee,re)}}(),clampLength:function(ee,re){var ie=this.length();return this.multiplyScalar(Math.max(ee,Math.min(re,ie))/ie)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(ee){return this.x*ee.x+this.y*ee.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var ee=Math.atan2(this.y,this.x);return ee<0&&(ee+=2*Math.PI),ee},distanceTo:function(ee){return Math.sqrt(this.distanceToSquared(ee))},distanceToSquared:function(ee){var re=this.x-ee.x,ie=this.y-ee.y;return re*re+ie*ie},distanceToManhattan:function(ee){return Math.abs(this.x-ee.x)+Math.abs(this.y-ee.y)},setLength:function(ee){return this.multiplyScalar(ee/this.length())},lerp:function(ee,re){return this.x+=(ee.x-this.x)*re,this.y+=(ee.y-this.y)*re,this},lerpVectors:function(ee,re,ie){return this.subVectors(re,ee).multiplyScalar(ie).add(ee)},equals:function(ee){return ee.x===this.x&&ee.y===this.y},fromArray:function(ee,re){return re===void 0&&(re=0),this.x=ee[re],this.y=ee[re+1],this},toArray:function(ee,re){return ee===void 0&&(ee=[]),re===void 0&&(re=0),ee[re]=this.x,ee[re+1]=this.y,ee},fromAttribute:function(ee,re,ie){return ie===void 0&&(ie=0),re=re*ee.itemSize+ie,this.x=ee.array[re],this.y=ee.array[re+1],this},rotateAround:function(ee,re){var ie=Math.cos(re),ae=Math.sin(re),oe=this.x-ee.x,le=this.y-ee.y;return this.x=oe*ie-le*ae+ee.x,this.y=oe*ae+le*ie+ee.y,this}},te.Vector3=function(ee,re,ie){this.x=ee||0,this.y=re||0,this.z=ie||0},te.Vector3.prototype={constructor:te.Vector3,set:function(ee,re,ie){return this.x=ee,this.y=re,this.z=ie,this},setScalar:function(ee){return this.x=ee,this.y=ee,this.z=ee,this},setX:function(ee){return this.x=ee,this},setY:function(ee){return this.y=ee,this},setZ:function(ee){return this.z=ee,this},setComponent:function(ee,re){switch(ee){case 0:this.x=re;break;case 1:this.y=re;break;case 2:this.z=re;break;default:throw new Error("index is out of range: "+ee)}},getComponent:function(ee){switch(ee){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+ee)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(ee){return this.x=ee.x,this.y=ee.y,this.z=ee.z,this},add:function(ee,re){return re!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(ee,re)):(this.x+=ee.x,this.y+=ee.y,this.z+=ee.z,this)},addScalar:function(ee){return this.x+=ee,this.y+=ee,this.z+=ee,this},addVectors:function(ee,re){return this.x=ee.x+re.x,this.y=ee.y+re.y,this.z=ee.z+re.z,this},addScaledVector:function(ee,re){return this.x+=ee.x*re,this.y+=ee.y*re,this.z+=ee.z*re,this},sub:function(ee,re){return re!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(ee,re)):(this.x-=ee.x,this.y-=ee.y,this.z-=ee.z,this)},subScalar:function(ee){return this.x-=ee,this.y-=ee,this.z-=ee,this},subVectors:function(ee,re){return this.x=ee.x-re.x,this.y=ee.y-re.y,this.z=ee.z-re.z,this},multiply:function(ee,re){return re!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(ee,re)):(this.x*=ee.x,this.y*=ee.y,this.z*=ee.z,this)},multiplyScalar:function(ee){return isFinite(ee)?(this.x*=ee,this.y*=ee,this.z*=ee):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(ee,re){return this.x=ee.x*re.x,this.y=ee.y*re.y,this.z=ee.z*re.z,this},applyEuler:function(){var ee;return function(ie){return ie instanceof te.Euler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),ee===void 0&&(ee=new te.Quaternion),this.applyQuaternion(ee.setFromEuler(ie))}}(),applyAxisAngle:function(){var ee;return function(ie,ae){return ee===void 0&&(ee=new te.Quaternion),this.applyQuaternion(ee.setFromAxisAngle(ie,ae))}}(),applyMatrix3:function(ee){var re=this.x,ie=this.y,ae=this.z,oe=ee.elements;return this.x=oe[0]*re+oe[3]*ie+oe[6]*ae,this.y=oe[1]*re+oe[4]*ie+oe[7]*ae,this.z=oe[2]*re+oe[5]*ie+oe[8]*ae,this},applyMatrix4:function(ee){var re=this.x,ie=this.y,ae=this.z,oe=ee.elements;return this.x=oe[0]*re+oe[4]*ie+oe[8]*ae+oe[12],this.y=oe[1]*re+oe[5]*ie+oe[9]*ae+oe[13],this.z=oe[2]*re+oe[6]*ie+oe[10]*ae+oe[14],this},applyProjection:function(ee){var re=this.x,ie=this.y,ae=this.z,oe=ee.elements,le=1/(oe[3]*re+oe[7]*ie+oe[11]*ae+oe[15]);return this.x=(oe[0]*re+oe[4]*ie+oe[8]*ae+oe[12])*le,this.y=(oe[1]*re+oe[5]*ie+oe[9]*ae+oe[13])*le,this.z=(oe[2]*re+oe[6]*ie+oe[10]*ae+oe[14])*le,this},applyQuaternion:function(ee){var re=this.x,ie=this.y,ae=this.z,oe=ee.x,le=ee.y,he=ee.z,ue=ee.w,pe=ue*re+le*ae-he*ie,ce=ue*ie+he*re-oe*ae,fe=ue*ae+oe*ie-le*re,me=-oe*re-le*ie-he*ae;return this.x=pe*ue+me*-oe+ce*-he-fe*-le,this.y=ce*ue+me*-le+fe*-oe-pe*-he,this.z=fe*ue+me*-he+pe*-le-ce*-oe,this},project:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Matrix4),ee.multiplyMatrices(ie.projectionMatrix,ee.getInverse(ie.matrixWorld)),this.applyProjection(ee)}}(),unproject:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Matrix4),ee.multiplyMatrices(ie.matrixWorld,ee.getInverse(ie.projectionMatrix)),this.applyProjection(ee)}}(),transformDirection:function(ee){var re=this.x,ie=this.y,ae=this.z,oe=ee.elements;return this.x=oe[0]*re+oe[4]*ie+oe[8]*ae,this.y=oe[1]*re+oe[5]*ie+oe[9]*ae,this.z=oe[2]*re+oe[6]*ie+oe[10]*ae,this.normalize()},divide:function(ee){return this.x/=ee.x,this.y/=ee.y,this.z/=ee.z,this},divideScalar:function(ee){return this.multiplyScalar(1/ee)},min:function(ee){return this.x=Math.min(this.x,ee.x),this.y=Math.min(this.y,ee.y),this.z=Math.min(this.z,ee.z),this},max:function(ee){return this.x=Math.max(this.x,ee.x),this.y=Math.max(this.y,ee.y),this.z=Math.max(this.z,ee.z),this},clamp:function(ee,re){return this.x=Math.max(ee.x,Math.min(re.x,this.x)),this.y=Math.max(ee.y,Math.min(re.y,this.y)),this.z=Math.max(ee.z,Math.min(re.z,this.z)),this},clampScalar:function(){var ee,re;return function(ae,oe){return ee===void 0&&(ee=new te.Vector3,re=new te.Vector3),ee.set(ae,ae,ae),re.set(oe,oe,oe),this.clamp(ee,re)}}(),clampLength:function(ee,re){var ie=this.length();return this.multiplyScalar(Math.max(ee,Math.min(re,ie))/ie)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(ee){return this.x*ee.x+this.y*ee.y+this.z*ee.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(ee){return this.multiplyScalar(ee/this.length())},lerp:function(ee,re){return this.x+=(ee.x-this.x)*re,this.y+=(ee.y-this.y)*re,this.z+=(ee.z-this.z)*re,this},lerpVectors:function(ee,re,ie){return this.subVectors(re,ee).multiplyScalar(ie).add(ee)},cross:function(ee,re){if(re!==void 0)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(ee,re);var ie=this.x,ae=this.y,oe=this.z;return this.x=ae*ee.z-oe*ee.y,this.y=oe*ee.x-ie*ee.z,this.z=ie*ee.y-ae*ee.x,this},crossVectors:function(ee,re){var ie=ee.x,ae=ee.y,oe=ee.z,le=re.x,he=re.y,ue=re.z;return this.x=ae*ue-oe*he,this.y=oe*le-ie*ue,this.z=ie*he-ae*le,this},projectOnVector:function(ee){var re=ee.dot(this)/ee.lengthSq();return this.copy(ee).multiplyScalar(re)},projectOnPlane:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Vector3),ee.copy(this).projectOnVector(ie),this.sub(ee)}}(),reflect:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Vector3),this.sub(ee.copy(ie).multiplyScalar(2*this.dot(ie)))}}(),angleTo:function(ee){var re=this.dot(ee)/Math.sqrt(this.lengthSq()*ee.lengthSq());return Math.acos(te.Math.clamp(re,-1,1))},distanceTo:function(ee){return Math.sqrt(this.distanceToSquared(ee))},distanceToSquared:function(ee){var re=this.x-ee.x,ie=this.y-ee.y,ae=this.z-ee.z;return re*re+ie*ie+ae*ae},distanceToManhattan:function(ee){return Math.abs(this.x-ee.x)+Math.abs(this.y-ee.y)+Math.abs(this.z-ee.z)},setFromSpherical:function(ee){var re=Math.sin(ee.phi)*ee.radius;return this.x=re*Math.sin(ee.theta),this.y=Math.cos(ee.phi)*ee.radius,this.z=re*Math.cos(ee.theta),this},setFromMatrixPosition:function(ee){return this.setFromMatrixColumn(ee,3)},setFromMatrixScale:function(ee){var re=this.setFromMatrixColumn(ee,0).length(),ie=this.setFromMatrixColumn(ee,1).length(),ae=this.setFromMatrixColumn(ee,2).length();return this.x=re,this.y=ie,this.z=ae,this},setFromMatrixColumn:function(ee,re){if(typeof ee=="number"){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var ie=ee;ee=re,re=ie}return this.fromArray(ee.elements,re*4)},equals:function(ee){return ee.x===this.x&&ee.y===this.y&&ee.z===this.z},fromArray:function(ee,re){return re===void 0&&(re=0),this.x=ee[re],this.y=ee[re+1],this.z=ee[re+2],this},toArray:function(ee,re){return ee===void 0&&(ee=[]),re===void 0&&(re=0),ee[re]=this.x,ee[re+1]=this.y,ee[re+2]=this.z,ee},fromAttribute:function(ee,re,ie){return ie===void 0&&(ie=0),re=re*ee.itemSize+ie,this.x=ee.array[re],this.y=ee.array[re+1],this.z=ee.array[re+2],this}},te.Vector4=function(ee,re,ie,ae){this.x=ee||0,this.y=re||0,this.z=ie||0,this.w=ae!==void 0?ae:1},te.Vector4.prototype={constructor:te.Vector4,set:function(ee,re,ie,ae){return this.x=ee,this.y=re,this.z=ie,this.w=ae,this},setScalar:function(ee){return this.x=ee,this.y=ee,this.z=ee,this.w=ee,this},setX:function(ee){return this.x=ee,this},setY:function(ee){return this.y=ee,this},setZ:function(ee){return this.z=ee,this},setW:function(ee){return this.w=ee,this},setComponent:function(ee,re){switch(ee){case 0:this.x=re;break;case 1:this.y=re;break;case 2:this.z=re;break;case 3:this.w=re;break;default:throw new Error("index is out of range: "+ee)}},getComponent:function(ee){switch(ee){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+ee)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(ee){return this.x=ee.x,this.y=ee.y,this.z=ee.z,this.w=ee.w!==void 0?ee.w:1,this},add:function(ee,re){return re!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(ee,re)):(this.x+=ee.x,this.y+=ee.y,this.z+=ee.z,this.w+=ee.w,this)},addScalar:function(ee){return this.x+=ee,this.y+=ee,this.z+=ee,this.w+=ee,this},addVectors:function(ee,re){return this.x=ee.x+re.x,this.y=ee.y+re.y,this.z=ee.z+re.z,this.w=ee.w+re.w,this},addScaledVector:function(ee,re){return this.x+=ee.x*re,this.y+=ee.y*re,this.z+=ee.z*re,this.w+=ee.w*re,this},sub:function(ee,re){return re!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(ee,re)):(this.x-=ee.x,this.y-=ee.y,this.z-=ee.z,this.w-=ee.w,this)},subScalar:function(ee){return this.x-=ee,this.y-=ee,this.z-=ee,this.w-=ee,this},subVectors:function(ee,re){return this.x=ee.x-re.x,this.y=ee.y-re.y,this.z=ee.z-re.z,this.w=ee.w-re.w,this},multiplyScalar:function(ee){return isFinite(ee)?(this.x*=ee,this.y*=ee,this.z*=ee,this.w*=ee):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(ee){var re=this.x,ie=this.y,ae=this.z,oe=this.w,le=ee.elements;return this.x=le[0]*re+le[4]*ie+le[8]*ae+le[12]*oe,this.y=le[1]*re+le[5]*ie+le[9]*ae+le[13]*oe,this.z=le[2]*re+le[6]*ie+le[10]*ae+le[14]*oe,this.w=le[3]*re+le[7]*ie+le[11]*ae+le[15]*oe,this},divideScalar:function(ee){return this.multiplyScalar(1/ee)},setAxisAngleFromQuaternion:function(ee){this.w=2*Math.acos(ee.w);var re=Math.sqrt(1-ee.w*ee.w);return re<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=ee.x/re,this.y=ee.y/re,this.z=ee.z/re),this},setAxisAngleFromRotationMatrix:function(ee){var re,ie,ae,oe,le=.01,he=.1,ue=ee.elements,pe=ue[0],ce=ue[4],fe=ue[8],me=ue[1],de=ue[5],ve=ue[9],ge=ue[2],xe=ue[6],_e=ue[10];if(Math.abs(ce-me)<le&&Math.abs(fe-ge)<le&&Math.abs(ve-xe)<le){if(Math.abs(ce+me)<he&&Math.abs(fe+ge)<he&&Math.abs(ve+xe)<he&&Math.abs(pe+de+_e-3)<he)return this.set(1,0,0,0),this;re=Math.PI;var ye=(pe+1)/2,we=(de+1)/2,be=(_e+1)/2,Se=(ce+me)/4,Ce=(fe+ge)/4,Te=(ve+xe)/4;return ye>we&&ye>be?ye<le?(ie=0,ae=.707106781,oe=.707106781):(ie=Math.sqrt(ye),ae=Se/ie,oe=Ce/ie):we>be?we<le?(ie=.707106781,ae=0,oe=.707106781):(ae=Math.sqrt(we),ie=Se/ae,oe=Te/ae):be<le?(ie=.707106781,ae=.707106781,oe=0):(oe=Math.sqrt(be),ie=Ce/oe,ae=Te/oe),this.set(ie,ae,oe,re),this}var De=Math.sqrt((xe-ve)*(xe-ve)+(fe-ge)*(fe-ge)+(me-ce)*(me-ce));return Math.abs(De)<.001&&(De=1),this.x=(xe-ve)/De,this.y=(fe-ge)/De,this.z=(me-ce)/De,this.w=Math.acos((pe+de+_e-1)/2),this},min:function(ee){return this.x=Math.min(this.x,ee.x),this.y=Math.min(this.y,ee.y),this.z=Math.min(this.z,ee.z),this.w=Math.min(this.w,ee.w),this},max:function(ee){return this.x=Math.max(this.x,ee.x),this.y=Math.max(this.y,ee.y),this.z=Math.max(this.z,ee.z),this.w=Math.max(this.w,ee.w),this},clamp:function(ee,re){return this.x=Math.max(ee.x,Math.min(re.x,this.x)),this.y=Math.max(ee.y,Math.min(re.y,this.y)),this.z=Math.max(ee.z,Math.min(re.z,this.z)),this.w=Math.max(ee.w,Math.min(re.w,this.w)),this},clampScalar:function(){var ee,re;return function(ae,oe){return ee===void 0&&(ee=new te.Vector4,re=new te.Vector4),ee.set(ae,ae,ae,ae),re.set(oe,oe,oe,oe),this.clamp(ee,re)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(ee){return this.x*ee.x+this.y*ee.y+this.z*ee.z+this.w*ee.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(ee){return this.multiplyScalar(ee/this.length())},lerp:function(ee,re){return this.x+=(ee.x-this.x)*re,this.y+=(ee.y-this.y)*re,this.z+=(ee.z-this.z)*re,this.w+=(ee.w-this.w)*re,this},lerpVectors:function(ee,re,ie){return this.subVectors(re,ee).multiplyScalar(ie).add(ee)},equals:function(ee){return ee.x===this.x&&ee.y===this.y&&ee.z===this.z&&ee.w===this.w},fromArray:function(ee,re){return re===void 0&&(re=0),this.x=ee[re],this.y=ee[re+1],this.z=ee[re+2],this.w=ee[re+3],this},toArray:function(ee,re){return ee===void 0&&(ee=[]),re===void 0&&(re=0),ee[re]=this.x,ee[re+1]=this.y,ee[re+2]=this.z,ee[re+3]=this.w,ee},fromAttribute:function(ee,re,ie){return ie===void 0&&(ie=0),re=re*ee.itemSize+ie,this.x=ee.array[re],this.y=ee.array[re+1],this.z=ee.array[re+2],this.w=ee.array[re+3],this}},te.Euler=function(ee,re,ie,ae){this._x=ee||0,this._y=re||0,this._z=ie||0,this._order=ae||te.Euler.DefaultOrder},te.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],te.Euler.DefaultOrder="XYZ",te.Euler.prototype={constructor:te.Euler,get x(){return this._x},set x(ee){this._x=ee,this.onChangeCallback()},get y(){return this._y},set y(ee){this._y=ee,this.onChangeCallback()},get z(){return this._z},set z(ee){this._z=ee,this.onChangeCallback()},get order(){return this._order},set order(ee){this._order=ee,this.onChangeCallback()},set:function(ee,re,ie,ae){return this._x=ee,this._y=re,this._z=ie,this._order=ae||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(ee){return this._x=ee._x,this._y=ee._y,this._z=ee._z,this._order=ee._order,this.onChangeCallback(),this},setFromRotationMatrix:function(ee,re,ie){var ae=te.Math.clamp,oe=ee.elements,le=oe[0],he=oe[4],ue=oe[8],pe=oe[1],ce=oe[5],fe=oe[9],me=oe[2],de=oe[6],ve=oe[10];return re=re||this._order,re==="XYZ"?(this._y=Math.asin(ae(ue,-1,1)),Math.abs(ue)<.99999?(this._x=Math.atan2(-fe,ve),this._z=Math.atan2(-he,le)):(this._x=Math.atan2(de,ce),this._z=0)):re==="YXZ"?(this._x=Math.asin(-ae(fe,-1,1)),Math.abs(fe)<.99999?(this._y=Math.atan2(ue,ve),this._z=Math.atan2(pe,ce)):(this._y=Math.atan2(-me,le),this._z=0)):re==="ZXY"?(this._x=Math.asin(ae(de,-1,1)),Math.abs(de)<.99999?(this._y=Math.atan2(-me,ve),this._z=Math.atan2(-he,ce)):(this._y=0,this._z=Math.atan2(pe,le))):re==="ZYX"?(this._y=Math.asin(-ae(me,-1,1)),Math.abs(me)<.99999?(this._x=Math.atan2(de,ve),this._z=Math.atan2(pe,le)):(this._x=0,this._z=Math.atan2(-he,ce))):re==="YZX"?(this._z=Math.asin(ae(pe,-1,1)),Math.abs(pe)<.99999?(this._x=Math.atan2(-fe,ce),this._y=Math.atan2(-me,le)):(this._x=0,this._y=Math.atan2(ue,ve))):re==="XZY"?(this._z=Math.asin(-ae(he,-1,1)),Math.abs(he)<.99999?(this._x=Math.atan2(de,ce),this._y=Math.atan2(ue,le)):(this._x=Math.atan2(-fe,ve),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+re),this._order=re,ie!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var ee;return function(ie,ae,oe){return ee===void 0&&(ee=new te.Matrix4),ee.makeRotationFromQuaternion(ie),this.setFromRotationMatrix(ee,ae,oe)}}(),setFromVector3:function(ee,re){return this.set(ee.x,ee.y,ee.z,re||this._order)},reorder:function(){var ee=new te.Quaternion;return function(ie){return ee.setFromEuler(this),this.setFromQuaternion(ee,ie)}}(),equals:function(ee){return ee._x===this._x&&ee._y===this._y&&ee._z===this._z&&ee._order===this._order},fromArray:function(ee){return this._x=ee[0],this._y=ee[1],this._z=ee[2],ee[3]!==void 0&&(this._order=ee[3]),this.onChangeCallback(),this},toArray:function(ee,re){return ee===void 0&&(ee=[]),re===void 0&&(re=0),ee[re]=this._x,ee[re+1]=this._y,ee[re+2]=this._z,ee[re+3]=this._order,ee},toVector3:function(ee){return ee?ee.set(this._x,this._y,this._z):new te.Vector3(this._x,this._y,this._z)},onChange:function(ee){return this.onChangeCallback=ee,this},onChangeCallback:function(){}},te.Line3=function(ee,re){this.start=ee!==void 0?ee:new te.Vector3,this.end=re!==void 0?re:new te.Vector3},te.Line3.prototype={constructor:te.Line3,set:function(ee,re){return this.start.copy(ee),this.end.copy(re),this},clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.start.copy(ee.start),this.end.copy(ee.end),this},center:function(ee){var re=ee||new te.Vector3;return re.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(ee){var re=ee||new te.Vector3;return re.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(ee,re){var ie=re||new te.Vector3;return this.delta(ie).multiplyScalar(ee).add(this.start)},closestPointToPointParameter:function(){var ee=new te.Vector3,re=new te.Vector3;return function(ae,oe){ee.subVectors(ae,this.start),re.subVectors(this.end,this.start);var le=re.dot(re),he=re.dot(ee),ue=he/le;return oe&&(ue=te.Math.clamp(ue,0,1)),ue}}(),closestPointToPoint:function(ee,re,ie){var ae=this.closestPointToPointParameter(ee,re),oe=ie||new te.Vector3;return this.delta(oe).multiplyScalar(ae).add(this.start)},applyMatrix4:function(ee){return this.start.applyMatrix4(ee),this.end.applyMatrix4(ee),this},equals:function(ee){return ee.start.equals(this.start)&&ee.end.equals(this.end)}},te.Box2=function(ee,re){this.min=ee!==void 0?ee:new te.Vector2(1/0,1/0),this.max=re!==void 0?re:new te.Vector2(-1/0,-1/0)},te.Box2.prototype={constructor:te.Box2,set:function(ee,re){return this.min.copy(ee),this.max.copy(re),this},setFromPoints:function(ee){this.makeEmpty();for(var re=0,ie=ee.length;re<ie;re++)this.expandByPoint(ee[re]);return this},setFromCenterAndSize:function(){var ee=new te.Vector2;return function(ie,ae){var oe=ee.copy(ae).multiplyScalar(.5);return this.min.copy(ie).sub(oe),this.max.copy(ie).add(oe),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.min.copy(ee.min),this.max.copy(ee.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(ee){var re=ee||new te.Vector2;return re.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(ee){var re=ee||new te.Vector2;return re.subVectors(this.max,this.min)},expandByPoint:function(ee){return this.min.min(ee),this.max.max(ee),this},expandByVector:function(ee){return this.min.sub(ee),this.max.add(ee),this},expandByScalar:function(ee){return this.min.addScalar(-ee),this.max.addScalar(ee),this},containsPoint:function(ee){return!(ee.x<this.min.x||ee.x>this.max.x||ee.y<this.min.y||ee.y>this.max.y)},containsBox:function(ee){return this.min.x<=ee.min.x&&ee.max.x<=this.max.x&&this.min.y<=ee.min.y&&ee.max.y<=this.max.y},getParameter:function(ee,re){var ie=re||new te.Vector2;return ie.set((ee.x-this.min.x)/(this.max.x-this.min.x),(ee.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(ee){return!(ee.max.x<this.min.x||ee.min.x>this.max.x||ee.max.y<this.min.y||ee.min.y>this.max.y)},clampPoint:function(ee,re){var ie=re||new te.Vector2;return ie.copy(ee).clamp(this.min,this.max)},distanceToPoint:function(){var ee=new te.Vector2;return function(ie){var ae=ee.copy(ie).clamp(this.min,this.max);return ae.sub(ie).length()}}(),intersect:function(ee){return this.min.max(ee.min),this.max.min(ee.max),this},union:function(ee){return this.min.min(ee.min),this.max.max(ee.max),this},translate:function(ee){return this.min.add(ee),this.max.add(ee),this},equals:function(ee){return ee.min.equals(this.min)&&ee.max.equals(this.max)}},te.Box3=function(ee,re){this.min=ee!==void 0?ee:new te.Vector3(1/0,1/0,1/0),this.max=re!==void 0?re:new te.Vector3(-1/0,-1/0,-1/0)},te.Box3.prototype={constructor:te.Box3,set:function(ee,re){return this.min.copy(ee),this.max.copy(re),this},setFromArray:function(ee){for(var re=1/0,ie=1/0,ae=1/0,oe=-1/0,le=-1/0,he=-1/0,ue=0,pe=ee.length;ue<pe;ue+=3){var ce=ee[ue],fe=ee[ue+1],me=ee[ue+2];ce<re&&(re=ce),fe<ie&&(ie=fe),me<ae&&(ae=me),ce>oe&&(oe=ce),fe>le&&(le=fe),me>he&&(he=me)}this.min.set(re,ie,ae),this.max.set(oe,le,he)},setFromPoints:function(ee){this.makeEmpty();for(var re=0,ie=ee.length;re<ie;re++)this.expandByPoint(ee[re]);return this},setFromCenterAndSize:function(){var ee=new te.Vector3;return function(ie,ae){var oe=ee.copy(ae).multiplyScalar(.5);return this.min.copy(ie).sub(oe),this.max.copy(ie).add(oe),this}}(),setFromObject:function(){var ee=new te.Vector3;return function(ie){var ae=this;return ie.updateMatrixWorld(!0),this.makeEmpty(),ie.traverse(function(oe){var le=oe.geometry;if(le!==void 0){if(le instanceof te.Geometry)for(var he=le.vertices,ue=0,pe=he.length;ue<pe;ue++)ee.copy(he[ue]),ee.applyMatrix4(oe.matrixWorld),ae.expandByPoint(ee);else if(le instanceof te.BufferGeometry){var ce=le.attributes.position;if(ce!==void 0){var fe,me,de;ce instanceof te.InterleavedBufferAttribute?(fe=ce.data.array,me=ce.offset,de=ce.data.stride):(fe=ce.array,me=0,de=3);for(var ue=me,pe=fe.length;ue<pe;ue+=de)ee.fromArray(fe,ue),ee.applyMatrix4(oe.matrixWorld),ae.expandByPoint(ee)}}}}),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.min.copy(ee.min),this.max.copy(ee.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(ee){var re=ee||new te.Vector3;return re.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(ee){var re=ee||new te.Vector3;return re.subVectors(this.max,this.min)},expandByPoint:function(ee){return this.min.min(ee),this.max.max(ee),this},expandByVector:function(ee){return this.min.sub(ee),this.max.add(ee),this},expandByScalar:function(ee){return this.min.addScalar(-ee),this.max.addScalar(ee),this},containsPoint:function(ee){return!(ee.x<this.min.x||ee.x>this.max.x||ee.y<this.min.y||ee.y>this.max.y||ee.z<this.min.z||ee.z>this.max.z)},containsBox:function(ee){return this.min.x<=ee.min.x&&ee.max.x<=this.max.x&&this.min.y<=ee.min.y&&ee.max.y<=this.max.y&&this.min.z<=ee.min.z&&ee.max.z<=this.max.z},getParameter:function(ee,re){var ie=re||new te.Vector3;return ie.set((ee.x-this.min.x)/(this.max.x-this.min.x),(ee.y-this.min.y)/(this.max.y-this.min.y),(ee.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(ee){return!(ee.max.x<this.min.x||ee.min.x>this.max.x||ee.max.y<this.min.y||ee.min.y>this.max.y||ee.max.z<this.min.z||ee.min.z>this.max.z)},intersectsSphere:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Vector3),this.clampPoint(ie.center,ee),ee.distanceToSquared(ie.center)<=ie.radius*ie.radius}}(),intersectsPlane:function(ee){var re,ie;return ee.normal.x>0?(re=ee.normal.x*this.min.x,ie=ee.normal.x*this.max.x):(re=ee.normal.x*this.max.x,ie=ee.normal.x*this.min.x),ee.normal.y>0?(re+=ee.normal.y*this.min.y,ie+=ee.normal.y*this.max.y):(re+=ee.normal.y*this.max.y,ie+=ee.normal.y*this.min.y),ee.normal.z>0?(re+=ee.normal.z*this.min.z,ie+=ee.normal.z*this.max.z):(re+=ee.normal.z*this.max.z,ie+=ee.normal.z*this.min.z),re<=ee.constant&&ie>=ee.constant},clampPoint:function(ee,re){var ie=re||new te.Vector3;return ie.copy(ee).clamp(this.min,this.max)},distanceToPoint:function(){var ee=new te.Vector3;return function(ie){var ae=ee.copy(ie).clamp(this.min,this.max);return ae.sub(ie).length()}}(),getBoundingSphere:function(){var ee=new te.Vector3;return function(ie){var ae=ie||new te.Sphere;return ae.center=this.center(),ae.radius=this.size(ee).length()*.5,ae}}(),intersect:function(ee){return this.min.max(ee.min),this.max.min(ee.max),this.isEmpty()&&this.makeEmpty(),this},union:function(ee){return this.min.min(ee.min),this.max.max(ee.max),this},applyMatrix4:function(){var ee=[new te.Vector3,new te.Vector3,new te.Vector3,new te.Vector3,new te.Vector3,new te.Vector3,new te.Vector3,new te.Vector3];return function(ie){return this.isEmpty()?this:(ee[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(ie),ee[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(ie),ee[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(ie),ee[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(ie),ee[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(ie),ee[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(ie),ee[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(ie),ee[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(ie),this.setFromPoints(ee),this)}}(),translate:function(ee){return this.min.add(ee),this.max.add(ee),this},equals:function(ee){return ee.min.equals(this.min)&&ee.max.equals(this.max)}},te.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},te.Matrix3.prototype={constructor:te.Matrix3,set:function(ee,re,ie,ae,oe,le,he,ue,pe){var ce=this.elements;return ce[0]=ee,ce[1]=ae,ce[2]=he,ce[3]=re,ce[4]=oe,ce[5]=ue,ce[6]=ie,ce[7]=le,ce[8]=pe,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(ee){var re=ee.elements;return this.set(re[0],re[3],re[6],re[1],re[4],re[7],re[2],re[5],re[8]),this},setFromMatrix4:function(ee){var re=ee.elements;return this.set(re[0],re[4],re[8],re[1],re[5],re[9],re[2],re[6],re[10]),this},applyToVector3Array:function(){var ee;return function(ie,ae,oe){ee===void 0&&(ee=new te.Vector3),ae===void 0&&(ae=0),oe===void 0&&(oe=ie.length);for(var le=0,he=ae;le<oe;le+=3,he+=3)ee.fromArray(ie,he),ee.applyMatrix3(this),ee.toArray(ie,he);return ie}}(),applyToBuffer:function(){var ee;return function(ie,ae,oe){ee===void 0&&(ee=new te.Vector3),ae===void 0&&(ae=0),oe===void 0&&(oe=ie.length/ie.itemSize);for(var le=0,he=ae;le<oe;le++,he++)ee.x=ie.getX(he),ee.y=ie.getY(he),ee.z=ie.getZ(he),ee.applyMatrix3(this),ie.setXYZ(ee.x,ee.y,ee.z);return ie}}(),multiplyScalar:function(ee){var re=this.elements;return re[0]*=ee,re[3]*=ee,re[6]*=ee,re[1]*=ee,re[4]*=ee,re[7]*=ee,re[2]*=ee,re[5]*=ee,re[8]*=ee,this},determinant:function(){var ee=this.elements,re=ee[0],ie=ee[1],ae=ee[2],oe=ee[3],le=ee[4],he=ee[5],ue=ee[6],pe=ee[7],ce=ee[8];return re*le*ce-re*he*pe-ie*oe*ce+ie*he*ue+ae*oe*pe-ae*le*ue},getInverse:function(ee,re){ee instanceof te.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var ie=ee.elements,ae=this.elements,oe=ie[0],le=ie[1],he=ie[2],ue=ie[3],pe=ie[4],ce=ie[5],fe=ie[6],me=ie[7],de=ie[8],ve=de*pe-ce*me,ge=ce*fe-de*ue,xe=me*ue-pe*fe,_e=oe*ve+le*ge+he*xe;if(_e===0){var ye="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(re)throw new Error(ye);return console.warn(ye),this.identity()}var we=1/_e;return ae[0]=ve*we,ae[1]=(he*me-de*le)*we,ae[2]=(ce*le-he*pe)*we,ae[3]=ge*we,ae[4]=(de*oe-he*fe)*we,ae[5]=(he*ue-ce*oe)*we,ae[6]=xe*we,ae[7]=(le*fe-me*oe)*we,ae[8]=(pe*oe-le*ue)*we,this},transpose:function(){var ee,re=this.elements;return ee=re[1],re[1]=re[3],re[3]=ee,ee=re[2],re[2]=re[6],re[6]=ee,ee=re[5],re[5]=re[7],re[7]=ee,this},flattenToArrayOffset:function(ee,re){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(ee,re)},getNormalMatrix:function(ee){return this.setFromMatrix4(ee).getInverse(this).transpose()},transposeIntoArray:function(ee){var re=this.elements;return ee[0]=re[0],ee[1]=re[3],ee[2]=re[6],ee[3]=re[1],ee[4]=re[4],ee[5]=re[7],ee[6]=re[2],ee[7]=re[5],ee[8]=re[8],this},fromArray:function(ee){return this.elements.set(ee),this},toArray:function(ee,re){ee===void 0&&(ee=[]),re===void 0&&(re=0);var ie=this.elements;return ee[re]=ie[0],ee[re+1]=ie[1],ee[re+2]=ie[2],ee[re+3]=ie[3],ee[re+4]=ie[4],ee[re+5]=ie[5],ee[re+6]=ie[6],ee[re+7]=ie[7],ee[re+8]=ie[8],ee}},te.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},te.Matrix4.prototype={constructor:te.Matrix4,set:function(ee,re,ie,ae,oe,le,he,ue,pe,ce,fe,me,de,ve,ge,xe){var _e=this.elements;return _e[0]=ee,_e[4]=re,_e[8]=ie,_e[12]=ae,_e[1]=oe,_e[5]=le,_e[9]=he,_e[13]=ue,_e[2]=pe,_e[6]=ce,_e[10]=fe,_e[14]=me,_e[3]=de,_e[7]=ve,_e[11]=ge,_e[15]=xe,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new te.Matrix4().fromArray(this.elements)},copy:function(ee){return this.elements.set(ee.elements),this},copyPosition:function(ee){var re=this.elements,ie=ee.elements;return re[12]=ie[12],re[13]=ie[13],re[14]=ie[14],this},extractBasis:function(ee,re,ie){return ee.setFromMatrixColumn(this,0),re.setFromMatrixColumn(this,1),ie.setFromMatrixColumn(this,2),this},makeBasis:function(ee,re,ie){return this.set(ee.x,re.x,ie.x,0,ee.y,re.y,ie.y,0,ee.z,re.z,ie.z,0,0,0,0,1),this},extractRotation:function(){var ee;return function(ie){ee===void 0&&(ee=new te.Vector3);var ae=this.elements,oe=ie.elements,le=1/ee.setFromMatrixColumn(ie,0).length(),he=1/ee.setFromMatrixColumn(ie,1).length(),ue=1/ee.setFromMatrixColumn(ie,2).length();return ae[0]=oe[0]*le,ae[1]=oe[1]*le,ae[2]=oe[2]*le,ae[4]=oe[4]*he,ae[5]=oe[5]*he,ae[6]=oe[6]*he,ae[8]=oe[8]*ue,ae[9]=oe[9]*ue,ae[10]=oe[10]*ue,this}}(),makeRotationFromEuler:function(ee){ee instanceof te.Euler||console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var re=this.elements,ie=ee.x,ae=ee.y,oe=ee.z,le=Math.cos(ie),he=Math.sin(ie),ue=Math.cos(ae),pe=Math.sin(ae),ce=Math.cos(oe),fe=Math.sin(oe);if(ee.order==="XYZ"){var me=le*ce,de=le*fe,ve=he*ce,ge=he*fe;re[0]=ue*ce,re[4]=-ue*fe,re[8]=pe,re[1]=de+ve*pe,re[5]=me-ge*pe,re[9]=-he*ue,re[2]=ge-me*pe,re[6]=ve+de*pe,re[10]=le*ue}else if(ee.order==="YXZ"){var xe=ue*ce,_e=ue*fe,ye=pe*ce,we=pe*fe;re[0]=xe+we*he,re[4]=ye*he-_e,re[8]=le*pe,re[1]=le*fe,re[5]=le*ce,re[9]=-he,re[2]=_e*he-ye,re[6]=we+xe*he,re[10]=le*ue}else if(ee.order==="ZXY"){var xe=ue*ce,_e=ue*fe,ye=pe*ce,we=pe*fe;re[0]=xe-we*he,re[4]=-le*fe,re[8]=ye+_e*he,re[1]=_e+ye*he,re[5]=le*ce,re[9]=we-xe*he,re[2]=-le*pe,re[6]=he,re[10]=le*ue}else if(ee.order==="ZYX"){var me=le*ce,de=le*fe,ve=he*ce,ge=he*fe;re[0]=ue*ce,re[4]=ve*pe-de,re[8]=me*pe+ge,re[1]=ue*fe,re[5]=ge*pe+me,re[9]=de*pe-ve,re[2]=-pe,re[6]=he*ue,re[10]=le*ue}else if(ee.order==="YZX"){var be=le*ue,Se=le*pe,Ce=he*ue,Te=he*pe;re[0]=ue*ce,re[4]=Te-be*fe,re[8]=Ce*fe+Se,re[1]=fe,re[5]=le*ce,re[9]=-he*ce,re[2]=-pe*ce,re[6]=Se*fe+Ce,re[10]=be-Te*fe}else if(ee.order==="XZY"){var be=le*ue,Se=le*pe,Ce=he*ue,Te=he*pe;re[0]=ue*ce,re[4]=-fe,re[8]=pe*ce,re[1]=be*fe+Te,re[5]=le*ce,re[9]=Se*fe-Ce,re[2]=Ce*fe-Se,re[6]=he*ce,re[10]=Te*fe+be}return re[3]=0,re[7]=0,re[11]=0,re[12]=0,re[13]=0,re[14]=0,re[15]=1,this},makeRotationFromQuaternion:function(ee){var re=this.elements,ie=ee.x,ae=ee.y,oe=ee.z,le=ee.w,he=ie+ie,ue=ae+ae,pe=oe+oe,ce=ie*he,fe=ie*ue,me=ie*pe,de=ae*ue,ve=ae*pe,ge=oe*pe,xe=le*he,_e=le*ue,ye=le*pe;return re[0]=1-(de+ge),re[4]=fe-ye,re[8]=me+_e,re[1]=fe+ye,re[5]=1-(ce+ge),re[9]=ve-xe,re[2]=me-_e,re[6]=ve+xe,re[10]=1-(ce+de),re[3]=0,re[7]=0,re[11]=0,re[12]=0,re[13]=0,re[14]=0,re[15]=1,this},lookAt:function(){var ee,re,ie;return function(oe,le,he){ee===void 0&&(ee=new te.Vector3,re=new te.Vector3,ie=new te.Vector3);var ue=this.elements;return ie.subVectors(oe,le).normalize(),ie.lengthSq()===0&&(ie.z=1),ee.crossVectors(he,ie).normalize(),ee.lengthSq()===0&&(ie.z+=1e-4,ee.crossVectors(he,ie).normalize()),re.crossVectors(ie,ee),ue[0]=ee.x,ue[4]=re.x,ue[8]=ie.x,ue[1]=ee.y,ue[5]=re.y,ue[9]=ie.y,ue[2]=ee.z,ue[6]=re.z,ue[10]=ie.z,this}}(),multiply:function(ee,re){return re!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(ee,re)):this.multiplyMatrices(this,ee)},premultiply:function(ee){return this.multiplyMatrices(ee,this)},multiplyMatrices:function(ee,re){var ie=ee.elements,ae=re.elements,oe=this.elements,le=ie[0],he=ie[4],ue=ie[8],pe=ie[12],ce=ie[1],fe=ie[5],me=ie[9],de=ie[13],ve=ie[2],ge=ie[6],xe=ie[10],_e=ie[14],ye=ie[3],we=ie[7],be=ie[11],Se=ie[15],Ce=ae[0],Te=ae[4],De=ae[8],Fe=ae[12],Le=ae[1],Ie=ae[5],Oe=ae[9],ke=ae[13],Pe=ae[2],Me=ae[6],Ee=ae[10],Ae=ae[14],Re=ae[3],Be=ae[7],ze=ae[11],je=ae[15];return oe[0]=le*Ce+he*Le+ue*Pe+pe*Re,oe[4]=le*Te+he*Ie+ue*Me+pe*Be,oe[8]=le*De+he*Oe+ue*Ee+pe*ze,oe[12]=le*Fe+he*ke+ue*Ae+pe*je,oe[1]=ce*Ce+fe*Le+me*Pe+de*Re,oe[5]=ce*Te+fe*Ie+me*Me+de*Be,oe[9]=ce*De+fe*Oe+me*Ee+de*ze,oe[13]=ce*Fe+fe*ke+me*Ae+de*je,oe[2]=ve*Ce+ge*Le+xe*Pe+_e*Re,oe[6]=ve*Te+ge*Ie+xe*Me+_e*Be,oe[10]=ve*De+ge*Oe+xe*Ee+_e*ze,oe[14]=ve*Fe+ge*ke+xe*Ae+_e*je,oe[3]=ye*Ce+we*Le+be*Pe+Se*Re,oe[7]=ye*Te+we*Ie+be*Me+Se*Be,oe[11]=ye*De+we*Oe+be*Ee+Se*ze,oe[15]=ye*Fe+we*ke+be*Ae+Se*je,this},multiplyToArray:function(ee,re,ie){var ae=this.elements;return this.multiplyMatrices(ee,re),ie[0]=ae[0],ie[1]=ae[1],ie[2]=ae[2],ie[3]=ae[3],ie[4]=ae[4],ie[5]=ae[5],ie[6]=ae[6],ie[7]=ae[7],ie[8]=ae[8],ie[9]=ae[9],ie[10]=ae[10],ie[11]=ae[11],ie[12]=ae[12],ie[13]=ae[13],ie[14]=ae[14],ie[15]=ae[15],this},multiplyScalar:function(ee){var re=this.elements;return re[0]*=ee,re[4]*=ee,re[8]*=ee,re[12]*=ee,re[1]*=ee,re[5]*=ee,re[9]*=ee,re[13]*=ee,re[2]*=ee,re[6]*=ee,re[10]*=ee,re[14]*=ee,re[3]*=ee,re[7]*=ee,re[11]*=ee,re[15]*=ee,this},applyToVector3Array:function(){var ee;return function(ie,ae,oe){ee===void 0&&(ee=new te.Vector3),ae===void 0&&(ae=0),oe===void 0&&(oe=ie.length);for(var le=0,he=ae;le<oe;le+=3,he+=3)ee.fromArray(ie,he),ee.applyMatrix4(this),ee.toArray(ie,he);return ie}}(),applyToBuffer:function(){var ee;return function(ie,ae,oe){ee===void 0&&(ee=new te.Vector3),ae===void 0&&(ae=0),oe===void 0&&(oe=ie.length/ie.itemSize);for(var le=0,he=ae;le<oe;le++,he++)ee.x=ie.getX(he),ee.y=ie.getY(he),ee.z=ie.getZ(he),ee.applyMatrix4(this),ie.setXYZ(ee.x,ee.y,ee.z);return ie}}(),determinant:function(){var ee=this.elements,re=ee[0],ie=ee[4],ae=ee[8],oe=ee[12],le=ee[1],he=ee[5],ue=ee[9],pe=ee[13],ce=ee[2],fe=ee[6],me=ee[10],de=ee[14],ve=ee[3],ge=ee[7],xe=ee[11],_e=ee[15];return ve*(+oe*ue*fe-ae*pe*fe-oe*he*me+ie*pe*me+ae*he*de-ie*ue*de)+ge*(+re*ue*de-re*pe*me+oe*le*me-ae*le*de+ae*pe*ce-oe*ue*ce)+xe*(+re*pe*fe-re*he*de-oe*le*fe+ie*le*de+oe*he*ce-ie*pe*ce)+_e*(-ae*he*ce-re*ue*fe+re*he*me+ae*le*fe-ie*le*me+ie*ue*ce)},transpose:function(){var ee=this.elements,re;return re=ee[1],ee[1]=ee[4],ee[4]=re,re=ee[2],ee[2]=ee[8],ee[8]=re,re=ee[6],ee[6]=ee[9],ee[9]=re,re=ee[3],ee[3]=ee[12],ee[12]=re,re=ee[7],ee[7]=ee[13],ee[13]=re,re=ee[11],ee[11]=ee[14],ee[14]=re,this},flattenToArrayOffset:function(ee,re){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(ee,re)},getPosition:function(){var ee;return function(){return ee===void 0&&(ee=new te.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),ee.setFromMatrixColumn(this,3)}}(),setPosition:function(ee){var re=this.elements;return re[12]=ee.x,re[13]=ee.y,re[14]=ee.z,this},getInverse:function(ee,re){var ie=this.elements,ae=ee.elements,oe=ae[0],le=ae[1],he=ae[2],ue=ae[3],pe=ae[4],ce=ae[5],fe=ae[6],me=ae[7],de=ae[8],ve=ae[9],ge=ae[10],xe=ae[11],_e=ae[12],ye=ae[13],we=ae[14],be=ae[15],Se=ve*we*me-ye*ge*me+ye*fe*xe-ce*we*xe-ve*fe*be+ce*ge*be,Ce=_e*ge*me-de*we*me-_e*fe*xe+pe*we*xe+de*fe*be-pe*ge*be,Te=de*ye*me-_e*ve*me+_e*ce*xe-pe*ye*xe-de*ce*be+pe*ve*be,De=_e*ve*fe-de*ye*fe-_e*ce*ge+pe*ye*ge+de*ce*we-pe*ve*we,Fe=oe*Se+le*Ce+he*Te+ue*De;if(Fe===0){var Le="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(re)throw new Error(Le);return console.warn(Le),this.identity()}var Ie=1/Fe;return ie[0]=Se*Ie,ie[1]=(ye*ge*ue-ve*we*ue-ye*he*xe+le*we*xe+ve*he*be-le*ge*be)*Ie,ie[2]=(ce*we*ue-ye*fe*ue+ye*he*me-le*we*me-ce*he*be+le*fe*be)*Ie,ie[3]=(ve*fe*ue-ce*ge*ue-ve*he*me+le*ge*me+ce*he*xe-le*fe*xe)*Ie,ie[4]=Ce*Ie,ie[5]=(de*we*ue-_e*ge*ue+_e*he*xe-oe*we*xe-de*he*be+oe*ge*be)*Ie,ie[6]=(_e*fe*ue-pe*we*ue-_e*he*me+oe*we*me+pe*he*be-oe*fe*be)*Ie,ie[7]=(pe*ge*ue-de*fe*ue+de*he*me-oe*ge*me-pe*he*xe+oe*fe*xe)*Ie,ie[8]=Te*Ie,ie[9]=(_e*ve*ue-de*ye*ue-_e*le*xe+oe*ye*xe+de*le*be-oe*ve*be)*Ie,ie[10]=(pe*ye*ue-_e*ce*ue+_e*le*me-oe*ye*me-pe*le*be+oe*ce*be)*Ie,ie[11]=(de*ce*ue-pe*ve*ue-de*le*me+oe*ve*me+pe*le*xe-oe*ce*xe)*Ie,ie[12]=De*Ie,ie[13]=(de*ye*he-_e*ve*he+_e*le*ge-oe*ye*ge-de*le*we+oe*ve*we)*Ie,ie[14]=(_e*ce*he-pe*ye*he-_e*le*fe+oe*ye*fe+pe*le*we-oe*ce*we)*Ie,ie[15]=(pe*ve*he-de*ce*he+de*le*fe-oe*ve*fe-pe*le*ge+oe*ce*ge)*Ie,this},scale:function(ee){var re=this.elements,ie=ee.x,ae=ee.y,oe=ee.z;return re[0]*=ie,re[4]*=ae,re[8]*=oe,re[1]*=ie,re[5]*=ae,re[9]*=oe,re[2]*=ie,re[6]*=ae,re[10]*=oe,re[3]*=ie,re[7]*=ae,re[11]*=oe,this},getMaxScaleOnAxis:function(){var ee=this.elements,re=ee[0]*ee[0]+ee[1]*ee[1]+ee[2]*ee[2],ie=ee[4]*ee[4]+ee[5]*ee[5]+ee[6]*ee[6],ae=ee[8]*ee[8]+ee[9]*ee[9]+ee[10]*ee[10];return Math.sqrt(Math.max(re,ie,ae))},makeTranslation:function(ee,re,ie){return this.set(1,0,0,ee,0,1,0,re,0,0,1,ie,0,0,0,1),this},makeRotationX:function(ee){var re=Math.cos(ee),ie=Math.sin(ee);return this.set(1,0,0,0,0,re,-ie,0,0,ie,re,0,0,0,0,1),this},makeRotationY:function(ee){var re=Math.cos(ee),ie=Math.sin(ee);return this.set(re,0,ie,0,0,1,0,0,-ie,0,re,0,0,0,0,1),this},makeRotationZ:function(ee){var re=Math.cos(ee),ie=Math.sin(ee);return this.set(re,-ie,0,0,ie,re,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(ee,re){var ie=Math.cos(re),ae=Math.sin(re),oe=1-ie,le=ee.x,he=ee.y,ue=ee.z,pe=oe*le,ce=oe*he;return this.set(pe*le+ie,pe*he-ae*ue,pe*ue+ae*he,0,pe*he+ae*ue,ce*he+ie,ce*ue-ae*le,0,pe*ue-ae*he,ce*ue+ae*le,oe*ue*ue+ie,0,0,0,0,1),this},makeScale:function(ee,re,ie){return this.set(ee,0,0,0,0,re,0,0,0,0,ie,0,0,0,0,1),this},compose:function(ee,re,ie){return this.makeRotationFromQuaternion(re),this.scale(ie),this.setPosition(ee),this},decompose:function(){var ee,re;return function(ae,oe,le){ee===void 0&&(ee=new te.Vector3,re=new te.Matrix4);var he=this.elements,ue=ee.set(he[0],he[1],he[2]).length(),pe=ee.set(he[4],he[5],he[6]).length(),ce=ee.set(he[8],he[9],he[10]).length(),fe=this.determinant();fe<0&&(ue=-ue),ae.x=he[12],ae.y=he[13],ae.z=he[14],re.elements.set(this.elements);var me=1/ue,de=1/pe,ve=1/ce;return re.elements[0]*=me,re.elements[1]*=me,re.elements[2]*=me,re.elements[4]*=de,re.elements[5]*=de,re.elements[6]*=de,re.elements[8]*=ve,re.elements[9]*=ve,re.elements[10]*=ve,oe.setFromRotationMatrix(re),le.x=ue,le.y=pe,le.z=ce,this}}(),makeFrustum:function(ee,re,ie,ae,oe,le){var he=this.elements,ue=2*oe/(re-ee),pe=2*oe/(ae-ie),ce=(re+ee)/(re-ee),fe=(ae+ie)/(ae-ie),me=-(le+oe)/(le-oe),de=-2*le*oe/(le-oe);return he[0]=ue,he[4]=0,he[8]=ce,he[12]=0,he[1]=0,he[5]=pe,he[9]=fe,he[13]=0,he[2]=0,he[6]=0,he[10]=me,he[14]=de,he[3]=0,he[7]=0,he[11]=-1,he[15]=0,this},makePerspective:function(ee,re,ie,ae){var oe=ie*Math.tan(te.Math.DEG2RAD*ee*.5),le=-oe,he=le*re,ue=oe*re;return this.makeFrustum(he,ue,le,oe,ie,ae)},makeOrthographic:function(ee,re,ie,ae,oe,le){var he=this.elements,ue=1/(re-ee),pe=1/(ie-ae),ce=1/(le-oe),fe=(re+ee)*ue,me=(ie+ae)*pe,de=(le+oe)*ce;return he[0]=2*ue,he[4]=0,he[8]=0,he[12]=-fe,he[1]=0,he[5]=2*pe,he[9]=0,he[13]=-me,he[2]=0,he[6]=0,he[10]=-2*ce,he[14]=-de,he[3]=0,he[7]=0,he[11]=0,he[15]=1,this},equals:function(ee){for(var re=this.elements,ie=ee.elements,ae=0;ae<16;ae++)if(re[ae]!==ie[ae])return!1;return!0},fromArray:function(ee){return this.elements.set(ee),this},toArray:function(ee,re){ee===void 0&&(ee=[]),re===void 0&&(re=0);var ie=this.elements;return ee[re]=ie[0],ee[re+1]=ie[1],ee[re+2]=ie[2],ee[re+3]=ie[3],ee[re+4]=ie[4],ee[re+5]=ie[5],ee[re+6]=ie[6],ee[re+7]=ie[7],ee[re+8]=ie[8],ee[re+9]=ie[9],ee[re+10]=ie[10],ee[re+11]=ie[11],ee[re+12]=ie[12],ee[re+13]=ie[13],ee[re+14]=ie[14],ee[re+15]=ie[15],ee}},te.Ray=function(ee,re){this.origin=ee!==void 0?ee:new te.Vector3,this.direction=re!==void 0?re:new te.Vector3},te.Ray.prototype={constructor:te.Ray,set:function(ee,re){return this.origin.copy(ee),this.direction.copy(re),this},clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.origin.copy(ee.origin),this.direction.copy(ee.direction),this},at:function(ee,re){var ie=re||new te.Vector3;return ie.copy(this.direction).multiplyScalar(ee).add(this.origin)},lookAt:function(ee){return this.direction.copy(ee).sub(this.origin).normalize(),this},recast:function(){var ee=new te.Vector3;return function(ie){return this.origin.copy(this.at(ie,ee)),this}}(),closestPointToPoint:function(ee,re){var ie=re||new te.Vector3;ie.subVectors(ee,this.origin);var ae=ie.dot(this.direction);return ae<0?ie.copy(this.origin):ie.copy(this.direction).multiplyScalar(ae).add(this.origin)},distanceToPoint:function(ee){return Math.sqrt(this.distanceSqToPoint(ee))},distanceSqToPoint:function(){var ee=new te.Vector3;return function(ie){var ae=ee.subVectors(ie,this.origin).dot(this.direction);return ae<0?this.origin.distanceToSquared(ie):(ee.copy(this.direction).multiplyScalar(ae).add(this.origin),ee.distanceToSquared(ie))}}(),distanceSqToSegment:function(){var ee=new te.Vector3,re=new te.Vector3,ie=new te.Vector3;return function(oe,le,he,ue){ee.copy(oe).add(le).multiplyScalar(.5),re.copy(le).sub(oe).normalize(),ie.copy(this.origin).sub(ee);var pe=oe.distanceTo(le)*.5,ce=-this.direction.dot(re),fe=ie.dot(this.direction),me=-ie.dot(re),de=ie.lengthSq(),ve=Math.abs(1-ce*ce),ge,xe,_e,ye;if(ve>0)if(ge=ce*me-fe,xe=ce*fe-me,ye=pe*ve,ge>=0)if(xe>=-ye)if(xe<=ye){var we=1/ve;ge*=we,xe*=we,_e=ge*(ge+ce*xe+2*fe)+xe*(ce*ge+xe+2*me)+de}else xe=pe,ge=Math.max(0,-(ce*xe+fe)),_e=-ge*ge+xe*(xe+2*me)+de;else xe=-pe,ge=Math.max(0,-(ce*xe+fe)),_e=-ge*ge+xe*(xe+2*me)+de;else xe<=-ye?(ge=Math.max(0,-(-ce*pe+fe)),xe=ge>0?-pe:Math.min(Math.max(-pe,-me),pe),_e=-ge*ge+xe*(xe+2*me)+de):xe<=ye?(ge=0,xe=Math.min(Math.max(-pe,-me),pe),_e=xe*(xe+2*me)+de):(ge=Math.max(0,-(ce*pe+fe)),xe=ge>0?pe:Math.min(Math.max(-pe,-me),pe),_e=-ge*ge+xe*(xe+2*me)+de);else xe=ce>0?-pe:pe,ge=Math.max(0,-(ce*xe+fe)),_e=-ge*ge+xe*(xe+2*me)+de;return he&&he.copy(this.direction).multiplyScalar(ge).add(this.origin),ue&&ue.copy(re).multiplyScalar(xe).add(ee),_e}}(),intersectSphere:function(){var ee=new te.Vector3;return function(ie,ae){ee.subVectors(ie.center,this.origin);var oe=ee.dot(this.direction),le=ee.dot(ee)-oe*oe,he=ie.radius*ie.radius;if(le>he)return null;var ue=Math.sqrt(he-le),pe=oe-ue,ce=oe+ue;return pe<0&&ce<0?null:pe<0?this.at(ce,ae):this.at(pe,ae)}}(),intersectsSphere:function(ee){return this.distanceToPoint(ee.center)<=ee.radius},distanceToPlane:function(ee){var re=ee.normal.dot(this.direction);if(re===0)return ee.distanceToPoint(this.origin)===0?0:null;var ie=-(this.origin.dot(ee.normal)+ee.constant)/re;return ie>=0?ie:null},intersectPlane:function(ee,re){var ie=this.distanceToPlane(ee);return ie===null?null:this.at(ie,re)},intersectsPlane:function(ee){var re=ee.distanceToPoint(this.origin);if(re===0)return!0;var ie=ee.normal.dot(this.direction);return ie*re<0},intersectBox:function(ee,re){var ie,ae,oe,le,he,ue,pe=1/this.direction.x,ce=1/this.direction.y,fe=1/this.direction.z,me=this.origin;return pe>=0?(ie=(ee.min.x-me.x)*pe,ae=(ee.max.x-me.x)*pe):(ie=(ee.max.x-me.x)*pe,ae=(ee.min.x-me.x)*pe),ce>=0?(oe=(ee.min.y-me.y)*ce,le=(ee.max.y-me.y)*ce):(oe=(ee.max.y-me.y)*ce,le=(ee.min.y-me.y)*ce),ie>le||oe>ae||((oe>ie||ie!==ie)&&(ie=oe),(le<ae||ae!==ae)&&(ae=le),fe>=0?(he=(ee.min.z-me.z)*fe,ue=(ee.max.z-me.z)*fe):(he=(ee.max.z-me.z)*fe,ue=(ee.min.z-me.z)*fe),ie>ue||he>ae)||((he>ie||ie!==ie)&&(ie=he),(ue<ae||ae!==ae)&&(ae=ue),ae<0)?null:this.at(ie>=0?ie:ae,re)},intersectsBox:function(){var ee=new te.Vector3;return function(ie){return this.intersectBox(ie,ee)!==null}}(),intersectTriangle:function(){var ee=new te.Vector3,re=new te.Vector3,ie=new te.Vector3,ae=new te.Vector3;return function(le,he,ue,pe,ce){re.subVectors(he,le),ie.subVectors(ue,le),ae.crossVectors(re,ie);var fe=this.direction.dot(ae),me;if(fe>0){if(pe)return null;me=1}else if(fe<0)me=-1,fe=-fe;else return null;ee.subVectors(this.origin,le);var de=me*this.direction.dot(ie.crossVectors(ee,ie));if(de<0)return null;var ve=me*this.direction.dot(re.cross(ee));if(ve<0||de+ve>fe)return null;var ge=-me*ee.dot(ae);return ge<0?null:this.at(ge/fe,ce)}}(),applyMatrix4:function(ee){return this.direction.add(this.origin).applyMatrix4(ee),this.origin.applyMatrix4(ee),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(ee){return ee.origin.equals(this.origin)&&ee.direction.equals(this.direction)}},te.Sphere=function(ee,re){this.center=ee!==void 0?ee:new te.Vector3,this.radius=re!==void 0?re:0},te.Sphere.prototype={constructor:te.Sphere,set:function(ee,re){return this.center.copy(ee),this.radius=re,this},setFromPoints:function(){var ee=new te.Box3;return function(ie,ae){var oe=this.center;ae!==void 0?oe.copy(ae):ee.setFromPoints(ie).center(oe);for(var le=0,he=0,ue=ie.length;he<ue;he++)le=Math.max(le,oe.distanceToSquared(ie[he]));return this.radius=Math.sqrt(le),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.center.copy(ee.center),this.radius=ee.radius,this},empty:function(){return this.radius<=0},containsPoint:function(ee){return ee.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(ee){return ee.distanceTo(this.center)-this.radius},intersectsSphere:function(ee){var re=this.radius+ee.radius;return ee.center.distanceToSquared(this.center)<=re*re},intersectsBox:function(ee){return ee.intersectsSphere(this)},intersectsPlane:function(ee){return Math.abs(this.center.dot(ee.normal)-ee.constant)<=this.radius},clampPoint:function(ee,re){var ie=this.center.distanceToSquared(ee),ae=re||new te.Vector3;return ae.copy(ee),ie>this.radius*this.radius&&(ae.sub(this.center).normalize(),ae.multiplyScalar(this.radius).add(this.center)),ae},getBoundingBox:function(ee){var re=ee||new te.Box3;return re.set(this.center,this.center),re.expandByScalar(this.radius),re},applyMatrix4:function(ee){return this.center.applyMatrix4(ee),this.radius=this.radius*ee.getMaxScaleOnAxis(),this},translate:function(ee){return this.center.add(ee),this},equals:function(ee){return ee.center.equals(this.center)&&ee.radius===this.radius}},te.Frustum=function(ee,re,ie,ae,oe,le){this.planes=[ee!==void 0?ee:new te.Plane,re!==void 0?re:new te.Plane,ie!==void 0?ie:new te.Plane,ae!==void 0?ae:new te.Plane,oe!==void 0?oe:new te.Plane,le!==void 0?le:new te.Plane]},te.Frustum.prototype={constructor:te.Frustum,set:function(ee,re,ie,ae,oe,le){var he=this.planes;return he[0].copy(ee),he[1].copy(re),he[2].copy(ie),he[3].copy(ae),he[4].copy(oe),he[5].copy(le),this},clone:function(){return new this.constructor().copy(this)},copy:function(ee){for(var re=this.planes,ie=0;ie<6;ie++)re[ie].copy(ee.planes[ie]);return this},setFromMatrix:function(ee){var re=this.planes,ie=ee.elements,ae=ie[0],oe=ie[1],le=ie[2],he=ie[3],ue=ie[4],pe=ie[5],ce=ie[6],fe=ie[7],me=ie[8],de=ie[9],ve=ie[10],ge=ie[11],xe=ie[12],_e=ie[13],ye=ie[14],we=ie[15];return re[0].setComponents(he-ae,fe-ue,ge-me,we-xe).normalize(),re[1].setComponents(he+ae,fe+ue,ge+me,we+xe).normalize(),re[2].setComponents(he+oe,fe+pe,ge+de,we+_e).normalize(),re[3].setComponents(he-oe,fe-pe,ge-de,we-_e).normalize(),re[4].setComponents(he-le,fe-ce,ge-ve,we-ye).normalize(),re[5].setComponents(he+le,fe+ce,ge+ve,we+ye).normalize(),this},intersectsObject:function(){var ee=new te.Sphere;return function(ie){var ae=ie.geometry;return ae.boundingSphere===null&&ae.computeBoundingSphere(),ee.copy(ae.boundingSphere).applyMatrix4(ie.matrixWorld),this.intersectsSphere(ee)}}(),intersectsSprite:function(){var ee=new te.Sphere;return function(ie){return ee.center.set(0,0,0),ee.radius=.7071067811865476,ee.applyMatrix4(ie.matrixWorld),this.intersectsSphere(ee)}}(),intersectsSphere:function(ee){for(var re=this.planes,ie=ee.center,ae=-ee.radius,oe=0;oe<6;oe++){var le=re[oe].distanceToPoint(ie);if(le<ae)return!1}return!0},intersectsBox:function(){var ee=new te.Vector3,re=new te.Vector3;return function(ae){for(var oe=this.planes,le=0;le<6;le++){var he=oe[le];ee.x=he.normal.x>0?ae.min.x:ae.max.x,re.x=he.normal.x>0?ae.max.x:ae.min.x,ee.y=he.normal.y>0?ae.min.y:ae.max.y,re.y=he.normal.y>0?ae.max.y:ae.min.y,ee.z=he.normal.z>0?ae.min.z:ae.max.z,re.z=he.normal.z>0?ae.max.z:ae.min.z;var ue=he.distanceToPoint(ee),pe=he.distanceToPoint(re);if(ue<0&&pe<0)return!1}return!0}}(),containsPoint:function(ee){for(var re=this.planes,ie=0;ie<6;ie++)if(re[ie].distanceToPoint(ee)<0)return!1;return!0}},te.Plane=function(ee,re){this.normal=ee!==void 0?ee:new te.Vector3(1,0,0),this.constant=re!==void 0?re:0},te.Plane.prototype={constructor:te.Plane,set:function(ee,re){return this.normal.copy(ee),this.constant=re,this},setComponents:function(ee,re,ie,ae){return this.normal.set(ee,re,ie),this.constant=ae,this},setFromNormalAndCoplanarPoint:function(ee,re){return this.normal.copy(ee),this.constant=-re.dot(this.normal),this},setFromCoplanarPoints:function(){var ee=new te.Vector3,re=new te.Vector3;return function(ae,oe,le){var he=ee.subVectors(le,oe).cross(re.subVectors(ae,oe)).normalize();return this.setFromNormalAndCoplanarPoint(he,ae),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.normal.copy(ee.normal),this.constant=ee.constant,this},normalize:function(){var ee=1/this.normal.length();return this.normal.multiplyScalar(ee),this.constant*=ee,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(ee){return this.normal.dot(ee)+this.constant},distanceToSphere:function(ee){return this.distanceToPoint(ee.center)-ee.radius},projectPoint:function(ee,re){return this.orthoPoint(ee,re).sub(ee).negate()},orthoPoint:function(ee,re){var ie=this.distanceToPoint(ee),ae=re||new te.Vector3;return ae.copy(this.normal).multiplyScalar(ie)},intersectLine:function(){var ee=new te.Vector3;return function(ie,ae){var oe=ae||new te.Vector3,le=ie.delta(ee),he=this.normal.dot(le);if(he===0)return this.distanceToPoint(ie.start)===0?oe.copy(ie.start):void 0;var ue=-(ie.start.dot(this.normal)+this.constant)/he;if(!(ue<0||ue>1))return oe.copy(le).multiplyScalar(ue).add(ie.start)}}(),intersectsLine:function(ee){var re=this.distanceToPoint(ee.start),ie=this.distanceToPoint(ee.end);return re<0&&ie>0||ie<0&&re>0},intersectsBox:function(ee){return ee.intersectsPlane(this)},intersectsSphere:function(ee){return ee.intersectsPlane(this)},coplanarPoint:function(ee){var re=ee||new te.Vector3;return re.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var ee=new te.Vector3,re=new te.Matrix3;return function(ae,oe){var le=this.coplanarPoint(ee).applyMatrix4(ae),he=oe||re.getNormalMatrix(ae),ue=this.normal.applyMatrix3(he).normalize();return this.constant=-le.dot(ue),this}}(),translate:function(ee){return this.constant=this.constant-ee.dot(this.normal),this},equals:function(ee){return ee.normal.equals(this.normal)&&ee.constant===this.constant}},te.Spherical=function(ee,re,ie){return this.radius=ee!==void 0?ee:1,this.phi=re!==void 0?re:0,this.theta=ie!==void 0?ie:0,this},te.Spherical.prototype={constructor:te.Spherical,set:function(ee,re,ie){return this.radius=ee,this.phi=re,this.theta=ie,this},clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.radius.copy(ee.radius),this.phi.copy(ee.phi),this.theta.copy(ee.theta),this},makeSafe:function(){var ee=1e-6;return this.phi=Math.max(ee,Math.min(Math.PI-ee,this.phi)),this},setFromVector3:function(ee){return this.radius=ee.length(),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(ee.x,ee.z),this.phi=Math.acos(te.Math.clamp(ee.y/this.radius,-1,1))),this}},te.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var ee="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),re=new Array(36),ie=0,ae;return function(){for(var le=0;le<36;le++)le===8||le===13||le===18||le===23?re[le]="-":le===14?re[le]="4":(ie<=2&&(ie=33554432+Math.random()*16777216|0),ae=ie&15,ie=ie>>4,re[le]=ee[le===19?ae&3|8:ae]);return re.join("")}}(),clamp:function(ee,re,ie){return Math.max(re,Math.min(ie,ee))},euclideanModulo:function(ee,re){return(ee%re+re)%re},mapLinear:function(ee,re,ie,ae,oe){return ae+(ee-re)*(oe-ae)/(ie-re)},smoothstep:function(ee,re,ie){return ee<=re?0:ee>=ie?1:(ee=(ee-re)/(ie-re),ee*ee*(3-2*ee))},smootherstep:function(ee,re,ie){return ee<=re?0:ee>=ie?1:(ee=(ee-re)/(ie-re),ee*ee*ee*(ee*(ee*6-15)+10))},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(ee,re){return ee+Math.floor(Math.random()*(re-ee+1))},randFloat:function(ee,re){return ee+Math.random()*(re-ee)},randFloatSpread:function(ee){return ee*(.5-Math.random())},degToRad:function(ee){return ee*te.Math.DEG2RAD},radToDeg:function(ee){return ee*te.Math.RAD2DEG},isPowerOfTwo:function(ee){return(ee&ee-1)===0&&ee!==0},nearestPowerOfTwo:function(ee){return Math.pow(2,Math.round(Math.log(ee)/Math.LN2))},nextPowerOfTwo:function(ee){return ee--,ee|=ee>>1,ee|=ee>>2,ee|=ee>>4,ee|=ee>>8,ee|=ee>>16,ee++,ee}},te.Spline=function(ee){this.points=ee;var re=[],ie={x:0,y:0,z:0},ae,oe,le,he,ue,pe,ce,fe,me;this.initFromArray=function(ve){this.points=[];for(var ge=0;ge<ve.length;ge++)this.points[ge]={x:ve[ge][0],y:ve[ge][1],z:ve[ge][2]}},this.getPoint=function(ve){return ae=(this.points.length-1)*ve,oe=Math.floor(ae),le=ae-oe,re[0]=oe===0?oe:oe-1,re[1]=oe,re[2]=oe>this.points.length-2?this.points.length-1:oe+1,re[3]=oe>this.points.length-3?this.points.length-1:oe+2,pe=this.points[re[0]],ce=this.points[re[1]],fe=this.points[re[2]],me=this.points[re[3]],he=le*le,ue=le*he,ie.x=de(pe.x,ce.x,fe.x,me.x,le,he,ue),ie.y=de(pe.y,ce.y,fe.y,me.y,le,he,ue),ie.z=de(pe.z,ce.z,fe.z,me.z,le,he,ue),ie},this.getControlPointsArray=function(){var ve,ge,xe=this.points.length,_e=[];for(ve=0;ve<xe;ve++)ge=this.points[ve],_e[ve]=[ge.x,ge.y,ge.z];return _e},this.getLength=function(ve){var ge,xe,_e,ye,we=0,be=0,Se=0,Ce=new te.Vector3,Te=new te.Vector3,De=[],Fe=0;for(De[0]=0,ve||(ve=100),_e=this.points.length*ve,Ce.copy(this.points[0]),ge=1;ge<_e;ge++)xe=ge/_e,ye=this.getPoint(xe),Te.copy(ye),Fe+=Te.distanceTo(Ce),Ce.copy(ye),we=(this.points.length-1)*xe,be=Math.floor(we),be!==Se&&(De[be]=Fe,Se=be);return De[De.length]=Fe,{chunks:De,total:Fe}},this.reparametrizeByArcLength=function(ve){var ge,xe,_e,ye,we,be,Se,Ce,Te=[],De=new te.Vector3,Fe=this.getLength();for(Te.push(De.copy(this.points[0]).clone()),ge=1;ge<this.points.length;ge++){for(be=Fe.chunks[ge]-Fe.chunks[ge-1],Se=Math.ceil(ve*be/Fe.total),ye=(ge-1)/(this.points.length-1),we=ge/(this.points.length-1),xe=1;xe<Se-1;xe++)_e=ye+xe*(1/Se)*(we-ye),Ce=this.getPoint(_e),Te.push(De.copy(Ce).clone());Te.push(De.copy(this.points[ge]).clone())}this.points=Te};function de(ve,ge,xe,_e,ye,we,be){var Se=(xe-ve)*.5,Ce=(_e-ge)*.5;return(2*(ge-xe)+Se+Ce)*be+(-3*(ge-xe)-2*Se-Ce)*we+Se*ye+ge}},te.Triangle=function(ee,re,ie){this.a=ee!==void 0?ee:new te.Vector3,this.b=re!==void 0?re:new te.Vector3,this.c=ie!==void 0?ie:new te.Vector3},te.Triangle.normal=function(){var ee=new te.Vector3;return function(ie,ae,oe,le){var he=le||new te.Vector3;he.subVectors(oe,ae),ee.subVectors(ie,ae),he.cross(ee);var ue=he.lengthSq();return ue>0?he.multiplyScalar(1/Math.sqrt(ue)):he.set(0,0,0)}}(),te.Triangle.barycoordFromPoint=function(){var ee=new te.Vector3,re=new te.Vector3,ie=new te.Vector3;return function(oe,le,he,ue,pe){ee.subVectors(ue,le),re.subVectors(he,le),ie.subVectors(oe,le);var ce=ee.dot(ee),fe=ee.dot(re),me=ee.dot(ie),de=re.dot(re),ve=re.dot(ie),ge=ce*de-fe*fe,xe=pe||new te.Vector3;if(ge===0)return xe.set(-2,-1,-1);var _e=1/ge,ye=(de*me-fe*ve)*_e,we=(ce*ve-fe*me)*_e;return xe.set(1-ye-we,we,ye)}}(),te.Triangle.containsPoint=function(){var ee=new te.Vector3;return function(ie,ae,oe,le){var he=te.Triangle.barycoordFromPoint(ie,ae,oe,le,ee);return he.x>=0&&he.y>=0&&he.x+he.y<=1}}(),te.Triangle.prototype={constructor:te.Triangle,set:function(ee,re,ie){return this.a.copy(ee),this.b.copy(re),this.c.copy(ie),this},setFromPointsAndIndices:function(ee,re,ie,ae){return this.a.copy(ee[re]),this.b.copy(ee[ie]),this.c.copy(ee[ae]),this},clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.a.copy(ee.a),this.b.copy(ee.b),this.c.copy(ee.c),this},area:function(){var ee=new te.Vector3,re=new te.Vector3;return function(){return ee.subVectors(this.c,this.b),re.subVectors(this.a,this.b),ee.cross(re).length()*.5}}(),midpoint:function(ee){var re=ee||new te.Vector3;return re.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(ee){return te.Triangle.normal(this.a,this.b,this.c,ee)},plane:function(ee){var re=ee||new te.Plane;return re.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(ee,re){return te.Triangle.barycoordFromPoint(ee,this.a,this.b,this.c,re)},containsPoint:function(ee){return te.Triangle.containsPoint(ee,this.a,this.b,this.c)},closestPointToPoint:function(){var ee,re,ie,ae;return function(le,he){ee===void 0&&(ee=new te.Plane,re=[new te.Line3,new te.Line3,new te.Line3],ie=new te.Vector3,ae=new te.Vector3);var ue=he||new te.Vector3,pe=1/0;if(ee.setFromCoplanarPoints(this.a,this.b,this.c),ee.projectPoint(le,ie),this.containsPoint(ie)===!0)ue.copy(ie);else{re[0].set(this.a,this.b),re[1].set(this.b,this.c),re[2].set(this.c,this.a);for(var ce=0;ce<re.length;ce++){re[ce].closestPointToPoint(ie,!0,ae);var fe=ie.distanceToSquared(ae);fe<pe&&(pe=fe,ue.copy(ae))}}return ue}}(),equals:function(ee){return ee.a.equals(this.a)&&ee.b.equals(this.b)&&ee.c.equals(this.c)}},te.Interpolant=function(ee,re,ie,ae){this.parameterPositions=ee,this._cachedIndex=0,this.resultBuffer=ae!==void 0?ae:new re.constructor(ie),this.sampleValues=re,this.valueSize=ie},te.Interpolant.prototype={constructor:te.Interpolant,evaluate:function(ee){var re=this.parameterPositions,ie=this._cachedIndex,ae=re[ie],oe=re[ie-1];e:{t:{var le;r:{i:if(!(ee<ae)){for(var he=ie+2;;){if(ae===void 0){if(ee<oe)break i;return ie=re.length,this._cachedIndex=ie,this.afterEnd_(ie-1,ee,oe)}if(ie===he)break;if(oe=ae,ae=re[++ie],ee<ae)break t}le=re.length;break r}if(!(ee>=oe)){var ue=re[1];ee<ue&&(ie=2,oe=ue);for(var he=ie-2;;){if(oe===void 0)return this._cachedIndex=0,this.beforeStart_(0,ee,ae);if(ie===he)break;if(ae=oe,oe=re[--ie-1],ee>=oe)break t}le=ie,ie=0;break r}break e}for(;ie<le;){var pe=ie+le>>>1;ee<re[pe]?le=pe:ie=pe+1}if(ae=re[ie],oe=re[ie-1],oe===void 0)return this._cachedIndex=0,this.beforeStart_(0,ee,ae);if(ae===void 0)return ie=re.length,this._cachedIndex=ie,this.afterEnd_(ie-1,oe,ee)}this._cachedIndex=ie,this.intervalChanged_(ie,oe,ae)}return this.interpolate_(ie,oe,ee,ae)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(ee){for(var re=this.resultBuffer,ie=this.sampleValues,ae=this.valueSize,oe=ee*ae,le=0;le!==ae;++le)re[le]=ie[oe+le];return re},interpolate_:function(ee,re,ie,ae){throw new Error("call to abstract method")},intervalChanged_:function(ee,re,ie){}},Object.assign(te.Interpolant.prototype,{beforeStart_:te.Interpolant.prototype.copySampleValue_,afterEnd_:te.Interpolant.prototype.copySampleValue_}),te.CubicInterpolant=function(ee,re,ie,ae){te.Interpolant.call(this,ee,re,ie,ae),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0},te.CubicInterpolant.prototype=Object.assign(Object.create(te.Interpolant.prototype),{constructor:te.CubicInterpolant,DefaultSettings_:{endingStart:te.ZeroCurvatureEnding,endingEnd:te.ZeroCurvatureEnding},intervalChanged_:function(ee,re,ie){var ae=this.parameterPositions,oe=ee-2,le=ee+1,he=ae[oe],ue=ae[le];if(he===void 0)switch(this.getSettings_().endingStart){case te.ZeroSlopeEnding:oe=ee,he=2*re-ie;break;case te.WrapAroundEnding:oe=ae.length-2,he=re+ae[oe]-ae[oe+1];break;default:oe=ee,he=ie}if(ue===void 0)switch(this.getSettings_().endingEnd){case te.ZeroSlopeEnding:le=ee,ue=2*ie-re;break;case te.WrapAroundEnding:le=1,ue=ie+ae[1]-ae[0];break;default:le=ee-1,ue=re}var pe=(ie-re)*.5,ce=this.valueSize;this._weightPrev=pe/(re-he),this._weightNext=pe/(ue-ie),this._offsetPrev=oe*ce,this._offsetNext=le*ce},interpolate_:function(ee,re,ie,ae){for(var oe=this.resultBuffer,le=this.sampleValues,he=this.valueSize,ue=ee*he,pe=ue-he,ce=this._offsetPrev,fe=this._offsetNext,me=this._weightPrev,de=this._weightNext,ve=(ie-re)/(ae-re),ge=ve*ve,xe=ge*ve,_e=-me*xe+2*me*ge-me*ve,ye=(1+me)*xe+(-1.5-2*me)*ge+(-.5+me)*ve+1,we=(-1-de)*xe+(1.5+de)*ge+.5*ve,be=de*xe-de*ge,Se=0;Se!==he;++Se)oe[Se]=_e*le[ce+Se]+ye*le[pe+Se]+we*le[ue+Se]+be*le[fe+Se];return oe}}),te.DiscreteInterpolant=function(ee,re,ie,ae){te.Interpolant.call(this,ee,re,ie,ae)},te.DiscreteInterpolant.prototype=Object.assign(Object.create(te.Interpolant.prototype),{constructor:te.DiscreteInterpolant,interpolate_:function(ee,re,ie,ae){return this.copySampleValue_(ee-1)}}),te.LinearInterpolant=function(ee,re,ie,ae){te.Interpolant.call(this,ee,re,ie,ae)},te.LinearInterpolant.prototype=Object.assign(Object.create(te.Interpolant.prototype),{constructor:te.LinearInterpolant,interpolate_:function(ee,re,ie,ae){for(var oe=this.resultBuffer,le=this.sampleValues,he=this.valueSize,ue=ee*he,pe=ue-he,ce=(ie-re)/(ae-re),fe=1-ce,me=0;me!==he;++me)oe[me]=le[pe+me]*fe+le[ue+me]*ce;return oe}}),te.QuaternionLinearInterpolant=function(ee,re,ie,ae){te.Interpolant.call(this,ee,re,ie,ae)},te.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(te.Interpolant.prototype),{constructor:te.QuaternionLinearInterpolant,interpolate_:function(ee,re,ie,ae){for(var oe=this.resultBuffer,le=this.sampleValues,he=this.valueSize,ue=ee*he,pe=(ie-re)/(ae-re),ce=ue+he;ue!==ce;ue+=4)te.Quaternion.slerpFlat(oe,0,le,ue-he,le,ue,pe);return oe}}),te.Clock=function(ee){this.autoStart=ee!==void 0?ee:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},te.Clock.prototype={constructor:te.Clock,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var ee=0;if(this.autoStart&&!this.running&&this.start(),this.running){var re=(performance||Date).now();ee=(re-this.oldTime)/1e3,this.oldTime=re,this.elapsedTime+=ee}return ee}},te.EventDispatcher=function(){},Object.assign(te.EventDispatcher.prototype,{addEventListener:function(ee,re){this._listeners===void 0&&(this._listeners={});var ie=this._listeners;ie[ee]===void 0&&(ie[ee]=[]),ie[ee].indexOf(re)===-1&&ie[ee].push(re)},hasEventListener:function(ee,re){if(this._listeners===void 0)return!1;var ie=this._listeners;return ie[ee]!==void 0&&ie[ee].indexOf(re)!==-1},removeEventListener:function(ee,re){if(this._listeners!==void 0){var ie=this._listeners,ae=ie[ee];if(ae!==void 0){var oe=ae.indexOf(re);oe!==-1&&ae.splice(oe,1)}}},dispatchEvent:function(ee){if(this._listeners!==void 0){var re=this._listeners,ie=re[ee.type];if(ie!==void 0){ee.target=this;var ae=[],oe=0,le=ie.length;for(oe=0;oe<le;oe++)ae[oe]=ie[oe];for(oe=0;oe<le;oe++)ae[oe].call(this,ee)}}}}),te.Layers=function(){this.mask=1},te.Layers.prototype={constructor:te.Layers,set:function(ee){this.mask=1<<ee},enable:function(ee){this.mask|=1<<ee},toggle:function(ee){this.mask^=1<<ee},disable:function(ee){this.mask&=~(1<<ee)},test:function(ee){return(this.mask&ee.mask)!==0}},function(ee){ee.Raycaster=function(ae,oe,le,he){this.ray=new ee.Ray(ae,oe),this.near=le||0,this.far=he||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})};function re(ae,oe){return ae.distance-oe.distance}function ie(ae,oe,le,he){if(ae.visible!==!1&&(ae.raycast(oe,le),he===!0))for(var ue=ae.children,pe=0,ce=ue.length;pe<ce;pe++)ie(ue[pe],oe,le,!0)}ee.Raycaster.prototype={constructor:ee.Raycaster,linePrecision:1,set:function(ae,oe){this.ray.set(ae,oe)},setFromCamera:function(ae,oe){oe instanceof ee.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(oe.matrixWorld),this.ray.direction.set(ae.x,ae.y,.5).unproject(oe).sub(this.ray.origin).normalize()):oe instanceof ee.OrthographicCamera?(this.ray.origin.set(ae.x,ae.y,(oe.near+oe.far)/(oe.near-oe.far)).unproject(oe),this.ray.direction.set(0,0,-1).transformDirection(oe.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(ae,oe){var le=[];return ie(ae,this,le,oe),le.sort(re),le},intersectObjects:function(ae,oe){var le=[];if(Array.isArray(ae)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),le;for(var he=0,ue=ae.length;he<ue;he++)ie(ae[he],this,le,oe);return le.sort(re),le}}}(te),te.Object3D=function(){Object.defineProperty(this,"id",{value:te.Object3DIdCount++}),this.uuid=te.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=te.Object3D.DefaultUp.clone();var ee=new te.Vector3,re=new te.Euler,ie=new te.Quaternion,ae=new te.Vector3(1,1,1);function oe(){ie.setFromEuler(re,!1)}function le(){re.setFromQuaternion(ie,void 0,!1)}re.onChange(oe),ie.onChange(le),Object.defineProperties(this,{position:{enumerable:!0,value:ee},rotation:{enumerable:!0,value:re},quaternion:{enumerable:!0,value:ie},scale:{enumerable:!0,value:ae},modelViewMatrix:{value:new te.Matrix4},normalMatrix:{value:new te.Matrix3}}),this.matrix=new te.Matrix4,this.matrixWorld=new te.Matrix4,this.matrixAutoUpdate=te.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new te.Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},te.Object3D.DefaultUp=new te.Vector3(0,1,0),te.Object3D.DefaultMatrixAutoUpdate=!0,Object.assign(te.Object3D.prototype,te.EventDispatcher.prototype,{applyMatrix:function(ee){this.matrix.multiplyMatrices(ee,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(ee,re){this.quaternion.setFromAxisAngle(ee,re)},setRotationFromEuler:function(ee){this.quaternion.setFromEuler(ee,!0)},setRotationFromMatrix:function(ee){this.quaternion.setFromRotationMatrix(ee)},setRotationFromQuaternion:function(ee){this.quaternion.copy(ee)},rotateOnAxis:function(){var ee=new te.Quaternion;return function(ie,ae){return ee.setFromAxisAngle(ie,ae),this.quaternion.multiply(ee),this}}(),rotateX:function(){var ee=new te.Vector3(1,0,0);return function(ie){return this.rotateOnAxis(ee,ie)}}(),rotateY:function(){var ee=new te.Vector3(0,1,0);return function(ie){return this.rotateOnAxis(ee,ie)}}(),rotateZ:function(){var ee=new te.Vector3(0,0,1);return function(ie){return this.rotateOnAxis(ee,ie)}}(),translateOnAxis:function(){var ee=new te.Vector3;return function(ie,ae){return ee.copy(ie).applyQuaternion(this.quaternion),this.position.add(ee.multiplyScalar(ae)),this}}(),translateX:function(){var ee=new te.Vector3(1,0,0);return function(ie){return this.translateOnAxis(ee,ie)}}(),translateY:function(){var ee=new te.Vector3(0,1,0);return function(ie){return this.translateOnAxis(ee,ie)}}(),translateZ:function(){var ee=new te.Vector3(0,0,1);return function(ie){return this.translateOnAxis(ee,ie)}}(),localToWorld:function(ee){return ee.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var ee=new te.Matrix4;return function(ie){return ie.applyMatrix4(ee.getInverse(this.matrixWorld))}}(),lookAt:function(){var ee=new te.Matrix4;return function(ie){ee.lookAt(ie,this.position,this.up),this.quaternion.setFromRotationMatrix(ee)}}(),add:function(ee){if(arguments.length>1){for(var re=0;re<arguments.length;re++)this.add(arguments[re]);return this}return ee===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",ee),this):(ee instanceof te.Object3D?(ee.parent!==null&&ee.parent.remove(ee),ee.parent=this,ee.dispatchEvent({type:"added"}),this.children.push(ee)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",ee),this)},remove:function(ee){if(arguments.length>1)for(var re=0;re<arguments.length;re++)this.remove(arguments[re]);var ie=this.children.indexOf(ee);ie!==-1&&(ee.parent=null,ee.dispatchEvent({type:"removed"}),this.children.splice(ie,1))},getObjectById:function(ee){return this.getObjectByProperty("id",ee)},getObjectByName:function(ee){return this.getObjectByProperty("name",ee)},getObjectByProperty:function(ee,re){if(this[ee]===re)return this;for(var ie=0,ae=this.children.length;ie<ae;ie++){var oe=this.children[ie],le=oe.getObjectByProperty(ee,re);if(le!==void 0)return le}},getWorldPosition:function(ee){var re=ee||new te.Vector3;return this.updateMatrixWorld(!0),re.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var ee=new te.Vector3,re=new te.Vector3;return function(ae){var oe=ae||new te.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(ee,oe,re),oe}}(),getWorldRotation:function(){var ee=new te.Quaternion;return function(ie){var ae=ie||new te.Euler;return this.getWorldQuaternion(ee),ae.setFromQuaternion(ee,this.rotation.order,!1)}}(),getWorldScale:function(){var ee=new te.Vector3,re=new te.Quaternion;return function(ae){var oe=ae||new te.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(ee,re,oe),oe}}(),getWorldDirection:function(){var ee=new te.Quaternion;return function(ie){var ae=ie||new te.Vector3;return this.getWorldQuaternion(ee),ae.set(0,0,1).applyQuaternion(ee)}}(),raycast:function(){},traverse:function(ee){ee(this);for(var re=this.children,ie=0,ae=re.length;ie<ae;ie++)re[ie].traverse(ee)},traverseVisible:function(ee){if(this.visible!==!1){ee(this);for(var re=this.children,ie=0,ae=re.length;ie<ae;ie++)re[ie].traverseVisible(ee)}},traverseAncestors:function(ee){var re=this.parent;re!==null&&(ee(re),re.traverseAncestors(ee))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(ee){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||ee===!0)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,ee=!0);for(var re=0,ie=this.children.length;re<ie;re++)this.children[re].updateMatrixWorld(ee)},toJSON:function(ee){var re=ee===void 0||ee==="",ie={};re&&(ee={geometries:{},materials:{},textures:{},images:{}},ie.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var ae={};if(ae.uuid=this.uuid,ae.type=this.type,this.name!==""&&(ae.name=this.name),JSON.stringify(this.userData)!=="{}"&&(ae.userData=this.userData),this.castShadow===!0&&(ae.castShadow=!0),this.receiveShadow===!0&&(ae.receiveShadow=!0),this.visible===!1&&(ae.visible=!1),ae.matrix=this.matrix.toArray(),this.geometry!==void 0&&(ee.geometries[this.geometry.uuid]===void 0&&(ee.geometries[this.geometry.uuid]=this.geometry.toJSON(ee)),ae.geometry=this.geometry.uuid),this.material!==void 0&&(ee.materials[this.material.uuid]===void 0&&(ee.materials[this.material.uuid]=this.material.toJSON(ee)),ae.material=this.material.uuid),this.children.length>0){ae.children=[];for(var oe=0;oe<this.children.length;oe++)ae.children.push(this.children[oe].toJSON(ee).object)}if(re){var le=ce(ee.geometries),he=ce(ee.materials),ue=ce(ee.textures),pe=ce(ee.images);le.length>0&&(ie.geometries=le),he.length>0&&(ie.materials=he),ue.length>0&&(ie.textures=ue),pe.length>0&&(ie.images=pe)}return ie.object=ae,ie;function ce(fe){var me=[];for(var de in fe){var ve=fe[de];delete ve.metadata,me.push(ve)}return me}},clone:function(ee){return new this.constructor().copy(this,ee)},copy:function(ee,re){if(re===void 0&&(re=!0),this.name=ee.name,this.up.copy(ee.up),this.position.copy(ee.position),this.quaternion.copy(ee.quaternion),this.scale.copy(ee.scale),this.matrix.copy(ee.matrix),this.matrixWorld.copy(ee.matrixWorld),this.matrixAutoUpdate=ee.matrixAutoUpdate,this.matrixWorldNeedsUpdate=ee.matrixWorldNeedsUpdate,this.visible=ee.visible,this.castShadow=ee.castShadow,this.receiveShadow=ee.receiveShadow,this.frustumCulled=ee.frustumCulled,this.renderOrder=ee.renderOrder,this.userData=JSON.parse(JSON.stringify(ee.userData)),re===!0)for(var ie=0;ie<ee.children.length;ie++){var ae=ee.children[ie];this.add(ae.clone())}return this}}),te.Object3DIdCount=0,te.Face3=function(ee,re,ie,ae,oe,le){this.a=ee,this.b=re,this.c=ie,this.normal=ae instanceof te.Vector3?ae:new te.Vector3,this.vertexNormals=Array.isArray(ae)?ae:[],this.color=oe instanceof te.Color?oe:new te.Color,this.vertexColors=Array.isArray(oe)?oe:[],this.materialIndex=le!==void 0?le:0},te.Face3.prototype={constructor:te.Face3,clone:function(){return new this.constructor().copy(this)},copy:function(ee){this.a=ee.a,this.b=ee.b,this.c=ee.c,this.normal.copy(ee.normal),this.color.copy(ee.color),this.materialIndex=ee.materialIndex;for(var re=0,ie=ee.vertexNormals.length;re<ie;re++)this.vertexNormals[re]=ee.vertexNormals[re].clone();for(var re=0,ie=ee.vertexColors.length;re<ie;re++)this.vertexColors[re]=ee.vertexColors[re].clone();return this}},te.BufferAttribute=function(ee,re,ie){this.uuid=te.Math.generateUUID(),this.array=ee,this.itemSize=re,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0,this.normalized=ie===!0},te.BufferAttribute.prototype={constructor:te.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(ee){ee===!0&&this.version++},setDynamic:function(ee){return this.dynamic=ee,this},copy:function(ee){return this.array=new ee.array.constructor(ee.array),this.itemSize=ee.itemSize,this.dynamic=ee.dynamic,this},copyAt:function(ee,re,ie){ee*=this.itemSize,ie*=re.itemSize;for(var ae=0,oe=this.itemSize;ae<oe;ae++)this.array[ee+ae]=re.array[ie+ae];return this},copyArray:function(ee){return this.array.set(ee),this},copyColorsArray:function(ee){for(var re=this.array,ie=0,ae=0,oe=ee.length;ae<oe;ae++){var le=ee[ae];le===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",ae),le=new te.Color),re[ie++]=le.r,re[ie++]=le.g,re[ie++]=le.b}return this},copyIndicesArray:function(ee){for(var re=this.array,ie=0,ae=0,oe=ee.length;ae<oe;ae++){var le=ee[ae];re[ie++]=le.a,re[ie++]=le.b,re[ie++]=le.c}return this},copyVector2sArray:function(ee){for(var re=this.array,ie=0,ae=0,oe=ee.length;ae<oe;ae++){var le=ee[ae];le===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",ae),le=new te.Vector2),re[ie++]=le.x,re[ie++]=le.y}return this},copyVector3sArray:function(ee){for(var re=this.array,ie=0,ae=0,oe=ee.length;ae<oe;ae++){var le=ee[ae];le===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",ae),le=new te.Vector3),re[ie++]=le.x,re[ie++]=le.y,re[ie++]=le.z}return this},copyVector4sArray:function(ee){for(var re=this.array,ie=0,ae=0,oe=ee.length;ae<oe;ae++){var le=ee[ae];le===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",ae),le=new te.Vector4),re[ie++]=le.x,re[ie++]=le.y,re[ie++]=le.z,re[ie++]=le.w}return this},set:function(ee,re){return re===void 0&&(re=0),this.array.set(ee,re),this},getX:function(ee){return this.array[ee*this.itemSize]},setX:function(ee,re){return this.array[ee*this.itemSize]=re,this},getY:function(ee){return this.array[ee*this.itemSize+1]},setY:function(ee,re){return this.array[ee*this.itemSize+1]=re,this},getZ:function(ee){return this.array[ee*this.itemSize+2]},setZ:function(ee,re){return this.array[ee*this.itemSize+2]=re,this},getW:function(ee){return this.array[ee*this.itemSize+3]},setW:function(ee,re){return this.array[ee*this.itemSize+3]=re,this},setXY:function(ee,re,ie){return ee*=this.itemSize,this.array[ee+0]=re,this.array[ee+1]=ie,this},setXYZ:function(ee,re,ie,ae){return ee*=this.itemSize,this.array[ee+0]=re,this.array[ee+1]=ie,this.array[ee+2]=ae,this},setXYZW:function(ee,re,ie,ae,oe){return ee*=this.itemSize,this.array[ee+0]=re,this.array[ee+1]=ie,this.array[ee+2]=ae,this.array[ee+3]=oe,this},clone:function(){return new this.constructor().copy(this)}},te.Int8Attribute=function(ee,re){return new te.BufferAttribute(new Int8Array(ee),re)},te.Uint8Attribute=function(ee,re){return new te.BufferAttribute(new Uint8Array(ee),re)},te.Uint8ClampedAttribute=function(ee,re){return new te.BufferAttribute(new Uint8ClampedArray(ee),re)},te.Int16Attribute=function(ee,re){return new te.BufferAttribute(new Int16Array(ee),re)},te.Uint16Attribute=function(ee,re){return new te.BufferAttribute(new Uint16Array(ee),re)},te.Int32Attribute=function(ee,re){return new te.BufferAttribute(new Int32Array(ee),re)},te.Uint32Attribute=function(ee,re){return new te.BufferAttribute(new Uint32Array(ee),re)},te.Float32Attribute=function(ee,re){return new te.BufferAttribute(new Float32Array(ee),re)},te.Float64Attribute=function(ee,re){return new te.BufferAttribute(new Float64Array(ee),re)},te.DynamicBufferAttribute=function(ee,re){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new te.BufferAttribute(ee,re).setDynamic(!0)},te.InstancedBufferAttribute=function(ee,re,ie){te.BufferAttribute.call(this,ee,re),this.meshPerAttribute=ie||1},te.InstancedBufferAttribute.prototype=Object.create(te.BufferAttribute.prototype),te.InstancedBufferAttribute.prototype.constructor=te.InstancedBufferAttribute,te.InstancedBufferAttribute.prototype.copy=function(ee){return te.BufferAttribute.prototype.copy.call(this,ee),this.meshPerAttribute=ee.meshPerAttribute,this},te.InterleavedBuffer=function(ee,re){this.uuid=te.Math.generateUUID(),this.array=ee,this.stride=re,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},te.InterleavedBuffer.prototype={constructor:te.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(ee){ee===!0&&this.version++},setDynamic:function(ee){return this.dynamic=ee,this},copy:function(ee){return this.array=new ee.array.constructor(ee.array),this.stride=ee.stride,this.dynamic=ee.dynamic,this},copyAt:function(ee,re,ie){ee*=this.stride,ie*=re.stride;for(var ae=0,oe=this.stride;ae<oe;ae++)this.array[ee+ae]=re.array[ie+ae];return this},set:function(ee,re){return re===void 0&&(re=0),this.array.set(ee,re),this},clone:function(){return new this.constructor().copy(this)}},te.InstancedInterleavedBuffer=function(ee,re,ie){te.InterleavedBuffer.call(this,ee,re),this.meshPerAttribute=ie||1},te.InstancedInterleavedBuffer.prototype=Object.create(te.InterleavedBuffer.prototype),te.InstancedInterleavedBuffer.prototype.constructor=te.InstancedInterleavedBuffer,te.InstancedInterleavedBuffer.prototype.copy=function(ee){return te.InterleavedBuffer.prototype.copy.call(this,ee),this.meshPerAttribute=ee.meshPerAttribute,this},te.InterleavedBufferAttribute=function(ee,re,ie,ae){this.uuid=te.Math.generateUUID(),this.data=ee,this.itemSize=re,this.offset=ie,this.normalized=ae===!0},te.InterleavedBufferAttribute.prototype={constructor:te.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.count},get array(){return this.data.array},setX:function(ee,re){return this.data.array[ee*this.data.stride+this.offset]=re,this},setY:function(ee,re){return this.data.array[ee*this.data.stride+this.offset+1]=re,this},setZ:function(ee,re){return this.data.array[ee*this.data.stride+this.offset+2]=re,this},setW:function(ee,re){return this.data.array[ee*this.data.stride+this.offset+3]=re,this},getX:function(ee){return this.data.array[ee*this.data.stride+this.offset]},getY:function(ee){return this.data.array[ee*this.data.stride+this.offset+1]},getZ:function(ee){return this.data.array[ee*this.data.stride+this.offset+2]},getW:function(ee){return this.data.array[ee*this.data.stride+this.offset+3]},setXY:function(ee,re,ie){return ee=ee*this.data.stride+this.offset,this.data.array[ee+0]=re,this.data.array[ee+1]=ie,this},setXYZ:function(ee,re,ie,ae){return ee=ee*this.data.stride+this.offset,this.data.array[ee+0]=re,this.data.array[ee+1]=ie,this.data.array[ee+2]=ae,this},setXYZW:function(ee,re,ie,ae,oe){return ee=ee*this.data.stride+this.offset,this.data.array[ee+0]=re,this.data.array[ee+1]=ie,this.data.array[ee+2]=ae,this.data.array[ee+3]=oe,this}},te.Geometry=function(){Object.defineProperty(this,"id",{value:te.GeometryIdCount++}),this.uuid=te.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},Object.assign(te.Geometry.prototype,te.EventDispatcher.prototype,{applyMatrix:function(ee){for(var re=new te.Matrix3().getNormalMatrix(ee),ie=0,ae=this.vertices.length;ie<ae;ie++){var oe=this.vertices[ie];oe.applyMatrix4(ee)}for(var ie=0,ae=this.faces.length;ie<ae;ie++){var le=this.faces[ie];le.normal.applyMatrix3(re).normalize();for(var he=0,ue=le.vertexNormals.length;he<ue;he++)le.vertexNormals[he].applyMatrix3(re).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Matrix4),ee.makeRotationX(ie),this.applyMatrix(ee),this}}(),rotateY:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Matrix4),ee.makeRotationY(ie),this.applyMatrix(ee),this}}(),rotateZ:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Matrix4),ee.makeRotationZ(ie),this.applyMatrix(ee),this}}(),translate:function(){var ee;return function(ie,ae,oe){return ee===void 0&&(ee=new te.Matrix4),ee.makeTranslation(ie,ae,oe),this.applyMatrix(ee),this}}(),scale:function(){var ee;return function(ie,ae,oe){return ee===void 0&&(ee=new te.Matrix4),ee.makeScale(ie,ae,oe),this.applyMatrix(ee),this}}(),lookAt:function(){var ee;return function(ie){ee===void 0&&(ee=new te.Object3D),ee.lookAt(ie),ee.updateMatrix(),this.applyMatrix(ee.matrix)}}(),fromBufferGeometry:function(ee){var re=this,ie=ee.index!==null?ee.index.array:void 0,ae=ee.attributes,oe=ae.position.array,le=ae.normal!==void 0?ae.normal.array:void 0,he=ae.color!==void 0?ae.color.array:void 0,ue=ae.uv!==void 0?ae.uv.array:void 0,pe=ae.uv2!==void 0?ae.uv2.array:void 0;pe!==void 0&&(this.faceVertexUvs[1]=[]);for(var ce=[],fe=[],me=[],de=0,ve=0;de<oe.length;de+=3,ve+=2)re.vertices.push(new te.Vector3(oe[de],oe[de+1],oe[de+2])),le!==void 0&&ce.push(new te.Vector3(le[de],le[de+1],le[de+2])),he!==void 0&&re.colors.push(new te.Color(he[de],he[de+1],he[de+2])),ue!==void 0&&fe.push(new te.Vector2(ue[ve],ue[ve+1])),pe!==void 0&&me.push(new te.Vector2(pe[ve],pe[ve+1]));function ge(Se,Ce,Te,De){var Fe=le!==void 0?[ce[Se].clone(),ce[Ce].clone(),ce[Te].clone()]:[],Le=he!==void 0?[re.colors[Se].clone(),re.colors[Ce].clone(),re.colors[Te].clone()]:[],Ie=new te.Face3(Se,Ce,Te,Fe,Le,De);re.faces.push(Ie),ue!==void 0&&re.faceVertexUvs[0].push([fe[Se].clone(),fe[Ce].clone(),fe[Te].clone()]),pe!==void 0&&re.faceVertexUvs[1].push([me[Se].clone(),me[Ce].clone(),me[Te].clone()])}if(ie!==void 0){var xe=ee.groups;if(xe.length>0)for(var de=0;de<xe.length;de++)for(var _e=xe[de],ye=_e.start,we=_e.count,ve=ye,be=ye+we;ve<be;ve+=3)ge(ie[ve],ie[ve+1],ie[ve+2],_e.materialIndex);else for(var de=0;de<ie.length;de+=3)ge(ie[de],ie[de+1],ie[de+2])}else for(var de=0;de<oe.length/3;de+=3)ge(de,de+1,de+2);return this.computeFaceNormals(),ee.boundingBox!==null&&(this.boundingBox=ee.boundingBox.clone()),ee.boundingSphere!==null&&(this.boundingSphere=ee.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var ee=this.boundingBox.center().negate();return this.translate(ee.x,ee.y,ee.z),ee},normalize:function(){this.computeBoundingSphere();var ee=this.boundingSphere.center,re=this.boundingSphere.radius,ie=re===0?1:1/re,ae=new te.Matrix4;return ae.set(ie,0,0,-ie*ee.x,0,ie,0,-ie*ee.y,0,0,ie,-ie*ee.z,0,0,0,1),this.applyMatrix(ae),this},computeFaceNormals:function(){for(var ee=new te.Vector3,re=new te.Vector3,ie=0,ae=this.faces.length;ie<ae;ie++){var oe=this.faces[ie],le=this.vertices[oe.a],he=this.vertices[oe.b],ue=this.vertices[oe.c];ee.subVectors(ue,he),re.subVectors(le,he),ee.cross(re),ee.normalize(),oe.normal.copy(ee)}},computeVertexNormals:function(ee){ee===void 0&&(ee=!0);var re,ie,ae,oe,le,he;for(he=new Array(this.vertices.length),re=0,ie=this.vertices.length;re<ie;re++)he[re]=new te.Vector3;if(ee){var ue,pe,ce,fe=new te.Vector3,me=new te.Vector3;for(ae=0,oe=this.faces.length;ae<oe;ae++)le=this.faces[ae],ue=this.vertices[le.a],pe=this.vertices[le.b],ce=this.vertices[le.c],fe.subVectors(ce,pe),me.subVectors(ue,pe),fe.cross(me),he[le.a].add(fe),he[le.b].add(fe),he[le.c].add(fe)}else for(ae=0,oe=this.faces.length;ae<oe;ae++)le=this.faces[ae],he[le.a].add(le.normal),he[le.b].add(le.normal),he[le.c].add(le.normal);for(re=0,ie=this.vertices.length;re<ie;re++)he[re].normalize();for(ae=0,oe=this.faces.length;ae<oe;ae++){le=this.faces[ae];var de=le.vertexNormals;de.length===3?(de[0].copy(he[le.a]),de[1].copy(he[le.b]),de[2].copy(he[le.c])):(de[0]=he[le.a].clone(),de[1]=he[le.b].clone(),de[2]=he[le.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var ee,re,ie,ae,oe;for(ie=0,ae=this.faces.length;ie<ae;ie++)for(oe=this.faces[ie],oe.__originalFaceNormal?oe.__originalFaceNormal.copy(oe.normal):oe.__originalFaceNormal=oe.normal.clone(),oe.__originalVertexNormals||(oe.__originalVertexNormals=[]),ee=0,re=oe.vertexNormals.length;ee<re;ee++)oe.__originalVertexNormals[ee]?oe.__originalVertexNormals[ee].copy(oe.vertexNormals[ee]):oe.__originalVertexNormals[ee]=oe.vertexNormals[ee].clone();var le=new te.Geometry;for(le.faces=this.faces,ee=0,re=this.morphTargets.length;ee<re;ee++){if(!this.morphNormals[ee]){this.morphNormals[ee]={},this.morphNormals[ee].faceNormals=[],this.morphNormals[ee].vertexNormals=[];var he=this.morphNormals[ee].faceNormals,ue=this.morphNormals[ee].vertexNormals,ce,fe;for(ie=0,ae=this.faces.length;ie<ae;ie++)ce=new te.Vector3,fe={a:new te.Vector3,b:new te.Vector3,c:new te.Vector3},he.push(ce),ue.push(fe)}var pe=this.morphNormals[ee];le.vertices=this.morphTargets[ee].vertices,le.computeFaceNormals(),le.computeVertexNormals();var ce,fe;for(ie=0,ae=this.faces.length;ie<ae;ie++)oe=this.faces[ie],ce=pe.faceNormals[ie],fe=pe.vertexNormals[ie],ce.copy(oe.normal),fe.a.copy(oe.vertexNormals[0]),fe.b.copy(oe.vertexNormals[1]),fe.c.copy(oe.vertexNormals[2])}for(ie=0,ae=this.faces.length;ie<ae;ie++)oe=this.faces[ie],oe.normal=oe.__originalFaceNormal,oe.vertexNormals=oe.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var ee=0,re=this.vertices,ie=0,ae=re.length;ie<ae;ie++)ie>0&&(ee+=re[ie].distanceTo(re[ie-1])),this.lineDistances[ie]=ee},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new te.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new te.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(ee,re,ie){if(!(ee instanceof te.Geometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",ee);return}var ae,oe=this.vertices.length,le=this.vertices,he=ee.vertices,ue=this.faces,pe=ee.faces,ce=this.faceVertexUvs[0],fe=ee.faceVertexUvs[0];ie===void 0&&(ie=0),re!==void 0&&(ae=new te.Matrix3().getNormalMatrix(re));for(var me=0,de=he.length;me<de;me++){var ve=he[me],ge=ve.clone();re!==void 0&&ge.applyMatrix4(re),le.push(ge)}for(me=0,de=pe.length;me<de;me++){var xe=pe[me],_e,ye,we,be=xe.vertexNormals,Se=xe.vertexColors;_e=new te.Face3(xe.a+oe,xe.b+oe,xe.c+oe),_e.normal.copy(xe.normal),ae!==void 0&&_e.normal.applyMatrix3(ae).normalize();for(var Ce=0,Te=be.length;Ce<Te;Ce++)ye=be[Ce].clone(),ae!==void 0&&ye.applyMatrix3(ae).normalize(),_e.vertexNormals.push(ye);_e.color.copy(xe.color);for(var Ce=0,Te=Se.length;Ce<Te;Ce++)we=Se[Ce],_e.vertexColors.push(we.clone());_e.materialIndex=xe.materialIndex+ie,ue.push(_e)}for(me=0,de=fe.length;me<de;me++){var De=fe[me],Fe=[];if(De!==void 0){for(var Ce=0,Te=De.length;Ce<Te;Ce++)Fe.push(De[Ce].clone());ce.push(Fe)}}},mergeMesh:function(ee){if(!(ee instanceof te.Mesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",ee);return}ee.matrixAutoUpdate&&ee.updateMatrix(),this.merge(ee.geometry,ee.matrix)},mergeVertices:function(){var ee={},re=[],ie=[],ae,oe,le=4,he=Math.pow(10,le),ue,pe,ce,fe,me,de;for(ue=0,pe=this.vertices.length;ue<pe;ue++)ae=this.vertices[ue],oe=Math.round(ae.x*he)+"_"+Math.round(ae.y*he)+"_"+Math.round(ae.z*he),ee[oe]===void 0?(ee[oe]=ue,re.push(this.vertices[ue]),ie[ue]=re.length-1):ie[ue]=ie[ee[oe]];var ve=[];for(ue=0,pe=this.faces.length;ue<pe;ue++){ce=this.faces[ue],ce.a=ie[ce.a],ce.b=ie[ce.b],ce.c=ie[ce.c],fe=[ce.a,ce.b,ce.c];for(var ge=0;ge<3;ge++)if(fe[ge]===fe[(ge+1)%3]){ve.push(ue);break}}for(ue=ve.length-1;ue>=0;ue--){var xe=ve[ue];for(this.faces.splice(xe,1),me=0,de=this.faceVertexUvs.length;me<de;me++)this.faceVertexUvs[me].splice(xe,1)}var _e=this.vertices.length-re.length;return this.vertices=re,_e},sortFacesByMaterialIndex:function(){for(var ee=this.faces,re=ee.length,ie=0;ie<re;ie++)ee[ie]._id=ie;function ae(ce,fe){return ce.materialIndex-fe.materialIndex}ee.sort(ae);var oe=this.faceVertexUvs[0],le=this.faceVertexUvs[1],he,ue;oe&&oe.length===re&&(he=[]),le&&le.length===re&&(ue=[]);for(var ie=0;ie<re;ie++){var pe=ee[ie]._id;he&&he.push(oe[pe]),ue&&ue.push(le[pe])}he&&(this.faceVertexUvs[0]=he),ue&&(this.faceVertexUvs[1]=ue)},toJSON:function(){var ee={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(ee.uuid=this.uuid,ee.type=this.type,this.name!==""&&(ee.name=this.name),this.parameters!==void 0){var re=this.parameters;for(var ie in re)re[ie]!==void 0&&(ee[ie]=re[ie]);return ee}for(var ae=[],oe=0;oe<this.vertices.length;oe++){var le=this.vertices[oe];ae.push(le.x,le.y,le.z)}for(var he=[],ue=[],pe={},ce=[],fe={},me=[],de={},oe=0;oe<this.faces.length;oe++){var ve=this.faces[oe],ge=!0,xe=!1,_e=this.faceVertexUvs[0][oe]!==void 0,ye=ve.normal.length()>0,we=ve.vertexNormals.length>0,be=ve.color.r!==1||ve.color.g!==1||ve.color.b!==1,Se=ve.vertexColors.length>0,Ce=0;if(Ce=Le(Ce,0,0),Ce=Le(Ce,1,ge),Ce=Le(Ce,2,xe),Ce=Le(Ce,3,_e),Ce=Le(Ce,4,ye),Ce=Le(Ce,5,we),Ce=Le(Ce,6,be),Ce=Le(Ce,7,Se),he.push(Ce),he.push(ve.a,ve.b,ve.c),he.push(ve.materialIndex),_e){var Te=this.faceVertexUvs[0][oe];he.push(ke(Te[0]),ke(Te[1]),ke(Te[2]))}if(ye&&he.push(Ie(ve.normal)),we){var De=ve.vertexNormals;he.push(Ie(De[0]),Ie(De[1]),Ie(De[2]))}if(be&&he.push(Oe(ve.color)),Se){var Fe=ve.vertexColors;he.push(Oe(Fe[0]),Oe(Fe[1]),Oe(Fe[2]))}}function Le(Pe,Me,Ee){return Ee?Pe|1<<Me:Pe&~(1<<Me)}function Ie(Pe){var Me=Pe.x.toString()+Pe.y.toString()+Pe.z.toString();return pe[Me]!==void 0||(pe[Me]=ue.length/3,ue.push(Pe.x,Pe.y,Pe.z)),pe[Me]}function Oe(Pe){var Me=Pe.r.toString()+Pe.g.toString()+Pe.b.toString();return fe[Me]!==void 0||(fe[Me]=ce.length,ce.push(Pe.getHex())),fe[Me]}function ke(Pe){var Me=Pe.x.toString()+Pe.y.toString();return de[Me]!==void 0||(de[Me]=me.length/2,me.push(Pe.x,Pe.y)),de[Me]}return ee.data={},ee.data.vertices=ae,ee.data.normals=ue,ce.length>0&&(ee.data.colors=ce),me.length>0&&(ee.data.uvs=[me]),ee.data.faces=he,ee},clone:function(){return new te.Geometry().copy(this)},copy:function(ee){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var re=ee.vertices,ie=0,ae=re.length;ie<ae;ie++)this.vertices.push(re[ie].clone());for(var oe=ee.faces,ie=0,ae=oe.length;ie<ae;ie++)this.faces.push(oe[ie].clone());for(var ie=0,ae=ee.faceVertexUvs.length;ie<ae;ie++){var le=ee.faceVertexUvs[ie];this.faceVertexUvs[ie]===void 0&&(this.faceVertexUvs[ie]=[]);for(var he=0,ue=le.length;he<ue;he++){for(var pe=le[he],ce=[],fe=0,me=pe.length;fe<me;fe++){var de=pe[fe];ce.push(de.clone())}this.faceVertexUvs[ie].push(ce)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),te.GeometryIdCount=0,te.DirectGeometry=function(){Object.defineProperty(this,"id",{value:te.GeometryIdCount++}),this.uuid=te.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},Object.assign(te.DirectGeometry.prototype,te.EventDispatcher.prototype,{computeBoundingBox:te.Geometry.prototype.computeBoundingBox,computeBoundingSphere:te.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(ee){for(var re,ie=[],ae,oe=ee.faces,le=0;le<oe.length;le++){var he=oe[le];he.materialIndex!==ae&&(ae=he.materialIndex,re!==void 0&&(re.count=le*3-re.start,ie.push(re)),re={start:le*3,materialIndex:ae})}re!==void 0&&(re.count=le*3-re.start,ie.push(re)),this.groups=ie},fromGeometry:function(ee){var re=ee.faces,ie=ee.vertices,ae=ee.faceVertexUvs,oe=ae[0]&&ae[0].length>0,le=ae[1]&&ae[1].length>0,he=ee.morphTargets,ue=he.length,pe;if(ue>0){pe=[];for(var ce=0;ce<ue;ce++)pe[ce]=[];this.morphTargets.position=pe}var fe=ee.morphNormals,me=fe.length,de;if(me>0){de=[];for(var ce=0;ce<me;ce++)de[ce]=[];this.morphTargets.normal=de}for(var ve=ee.skinIndices,ge=ee.skinWeights,xe=ve.length===ie.length,_e=ge.length===ie.length,ce=0;ce<re.length;ce++){var ye=re[ce];this.vertices.push(ie[ye.a],ie[ye.b],ie[ye.c]);var we=ye.vertexNormals;if(we.length===3)this.normals.push(we[0],we[1],we[2]);else{var be=ye.normal;this.normals.push(be,be,be)}var Se=ye.vertexColors;if(Se.length===3)this.colors.push(Se[0],Se[1],Se[2]);else{var Ce=ye.color;this.colors.push(Ce,Ce,Ce)}if(oe===!0){var Te=ae[0][ce];Te!==void 0?this.uvs.push(Te[0],Te[1],Te[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",ce),this.uvs.push(new te.Vector2,new te.Vector2,new te.Vector2))}if(le===!0){var Te=ae[1][ce];Te!==void 0?this.uvs2.push(Te[0],Te[1],Te[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",ce),this.uvs2.push(new te.Vector2,new te.Vector2,new te.Vector2))}for(var De=0;De<ue;De++){var Fe=he[De].vertices;pe[De].push(Fe[ye.a],Fe[ye.b],Fe[ye.c])}for(var De=0;De<me;De++){var Le=fe[De].vertexNormals[ce];de[De].push(Le.a,Le.b,Le.c)}xe&&this.skinIndices.push(ve[ye.a],ve[ye.b],ve[ye.c]),_e&&this.skinWeights.push(ge[ye.a],ge[ye.b],ge[ye.c])}return this.computeGroups(ee),this.verticesNeedUpdate=ee.verticesNeedUpdate,this.normalsNeedUpdate=ee.normalsNeedUpdate,this.colorsNeedUpdate=ee.colorsNeedUpdate,this.uvsNeedUpdate=ee.uvsNeedUpdate,this.groupsNeedUpdate=ee.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),te.BufferGeometry=function(){Object.defineProperty(this,"id",{value:te.GeometryIdCount++}),this.uuid=te.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},Object.assign(te.BufferGeometry.prototype,te.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(ee){this.index=ee},addAttribute:function(ee,re){if(!(re instanceof te.BufferAttribute)&&!(re instanceof te.InterleavedBufferAttribute)){console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(ee,new te.BufferAttribute(arguments[1],arguments[2]));return}if(ee==="index"){console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(re);return}return this.attributes[ee]=re,this},getAttribute:function(ee){return this.attributes[ee]},removeAttribute:function(ee){return delete this.attributes[ee],this},addGroup:function(ee,re,ie){this.groups.push({start:ee,count:re,materialIndex:ie!==void 0?ie:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(ee,re){this.drawRange.start=ee,this.drawRange.count=re},applyMatrix:function(ee){var re=this.attributes.position;re!==void 0&&(ee.applyToVector3Array(re.array),re.needsUpdate=!0);var ie=this.attributes.normal;if(ie!==void 0){var ae=new te.Matrix3().getNormalMatrix(ee);ae.applyToVector3Array(ie.array),ie.needsUpdate=!0}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Matrix4),ee.makeRotationX(ie),this.applyMatrix(ee),this}}(),rotateY:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Matrix4),ee.makeRotationY(ie),this.applyMatrix(ee),this}}(),rotateZ:function(){var ee;return function(ie){return ee===void 0&&(ee=new te.Matrix4),ee.makeRotationZ(ie),this.applyMatrix(ee),this}}(),translate:function(){var ee;return function(ie,ae,oe){return ee===void 0&&(ee=new te.Matrix4),ee.makeTranslation(ie,ae,oe),this.applyMatrix(ee),this}}(),scale:function(){var ee;return function(ie,ae,oe){return ee===void 0&&(ee=new te.Matrix4),ee.makeScale(ie,ae,oe),this.applyMatrix(ee),this}}(),lookAt:function(){var ee;return function(ie){ee===void 0&&(ee=new te.Object3D),ee.lookAt(ie),ee.updateMatrix(),this.applyMatrix(ee.matrix)}}(),center:function(){this.computeBoundingBox();var ee=this.boundingBox.center().negate();return this.translate(ee.x,ee.y,ee.z),ee},setFromObject:function(ee){var re=ee.geometry;if(ee instanceof te.Points||ee instanceof te.Line){var ie=new te.Float32Attribute(re.vertices.length*3,3),ae=new te.Float32Attribute(re.colors.length*3,3);if(this.addAttribute("position",ie.copyVector3sArray(re.vertices)),this.addAttribute("color",ae.copyColorsArray(re.colors)),re.lineDistances&&re.lineDistances.length===re.vertices.length){var oe=new te.Float32Attribute(re.lineDistances.length,1);this.addAttribute("lineDistance",oe.copyArray(re.lineDistances))}re.boundingSphere!==null&&(this.boundingSphere=re.boundingSphere.clone()),re.boundingBox!==null&&(this.boundingBox=re.boundingBox.clone())}else ee instanceof te.Mesh&&re instanceof te.Geometry&&this.fromGeometry(re);return this},updateFromObject:function(ee){var re=ee.geometry;if(ee instanceof te.Mesh){var ie=re.__directGeometry;if(ie===void 0||re.elementsNeedUpdate===!0)return this.fromGeometry(re);ie.verticesNeedUpdate=re.verticesNeedUpdate||re.elementsNeedUpdate,ie.normalsNeedUpdate=re.normalsNeedUpdate||re.elementsNeedUpdate,ie.colorsNeedUpdate=re.colorsNeedUpdate||re.elementsNeedUpdate,ie.uvsNeedUpdate=re.uvsNeedUpdate||re.elementsNeedUpdate,ie.groupsNeedUpdate=re.groupsNeedUpdate||re.elementsNeedUpdate,re.elementsNeedUpdate=!1,re.verticesNeedUpdate=!1,re.normalsNeedUpdate=!1,re.colorsNeedUpdate=!1,re.uvsNeedUpdate=!1,re.groupsNeedUpdate=!1,re=ie}var ae;return re.verticesNeedUpdate===!0&&(ae=this.attributes.position,ae!==void 0&&(ae.copyVector3sArray(re.vertices),ae.needsUpdate=!0),re.verticesNeedUpdate=!1),re.normalsNeedUpdate===!0&&(ae=this.attributes.normal,ae!==void 0&&(ae.copyVector3sArray(re.normals),ae.needsUpdate=!0),re.normalsNeedUpdate=!1),re.colorsNeedUpdate===!0&&(ae=this.attributes.color,ae!==void 0&&(ae.copyColorsArray(re.colors),ae.needsUpdate=!0),re.colorsNeedUpdate=!1),re.uvsNeedUpdate&&(ae=this.attributes.uv,ae!==void 0&&(ae.copyVector2sArray(re.uvs),ae.needsUpdate=!0),re.uvsNeedUpdate=!1),re.lineDistancesNeedUpdate&&(ae=this.attributes.lineDistance,ae!==void 0&&(ae.copyArray(re.lineDistances),ae.needsUpdate=!0),re.lineDistancesNeedUpdate=!1),re.groupsNeedUpdate&&(re.computeGroups(ee.geometry),this.groups=re.groups,re.groupsNeedUpdate=!1),this},fromGeometry:function(ee){return ee.__directGeometry=new te.DirectGeometry().fromGeometry(ee),this.fromDirectGeometry(ee.__directGeometry)},fromDirectGeometry:function(ee){var re=new Float32Array(ee.vertices.length*3);if(this.addAttribute("position",new te.BufferAttribute(re,3).copyVector3sArray(ee.vertices)),ee.normals.length>0){var ie=new Float32Array(ee.normals.length*3);this.addAttribute("normal",new te.BufferAttribute(ie,3).copyVector3sArray(ee.normals))}if(ee.colors.length>0){var ae=new Float32Array(ee.colors.length*3);this.addAttribute("color",new te.BufferAttribute(ae,3).copyColorsArray(ee.colors))}if(ee.uvs.length>0){var oe=new Float32Array(ee.uvs.length*2);this.addAttribute("uv",new te.BufferAttribute(oe,2).copyVector2sArray(ee.uvs))}if(ee.uvs2.length>0){var le=new Float32Array(ee.uvs2.length*2);this.addAttribute("uv2",new te.BufferAttribute(le,2).copyVector2sArray(ee.uvs2))}if(ee.indices.length>0){var he=ee.vertices.length>65535?Uint32Array:Uint16Array,ue=new he(ee.indices.length*3);this.setIndex(new te.BufferAttribute(ue,1).copyIndicesArray(ee.indices))}this.groups=ee.groups;for(var pe in ee.morphTargets){for(var ce=[],fe=ee.morphTargets[pe],me=0,de=fe.length;me<de;me++){var ve=fe[me],ge=new te.Float32Attribute(ve.length*3,3);ce.push(ge.copyVector3sArray(ve))}this.morphAttributes[pe]=ce}if(ee.skinIndices.length>0){var xe=new te.Float32Attribute(ee.skinIndices.length*4,4);this.addAttribute("skinIndex",xe.copyVector4sArray(ee.skinIndices))}if(ee.skinWeights.length>0){var _e=new te.Float32Attribute(ee.skinWeights.length*4,4);this.addAttribute("skinWeight",_e.copyVector4sArray(ee.skinWeights))}return ee.boundingSphere!==null&&(this.boundingSphere=ee.boundingSphere.clone()),ee.boundingBox!==null&&(this.boundingBox=ee.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new te.Box3);var ee=this.attributes.position.array;ee!==void 0?this.boundingBox.setFromArray(ee):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var ee=new te.Box3,re=new te.Vector3;return function(){this.boundingSphere===null&&(this.boundingSphere=new te.Sphere);var ae=this.attributes.position;if(ae){var oe=ae.array,le=this.boundingSphere.center;ee.setFromArray(oe),ee.center(le);for(var he=0,ue=0,pe=oe.length;ue<pe;ue+=3)re.fromArray(oe,ue),he=Math.max(he,le.distanceToSquared(re));this.boundingSphere.radius=Math.sqrt(he),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var ee=this.index,re=this.attributes,ie=this.groups;if(re.position){var ae=re.position.array;if(re.normal===void 0)this.addAttribute("normal",new te.BufferAttribute(new Float32Array(ae.length),3));else for(var oe=re.normal.array,le=0,he=oe.length;le<he;le++)oe[le]=0;var ue=re.normal.array,pe,ce,fe,me=new te.Vector3,de=new te.Vector3,ve=new te.Vector3,ge=new te.Vector3,xe=new te.Vector3;if(ee){var _e=ee.array;ie.length===0&&this.addGroup(0,_e.length);for(var ye=0,we=ie.length;ye<we;++ye)for(var be=ie[ye],Se=be.start,Ce=be.count,le=Se,he=Se+Ce;le<he;le+=3)pe=_e[le+0]*3,ce=_e[le+1]*3,fe=_e[le+2]*3,me.fromArray(ae,pe),de.fromArray(ae,ce),ve.fromArray(ae,fe),ge.subVectors(ve,de),xe.subVectors(me,de),ge.cross(xe),ue[pe]+=ge.x,ue[pe+1]+=ge.y,ue[pe+2]+=ge.z,ue[ce]+=ge.x,ue[ce+1]+=ge.y,ue[ce+2]+=ge.z,ue[fe]+=ge.x,ue[fe+1]+=ge.y,ue[fe+2]+=ge.z}else for(var le=0,he=ae.length;le<he;le+=9)me.fromArray(ae,le),de.fromArray(ae,le+3),ve.fromArray(ae,le+6),ge.subVectors(ve,de),xe.subVectors(me,de),ge.cross(xe),ue[le]=ge.x,ue[le+1]=ge.y,ue[le+2]=ge.z,ue[le+3]=ge.x,ue[le+4]=ge.y,ue[le+5]=ge.z,ue[le+6]=ge.x,ue[le+7]=ge.y,ue[le+8]=ge.z;this.normalizeNormals(),re.normal.needsUpdate=!0}},merge:function(ee,re){if(!(ee instanceof te.BufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",ee);return}re===void 0&&(re=0);var ie=this.attributes;for(var ae in ie)if(ee.attributes[ae]!==void 0)for(var oe=ie[ae],le=oe.array,he=ee.attributes[ae],ue=he.array,pe=he.itemSize,ce=0,fe=pe*re;ce<ue.length;ce++,fe++)le[fe]=ue[ce];return this},normalizeNormals:function(){for(var ee=this.attributes.normal.array,re,ie,ae,oe,le=0,he=ee.length;le<he;le+=3)re=ee[le],ie=ee[le+1],ae=ee[le+2],oe=1/Math.sqrt(re*re+ie*ie+ae*ae),ee[le]*=oe,ee[le+1]*=oe,ee[le+2]*=oe},toNonIndexed:function(){if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var ee=new te.BufferGeometry,re=this.index.array,ie=this.attributes;for(var ae in ie){for(var oe=ie[ae],le=oe.array,he=oe.itemSize,ue=new le.constructor(re.length*he),pe=0,ce=0,fe=0,me=re.length;fe<me;fe++){pe=re[fe]*he;for(var de=0;de<he;de++)ue[ce++]=le[pe++]}ee.addAttribute(ae,new te.BufferAttribute(ue,he))}return ee},toJSON:function(){var ee={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(ee.uuid=this.uuid,ee.type=this.type,this.name!==""&&(ee.name=this.name),this.parameters!==void 0){var re=this.parameters;for(var ie in re)re[ie]!==void 0&&(ee[ie]=re[ie]);return ee}ee.data={attributes:{}};var ae=this.index;if(ae!==null){var oe=Array.prototype.slice.call(ae.array);ee.data.index={type:ae.array.constructor.name,array:oe}}var le=this.attributes;for(var ie in le){var he=le[ie],oe=Array.prototype.slice.call(he.array);ee.data.attributes[ie]={itemSize:he.itemSize,type:he.array.constructor.name,array:oe,normalized:he.normalized}}var ue=this.groups;ue.length>0&&(ee.data.groups=JSON.parse(JSON.stringify(ue)));var pe=this.boundingSphere;return pe!==null&&(ee.data.boundingSphere={center:pe.center.toArray(),radius:pe.radius}),ee},clone:function(){return new te.BufferGeometry().copy(this)},copy:function(ee){var re=ee.index;re!==null&&this.setIndex(re.clone());var ie=ee.attributes;for(var ae in ie){var oe=ie[ae];this.addAttribute(ae,oe.clone())}for(var le=ee.groups,he=0,ue=le.length;he<ue;he++){var pe=le[he];this.addGroup(pe.start,pe.count,pe.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),te.BufferGeometry.MaxIndex=65535,te.InstancedBufferGeometry=function(){te.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},te.InstancedBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.InstancedBufferGeometry.prototype.constructor=te.InstancedBufferGeometry,te.InstancedBufferGeometry.prototype.addGroup=function(ee,re,ie){this.groups.push({start:ee,count:re,instances:ie})},te.InstancedBufferGeometry.prototype.copy=function(ee){var re=ee.index;re!==null&&this.setIndex(re.clone());var ie=ee.attributes;for(var ae in ie){var oe=ie[ae];this.addAttribute(ae,oe.clone())}for(var le=ee.groups,he=0,ue=le.length;he<ue;he++){var pe=le[he];this.addGroup(pe.start,pe.count,pe.instances)}return this},te.Uniform=function(ee){typeof ee=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),ee=arguments[1]),this.value=ee,this.dynamic=!1},te.Uniform.prototype={constructor:te.Uniform,onUpdate:function(ee){return this.dynamic=!0,this.onUpdateCallback=ee,this}},te.AnimationAction=function(){throw new Error("THREE.AnimationAction: Use mixer.clipAction for construction.")},te.AnimationAction._new=function(re,ie,ae){this._mixer=re,this._clip=ie,this._localRoot=ae||null;for(var oe=ie.tracks,le=oe.length,he=new Array(le),ue={endingStart:te.ZeroCurvatureEnding,endingEnd:te.ZeroCurvatureEnding},pe=0;pe!==le;++pe){var ce=oe[pe].createInterpolant(null);he[pe]=ce,ce.settings=ue}this._interpolantSettings=ue,this._interpolants=he,this._propertyBindings=new Array(le),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=te.LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0},te.AnimationAction._new.prototype={constructor:te.AnimationAction._new,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this._startTime,this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(ee){return this._startTime=ee,this},setLoop:function(ee,re){return this.loop=ee,this.repetitions=re,this},setEffectiveWeight:function(ee){return this.weight=ee,this._effectiveWeight=this.enabled?ee:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(ee){return this._scheduleFading(ee,0,1)},fadeOut:function(ee){return this._scheduleFading(ee,1,0)},crossFadeFrom:function(ee,re,ie){if(this._mixer,ee.fadeOut(re),this.fadeIn(re),ie){var ae=this._clip.duration,oe=ee._clip.duration,le=oe/ae,he=ae/oe;ee.warp(1,le,re),this.warp(he,1,re)}return this},crossFadeTo:function(ee,re,ie){return ee.crossFadeFrom(this,re,ie)},stopFading:function(){var ee=this._weightInterpolant;return ee!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(ee)),this},setEffectiveTimeScale:function(ee){return this.timeScale=ee,this._effectiveTimeScale=this.paused?0:ee,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(ee){return this.timeScale=this._clip.duration/ee,this.stopWarping()},syncWith:function(ee){return this.time=ee.time,this.timeScale=ee.timeScale,this.stopWarping()},halt:function(ee){return this.warp(this._effectiveTimeScale,0,ee)},warp:function(ee,re,ie){var ae=this._mixer,oe=ae.time,le=this._timeScaleInterpolant,he=this.timeScale;le===null&&(le=ae._lendControlInterpolant(),this._timeScaleInterpolant=le);var ue=le.parameterPositions,pe=le.sampleValues;return ue[0]=oe,ue[1]=oe+ie,pe[0]=ee/he,pe[1]=re/he,this},stopWarping:function(){var ee=this._timeScaleInterpolant;return ee!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(ee)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(ee,re,ie,ae){var oe=this._startTime;if(oe!==null){var le=(ee-oe)*ie;if(le<0||ie===0)return;this._startTime=null,re=ie*le}re*=this._updateTimeScale(ee);var he=this._updateTime(re),ue=this._updateWeight(ee);if(ue>0)for(var pe=this._interpolants,ce=this._propertyBindings,fe=0,me=pe.length;fe!==me;++fe)pe[fe].evaluate(he),ce[fe].accumulate(ae,ue)},_updateWeight:function(ee){var re=0;if(this.enabled){re=this.weight;var ie=this._weightInterpolant;if(ie!==null){var ae=ie.evaluate(ee)[0];re*=ae,ee>ie.parameterPositions[1]&&(this.stopFading(),ae===0&&(this.enabled=!1))}}return this._effectiveWeight=re,re},_updateTimeScale:function(ee){var re=0;if(!this.paused){re=this.timeScale;var ie=this._timeScaleInterpolant;if(ie!==null){var ae=ie.evaluate(ee)[0];re*=ae,ee>ie.parameterPositions[1]&&(this.stopWarping(),re===0?this.paused=!0:this.timeScale=re)}}return this._effectiveTimeScale=re,re},_updateTime:function(ee){var re=this.time+ee;if(ee===0)return re;var ie=this._clip.duration,ae=this.loop,oe=this._loopCount;if(ae===te.LoopOnce){oe===-1&&(this.loopCount=0,this._setEndings(!0,!0,!1));e:{if(re>=ie)re=ie;else if(re<0)re=0;else break e;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:ee<0?-1:1})}}else{var le=ae===te.LoopPingPong;if(oe===-1&&(ee>=0?(oe=0,this._setEndings(!0,this.repetitions===0,le)):this._setEndings(this.repetitions===0,!0,le)),re>=ie||re<0){var he=Math.floor(re/ie);re-=ie*he,oe+=Math.abs(he);var ue=this.repetitions-oe;if(ue<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,re=ee>0?ie:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:ee>0?1:-1});else{if(ue===0){var pe=ee<0;this._setEndings(pe,!pe,le)}else this._setEndings(!1,!1,le);this._loopCount=oe,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:he})}}if(le&&(oe&1)===1)return this.time=re,ie-re}return this.time=re,re},_setEndings:function(ee,re,ie){var ae=this._interpolantSettings;ie?(ae.endingStart=te.ZeroSlopeEnding,ae.endingEnd=te.ZeroSlopeEnding):(ee?ae.endingStart=this.zeroSlopeAtStart?te.ZeroSlopeEnding:te.ZeroCurvatureEnding:ae.endingStart=te.WrapAroundEnding,re?ae.endingEnd=this.zeroSlopeAtEnd?te.ZeroSlopeEnding:te.ZeroCurvatureEnding:ae.endingEnd=te.WrapAroundEnding)},_scheduleFading:function(ee,re,ie){var ae=this._mixer,oe=ae.time,le=this._weightInterpolant;le===null&&(le=ae._lendControlInterpolant(),this._weightInterpolant=le);var he=le.parameterPositions,ue=le.sampleValues;return he[0]=oe,ue[0]=re,he[1]=oe+ee,ue[1]=ie,this}},te.AnimationClip=function(ee,re,ie){this.name=ee,this.tracks=ie,this.duration=re!==void 0?re:-1,this.uuid=te.Math.generateUUID(),this.duration<0&&this.resetDuration(),this.trim(),this.optimize()},te.AnimationClip.prototype={constructor:te.AnimationClip,resetDuration:function(){for(var ee=this.tracks,re=0,ie=0,ae=ee.length;ie!==ae;++ie){var oe=this.tracks[ie];re=Math.max(re,oe.times[oe.times.length-1])}this.duration=re},trim:function(){for(var ee=0;ee<this.tracks.length;ee++)this.tracks[ee].trim(0,this.duration);return this},optimize:function(){for(var ee=0;ee<this.tracks.length;ee++)this.tracks[ee].optimize();return this}},Object.assign(te.AnimationClip,{parse:function(ee){for(var re=[],ie=ee.tracks,ae=1/(ee.fps||1),oe=0,le=ie.length;oe!==le;++oe)re.push(te.KeyframeTrack.parse(ie[oe]).scale(ae));return new te.AnimationClip(ee.name,ee.duration,re)},toJSON:function(ee){for(var re=[],ie=ee.tracks,ae={name:ee.name,duration:ee.duration,tracks:re},oe=0,le=ie.length;oe!==le;++oe)re.push(te.KeyframeTrack.toJSON(ie[oe]));return ae},CreateFromMorphTargetSequence:function(ee,re,ie,ae){for(var oe=re.length,le=[],he=0;he<oe;he++){var ue=[],pe=[];ue.push((he+oe-1)%oe,he,(he+1)%oe),pe.push(0,1,0);var ce=te.AnimationUtils.getKeyframeOrder(ue);ue=te.AnimationUtils.sortedArray(ue,1,ce),pe=te.AnimationUtils.sortedArray(pe,1,ce),!ae&&ue[0]===0&&(ue.push(oe),pe.push(pe[0])),le.push(new te.NumberKeyframeTrack(".morphTargetInfluences["+re[he].name+"]",ue,pe).scale(1/ie))}return new te.AnimationClip(ee,-1,le)},findByName:function(ee,re){var ie=ee;if(!Array.isArray(ee)){var ae=ee;ie=ae.geometry&&ae.geometry.animations||ae.animations}for(var oe=0;oe<ie.length;oe++)if(ie[oe].name===re)return ie[oe];return null},CreateClipsFromMorphTargetSequences:function(ee,re,ie){for(var ae={},oe=/^([\w-]*?)([\d]+)$/,le=0,he=ee.length;le<he;le++){var ue=ee[le],pe=ue.name.match(oe);if(pe&&pe.length>1){var ce=pe[1],fe=ae[ce];fe||(ae[ce]=fe=[]),fe.push(ue)}}var me=[];for(var ce in ae)me.push(te.AnimationClip.CreateFromMorphTargetSequence(ce,ae[ce],re,ie));return me},parseAnimation:function(ee,re,ie){if(!ee)return console.error("  no animation in JSONLoader data"),null;for(var ae=function(Se,Ce,Te,De,Fe){if(Te.length!==0){var Le=[],Ie=[];te.AnimationUtils.flattenJSON(Te,Le,Ie,De),Le.length!==0&&Fe.push(new Se(Ce,Le,Ie))}},oe=[],le=ee.name||"default",he=ee.length||-1,ue=ee.fps||30,pe=ee.hierarchy||[],ce=0;ce<pe.length;ce++){var fe=pe[ce].keys;if(!(!fe||fe.length===0))if(fe[0].morphTargets){for(var me={},de=0;de<fe.length;de++)if(fe[de].morphTargets)for(var ve=0;ve<fe[de].morphTargets.length;ve++)me[fe[de].morphTargets[ve]]=-1;for(var ge in me){for(var xe=[],_e=[],ve=0;ve!==fe[de].morphTargets.length;++ve){var ye=fe[de];xe.push(ye.time),_e.push(ye.morphTarget===ge?1:0)}oe.push(new te.NumberKeyframeTrack(".morphTargetInfluence["+ge+"]",xe,_e))}he=me.length*(ue||1)}else{var we=".bones["+re[ce].name+"]";ae(te.VectorKeyframeTrack,we+".position",fe,"pos",oe),ae(te.QuaternionKeyframeTrack,we+".quaternion",fe,"rot",oe),ae(te.VectorKeyframeTrack,we+".scale",fe,"scl",oe)}}if(oe.length===0)return null;var be=new te.AnimationClip(le,he,oe);return be}}),te.AnimationMixer=function(ee){this._root=ee,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1},Object.assign(te.AnimationMixer.prototype,te.EventDispatcher.prototype,{clipAction:function(ee,re){var ie=re||this._root,ae=ie.uuid,oe=typeof ee=="string"?te.AnimationClip.findByName(ie,ee):ee,le=oe!==null?oe.uuid:ee,he=this._actionsByClip[le],ue=null;if(he!==void 0){var pe=he.actionByRoot[ae];if(pe!==void 0)return pe;ue=he.knownActions[0],oe===null&&(oe=ue._clip)}if(oe===null)return null;var ce=new te.AnimationMixer._Action(this,oe,re);return this._bindAction(ce,ue),this._addInactiveAction(ce,le,ae),ce},existingAction:function(ee,re){var ie=re||this._root,ae=ie.uuid,oe=typeof ee=="string"?te.AnimationClip.findByName(ie,ee):ee,le=oe?oe.uuid:ee,he=this._actionsByClip[le];return he!==void 0&&he.actionByRoot[ae]||null},stopAllAction:function(){var ee=this._actions,re=this._nActiveActions,ie=this._bindings,ae=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var oe=0;oe!==re;++oe)ee[oe].reset();for(var oe=0;oe!==ae;++oe)ie[oe].useCount=0;return this},update:function(ee){ee*=this.timeScale;for(var re=this._actions,ie=this._nActiveActions,ae=this.time+=ee,oe=Math.sign(ee),le=this._accuIndex^=1,he=0;he!==ie;++he){var ue=re[he];ue.enabled&&ue._update(ae,ee,oe,le)}for(var pe=this._bindings,ce=this._nActiveBindings,he=0;he!==ce;++he)pe[he].apply(le);return this},getRoot:function(){return this._root},uncacheClip:function(ee){var re=this._actions,ie=ee.uuid,ae=this._actionsByClip,oe=ae[ie];if(oe!==void 0){for(var le=oe.knownActions,he=0,ue=le.length;he!==ue;++he){var pe=le[he];this._deactivateAction(pe);var ce=pe._cacheIndex,fe=re[re.length-1];pe._cacheIndex=null,pe._byClipCacheIndex=null,fe._cacheIndex=ce,re[ce]=fe,re.pop(),this._removeInactiveBindingsForAction(pe)}delete ae[ie]}},uncacheRoot:function(ee){var re=ee.uuid,ie=this._actionsByClip;for(var ae in ie){var oe=ie[ae].actionByRoot,le=oe[re];le!==void 0&&(this._deactivateAction(le),this._removeInactiveAction(le))}var he=this._bindingsByRootAndName,ue=he[re];if(ue!==void 0)for(var pe in ue){var ce=ue[pe];ce.restoreOriginalState(),this._removeInactiveBinding(ce)}},uncacheAction:function(ee,re){var ie=this.existingAction(ee,re);ie!==null&&(this._deactivateAction(ie),this._removeInactiveAction(ie))}}),te.AnimationMixer._Action=te.AnimationAction._new,Object.assign(te.AnimationMixer.prototype,{_bindAction:function(ee,re){var ie=ee._localRoot||this._root,ae=ee._clip.tracks,oe=ae.length,le=ee._propertyBindings,he=ee._interpolants,ue=ie.uuid,pe=this._bindingsByRootAndName,ce=pe[ue];ce===void 0&&(ce={},pe[ue]=ce);for(var fe=0;fe!==oe;++fe){var me=ae[fe],de=me.name,ve=ce[de];if(ve!==void 0)le[fe]=ve;else{if(ve=le[fe],ve!==void 0){ve._cacheIndex===null&&(++ve.referenceCount,this._addInactiveBinding(ve,ue,de));continue}var ge=re&&re._propertyBindings[fe].binding.parsedPath;ve=new te.PropertyMixer(te.PropertyBinding.create(ie,de,ge),me.ValueTypeName,me.getValueSize()),++ve.referenceCount,this._addInactiveBinding(ve,ue,de),le[fe]=ve}he[fe].resultBuffer=ve.buffer}},_activateAction:function(ee){if(!this._isActiveAction(ee)){if(ee._cacheIndex===null){var re=(ee._localRoot||this._root).uuid,ie=ee._clip.uuid,ae=this._actionsByClip[ie];this._bindAction(ee,ae&&ae.knownActions[0]),this._addInactiveAction(ee,ie,re)}for(var oe=ee._propertyBindings,le=0,he=oe.length;le!==he;++le){var ue=oe[le];ue.useCount++===0&&(this._lendBinding(ue),ue.saveOriginalState())}this._lendAction(ee)}},_deactivateAction:function(ee){if(this._isActiveAction(ee)){for(var re=ee._propertyBindings,ie=0,ae=re.length;ie!==ae;++ie){var oe=re[ie];--oe.useCount===0&&(oe.restoreOriginalState(),this._takeBackBinding(oe))}this._takeBackAction(ee)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var ee=this;this.stats={actions:{get total(){return ee._actions.length},get inUse(){return ee._nActiveActions}},bindings:{get total(){return ee._bindings.length},get inUse(){return ee._nActiveBindings}},controlInterpolants:{get total(){return ee._controlInterpolants.length},get inUse(){return ee._nActiveControlInterpolants}}}},_isActiveAction:function(ee){var re=ee._cacheIndex;return re!==null&&re<this._nActiveActions},_addInactiveAction:function(ee,re,ie){var ae=this._actions,oe=this._actionsByClip,le=oe[re];if(le===void 0)le={knownActions:[ee],actionByRoot:{}},ee._byClipCacheIndex=0,oe[re]=le;else{var he=le.knownActions;ee._byClipCacheIndex=he.length,he.push(ee)}ee._cacheIndex=ae.length,ae.push(ee),le.actionByRoot[ie]=ee},_removeInactiveAction:function(ee){var re=this._actions,ie=re[re.length-1],ae=ee._cacheIndex;ie._cacheIndex=ae,re[ae]=ie,re.pop(),ee._cacheIndex=null;var oe=ee._clip.uuid,le=this._actionsByClip,he=le[oe],ue=he.knownActions,pe=ue[ue.length-1],ce=ee._byClipCacheIndex;pe._byClipCacheIndex=ce,ue[ce]=pe,ue.pop(),ee._byClipCacheIndex=null;var fe=he.actionByRoot,me=(re._localRoot||this._root).uuid;delete fe[me],ue.length===0&&delete le[oe],this._removeInactiveBindingsForAction(ee)},_removeInactiveBindingsForAction:function(ee){for(var re=ee._propertyBindings,ie=0,ae=re.length;ie!==ae;++ie){var oe=re[ie];--oe.referenceCount===0&&this._removeInactiveBinding(oe)}},_lendAction:function(ee){var re=this._actions,ie=ee._cacheIndex,ae=this._nActiveActions++,oe=re[ae];ee._cacheIndex=ae,re[ae]=ee,oe._cacheIndex=ie,re[ie]=oe},_takeBackAction:function(ee){var re=this._actions,ie=ee._cacheIndex,ae=--this._nActiveActions,oe=re[ae];ee._cacheIndex=ae,re[ae]=ee,oe._cacheIndex=ie,re[ie]=oe},_addInactiveBinding:function(ee,re,ie){var ae=this._bindingsByRootAndName,oe=ae[re],le=this._bindings;oe===void 0&&(oe={},ae[re]=oe),oe[ie]=ee,ee._cacheIndex=le.length,le.push(ee)},_removeInactiveBinding:function(ee){var re=this._bindings,ie=ee.binding,ae=ie.rootNode.uuid,oe=ie.path,le=this._bindingsByRootAndName,he=le[ae],ue=re[re.length-1],pe=ee._cacheIndex;ue._cacheIndex=pe,re[pe]=ue,re.pop(),delete he[oe];e:{for(var ce in he)break e;delete le[ae]}},_lendBinding:function(ee){var re=this._bindings,ie=ee._cacheIndex,ae=this._nActiveBindings++,oe=re[ae];ee._cacheIndex=ae,re[ae]=ee,oe._cacheIndex=ie,re[ie]=oe},_takeBackBinding:function(ee){var re=this._bindings,ie=ee._cacheIndex,ae=--this._nActiveBindings,oe=re[ae];ee._cacheIndex=ae,re[ae]=ee,oe._cacheIndex=ie,re[ie]=oe},_lendControlInterpolant:function(){var ee=this._controlInterpolants,re=this._nActiveControlInterpolants++,ie=ee[re];return ie===void 0&&(ie=new te.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),ie.__cacheIndex=re,ee[re]=ie),ie},_takeBackControlInterpolant:function(ee){var re=this._controlInterpolants,ie=ee.__cacheIndex,ae=--this._nActiveControlInterpolants,oe=re[ae];ee.__cacheIndex=ae,re[ae]=ee,oe.__cacheIndex=ie,re[ie]=oe},_controlInterpolantsResultBuffer:new Float32Array(1)}),te.AnimationObjectGroup=function(ee){this.uuid=te.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var re={};this._indicesByUUID=re;for(var ie=0,ae=arguments.length;ie!==ae;++ie)re[arguments[ie].uuid]=ie;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var oe=this;this.stats={objects:{get total(){return oe._objects.length},get inUse(){return this.total-oe.nCachedObjects_}},get bindingsPerObject(){return oe._bindings.length}}},te.AnimationObjectGroup.prototype={constructor:te.AnimationObjectGroup,add:function(ee){for(var re=this._objects,ie=re.length,ae=this.nCachedObjects_,oe=this._indicesByUUID,le=this._paths,he=this._parsedPaths,ue=this._bindings,pe=ue.length,ce=0,fe=arguments.length;ce!==fe;++ce){var me=arguments[ce],de=me.uuid,ve=oe[de];if(ve===void 0){ve=ie++,oe[de]=ve,re.push(me);for(var ge=0,xe=pe;ge!==xe;++ge)ue[ge].push(new te.PropertyBinding(me,le[ge],he[ge]))}else if(ve<ae){var _e=re[ve],ye=--ae,we=re[ye];oe[we.uuid]=ve,re[ve]=we,oe[de]=ye,re[ye]=me;for(var ge=0,xe=pe;ge!==xe;++ge){var be=ue[ge],Se=be[ye],Ce=be[ve];be[ve]=Se,Ce===void 0&&(Ce=new te.PropertyBinding(me,le[ge],he[ge])),be[ye]=Ce}}else re[ve]!==_e&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=ae},remove:function(ee){var re=this._objects;re.length;for(var ie=this.nCachedObjects_,ae=this._indicesByUUID,oe=this._bindings,le=oe.length,he=0,ue=arguments.length;he!==ue;++he){var pe=arguments[he],ce=pe.uuid,fe=ae[ce];if(fe!==void 0&&fe>=ie){var me=ie++,de=re[me];ae[de.uuid]=fe,re[fe]=de,ae[ce]=me,re[me]=pe;for(var ve=0,ge=le;ve!==ge;++ve){var xe=oe[ve],_e=xe[me],ye=xe[fe];xe[fe]=_e,xe[me]=ye}}}this.nCachedObjects_=ie},uncache:function(ee){for(var re=this._objects,ie=re.length,ae=this.nCachedObjects_,oe=this._indicesByUUID,le=this._bindings,he=le.length,ue=0,pe=arguments.length;ue!==pe;++ue){var ce=arguments[ue],fe=ce.uuid,me=oe[fe];if(me!==void 0)if(delete oe[fe],me<ae){var de=--ae,ve=re[de],ge=--ie,xe=re[ge];oe[ve.uuid]=me,re[me]=ve,oe[xe.uuid]=de,re[de]=xe,re.pop();for(var _e=0,ye=he;_e!==ye;++_e){var we=le[_e],be=we[de],Se=we[ge];we[me]=be,we[de]=Se,we.pop()}}else{var ge=--ie,xe=re[ge];oe[xe.uuid]=me,re[me]=xe,re.pop();for(var _e=0,ye=he;_e!==ye;++_e){var we=le[_e];we[me]=we[ge],we.pop()}}}this.nCachedObjects_=ae},subscribe_:function(ee,re){var ie=this._bindingsIndicesByPath,ae=ie[ee],oe=this._bindings;if(ae!==void 0)return oe[ae];var le=this._paths,he=this._parsedPaths,ue=this._objects,pe=ue.length,ce=this.nCachedObjects_,fe=new Array(pe);ae=oe.length,ie[ee]=ae,le.push(ee),he.push(re),oe.push(fe);for(var me=ce,de=ue.length;me!==de;++me){var ve=ue[me];fe[me]=new te.PropertyBinding(ve,ee,re)}return fe},unsubscribe_:function(ee){var re=this._bindingsIndicesByPath,ie=re[ee];if(ie!==void 0){var ae=this._paths,oe=this._parsedPaths,le=this._bindings,he=le.length-1,ue=le[he],pe=ee[he];re[pe]=ie,le[ie]=ue,le.pop(),oe[ie]=oe[he],oe.pop(),ae[ie]=ae[he],ae.pop()}}},te.AnimationUtils={arraySlice:function(ee,re,ie){return te.AnimationUtils.isTypedArray(ee)?new ee.constructor(ee.subarray(re,ie)):ee.slice(re,ie)},convertArray:function(ee,re,ie){return!ee||!ie&&ee.constructor===re?ee:typeof re.BYTES_PER_ELEMENT=="number"?new re(ee):Array.prototype.slice.call(ee)},isTypedArray:function(ee){return ArrayBuffer.isView(ee)&&!(ee instanceof DataView)},getKeyframeOrder:function(ee){function re(le,he){return ee[le]-ee[he]}for(var ie=ee.length,ae=new Array(ie),oe=0;oe!==ie;++oe)ae[oe]=oe;return ae.sort(re),ae},sortedArray:function(ee,re,ie){for(var ae=ee.length,oe=new ee.constructor(ae),le=0,he=0;he!==ae;++le)for(var ue=ie[le]*re,pe=0;pe!==re;++pe)oe[he++]=ee[ue+pe];return oe},flattenJSON:function(ee,re,ie,ae){for(var oe=1,le=ee[0];le!==void 0&&le[ae]===void 0;)le=ee[oe++];if(le!==void 0){var he=le[ae];if(he!==void 0)if(Array.isArray(he))do he=le[ae],he!==void 0&&(re.push(le.time),ie.push.apply(ie,he)),le=ee[oe++];while(le!==void 0);else if(he.toArray!==void 0)do he=le[ae],he!==void 0&&(re.push(le.time),he.toArray(ie,ie.length)),le=ee[oe++];while(le!==void 0);else do he=le[ae],he!==void 0&&(re.push(le.time),ie.push(he)),le=ee[oe++];while(le!==void 0)}}},te.KeyframeTrack=function(ee,re,ie,ae){if(ee===void 0)throw new Error("track name is undefined");if(re===void 0||re.length===0)throw new Error("no keyframes in track named "+ee);this.name=ee,this.times=te.AnimationUtils.convertArray(re,this.TimeBufferType),this.values=te.AnimationUtils.convertArray(ie,this.ValueBufferType),this.setInterpolation(ae||this.DefaultInterpolation),this.validate(),this.optimize()},te.KeyframeTrack.prototype={constructor:te.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:te.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(ee){return new te.DiscreteInterpolant(this.times,this.values,this.getValueSize(),ee)},InterpolantFactoryMethodLinear:function(ee){return new te.LinearInterpolant(this.times,this.values,this.getValueSize(),ee)},InterpolantFactoryMethodSmooth:function(ee){return new te.CubicInterpolant(this.times,this.values,this.getValueSize(),ee)},setInterpolation:function(ee){var re;switch(ee){case te.InterpolateDiscrete:re=this.InterpolantFactoryMethodDiscrete;break;case te.InterpolateLinear:re=this.InterpolantFactoryMethodLinear;break;case te.InterpolateSmooth:re=this.InterpolantFactoryMethodSmooth;break}if(re===void 0){var ie="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(ee!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(ie);console.warn(ie);return}this.createInterpolant=re},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return te.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return te.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return te.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(ee){if(ee!==0)for(var re=this.times,ie=0,ae=re.length;ie!==ae;++ie)re[ie]+=ee;return this},scale:function(ee){if(ee!==1)for(var re=this.times,ie=0,ae=re.length;ie!==ae;++ie)re[ie]*=ee;return this},trim:function(ee,re){for(var ie=this.times,ae=ie.length,oe=0,le=ae-1;oe!==ae&&ie[oe]<ee;)++oe;for(;le!==-1&&ie[le]>re;)--le;if(++le,oe!==0||le!==ae){oe>=le&&(le=Math.max(le,1),oe=le-1);var he=this.getValueSize();this.times=te.AnimationUtils.arraySlice(ie,oe,le),this.values=te.AnimationUtils.arraySlice(this.values,oe*he,le*he)}return this},validate:function(){var ee=!0,re=this.getValueSize();re-Math.floor(re)!==0&&(console.error("invalid value size in track",this),ee=!1);var ie=this.times,ae=this.values,oe=ie.length;oe===0&&(console.error("track is empty",this),ee=!1);for(var le=null,he=0;he!==oe;he++){var ue=ie[he];if(typeof ue=="number"&&isNaN(ue)){console.error("time is not a valid number",this,he,ue),ee=!1;break}if(le!==null&&le>ue){console.error("out of order keys",this,he,ue,le),ee=!1;break}le=ue}if(ae!==void 0&&te.AnimationUtils.isTypedArray(ae))for(var he=0,pe=ae.length;he!==pe;++he){var ce=ae[he];if(isNaN(ce)){console.error("value is not a valid number",this,he,ce),ee=!1;break}}return ee},optimize:function(){for(var ee=this.times,re=this.values,ie=this.getValueSize(),ae=1,oe=1,le=ee.length-1;oe<=le;++oe){var he=!1,ue=ee[oe],pe=ee[oe+1];if(ue!==pe&&(oe!==1||ue!==ue[0]))for(var ce=oe*ie,fe=ce-ie,me=ce+ie,de=0;de!==ie;++de){var ve=re[ce+de];if(ve!==re[fe+de]||ve!==re[me+de]){he=!0;break}}if(he){if(oe!==ae){ee[ae]=ee[oe];for(var ge=oe*ie,xe=ae*ie,de=0;de!==ie;++de)re[xe+de]=re[ge+de]}++ae}}return ae!==ee.length&&(this.times=te.AnimationUtils.arraySlice(ee,0,ae),this.values=te.AnimationUtils.arraySlice(re,0,ae*ie)),this}},Object.assign(te.KeyframeTrack,{parse:function(ee){if(ee.type===void 0)throw new Error("track type undefined, can not parse");var re=te.KeyframeTrack._getTrackTypeForValueTypeName(ee.type);if(ee.times===void 0){var ie=[],ae=[];te.AnimationUtils.flattenJSON(ee.keys,ie,ae,"value"),ee.times=ie,ee.values=ae}return re.parse!==void 0?re.parse(ee):new re(ee.name,ee.times,ee.values,ee.interpolation)},toJSON:function(ee){var re=ee.constructor,ie;if(re.toJSON!==void 0)ie=re.toJSON(ee);else{ie={name:ee.name,times:te.AnimationUtils.convertArray(ee.times,Array),values:te.AnimationUtils.convertArray(ee.values,Array)};var ae=ee.getInterpolation();ae!==ee.DefaultInterpolation&&(ie.interpolation=ae)}return ie.type=ee.ValueTypeName,ie},_getTrackTypeForValueTypeName:function(ee){switch(ee.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return te.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return te.VectorKeyframeTrack;case"color":return te.ColorKeyframeTrack;case"quaternion":return te.QuaternionKeyframeTrack;case"bool":case"boolean":return te.BooleanKeyframeTrack;case"string":return te.StringKeyframeTrack}throw new Error("Unsupported typeName: "+ee)}}),te.PropertyBinding=function(ee,re,ie){this.path=re,this.parsedPath=ie||te.PropertyBinding.parseTrackName(re),this.node=te.PropertyBinding.findNode(ee,this.parsedPath.nodeName)||ee,this.rootNode=ee},te.PropertyBinding.prototype={constructor:te.PropertyBinding,getValue:function(re,ie){this.bind(),this.getValue(re,ie)},setValue:function(re,ie){this.bind(),this.setValue(re,ie)},bind:function(){var ee=this.node,re=this.parsedPath,ie=re.objectName,ae=re.propertyName,oe=re.propertyIndex;if(ee||(ee=te.PropertyBinding.findNode(this.rootNode,re.nodeName)||this.rootNode,this.node=ee),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!ee){console.error("  trying to update node for track: "+this.path+" but it wasn't found.");return}if(ie){var le=re.objectIndex;switch(ie){case"materials":if(!ee.material){console.error("  can not bind to material as node does not have a material",this);return}if(!ee.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}ee=ee.material.materials;break;case"bones":if(!ee.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}ee=ee.skeleton.bones;for(var he=0;he<ee.length;he++)if(ee[he].name===le){le=he;break}break;default:if(ee[ie]===void 0){console.error("  can not bind to objectName of node, undefined",this);return}ee=ee[ie]}if(le!==void 0){if(ee[le]===void 0){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,ee);return}ee=ee[le]}}var ue=ee[ae];if(ue===void 0){var pe=re.nodeName;console.error("  trying to update property for track: "+pe+"."+ae+" but it wasn't found.",ee);return}var ce=this.Versioning.None;ee.needsUpdate!==void 0?(ce=this.Versioning.NeedsUpdate,this.targetObject=ee):ee.matrixWorldNeedsUpdate!==void 0&&(ce=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=ee);var fe=this.BindingType.Direct;if(oe!==void 0){if(ae==="morphTargetInfluences"){if(!ee.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);return}if(!ee.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(var he=0;he<this.node.geometry.morphTargets.length;he++)if(ee.geometry.morphTargets[he].name===oe){oe=he;break}}fe=this.BindingType.ArrayElement,this.resolvedProperty=ue,this.propertyIndex=oe}else ue.fromArray!==void 0&&ue.toArray!==void 0?(fe=this.BindingType.HasFromToArray,this.resolvedProperty=ue):ue.length!==void 0?(fe=this.BindingType.EntireArray,this.resolvedProperty=ue):this.propertyName=ae;this.getValue=this.GetterByBindingType[fe],this.setValue=this.SetterByBindingTypeAndVersioning[fe][ce]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(te.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:te.PropertyBinding.prototype.getValue,_setValue_unbound:te.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(re,ie){re[ie]=this.node[this.propertyName]},function(re,ie){for(var ae=this.resolvedProperty,oe=0,le=ae.length;oe!==le;++oe)re[ie++]=ae[oe]},function(re,ie){re[ie]=this.resolvedProperty[this.propertyIndex]},function(re,ie){this.resolvedProperty.toArray(re,ie)}],SetterByBindingTypeAndVersioning:[[function(re,ie){this.node[this.propertyName]=re[ie]},function(re,ie){this.node[this.propertyName]=re[ie],this.targetObject.needsUpdate=!0},function(re,ie){this.node[this.propertyName]=re[ie],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(re,ie){for(var ae=this.resolvedProperty,oe=0,le=ae.length;oe!==le;++oe)ae[oe]=re[ie++]},function(re,ie){for(var ae=this.resolvedProperty,oe=0,le=ae.length;oe!==le;++oe)ae[oe]=re[ie++];this.targetObject.needsUpdate=!0},function(re,ie){for(var ae=this.resolvedProperty,oe=0,le=ae.length;oe!==le;++oe)ae[oe]=re[ie++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(re,ie){this.resolvedProperty[this.propertyIndex]=re[ie]},function(re,ie){this.resolvedProperty[this.propertyIndex]=re[ie],this.targetObject.needsUpdate=!0},function(re,ie){this.resolvedProperty[this.propertyIndex]=re[ie],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(re,ie){this.resolvedProperty.fromArray(re,ie)},function(re,ie){this.resolvedProperty.fromArray(re,ie),this.targetObject.needsUpdate=!0},function(re,ie){this.resolvedProperty.fromArray(re,ie),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),te.PropertyBinding.Composite=function(ee,re,ie){var ae=ie||te.PropertyBinding.parseTrackName(re);this._targetGroup=ee,this._bindings=ee.subscribe_(re,ae)},te.PropertyBinding.Composite.prototype={constructor:te.PropertyBinding.Composite,getValue:function(ee,re){this.bind();var ie=this._targetGroup.nCachedObjects_,ae=this._bindings[ie];ae!==void 0&&ae.getValue(ee,re)},setValue:function(ee,re){for(var ie=this._bindings,ae=this._targetGroup.nCachedObjects_,oe=ie.length;ae!==oe;++ae)ie[ae].setValue(ee,re)},bind:function(){for(var ee=this._bindings,re=this._targetGroup.nCachedObjects_,ie=ee.length;re!==ie;++re)ee[re].bind()},unbind:function(){for(var ee=this._bindings,re=this._targetGroup.nCachedObjects_,ie=ee.length;re!==ie;++re)ee[re].unbind()}},te.PropertyBinding.create=function(ee,re,ie){return ee instanceof te.AnimationObjectGroup?new te.PropertyBinding.Composite(ee,re,ie):new te.PropertyBinding(ee,re,ie)},te.PropertyBinding.parseTrackName=function(ee){var re=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,ie=re.exec(ee);if(!ie)throw new Error("cannot parse trackName at all: "+ee);ie.index===re.lastIndex&&re.lastIndex++;var ae={nodeName:ie[3],objectName:ie[5],objectIndex:ie[7],propertyName:ie[9],propertyIndex:ie[11]};if(ae.propertyName===null||ae.propertyName.length===0)throw new Error("can not parse propertyName from trackName: "+ee);return ae},te.PropertyBinding.findNode=function(ee,re){if(!re||re===""||re==="root"||re==="."||re===-1||re===ee.name||re===ee.uuid)return ee;if(ee.skeleton){var ie=function(he){for(var ue=0;ue<he.bones.length;ue++){var pe=he.bones[ue];if(pe.name===re)return pe}return null},ae=ie(ee.skeleton);if(ae)return ae}if(ee.children){var oe=function(he){for(var ue=0;ue<he.length;ue++){var pe=he[ue];if(pe.name===re||pe.uuid===re)return pe;var ce=oe(pe.children);if(ce)return ce}return null},le=oe(ee.children);if(le)return le}return null},te.PropertyMixer=function(ee,re,ie){this.binding=ee,this.valueSize=ie;var ae=Float64Array,oe;switch(re){case"quaternion":oe=this._slerp;break;case"string":case"bool":ae=Array,oe=this._select;break;default:oe=this._lerp}this.buffer=new ae(ie*4),this._mixBufferRegion=oe,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0},te.PropertyMixer.prototype={constructor:te.PropertyMixer,accumulate:function(ee,re){var ie=this.buffer,ae=this.valueSize,oe=ee*ae+ae,le=this.cumulativeWeight;if(le===0){for(var he=0;he!==ae;++he)ie[oe+he]=ie[he];le=re}else{le+=re;var ue=re/le;this._mixBufferRegion(ie,oe,0,ue,ae)}this.cumulativeWeight=le},apply:function(ee){var re=this.valueSize,ie=this.buffer,ae=ee*re+re,oe=this.cumulativeWeight,le=this.binding;if(this.cumulativeWeight=0,oe<1){var he=re*3;this._mixBufferRegion(ie,ae,he,1-oe,re)}for(var ue=re,pe=re+re;ue!==pe;++ue)if(ie[ue]!==ie[ue+re]){le.setValue(ie,ae);break}},saveOriginalState:function(){var ee=this.binding,re=this.buffer,ie=this.valueSize,ae=ie*3;ee.getValue(re,ae);for(var oe=ie,le=ae;oe!==le;++oe)re[oe]=re[ae+oe%ie];this.cumulativeWeight=0},restoreOriginalState:function(){var ee=this.valueSize*3;this.binding.setValue(this.buffer,ee)},_select:function(ee,re,ie,ae,oe){if(ae>=.5)for(var le=0;le!==oe;++le)ee[re+le]=ee[ie+le]},_slerp:function(ee,re,ie,ae,oe){te.Quaternion.slerpFlat(ee,re,ee,re,ee,ie,ae)},_lerp:function(ee,re,ie,ae,oe){for(var le=1-ae,he=0;he!==oe;++he){var ue=re+he;ee[ue]=ee[ue]*le+ee[ie+he]*ae}}},te.BooleanKeyframeTrack=function(ee,re,ie){te.KeyframeTrack.call(this,ee,re,ie)},te.BooleanKeyframeTrack.prototype=Object.assign(Object.create(te.KeyframeTrack.prototype),{constructor:te.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:te.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),te.ColorKeyframeTrack=function(ee,re,ie,ae){te.KeyframeTrack.call(this,ee,re,ie,ae)},te.ColorKeyframeTrack.prototype=Object.assign(Object.create(te.KeyframeTrack.prototype),{constructor:te.ColorKeyframeTrack,ValueTypeName:"color"}),te.NumberKeyframeTrack=function(ee,re,ie,ae){te.KeyframeTrack.call(this,ee,re,ie,ae)},te.NumberKeyframeTrack.prototype=Object.assign(Object.create(te.KeyframeTrack.prototype),{constructor:te.NumberKeyframeTrack,ValueTypeName:"number"}),te.QuaternionKeyframeTrack=function(ee,re,ie,ae){te.KeyframeTrack.call(this,ee,re,ie,ae)},te.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(te.KeyframeTrack.prototype),{constructor:te.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:te.InterpolateLinear,InterpolantFactoryMethodLinear:function(ee){return new te.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),ee)},InterpolantFactoryMethodSmooth:void 0}),te.StringKeyframeTrack=function(ee,re,ie,ae){te.KeyframeTrack.call(this,ee,re,ie,ae)},te.StringKeyframeTrack.prototype=Object.assign(Object.create(te.KeyframeTrack.prototype),{constructor:te.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:te.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),te.VectorKeyframeTrack=function(ee,re,ie,ae){te.KeyframeTrack.call(this,ee,re,ie,ae)},te.VectorKeyframeTrack.prototype=Object.assign(Object.create(te.KeyframeTrack.prototype),{constructor:te.VectorKeyframeTrack,ValueTypeName:"vector"}),te.Audio=function(ee){te.Object3D.call(this),this.type="Audio",this.context=ee.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(ee.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]},te.Audio.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.Audio,getOutput:function(){return this.gain},setNodeSource:function(ee){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=ee,this.connect(),this},setBuffer:function(ee){return this.source.buffer=ee,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}var ee=this.context.createBufferSource();return ee.buffer=this.source.buffer,ee.loop=this.source.loop,ee.onended=this.source.onended,ee.start(0,this.startTime),ee.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=ee,this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.source.stop(),this.startTime=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var ee=1,re=this.filters.length;ee<re;ee++)this.filters[ee-1].connect(this.filters[ee]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var ee=1,re=this.filters.length;ee<re;ee++)this.filters[ee-1].disconnect(this.filters[ee]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(ee){return ee||(ee=[]),this.isPlaying===!0?(this.disconnect(),this.filters=ee,this.connect()):this.filters=ee,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(ee){return this.setFilters(ee?[ee]:[])},setPlaybackRate:function(ee){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=ee,this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(ee){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this.source.loop=ee},getVolume:function(){return this.gain.gain.value},setVolume:function(ee){return this.gain.gain.value=ee,this}}),te.AudioAnalyser=function(ee,re){this.analyser=ee.context.createAnalyser(),this.analyser.fftSize=re!==void 0?re:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),ee.getOutput().connect(this.analyser)},Object.assign(te.AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var ee=0,re=this.getFrequencyData(),ie=0;ie<re.length;ie++)ee+=re[ie];return ee/re.length}}),Object.defineProperty(te,"AudioContext",{get:function(){var ee;return function(){return ee===void 0&&(ee=new(window.AudioContext||window.webkitAudioContext)),ee}}()}),te.PositionalAudio=function(ee){te.Audio.call(this,ee),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},te.PositionalAudio.prototype=Object.assign(Object.create(te.Audio.prototype),{constructor:te.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(ee){this.panner.refDistance=ee},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(ee){this.panner.rolloffFactor=ee},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(ee){this.panner.distanceModel=ee},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(ee){this.panner.maxDistance=ee},updateMatrixWorld:function(){var ee=new te.Vector3;return function(ie){te.Object3D.prototype.updateMatrixWorld.call(this,ie),ee.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(ee.x,ee.y,ee.z)}}()}),te.AudioListener=function(){te.Object3D.call(this),this.type="AudioListener",this.context=te.AudioContext,this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null},te.AudioListener.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.AudioListener,getInput:function(){return this.gain},removeFilter:function(){this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(ee){this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=ee,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(ee){this.gain.gain.value=ee},updateMatrixWorld:function(){var ee=new te.Vector3,re=new te.Quaternion,ie=new te.Vector3,ae=new te.Vector3;return function(le){te.Object3D.prototype.updateMatrixWorld.call(this,le);var he=this.context.listener,ue=this.up;this.matrixWorld.decompose(ee,re,ie),ae.set(0,0,-1).applyQuaternion(re),he.setPosition(ee.x,ee.y,ee.z),he.setOrientation(ae.x,ae.y,ae.z,ue.x,ue.y,ue.z)}}()}),te.Camera=function(){te.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new te.Matrix4,this.projectionMatrix=new te.Matrix4},te.Camera.prototype=Object.create(te.Object3D.prototype),te.Camera.prototype.constructor=te.Camera,te.Camera.prototype.getWorldDirection=function(){var ee=new te.Quaternion;return function(ie){var ae=ie||new te.Vector3;return this.getWorldQuaternion(ee),ae.set(0,0,-1).applyQuaternion(ee)}}(),te.Camera.prototype.lookAt=function(){var ee=new te.Matrix4;return function(ie){ee.lookAt(this.position,ie,this.up),this.quaternion.setFromRotationMatrix(ee)}}(),te.Camera.prototype.clone=function(){return new this.constructor().copy(this)},te.Camera.prototype.copy=function(ee){return te.Object3D.prototype.copy.call(this,ee),this.matrixWorldInverse.copy(ee.matrixWorldInverse),this.projectionMatrix.copy(ee.projectionMatrix),this},te.CubeCamera=function(ee,re,ie){te.Object3D.call(this),this.type="CubeCamera";var ae=90,oe=1,le=new te.PerspectiveCamera(ae,oe,ee,re);le.up.set(0,-1,0),le.lookAt(new te.Vector3(1,0,0)),this.add(le);var he=new te.PerspectiveCamera(ae,oe,ee,re);he.up.set(0,-1,0),he.lookAt(new te.Vector3(-1,0,0)),this.add(he);var ue=new te.PerspectiveCamera(ae,oe,ee,re);ue.up.set(0,0,1),ue.lookAt(new te.Vector3(0,1,0)),this.add(ue);var pe=new te.PerspectiveCamera(ae,oe,ee,re);pe.up.set(0,0,-1),pe.lookAt(new te.Vector3(0,-1,0)),this.add(pe);var ce=new te.PerspectiveCamera(ae,oe,ee,re);ce.up.set(0,-1,0),ce.lookAt(new te.Vector3(0,0,1)),this.add(ce);var fe=new te.PerspectiveCamera(ae,oe,ee,re);fe.up.set(0,-1,0),fe.lookAt(new te.Vector3(0,0,-1)),this.add(fe);var me={format:te.RGBFormat,magFilter:te.LinearFilter,minFilter:te.LinearFilter};this.renderTarget=new te.WebGLRenderTargetCube(ie,ie,me),this.updateCubeMap=function(de,ve){this.parent===null&&this.updateMatrixWorld();var ge=this.renderTarget,xe=ge.texture.generateMipmaps;ge.texture.generateMipmaps=!1,ge.activeCubeFace=0,de.render(ve,le,ge),ge.activeCubeFace=1,de.render(ve,he,ge),ge.activeCubeFace=2,de.render(ve,ue,ge),ge.activeCubeFace=3,de.render(ve,pe,ge),ge.activeCubeFace=4,de.render(ve,ce,ge),ge.texture.generateMipmaps=xe,ge.activeCubeFace=5,de.render(ve,fe,ge),de.setRenderTarget(null)}},te.CubeCamera.prototype=Object.create(te.Object3D.prototype),te.CubeCamera.prototype.constructor=te.CubeCamera,te.OrthographicCamera=function(ee,re,ie,ae,oe,le){te.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=ee,this.right=re,this.top=ie,this.bottom=ae,this.near=oe!==void 0?oe:.1,this.far=le!==void 0?le:2e3,this.updateProjectionMatrix()},te.OrthographicCamera.prototype=Object.assign(Object.create(te.Camera.prototype),{constructor:te.OrthographicCamera,copy:function(ee){return te.Camera.prototype.copy.call(this,ee),this.left=ee.left,this.right=ee.right,this.top=ee.top,this.bottom=ee.bottom,this.near=ee.near,this.far=ee.far,this.zoom=ee.zoom,this.view=ee.view===null?null:Object.assign({},ee.view),this},setViewOffset:function(ee,re,ie,ae,oe,le){this.view={fullWidth:ee,fullHeight:re,offsetX:ie,offsetY:ae,width:oe,height:le},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var ee=(this.right-this.left)/(2*this.zoom),re=(this.top-this.bottom)/(2*this.zoom),ie=(this.right+this.left)/2,ae=(this.top+this.bottom)/2,oe=ie-ee,le=ie+ee,he=ae+re,ue=ae-re;if(this.view!==null){var pe=this.zoom/(this.view.width/this.view.fullWidth),ce=this.zoom/(this.view.height/this.view.fullHeight),fe=(this.right-this.left)/this.view.width,me=(this.top-this.bottom)/this.view.height;oe+=fe*(this.view.offsetX/pe),le=oe+fe*(this.view.width/pe),he-=me*(this.view.offsetY/ce),ue=he-me*(this.view.height/ce)}this.projectionMatrix.makeOrthographic(oe,le,he,ue,this.near,this.far)},toJSON:function(ee){var re=te.Object3D.prototype.toJSON.call(this,ee);return re.object.zoom=this.zoom,re.object.left=this.left,re.object.right=this.right,re.object.top=this.top,re.object.bottom=this.bottom,re.object.near=this.near,re.object.far=this.far,this.view!==null&&(re.object.view=Object.assign({},this.view)),re}}),te.PerspectiveCamera=function(ee,re,ie,ae){te.Camera.call(this),this.type="PerspectiveCamera",this.fov=ee!==void 0?ee:50,this.zoom=1,this.near=ie!==void 0?ie:.1,this.far=ae!==void 0?ae:2e3,this.focus=10,this.aspect=re!==void 0?re:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()},te.PerspectiveCamera.prototype=Object.assign(Object.create(te.Camera.prototype),{constructor:te.PerspectiveCamera,copy:function(ee){return te.Camera.prototype.copy.call(this,ee),this.fov=ee.fov,this.zoom=ee.zoom,this.near=ee.near,this.far=ee.far,this.focus=ee.focus,this.aspect=ee.aspect,this.view=ee.view===null?null:Object.assign({},ee.view),this.filmGauge=ee.filmGauge,this.filmOffset=ee.filmOffset,this},setFocalLength:function(ee){var re=.5*this.getFilmHeight()/ee;this.fov=te.Math.RAD2DEG*2*Math.atan(re),this.updateProjectionMatrix()},getFocalLength:function(){var ee=Math.tan(te.Math.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/ee},getEffectiveFOV:function(){return te.Math.RAD2DEG*2*Math.atan(Math.tan(te.Math.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(ee,re,ie,ae,oe,le){this.aspect=ee/re,this.view={fullWidth:ee,fullHeight:re,offsetX:ie,offsetY:ae,width:oe,height:le},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var ee=this.near,re=ee*Math.tan(te.Math.DEG2RAD*.5*this.fov)/this.zoom,ie=2*re,ae=this.aspect*ie,oe=-.5*ae,le=this.view;if(le!==null){var he=le.fullWidth,ue=le.fullHeight;oe+=le.offsetX*ae/he,re-=le.offsetY*ie/ue,ae*=le.width/he,ie*=le.height/ue}var pe=this.filmOffset;pe!==0&&(oe+=ee*pe/this.getFilmWidth()),this.projectionMatrix.makeFrustum(oe,oe+ae,re-ie,re,ee,this.far)},toJSON:function(ee){var re=te.Object3D.prototype.toJSON.call(this,ee);return re.object.fov=this.fov,re.object.zoom=this.zoom,re.object.near=this.near,re.object.far=this.far,re.object.focus=this.focus,re.object.aspect=this.aspect,this.view!==null&&(re.object.view=Object.assign({},this.view)),re.object.filmGauge=this.filmGauge,re.object.filmOffset=this.filmOffset,re}}),te.StereoCamera=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new te.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new te.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},Object.assign(te.StereoCamera.prototype,{update:function(){var ee,re,ie,ae,oe,le=new te.Matrix4,he=new te.Matrix4;return function(pe){var ce=ee!==pe.focus||re!==pe.fov||ie!==pe.aspect*this.aspect||ae!==pe.near||oe!==pe.far;if(ce){ee=pe.focus,re=pe.fov,ie=pe.aspect*this.aspect,ae=pe.near,oe=pe.far;var fe=pe.projectionMatrix.clone(),me=.064/2,de=me*ae/ee,ve=ae*Math.tan(te.Math.DEG2RAD*re*.5),ge,xe;he.elements[12]=-me,le.elements[12]=me,ge=-ve*ie+de,xe=ve*ie+de,fe.elements[0]=2*ae/(xe-ge),fe.elements[8]=(xe+ge)/(xe-ge),this.cameraL.projectionMatrix.copy(fe),ge=-ve*ie-de,xe=ve*ie-de,fe.elements[0]=2*ae/(xe-ge),fe.elements[8]=(xe+ge)/(xe-ge),this.cameraR.projectionMatrix.copy(fe)}this.cameraL.matrixWorld.copy(pe.matrixWorld).multiply(he),this.cameraR.matrixWorld.copy(pe.matrixWorld).multiply(le)}}()}),te.Light=function(ee,re){te.Object3D.call(this),this.type="Light",this.color=new te.Color(ee),this.intensity=re!==void 0?re:1,this.receiveShadow=void 0},te.Light.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.Light,copy:function(ee){return te.Object3D.prototype.copy.call(this,ee),this.color.copy(ee.color),this.intensity=ee.intensity,this},toJSON:function(ee){var re=te.Object3D.prototype.toJSON.call(this,ee);return re.object.color=this.color.getHex(),re.object.intensity=this.intensity,this.groundColor!==void 0&&(re.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(re.object.distance=this.distance),this.angle!==void 0&&(re.object.angle=this.angle),this.decay!==void 0&&(re.object.decay=this.decay),this.penumbra!==void 0&&(re.object.penumbra=this.penumbra),re}}),te.LightShadow=function(ee){this.camera=ee,this.bias=0,this.radius=1,this.mapSize=new te.Vector2(512,512),this.map=null,this.matrix=new te.Matrix4},Object.assign(te.LightShadow.prototype,{copy:function(ee){return this.camera=ee.camera.clone(),this.bias=ee.bias,this.radius=ee.radius,this.mapSize.copy(ee.mapSize),this},clone:function(){return new this.constructor().copy(this)}}),te.AmbientLight=function(ee,re){te.Light.call(this,ee,re),this.type="AmbientLight",this.castShadow=void 0},te.AmbientLight.prototype=Object.assign(Object.create(te.Light.prototype),{constructor:te.AmbientLight}),te.DirectionalLight=function(ee,re){te.Light.call(this,ee,re),this.type="DirectionalLight",this.position.copy(te.Object3D.DefaultUp),this.updateMatrix(),this.target=new te.Object3D,this.shadow=new te.DirectionalLightShadow},te.DirectionalLight.prototype=Object.assign(Object.create(te.Light.prototype),{constructor:te.DirectionalLight,copy:function(ee){return te.Light.prototype.copy.call(this,ee),this.target=ee.target.clone(),this.shadow=ee.shadow.clone(),this}}),te.DirectionalLightShadow=function(ee){te.LightShadow.call(this,new te.OrthographicCamera(-5,5,5,-5,.5,500))},te.DirectionalLightShadow.prototype=Object.assign(Object.create(te.LightShadow.prototype),{constructor:te.DirectionalLightShadow}),te.HemisphereLight=function(ee,re,ie){te.Light.call(this,ee,ie),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(te.Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new te.Color(re)},te.HemisphereLight.prototype=Object.assign(Object.create(te.Light.prototype),{constructor:te.HemisphereLight,copy:function(ee){return te.Light.prototype.copy.call(this,ee),this.groundColor.copy(ee.groundColor),this}}),te.PointLight=function(ee,re,ie,ae){te.Light.call(this,ee,re),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(oe){this.intensity=oe/(4*Math.PI)}}),this.distance=ie!==void 0?ie:0,this.decay=ae!==void 0?ae:1,this.shadow=new te.LightShadow(new te.PerspectiveCamera(90,1,.5,500))},te.PointLight.prototype=Object.assign(Object.create(te.Light.prototype),{constructor:te.PointLight,copy:function(ee){return te.Light.prototype.copy.call(this,ee),this.distance=ee.distance,this.decay=ee.decay,this.shadow=ee.shadow.clone(),this}}),te.SpotLight=function(ee,re,ie,ae,oe,le){te.Light.call(this,ee,re),this.type="SpotLight",this.position.copy(te.Object3D.DefaultUp),this.updateMatrix(),this.target=new te.Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(he){this.intensity=he/Math.PI}}),this.distance=ie!==void 0?ie:0,this.angle=ae!==void 0?ae:Math.PI/3,this.penumbra=oe!==void 0?oe:0,this.decay=le!==void 0?le:1,this.shadow=new te.SpotLightShadow},te.SpotLight.prototype=Object.assign(Object.create(te.Light.prototype),{constructor:te.SpotLight,copy:function(ee){return te.Light.prototype.copy.call(this,ee),this.distance=ee.distance,this.angle=ee.angle,this.penumbra=ee.penumbra,this.decay=ee.decay,this.target=ee.target.clone(),this.shadow=ee.shadow.clone(),this}}),te.SpotLightShadow=function(){te.LightShadow.call(this,new te.PerspectiveCamera(50,1,.5,500))},te.SpotLightShadow.prototype=Object.assign(Object.create(te.LightShadow.prototype),{constructor:te.SpotLightShadow,update:function(ee){var re=te.Math.RAD2DEG*2*ee.angle,ie=this.mapSize.width/this.mapSize.height,ae=ee.distance||500,oe=this.camera;(re!==oe.fov||ie!==oe.aspect||ae!==oe.far)&&(oe.fov=re,oe.aspect=ie,oe.far=ae,oe.updateProjectionMatrix())}}),te.AudioLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager},Object.assign(te.AudioLoader.prototype,{load:function(ee,re,ie,ae){var oe=new te.XHRLoader(this.manager);oe.setResponseType("arraybuffer"),oe.load(ee,function(le){var he=te.AudioContext;he.decodeAudioData(le,function(ue){re(ue)})},ie,ae)}}),te.Cache={enabled:!1,files:{},add:function(ee,re){this.enabled!==!1&&(this.files[ee]=re)},get:function(ee){if(this.enabled!==!1)return this.files[ee]},remove:function(ee){delete this.files[ee]},clear:function(){this.files={}}},te.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},te.Loader.prototype={constructor:te.Loader,crossOrigin:void 0,extractUrlBase:function(ee){var re=ee.split("/");return re.length===1?"./":(re.pop(),re.join("/")+"/")},initMaterials:function(ee,re,ie){for(var ae=[],oe=0;oe<ee.length;++oe)ae[oe]=this.createMaterial(ee[oe],re,ie);return ae},createMaterial:function(){var ee,re,ie;return function(oe,le,he){ee===void 0&&(ee=new te.Color),re===void 0&&(re=new te.TextureLoader),ie===void 0&&(ie=new te.MaterialLoader);var ue={};function pe(de,ve,ge,xe,_e){var ye=le+de,we=te.Loader.Handlers.get(ye),be;we!==null?be=we.load(ye):(re.setCrossOrigin(he),be=re.load(ye)),ve!==void 0&&(be.repeat.fromArray(ve),ve[0]!==1&&(be.wrapS=te.RepeatWrapping),ve[1]!==1&&(be.wrapT=te.RepeatWrapping)),ge!==void 0&&be.offset.fromArray(ge),xe!==void 0&&(xe[0]==="repeat"&&(be.wrapS=te.RepeatWrapping),xe[0]==="mirror"&&(be.wrapS=te.MirroredRepeatWrapping),xe[1]==="repeat"&&(be.wrapT=te.RepeatWrapping),xe[1]==="mirror"&&(be.wrapT=te.MirroredRepeatWrapping)),_e!==void 0&&(be.anisotropy=_e);var Se=te.Math.generateUUID();return ue[Se]=be,Se}var ce={uuid:te.Math.generateUUID(),type:"MeshLambertMaterial"};for(var fe in oe){var me=oe[fe];switch(fe){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":ce.name=me;break;case"blending":ce.blending=te[me];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",fe,"is no longer supported.");break;case"colorDiffuse":ce.color=ee.fromArray(me).getHex();break;case"colorSpecular":ce.specular=ee.fromArray(me).getHex();break;case"colorEmissive":ce.emissive=ee.fromArray(me).getHex();break;case"specularCoef":ce.shininess=me;break;case"shading":me.toLowerCase()==="basic"&&(ce.type="MeshBasicMaterial"),me.toLowerCase()==="phong"&&(ce.type="MeshPhongMaterial"),me.toLowerCase()==="standard"&&(ce.type="MeshStandardMaterial");break;case"mapDiffuse":ce.map=pe(me,oe.mapDiffuseRepeat,oe.mapDiffuseOffset,oe.mapDiffuseWrap,oe.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":ce.emissiveMap=pe(me,oe.mapEmissiveRepeat,oe.mapEmissiveOffset,oe.mapEmissiveWrap,oe.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":ce.lightMap=pe(me,oe.mapLightRepeat,oe.mapLightOffset,oe.mapLightWrap,oe.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":ce.aoMap=pe(me,oe.mapAORepeat,oe.mapAOOffset,oe.mapAOWrap,oe.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":ce.bumpMap=pe(me,oe.mapBumpRepeat,oe.mapBumpOffset,oe.mapBumpWrap,oe.mapBumpAnisotropy);break;case"mapBumpScale":ce.bumpScale=me;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":ce.normalMap=pe(me,oe.mapNormalRepeat,oe.mapNormalOffset,oe.mapNormalWrap,oe.mapNormalAnisotropy);break;case"mapNormalFactor":ce.normalScale=[me,me];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":ce.specularMap=pe(me,oe.mapSpecularRepeat,oe.mapSpecularOffset,oe.mapSpecularWrap,oe.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":ce.metalnessMap=pe(me,oe.mapMetalnessRepeat,oe.mapMetalnessOffset,oe.mapMetalnessWrap,oe.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":ce.roughnessMap=pe(me,oe.mapRoughnessRepeat,oe.mapRoughnessOffset,oe.mapRoughnessWrap,oe.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":ce.alphaMap=pe(me,oe.mapAlphaRepeat,oe.mapAlphaOffset,oe.mapAlphaWrap,oe.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":ce.side=te.BackSide;break;case"doubleSided":ce.side=te.DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),ce.opacity=me;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":ce[fe]=me;break;case"vertexColors":me===!0&&(ce.vertexColors=te.VertexColors),me==="face"&&(ce.vertexColors=te.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",fe,me);break}}return ce.type==="MeshBasicMaterial"&&delete ce.emissive,ce.type!=="MeshPhongMaterial"&&delete ce.specular,ce.opacity<1&&(ce.transparent=!0),ie.setTextures(ue),ie.parse(ce)}}()},te.Loader.Handlers={handlers:[],add:function(ee,re){this.handlers.push(ee,re)},get:function(ee){for(var re=this.handlers,ie=0,ae=re.length;ie<ae;ie+=2){var oe=re[ie],le=re[ie+1];if(oe.test(ee))return le}return null}},te.XHRLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager},Object.assign(te.XHRLoader.prototype,{load:function(ee,re,ie,ae){this.path!==void 0&&(ee=this.path+ee);var oe=this,le=te.Cache.get(ee);if(le!==void 0)return oe.manager.itemStart(ee),setTimeout(function(){re&&re(le),oe.manager.itemEnd(ee)},0),le;var he=new XMLHttpRequest;return he.overrideMimeType("text/plain"),he.open("GET",ee,!0),he.addEventListener("load",function(ue){var pe=ue.target.response;te.Cache.add(ee,pe),this.status===200?(re&&re(pe),oe.manager.itemEnd(ee)):this.status===0?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),re&&re(pe),oe.manager.itemEnd(ee)):(ae&&ae(ue),oe.manager.itemError(ee))},!1),ie!==void 0&&he.addEventListener("progress",function(ue){ie(ue)},!1),he.addEventListener("error",function(ue){ae&&ae(ue),oe.manager.itemError(ee)},!1),this.responseType!==void 0&&(he.responseType=this.responseType),this.withCredentials!==void 0&&(he.withCredentials=this.withCredentials),he.send(null),oe.manager.itemStart(ee),he},setPath:function(ee){return this.path=ee,this},setResponseType:function(ee){return this.responseType=ee,this},setWithCredentials:function(ee){return this.withCredentials=ee,this}}),te.FontLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager},Object.assign(te.FontLoader.prototype,{load:function(ee,re,ie,ae){var oe=this,le=new te.XHRLoader(this.manager);le.load(ee,function(he){var ue;try{ue=JSON.parse(he)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),ue=JSON.parse(he.substring(65,he.length-2))}var pe=oe.parse(ue);re&&re(pe)},ie,ae)},parse:function(ee){return new te.Font(ee)}}),te.ImageLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager},Object.assign(te.ImageLoader.prototype,{load:function(ee,re,ie,ae){var oe=this,le=document.createElementNS("http://www.w3.org/1999/xhtml","img");if(le.onload=function(){URL.revokeObjectURL(le.src),re&&re(le),oe.manager.itemEnd(ee)},ee.indexOf("data:")===0)le.src=ee;else{var he=new te.XHRLoader;he.setPath(this.path),he.setResponseType("blob"),he.load(ee,function(ue){le.src=URL.createObjectURL(ue)},ie,ae)}return oe.manager.itemStart(ee),le},setCrossOrigin:function(ee){return this.crossOrigin=ee,this},setPath:function(ee){return this.path=ee,this}}),te.JSONLoader=function(ee){typeof ee=="boolean"&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),ee=void 0),this.manager=ee!==void 0?ee:te.DefaultLoadingManager,this.withCredentials=!1},Object.assign(te.JSONLoader.prototype,{load:function(ee,re,ie,ae){var oe=this,le=this.texturePath&&typeof this.texturePath=="string"?this.texturePath:te.Loader.prototype.extractUrlBase(ee),he=new te.XHRLoader(this.manager);he.setWithCredentials(this.withCredentials),he.load(ee,function(ue){var pe=JSON.parse(ue),ce=pe.metadata;if(ce!==void 0){var fe=ce.type;if(fe!==void 0){if(fe.toLowerCase()==="object"){console.error("THREE.JSONLoader: "+ee+" should be loaded with THREE.ObjectLoader instead.");return}if(fe.toLowerCase()==="scene"){console.error("THREE.JSONLoader: "+ee+" should be loaded with THREE.SceneLoader instead.");return}}}var me=oe.parse(pe,le);re(me.geometry,me.materials)},ie,ae)},setTexturePath:function(ee){this.texturePath=ee},parse:function(ee,re){var ie=new te.Geometry,ae=ee.scale!==void 0?1/ee.scale:1;oe(ae),le(),he(ae),ue(),ie.computeFaceNormals(),ie.computeBoundingSphere();function oe(ce){function fe(Qe,Je){return Qe&1<<Je}var me,de,ve,ge,xe,_e,ye,we,be,Se,Ce,Te,De,Fe,Le,Ie,Oe,ke,Pe,Me,Ee,Ae,Re,Be,ze,je,$e,We=ee.faces,Ge=ee.vertices,He=ee.normals,Ze=ee.colors,Ye=0;if(ee.uvs!==void 0){for(me=0;me<ee.uvs.length;me++)ee.uvs[me].length&&Ye++;for(me=0;me<Ye;me++)ie.faceVertexUvs[me]=[]}for(ge=0,xe=Ge.length;ge<xe;)ke=new te.Vector3,ke.x=Ge[ge++]*ce,ke.y=Ge[ge++]*ce,ke.z=Ge[ge++]*ce,ie.vertices.push(ke);for(ge=0,xe=We.length;ge<xe;)if(Se=We[ge++],Ce=fe(Se,0),Te=fe(Se,1),De=fe(Se,3),Fe=fe(Se,4),Le=fe(Se,5),Ie=fe(Se,6),Oe=fe(Se,7),Ce){if(Me=new te.Face3,Me.a=We[ge],Me.b=We[ge+1],Me.c=We[ge+3],Ee=new te.Face3,Ee.a=We[ge+1],Ee.b=We[ge+2],Ee.c=We[ge+3],ge+=4,Te&&(be=We[ge++],Me.materialIndex=be,Ee.materialIndex=be),ve=ie.faces.length,De)for(me=0;me<Ye;me++)for(Be=ee.uvs[me],ie.faceVertexUvs[me][ve]=[],ie.faceVertexUvs[me][ve+1]=[],de=0;de<4;de++)we=We[ge++],je=Be[we*2],$e=Be[we*2+1],ze=new te.Vector2(je,$e),de!==2&&ie.faceVertexUvs[me][ve].push(ze),de!==0&&ie.faceVertexUvs[me][ve+1].push(ze);if(Fe&&(ye=We[ge++]*3,Me.normal.set(He[ye++],He[ye++],He[ye]),Ee.normal.copy(Me.normal)),Le)for(me=0;me<4;me++)ye=We[ge++]*3,Re=new te.Vector3(He[ye++],He[ye++],He[ye]),me!==2&&Me.vertexNormals.push(Re),me!==0&&Ee.vertexNormals.push(Re);if(Ie&&(_e=We[ge++],Ae=Ze[_e],Me.color.setHex(Ae),Ee.color.setHex(Ae)),Oe)for(me=0;me<4;me++)_e=We[ge++],Ae=Ze[_e],me!==2&&Me.vertexColors.push(new te.Color(Ae)),me!==0&&Ee.vertexColors.push(new te.Color(Ae));ie.faces.push(Me),ie.faces.push(Ee)}else{if(Pe=new te.Face3,Pe.a=We[ge++],Pe.b=We[ge++],Pe.c=We[ge++],Te&&(be=We[ge++],Pe.materialIndex=be),ve=ie.faces.length,De)for(me=0;me<Ye;me++)for(Be=ee.uvs[me],ie.faceVertexUvs[me][ve]=[],de=0;de<3;de++)we=We[ge++],je=Be[we*2],$e=Be[we*2+1],ze=new te.Vector2(je,$e),ie.faceVertexUvs[me][ve].push(ze);if(Fe&&(ye=We[ge++]*3,Pe.normal.set(He[ye++],He[ye++],He[ye])),Le)for(me=0;me<3;me++)ye=We[ge++]*3,Re=new te.Vector3(He[ye++],He[ye++],He[ye]),Pe.vertexNormals.push(Re);if(Ie&&(_e=We[ge++],Pe.color.setHex(Ze[_e])),Oe)for(me=0;me<3;me++)_e=We[ge++],Pe.vertexColors.push(new te.Color(Ze[_e]));ie.faces.push(Pe)}}function le(){var ce=ee.influencesPerVertex!==void 0?ee.influencesPerVertex:2;if(ee.skinWeights)for(var fe=0,me=ee.skinWeights.length;fe<me;fe+=ce){var de=ee.skinWeights[fe],ve=ce>1?ee.skinWeights[fe+1]:0,ge=ce>2?ee.skinWeights[fe+2]:0,xe=ce>3?ee.skinWeights[fe+3]:0;ie.skinWeights.push(new te.Vector4(de,ve,ge,xe))}if(ee.skinIndices)for(var fe=0,me=ee.skinIndices.length;fe<me;fe+=ce){var _e=ee.skinIndices[fe],ye=ce>1?ee.skinIndices[fe+1]:0,we=ce>2?ee.skinIndices[fe+2]:0,be=ce>3?ee.skinIndices[fe+3]:0;ie.skinIndices.push(new te.Vector4(_e,ye,we,be))}ie.bones=ee.bones,ie.bones&&ie.bones.length>0&&(ie.skinWeights.length!==ie.skinIndices.length||ie.skinIndices.length!==ie.vertices.length)&&console.warn("When skinning, number of vertices ("+ie.vertices.length+"), skinIndices ("+ie.skinIndices.length+"), and skinWeights ("+ie.skinWeights.length+") should match.")}function he(ce){if(ee.morphTargets!==void 0)for(var fe=0,me=ee.morphTargets.length;fe<me;fe++){ie.morphTargets[fe]={},ie.morphTargets[fe].name=ee.morphTargets[fe].name,ie.morphTargets[fe].vertices=[];for(var de=ie.morphTargets[fe].vertices,ve=ee.morphTargets[fe].vertices,ge=0,xe=ve.length;ge<xe;ge+=3){var _e=new te.Vector3;_e.x=ve[ge]*ce,_e.y=ve[ge+1]*ce,_e.z=ve[ge+2]*ce,de.push(_e)}}if(ee.morphColors!==void 0&&ee.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var ye=ie.faces,we=ee.morphColors[0].colors,fe=0,me=ye.length;fe<me;fe++)ye[fe].color.fromArray(we,fe*3)}}function ue(){var ce=[],fe=[];ee.animation!==void 0&&fe.push(ee.animation),ee.animations!==void 0&&(ee.animations.length?fe=fe.concat(ee.animations):fe.push(ee.animations));for(var me=0;me<fe.length;me++){var de=te.AnimationClip.parseAnimation(fe[me],ie.bones);de&&ce.push(de)}if(ie.morphTargets){var ve=te.AnimationClip.CreateClipsFromMorphTargetSequences(ie.morphTargets,10);ce=ce.concat(ve)}ce.length>0&&(ie.animations=ce)}if(ee.materials===void 0||ee.materials.length===0)return{geometry:ie};var pe=te.Loader.prototype.initMaterials(ee.materials,re,this.crossOrigin);return{geometry:ie,materials:pe}}}),te.LoadingManager=function(ee,re,ie){var ae=this,oe=!1,le=0,he=0;this.onStart=void 0,this.onLoad=ee,this.onProgress=re,this.onError=ie,this.itemStart=function(ue){he++,oe===!1&&ae.onStart!==void 0&&ae.onStart(ue,le,he),oe=!0},this.itemEnd=function(ue){le++,ae.onProgress!==void 0&&ae.onProgress(ue,le,he),le===he&&(oe=!1,ae.onLoad!==void 0&&ae.onLoad())},this.itemError=function(ue){ae.onError!==void 0&&ae.onError(ue)}},te.DefaultLoadingManager=new te.LoadingManager,te.BufferGeometryLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager},Object.assign(te.BufferGeometryLoader.prototype,{load:function(ee,re,ie,ae){var oe=this,le=new te.XHRLoader(oe.manager);le.load(ee,function(he){re(oe.parse(JSON.parse(he)))},ie,ae)},parse:function(ee){var re=new te.BufferGeometry,ie=ee.data.index,ae={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};if(ie!==void 0){var oe=new ae[ie.type](ie.array);re.setIndex(new te.BufferAttribute(oe,1))}var le=ee.data.attributes;for(var he in le){var ue=le[he],oe=new ae[ue.type](ue.array);re.addAttribute(he,new te.BufferAttribute(oe,ue.itemSize,ue.normalized))}var pe=ee.data.groups||ee.data.drawcalls||ee.data.offsets;if(pe!==void 0)for(var ce=0,fe=pe.length;ce!==fe;++ce){var me=pe[ce];re.addGroup(me.start,me.count,me.materialIndex)}var de=ee.data.boundingSphere;if(de!==void 0){var ve=new te.Vector3;de.center!==void 0&&ve.fromArray(de.center),re.boundingSphere=new te.Sphere(ve,de.radius)}return re}}),te.MaterialLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager,this.textures={}},Object.assign(te.MaterialLoader.prototype,{load:function(ee,re,ie,ae){var oe=this,le=new te.XHRLoader(oe.manager);le.load(ee,function(he){re(oe.parse(JSON.parse(he)))},ie,ae)},setTextures:function(ee){this.textures=ee},getTexture:function(ee){var re=this.textures;return re[ee]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",ee),re[ee]},parse:function(ee){var re=new te[ee.type];if(ee.uuid!==void 0&&(re.uuid=ee.uuid),ee.name!==void 0&&(re.name=ee.name),ee.color!==void 0&&re.color.setHex(ee.color),ee.roughness!==void 0&&(re.roughness=ee.roughness),ee.metalness!==void 0&&(re.metalness=ee.metalness),ee.emissive!==void 0&&re.emissive.setHex(ee.emissive),ee.specular!==void 0&&re.specular.setHex(ee.specular),ee.shininess!==void 0&&(re.shininess=ee.shininess),ee.uniforms!==void 0&&(re.uniforms=ee.uniforms),ee.vertexShader!==void 0&&(re.vertexShader=ee.vertexShader),ee.fragmentShader!==void 0&&(re.fragmentShader=ee.fragmentShader),ee.vertexColors!==void 0&&(re.vertexColors=ee.vertexColors),ee.shading!==void 0&&(re.shading=ee.shading),ee.blending!==void 0&&(re.blending=ee.blending),ee.side!==void 0&&(re.side=ee.side),ee.opacity!==void 0&&(re.opacity=ee.opacity),ee.transparent!==void 0&&(re.transparent=ee.transparent),ee.alphaTest!==void 0&&(re.alphaTest=ee.alphaTest),ee.depthTest!==void 0&&(re.depthTest=ee.depthTest),ee.depthWrite!==void 0&&(re.depthWrite=ee.depthWrite),ee.colorWrite!==void 0&&(re.colorWrite=ee.colorWrite),ee.wireframe!==void 0&&(re.wireframe=ee.wireframe),ee.wireframeLinewidth!==void 0&&(re.wireframeLinewidth=ee.wireframeLinewidth),ee.size!==void 0&&(re.size=ee.size),ee.sizeAttenuation!==void 0&&(re.sizeAttenuation=ee.sizeAttenuation),ee.map!==void 0&&(re.map=this.getTexture(ee.map)),ee.alphaMap!==void 0&&(re.alphaMap=this.getTexture(ee.alphaMap),re.transparent=!0),ee.bumpMap!==void 0&&(re.bumpMap=this.getTexture(ee.bumpMap)),ee.bumpScale!==void 0&&(re.bumpScale=ee.bumpScale),ee.normalMap!==void 0&&(re.normalMap=this.getTexture(ee.normalMap)),ee.normalScale!==void 0){var ie=ee.normalScale;Array.isArray(ie)===!1&&(ie=[ie,ie]),re.normalScale=new te.Vector2().fromArray(ie)}if(ee.displacementMap!==void 0&&(re.displacementMap=this.getTexture(ee.displacementMap)),ee.displacementScale!==void 0&&(re.displacementScale=ee.displacementScale),ee.displacementBias!==void 0&&(re.displacementBias=ee.displacementBias),ee.roughnessMap!==void 0&&(re.roughnessMap=this.getTexture(ee.roughnessMap)),ee.metalnessMap!==void 0&&(re.metalnessMap=this.getTexture(ee.metalnessMap)),ee.emissiveMap!==void 0&&(re.emissiveMap=this.getTexture(ee.emissiveMap)),ee.emissiveIntensity!==void 0&&(re.emissiveIntensity=ee.emissiveIntensity),ee.specularMap!==void 0&&(re.specularMap=this.getTexture(ee.specularMap)),ee.envMap!==void 0&&(re.envMap=this.getTexture(ee.envMap),re.combine=te.MultiplyOperation),ee.reflectivity!==void 0&&(re.reflectivity=ee.reflectivity),ee.lightMap!==void 0&&(re.lightMap=this.getTexture(ee.lightMap)),ee.lightMapIntensity!==void 0&&(re.lightMapIntensity=ee.lightMapIntensity),ee.aoMap!==void 0&&(re.aoMap=this.getTexture(ee.aoMap)),ee.aoMapIntensity!==void 0&&(re.aoMapIntensity=ee.aoMapIntensity),ee.materials!==void 0)for(var ae=0,oe=ee.materials.length;ae<oe;ae++)re.materials.push(this.parse(ee.materials[ae]));return re}}),te.ObjectLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager,this.texturePath=""},Object.assign(te.ObjectLoader.prototype,{load:function(ee,re,ie,ae){this.texturePath===""&&(this.texturePath=ee.substring(0,ee.lastIndexOf("/")+1));var oe=this,le=new te.XHRLoader(oe.manager);le.load(ee,function(he){oe.parse(JSON.parse(he),re)},ie,ae)},setTexturePath:function(ee){this.texturePath=ee},setCrossOrigin:function(ee){this.crossOrigin=ee},parse:function(ee,re){var ie=this.parseGeometries(ee.geometries),ae=this.parseImages(ee.images,function(){re!==void 0&&re(he)}),oe=this.parseTextures(ee.textures,ae),le=this.parseMaterials(ee.materials,oe),he=this.parseObject(ee.object,ie,le);return ee.animations&&(he.animations=this.parseAnimations(ee.animations)),(ee.images===void 0||ee.images.length===0)&&re!==void 0&&re(he),he},parseGeometries:function(ee){var re={};if(ee!==void 0)for(var ie=new te.JSONLoader,ae=new te.BufferGeometryLoader,oe=0,le=ee.length;oe<le;oe++){var he,ue=ee[oe];switch(ue.type){case"PlaneGeometry":case"PlaneBufferGeometry":he=new te[ue.type](ue.width,ue.height,ue.widthSegments,ue.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":he=new te[ue.type](ue.width,ue.height,ue.depth,ue.widthSegments,ue.heightSegments,ue.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":he=new te[ue.type](ue.radius,ue.segments,ue.thetaStart,ue.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":he=new te[ue.type](ue.radiusTop,ue.radiusBottom,ue.height,ue.radialSegments,ue.heightSegments,ue.openEnded,ue.thetaStart,ue.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":he=new te[ue.type](ue.radius,ue.height,ue.radialSegments,ue.heightSegments,ue.openEnded,ue.thetaStart,ue.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":he=new te[ue.type](ue.radius,ue.widthSegments,ue.heightSegments,ue.phiStart,ue.phiLength,ue.thetaStart,ue.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":he=new te[ue.type](ue.radius,ue.detail);break;case"RingGeometry":case"RingBufferGeometry":he=new te[ue.type](ue.innerRadius,ue.outerRadius,ue.thetaSegments,ue.phiSegments,ue.thetaStart,ue.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":he=new te[ue.type](ue.radius,ue.tube,ue.radialSegments,ue.tubularSegments,ue.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":he=new te[ue.type](ue.radius,ue.tube,ue.tubularSegments,ue.radialSegments,ue.p,ue.q);break;case"LatheGeometry":case"LatheBufferGeometry":he=new te[ue.type](ue.points,ue.segments,ue.phiStart,ue.phiLength);break;case"BufferGeometry":he=ae.parse(ue);break;case"Geometry":he=ie.parse(ue.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+ue.type+'"');continue}he.uuid=ue.uuid,ue.name!==void 0&&(he.name=ue.name),re[ue.uuid]=he}return re},parseMaterials:function(ee,re){var ie={};if(ee!==void 0){var ae=new te.MaterialLoader;ae.setTextures(re);for(var oe=0,le=ee.length;oe<le;oe++){var he=ae.parse(ee[oe]);ie[he.uuid]=he}}return ie},parseAnimations:function(ee){for(var re=[],ie=0;ie<ee.length;ie++){var ae=te.AnimationClip.parse(ee[ie]);re.push(ae)}return re},parseImages:function(ee,re){var ie=this,ae={};function oe(me){return ie.manager.itemStart(me),he.load(me,function(){ie.manager.itemEnd(me)})}if(ee!==void 0&&ee.length>0){var le=new te.LoadingManager(re),he=new te.ImageLoader(le);he.setCrossOrigin(this.crossOrigin);for(var ue=0,pe=ee.length;ue<pe;ue++){var ce=ee[ue],fe=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ce.url)?ce.url:ie.texturePath+ce.url;ae[ce.uuid]=oe(fe)}}return ae},parseTextures:function(ee,re){function ie(pe){return typeof pe=="number"?pe:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",pe),te[pe])}var ae={};if(ee!==void 0)for(var oe=0,le=ee.length;oe<le;oe++){var he=ee[oe];he.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',he.uuid),re[he.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",he.image);var ue=new te.Texture(re[he.image]);ue.needsUpdate=!0,ue.uuid=he.uuid,he.name!==void 0&&(ue.name=he.name),he.mapping!==void 0&&(ue.mapping=ie(he.mapping)),he.offset!==void 0&&ue.offset.fromArray(he.offset),he.repeat!==void 0&&ue.repeat.fromArray(he.repeat),he.wrap!==void 0&&(ue.wrapS=ie(he.wrap[0]),ue.wrapT=ie(he.wrap[1])),he.minFilter!==void 0&&(ue.minFilter=ie(he.minFilter)),he.magFilter!==void 0&&(ue.magFilter=ie(he.magFilter)),he.anisotropy!==void 0&&(ue.anisotropy=he.anisotropy),he.flipY!==void 0&&(ue.flipY=he.flipY),ae[he.uuid]=ue}return ae},parseObject:function(){var ee=new te.Matrix4;return function(ie,ae,oe){var le;function he(ge){return ae[ge]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ge),ae[ge]}function ue(ge){if(ge!==void 0)return oe[ge]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ge),oe[ge]}switch(ie.type){case"Scene":le=new te.Scene;break;case"PerspectiveCamera":le=new te.PerspectiveCamera(ie.fov,ie.aspect,ie.near,ie.far),ie.focus!==void 0&&(le.focus=ie.focus),ie.zoom!==void 0&&(le.zoom=ie.zoom),ie.filmGauge!==void 0&&(le.filmGauge=ie.filmGauge),ie.filmOffset!==void 0&&(le.filmOffset=ie.filmOffset),ie.view!==void 0&&(le.view=Object.assign({},ie.view));break;case"OrthographicCamera":le=new te.OrthographicCamera(ie.left,ie.right,ie.top,ie.bottom,ie.near,ie.far);break;case"AmbientLight":le=new te.AmbientLight(ie.color,ie.intensity);break;case"DirectionalLight":le=new te.DirectionalLight(ie.color,ie.intensity);break;case"PointLight":le=new te.PointLight(ie.color,ie.intensity,ie.distance,ie.decay);break;case"SpotLight":le=new te.SpotLight(ie.color,ie.intensity,ie.distance,ie.angle,ie.penumbra,ie.decay);break;case"HemisphereLight":le=new te.HemisphereLight(ie.color,ie.groundColor,ie.intensity);break;case"Mesh":var pe=he(ie.geometry),ce=ue(ie.material);pe.bones&&pe.bones.length>0?le=new te.SkinnedMesh(pe,ce):le=new te.Mesh(pe,ce);break;case"LOD":le=new te.LOD;break;case"Line":le=new te.Line(he(ie.geometry),ue(ie.material),ie.mode);break;case"PointCloud":case"Points":le=new te.Points(he(ie.geometry),ue(ie.material));break;case"Sprite":le=new te.Sprite(ue(ie.material));break;case"Group":le=new te.Group;break;default:le=new te.Object3D}if(le.uuid=ie.uuid,ie.name!==void 0&&(le.name=ie.name),ie.matrix!==void 0?(ee.fromArray(ie.matrix),ee.decompose(le.position,le.quaternion,le.scale)):(ie.position!==void 0&&le.position.fromArray(ie.position),ie.rotation!==void 0&&le.rotation.fromArray(ie.rotation),ie.scale!==void 0&&le.scale.fromArray(ie.scale)),ie.castShadow!==void 0&&(le.castShadow=ie.castShadow),ie.receiveShadow!==void 0&&(le.receiveShadow=ie.receiveShadow),ie.visible!==void 0&&(le.visible=ie.visible),ie.userData!==void 0&&(le.userData=ie.userData),ie.children!==void 0)for(var fe in ie.children)le.add(this.parseObject(ie.children[fe],ae,oe));if(ie.type==="LOD")for(var me=ie.levels,de=0;de<me.length;de++){var ve=me[de],fe=le.getObjectByProperty("uuid",ve.object);fe!==void 0&&le.addLevel(fe,ve.distance)}return le}}()}),te.TextureLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager},Object.assign(te.TextureLoader.prototype,{load:function(ee,re,ie,ae){var oe=new te.Texture,le=new te.ImageLoader(this.manager);return le.setCrossOrigin(this.crossOrigin),le.setPath(this.path),le.load(ee,function(he){var ue=ee.search(/\.(jpg|jpeg)$/)>0||ee.search(/^data\:image\/jpeg/)===0;oe.format=ue?te.RGBFormat:te.RGBAFormat,oe.image=he,oe.needsUpdate=!0,re!==void 0&&re(oe)},ie,ae),oe},setCrossOrigin:function(ee){return this.crossOrigin=ee,this},setPath:function(ee){return this.path=ee,this}}),te.CubeTextureLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager},Object.assign(te.CubeTextureLoader.prototype,{load:function(ee,re,ie,ae){var oe=new te.CubeTexture,le=new te.ImageLoader(this.manager);le.setCrossOrigin(this.crossOrigin),le.setPath(this.path);var he=0;function ue(ce){le.load(ee[ce],function(fe){oe.images[ce]=fe,he++,he===6&&(oe.needsUpdate=!0,re&&re(oe))},void 0,ae)}for(var pe=0;pe<ee.length;++pe)ue(pe);return oe},setCrossOrigin:function(ee){return this.crossOrigin=ee,this},setPath:function(ee){return this.path=ee,this}}),te.DataTextureLoader=te.BinaryTextureLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager,this._parser=null},Object.assign(te.BinaryTextureLoader.prototype,{load:function(ee,re,ie,ae){var oe=this,le=new te.DataTexture,he=new te.XHRLoader(this.manager);return he.setResponseType("arraybuffer"),he.load(ee,function(ue){var pe=oe._parser(ue);!pe||(pe.image!==void 0?le.image=pe.image:pe.data!==void 0&&(le.image.width=pe.width,le.image.height=pe.height,le.image.data=pe.data),le.wrapS=pe.wrapS!==void 0?pe.wrapS:te.ClampToEdgeWrapping,le.wrapT=pe.wrapT!==void 0?pe.wrapT:te.ClampToEdgeWrapping,le.magFilter=pe.magFilter!==void 0?pe.magFilter:te.LinearFilter,le.minFilter=pe.minFilter!==void 0?pe.minFilter:te.LinearMipMapLinearFilter,le.anisotropy=pe.anisotropy!==void 0?pe.anisotropy:1,pe.format!==void 0&&(le.format=pe.format),pe.type!==void 0&&(le.type=pe.type),pe.mipmaps!==void 0&&(le.mipmaps=pe.mipmaps),pe.mipmapCount===1&&(le.minFilter=te.LinearFilter),le.needsUpdate=!0,re&&re(le,pe))},ie,ae),le}}),te.CompressedTextureLoader=function(ee){this.manager=ee!==void 0?ee:te.DefaultLoadingManager,this._parser=null},Object.assign(te.CompressedTextureLoader.prototype,{load:function(ee,re,ie,ae){var oe=this,le=[],he=new te.CompressedTexture;he.image=le;var ue=new te.XHRLoader(this.manager);ue.setPath(this.path),ue.setResponseType("arraybuffer");function pe(de){ue.load(ee[de],function(ve){var ge=oe._parser(ve,!0);le[de]={width:ge.width,height:ge.height,format:ge.format,mipmaps:ge.mipmaps},ce+=1,ce===6&&(ge.mipmapCount===1&&(he.minFilter=te.LinearFilter),he.format=ge.format,he.needsUpdate=!0,re&&re(he))},ie,ae)}if(Array.isArray(ee))for(var ce=0,fe=0,me=ee.length;fe<me;++fe)pe(fe);else ue.load(ee,function(de){var ve=oe._parser(de,!0);if(ve.isCubemap)for(var ge=ve.mipmaps.length/ve.mipmapCount,xe=0;xe<ge;xe++){le[xe]={mipmaps:[]};for(var _e=0;_e<ve.mipmapCount;_e++)le[xe].mipmaps.push(ve.mipmaps[xe*ve.mipmapCount+_e]),le[xe].format=ve.format,le[xe].width=ve.width,le[xe].height=ve.height}else he.image.width=ve.width,he.image.height=ve.height,he.mipmaps=ve.mipmaps;ve.mipmapCount===1&&(he.minFilter=te.LinearFilter),he.format=ve.format,he.needsUpdate=!0,re&&re(he)},ie,ae);return he},setPath:function(ee){return this.path=ee,this}}),te.Material=function(){Object.defineProperty(this,"id",{value:te.MaterialIdCount++}),this.uuid=te.Math.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=te.NormalBlending,this.side=te.FrontSide,this.shading=te.SmoothShading,this.vertexColors=te.NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=te.SrcAlphaFactor,this.blendDst=te.OneMinusSrcAlphaFactor,this.blendEquation=te.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=te.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},te.Material.prototype={constructor:te.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(ee){ee===!0&&this.update(),this._needsUpdate=ee},setValues:function(ee){if(ee!==void 0)for(var re in ee){var ie=ee[re];if(ie===void 0){console.warn("THREE.Material: '"+re+"' parameter is undefined.");continue}var ae=this[re];if(ae===void 0){console.warn("THREE."+this.type+": '"+re+"' is not a property of this material.");continue}ae instanceof te.Color?ae.set(ie):ae instanceof te.Vector3&&ie instanceof te.Vector3?ae.copy(ie):re==="overdraw"?this[re]=Number(ie):this[re]=ie}},toJSON:function(ee){var re=ee===void 0;re&&(ee={textures:{},images:{}});var ie={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};ie.uuid=this.uuid,ie.type=this.type,this.name!==""&&(ie.name=this.name),this.color instanceof te.Color&&(ie.color=this.color.getHex()),this.roughness!==void 0&&(ie.roughness=this.roughness),this.metalness!==void 0&&(ie.metalness=this.metalness),this.emissive instanceof te.Color&&(ie.emissive=this.emissive.getHex()),this.specular instanceof te.Color&&(ie.specular=this.specular.getHex()),this.shininess!==void 0&&(ie.shininess=this.shininess),this.map instanceof te.Texture&&(ie.map=this.map.toJSON(ee).uuid),this.alphaMap instanceof te.Texture&&(ie.alphaMap=this.alphaMap.toJSON(ee).uuid),this.lightMap instanceof te.Texture&&(ie.lightMap=this.lightMap.toJSON(ee).uuid),this.bumpMap instanceof te.Texture&&(ie.bumpMap=this.bumpMap.toJSON(ee).uuid,ie.bumpScale=this.bumpScale),this.normalMap instanceof te.Texture&&(ie.normalMap=this.normalMap.toJSON(ee).uuid,ie.normalScale=this.normalScale.toArray()),this.displacementMap instanceof te.Texture&&(ie.displacementMap=this.displacementMap.toJSON(ee).uuid,ie.displacementScale=this.displacementScale,ie.displacementBias=this.displacementBias),this.roughnessMap instanceof te.Texture&&(ie.roughnessMap=this.roughnessMap.toJSON(ee).uuid),this.metalnessMap instanceof te.Texture&&(ie.metalnessMap=this.metalnessMap.toJSON(ee).uuid),this.emissiveMap instanceof te.Texture&&(ie.emissiveMap=this.emissiveMap.toJSON(ee).uuid),this.specularMap instanceof te.Texture&&(ie.specularMap=this.specularMap.toJSON(ee).uuid),this.envMap instanceof te.Texture&&(ie.envMap=this.envMap.toJSON(ee).uuid,ie.reflectivity=this.reflectivity),this.size!==void 0&&(ie.size=this.size),this.sizeAttenuation!==void 0&&(ie.sizeAttenuation=this.sizeAttenuation),this.blending!==te.NormalBlending&&(ie.blending=this.blending),this.shading!==te.SmoothShading&&(ie.shading=this.shading),this.side!==te.FrontSide&&(ie.side=this.side),this.vertexColors!==te.NoColors&&(ie.vertexColors=this.vertexColors),this.opacity<1&&(ie.opacity=this.opacity),this.transparent===!0&&(ie.transparent=this.transparent),this.alphaTest>0&&(ie.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(ie.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(ie.wireframe=this.wireframe),this.wireframeLinewidth>1&&(ie.wireframeLinewidth=this.wireframeLinewidth);function ae(he){var ue=[];for(var pe in he){var ce=he[pe];delete ce.metadata,ue.push(ce)}return ue}if(re){var oe=ae(ee.textures),le=ae(ee.images);oe.length>0&&(ie.textures=oe),le.length>0&&(ie.images=le)}return ie},clone:function(){return new this.constructor().copy(this)},copy:function(ee){this.name=ee.name,this.fog=ee.fog,this.lights=ee.lights,this.blending=ee.blending,this.side=ee.side,this.shading=ee.shading,this.vertexColors=ee.vertexColors,this.opacity=ee.opacity,this.transparent=ee.transparent,this.blendSrc=ee.blendSrc,this.blendDst=ee.blendDst,this.blendEquation=ee.blendEquation,this.blendSrcAlpha=ee.blendSrcAlpha,this.blendDstAlpha=ee.blendDstAlpha,this.blendEquationAlpha=ee.blendEquationAlpha,this.depthFunc=ee.depthFunc,this.depthTest=ee.depthTest,this.depthWrite=ee.depthWrite,this.colorWrite=ee.colorWrite,this.precision=ee.precision,this.polygonOffset=ee.polygonOffset,this.polygonOffsetFactor=ee.polygonOffsetFactor,this.polygonOffsetUnits=ee.polygonOffsetUnits,this.alphaTest=ee.alphaTest,this.premultipliedAlpha=ee.premultipliedAlpha,this.overdraw=ee.overdraw,this.visible=ee.visible,this.clipShadows=ee.clipShadows;var re=ee.clippingPlanes,ie=null;if(re!==null){var ae=re.length;ie=new Array(ae);for(var oe=0;oe!==ae;++oe)ie[oe]=re[oe].clone()}return this.clippingPlanes=ie,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(te.Material.prototype,te.EventDispatcher.prototype),te.MaterialIdCount=0,te.LineBasicMaterial=function(ee){te.Material.call(this),this.type="LineBasicMaterial",this.color=new te.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(ee)},te.LineBasicMaterial.prototype=Object.create(te.Material.prototype),te.LineBasicMaterial.prototype.constructor=te.LineBasicMaterial,te.LineBasicMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.color.copy(ee.color),this.linewidth=ee.linewidth,this.linecap=ee.linecap,this.linejoin=ee.linejoin,this},te.LineDashedMaterial=function(ee){te.Material.call(this),this.type="LineDashedMaterial",this.color=new te.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(ee)},te.LineDashedMaterial.prototype=Object.create(te.Material.prototype),te.LineDashedMaterial.prototype.constructor=te.LineDashedMaterial,te.LineDashedMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.color.copy(ee.color),this.linewidth=ee.linewidth,this.scale=ee.scale,this.dashSize=ee.dashSize,this.gapSize=ee.gapSize,this},te.MeshBasicMaterial=function(ee){te.Material.call(this),this.type="MeshBasicMaterial",this.color=new te.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=te.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(ee)},te.MeshBasicMaterial.prototype=Object.create(te.Material.prototype),te.MeshBasicMaterial.prototype.constructor=te.MeshBasicMaterial,te.MeshBasicMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.color.copy(ee.color),this.map=ee.map,this.aoMap=ee.aoMap,this.aoMapIntensity=ee.aoMapIntensity,this.specularMap=ee.specularMap,this.alphaMap=ee.alphaMap,this.envMap=ee.envMap,this.combine=ee.combine,this.reflectivity=ee.reflectivity,this.refractionRatio=ee.refractionRatio,this.wireframe=ee.wireframe,this.wireframeLinewidth=ee.wireframeLinewidth,this.wireframeLinecap=ee.wireframeLinecap,this.wireframeLinejoin=ee.wireframeLinejoin,this.skinning=ee.skinning,this.morphTargets=ee.morphTargets,this},te.MeshDepthMaterial=function(ee){te.Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=te.BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(ee)},te.MeshDepthMaterial.prototype=Object.create(te.Material.prototype),te.MeshDepthMaterial.prototype.constructor=te.MeshDepthMaterial,te.MeshDepthMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.depthPacking=ee.depthPacking,this.skinning=ee.skinning,this.morphTargets=ee.morphTargets,this.map=ee.map,this.alphaMap=ee.alphaMap,this.displacementMap=ee.displacementMap,this.displacementScale=ee.displacementScale,this.displacementBias=ee.displacementBias,this.wireframe=ee.wireframe,this.wireframeLinewidth=ee.wireframeLinewidth,this},te.MeshLambertMaterial=function(ee){te.Material.call(this),this.type="MeshLambertMaterial",this.color=new te.Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new te.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=te.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(ee)},te.MeshLambertMaterial.prototype=Object.create(te.Material.prototype),te.MeshLambertMaterial.prototype.constructor=te.MeshLambertMaterial,te.MeshLambertMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.color.copy(ee.color),this.map=ee.map,this.lightMap=ee.lightMap,this.lightMapIntensity=ee.lightMapIntensity,this.aoMap=ee.aoMap,this.aoMapIntensity=ee.aoMapIntensity,this.emissive.copy(ee.emissive),this.emissiveMap=ee.emissiveMap,this.emissiveIntensity=ee.emissiveIntensity,this.specularMap=ee.specularMap,this.alphaMap=ee.alphaMap,this.envMap=ee.envMap,this.combine=ee.combine,this.reflectivity=ee.reflectivity,this.refractionRatio=ee.refractionRatio,this.wireframe=ee.wireframe,this.wireframeLinewidth=ee.wireframeLinewidth,this.wireframeLinecap=ee.wireframeLinecap,this.wireframeLinejoin=ee.wireframeLinejoin,this.skinning=ee.skinning,this.morphTargets=ee.morphTargets,this.morphNormals=ee.morphNormals,this},te.MeshNormalMaterial=function(ee){te.Material.call(this,ee),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.morphTargets=!1,this.setValues(ee)},te.MeshNormalMaterial.prototype=Object.create(te.Material.prototype),te.MeshNormalMaterial.prototype.constructor=te.MeshNormalMaterial,te.MeshNormalMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.wireframe=ee.wireframe,this.wireframeLinewidth=ee.wireframeLinewidth,this},te.MeshPhongMaterial=function(ee){te.Material.call(this),this.type="MeshPhongMaterial",this.color=new te.Color(16777215),this.specular=new te.Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new te.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new te.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=te.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(ee)},te.MeshPhongMaterial.prototype=Object.create(te.Material.prototype),te.MeshPhongMaterial.prototype.constructor=te.MeshPhongMaterial,te.MeshPhongMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.color.copy(ee.color),this.specular.copy(ee.specular),this.shininess=ee.shininess,this.map=ee.map,this.lightMap=ee.lightMap,this.lightMapIntensity=ee.lightMapIntensity,this.aoMap=ee.aoMap,this.aoMapIntensity=ee.aoMapIntensity,this.emissive.copy(ee.emissive),this.emissiveMap=ee.emissiveMap,this.emissiveIntensity=ee.emissiveIntensity,this.bumpMap=ee.bumpMap,this.bumpScale=ee.bumpScale,this.normalMap=ee.normalMap,this.normalScale.copy(ee.normalScale),this.displacementMap=ee.displacementMap,this.displacementScale=ee.displacementScale,this.displacementBias=ee.displacementBias,this.specularMap=ee.specularMap,this.alphaMap=ee.alphaMap,this.envMap=ee.envMap,this.combine=ee.combine,this.reflectivity=ee.reflectivity,this.refractionRatio=ee.refractionRatio,this.wireframe=ee.wireframe,this.wireframeLinewidth=ee.wireframeLinewidth,this.wireframeLinecap=ee.wireframeLinecap,this.wireframeLinejoin=ee.wireframeLinejoin,this.skinning=ee.skinning,this.morphTargets=ee.morphTargets,this.morphNormals=ee.morphNormals,this},te.MeshStandardMaterial=function(ee){te.Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new te.Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new te.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new te.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(ee)},te.MeshStandardMaterial.prototype=Object.create(te.Material.prototype),te.MeshStandardMaterial.prototype.constructor=te.MeshStandardMaterial,te.MeshStandardMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.defines={STANDARD:""},this.color.copy(ee.color),this.roughness=ee.roughness,this.metalness=ee.metalness,this.map=ee.map,this.lightMap=ee.lightMap,this.lightMapIntensity=ee.lightMapIntensity,this.aoMap=ee.aoMap,this.aoMapIntensity=ee.aoMapIntensity,this.emissive.copy(ee.emissive),this.emissiveMap=ee.emissiveMap,this.emissiveIntensity=ee.emissiveIntensity,this.bumpMap=ee.bumpMap,this.bumpScale=ee.bumpScale,this.normalMap=ee.normalMap,this.normalScale.copy(ee.normalScale),this.displacementMap=ee.displacementMap,this.displacementScale=ee.displacementScale,this.displacementBias=ee.displacementBias,this.roughnessMap=ee.roughnessMap,this.metalnessMap=ee.metalnessMap,this.alphaMap=ee.alphaMap,this.envMap=ee.envMap,this.envMapIntensity=ee.envMapIntensity,this.refractionRatio=ee.refractionRatio,this.wireframe=ee.wireframe,this.wireframeLinewidth=ee.wireframeLinewidth,this.wireframeLinecap=ee.wireframeLinecap,this.wireframeLinejoin=ee.wireframeLinejoin,this.skinning=ee.skinning,this.morphTargets=ee.morphTargets,this.morphNormals=ee.morphNormals,this},te.MeshPhysicalMaterial=function(ee){te.MeshStandardMaterial.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(ee)},te.MeshPhysicalMaterial.prototype=Object.create(te.MeshStandardMaterial.prototype),te.MeshPhysicalMaterial.prototype.constructor=te.MeshPhysicalMaterial,te.MeshPhysicalMaterial.prototype.copy=function(ee){return te.MeshStandardMaterial.prototype.copy.call(this,ee),this.defines={PHYSICAL:""},this.reflectivity=ee.reflectivity,this.clearCoat=ee.clearCoat,this.clearCoatRoughness=ee.clearCoatRoughness,this},te.MultiMaterial=function(ee){this.uuid=te.Math.generateUUID(),this.type="MultiMaterial",this.materials=ee instanceof Array?ee:[],this.visible=!0},te.MultiMaterial.prototype={constructor:te.MultiMaterial,toJSON:function(ee){for(var re={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},ie=this.materials,ae=0,oe=ie.length;ae<oe;ae++){var le=ie[ae].toJSON(ee);delete le.metadata,re.materials.push(le)}return re.visible=this.visible,re},clone:function(){for(var ee=new this.constructor,re=0;re<this.materials.length;re++)ee.materials.push(this.materials[re].clone());return ee.visible=this.visible,ee}},te.PointsMaterial=function(ee){te.Material.call(this),this.type="PointsMaterial",this.color=new te.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(ee)},te.PointsMaterial.prototype=Object.create(te.Material.prototype),te.PointsMaterial.prototype.constructor=te.PointsMaterial,te.PointsMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.color.copy(ee.color),this.map=ee.map,this.size=ee.size,this.sizeAttenuation=ee.sizeAttenuation,this},te.ShaderMaterial=function(ee){te.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,ee!==void 0&&(ee.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(ee))},te.ShaderMaterial.prototype=Object.create(te.Material.prototype),te.ShaderMaterial.prototype.constructor=te.ShaderMaterial,te.ShaderMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.fragmentShader=ee.fragmentShader,this.vertexShader=ee.vertexShader,this.uniforms=te.UniformsUtils.clone(ee.uniforms),this.defines=ee.defines,this.wireframe=ee.wireframe,this.wireframeLinewidth=ee.wireframeLinewidth,this.lights=ee.lights,this.clipping=ee.clipping,this.skinning=ee.skinning,this.morphTargets=ee.morphTargets,this.morphNormals=ee.morphNormals,this.extensions=ee.extensions,this},te.ShaderMaterial.prototype.toJSON=function(ee){var re=te.Material.prototype.toJSON.call(this,ee);return re.uniforms=this.uniforms,re.vertexShader=this.vertexShader,re.fragmentShader=this.fragmentShader,re},te.RawShaderMaterial=function(ee){te.ShaderMaterial.call(this,ee),this.type="RawShaderMaterial"},te.RawShaderMaterial.prototype=Object.create(te.ShaderMaterial.prototype),te.RawShaderMaterial.prototype.constructor=te.RawShaderMaterial,te.SpriteMaterial=function(ee){te.Material.call(this),this.type="SpriteMaterial",this.color=new te.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(ee)},te.SpriteMaterial.prototype=Object.create(te.Material.prototype),te.SpriteMaterial.prototype.constructor=te.SpriteMaterial,te.SpriteMaterial.prototype.copy=function(ee){return te.Material.prototype.copy.call(this,ee),this.color.copy(ee.color),this.map=ee.map,this.rotation=ee.rotation,this},te.ShadowMaterial=function(){te.ShaderMaterial.call(this,{uniforms:te.UniformsUtils.merge([te.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:te.ShaderChunk.shadow_vert,fragmentShader:te.ShaderChunk.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(ee){this.uniforms.opacity.value=ee}}})},te.ShadowMaterial.prototype=Object.create(te.ShaderMaterial.prototype),te.ShadowMaterial.prototype.constructor=te.ShadowMaterial,te.Texture=function(ee,re,ie,ae,oe,le,he,ue,pe,ce){Object.defineProperty(this,"id",{value:te.TextureIdCount++}),this.uuid=te.Math.generateUUID(),this.name="",this.sourceFile="",this.image=ee!==void 0?ee:te.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=re!==void 0?re:te.Texture.DEFAULT_MAPPING,this.wrapS=ie!==void 0?ie:te.ClampToEdgeWrapping,this.wrapT=ae!==void 0?ae:te.ClampToEdgeWrapping,this.magFilter=oe!==void 0?oe:te.LinearFilter,this.minFilter=le!==void 0?le:te.LinearMipMapLinearFilter,this.anisotropy=pe!==void 0?pe:1,this.format=he!==void 0?he:te.RGBAFormat,this.type=ue!==void 0?ue:te.UnsignedByteType,this.offset=new te.Vector2(0,0),this.repeat=new te.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ce!==void 0?ce:te.LinearEncoding,this.version=0,this.onUpdate=null},te.Texture.DEFAULT_IMAGE=void 0,te.Texture.DEFAULT_MAPPING=te.UVMapping,te.Texture.prototype={constructor:te.Texture,set needsUpdate(ee){ee===!0&&this.version++},clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.image=ee.image,this.mipmaps=ee.mipmaps.slice(0),this.mapping=ee.mapping,this.wrapS=ee.wrapS,this.wrapT=ee.wrapT,this.magFilter=ee.magFilter,this.minFilter=ee.minFilter,this.anisotropy=ee.anisotropy,this.format=ee.format,this.type=ee.type,this.offset.copy(ee.offset),this.repeat.copy(ee.repeat),this.generateMipmaps=ee.generateMipmaps,this.premultiplyAlpha=ee.premultiplyAlpha,this.flipY=ee.flipY,this.unpackAlignment=ee.unpackAlignment,this.encoding=ee.encoding,this},toJSON:function(ee){if(ee.textures[this.uuid]!==void 0)return ee.textures[this.uuid];function re(oe){var le;return oe.toDataURL!==void 0?le=oe:(le=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),le.width=oe.width,le.height=oe.height,le.getContext("2d").drawImage(oe,0,0,oe.width,oe.height)),le.width>2048||le.height>2048?le.toDataURL("image/jpeg",.6):le.toDataURL("image/png")}var ie={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(this.image!==void 0){var ae=this.image;ae.uuid===void 0&&(ae.uuid=te.Math.generateUUID()),ee.images[ae.uuid]===void 0&&(ee.images[ae.uuid]={uuid:ae.uuid,url:re(ae)}),ie.image=ae.uuid}return ee.textures[this.uuid]=ie,ie},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(ee){if(this.mapping===te.UVMapping){if(ee.multiply(this.repeat),ee.add(this.offset),ee.x<0||ee.x>1)switch(this.wrapS){case te.RepeatWrapping:ee.x=ee.x-Math.floor(ee.x);break;case te.ClampToEdgeWrapping:ee.x=ee.x<0?0:1;break;case te.MirroredRepeatWrapping:Math.abs(Math.floor(ee.x)%2)===1?ee.x=Math.ceil(ee.x)-ee.x:ee.x=ee.x-Math.floor(ee.x);break}if(ee.y<0||ee.y>1)switch(this.wrapT){case te.RepeatWrapping:ee.y=ee.y-Math.floor(ee.y);break;case te.ClampToEdgeWrapping:ee.y=ee.y<0?0:1;break;case te.MirroredRepeatWrapping:Math.abs(Math.floor(ee.y)%2)===1?ee.y=Math.ceil(ee.y)-ee.y:ee.y=ee.y-Math.floor(ee.y);break}this.flipY&&(ee.y=1-ee.y)}}},Object.assign(te.Texture.prototype,te.EventDispatcher.prototype),te.TextureIdCount=0,te.DepthTexture=function(ee,re,ie,ae,oe,le,he,ue,pe){te.Texture.call(this,null,ae,oe,le,he,ue,te.DepthFormat,ie,pe),this.image={width:ee,height:re},this.type=ie!==void 0?ie:te.UnsignedShortType,this.magFilter=he!==void 0?he:te.NearestFilter,this.minFilter=ue!==void 0?ue:te.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},te.DepthTexture.prototype=Object.create(te.Texture.prototype),te.DepthTexture.prototype.constructor=te.DepthTexture,te.CanvasTexture=function(ee,re,ie,ae,oe,le,he,ue,pe){te.Texture.call(this,ee,re,ie,ae,oe,le,he,ue,pe),this.needsUpdate=!0},te.CanvasTexture.prototype=Object.create(te.Texture.prototype),te.CanvasTexture.prototype.constructor=te.CanvasTexture,te.CubeTexture=function(ee,re,ie,ae,oe,le,he,ue,pe,ce){ee=ee!==void 0?ee:[],re=re!==void 0?re:te.CubeReflectionMapping,te.Texture.call(this,ee,re,ie,ae,oe,le,he,ue,pe,ce),this.flipY=!1},te.CubeTexture.prototype=Object.create(te.Texture.prototype),te.CubeTexture.prototype.constructor=te.CubeTexture,Object.defineProperty(te.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(ee){this.image=ee}}),te.CompressedTexture=function(ee,re,ie,ae,oe,le,he,ue,pe,ce,fe,me){te.Texture.call(this,null,le,he,ue,pe,ce,ae,oe,fe,me),this.image={width:re,height:ie},this.mipmaps=ee,this.flipY=!1,this.generateMipmaps=!1},te.CompressedTexture.prototype=Object.create(te.Texture.prototype),te.CompressedTexture.prototype.constructor=te.CompressedTexture,te.DataTexture=function(ee,re,ie,ae,oe,le,he,ue,pe,ce,fe,me){te.Texture.call(this,null,le,he,ue,pe,ce,ae,oe,fe,me),this.image={data:ee,width:re,height:ie},this.magFilter=pe!==void 0?pe:te.NearestFilter,this.minFilter=ce!==void 0?ce:te.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},te.DataTexture.prototype=Object.create(te.Texture.prototype),te.DataTexture.prototype.constructor=te.DataTexture,te.VideoTexture=function(ee,re,ie,ae,oe,le,he,ue,pe){te.Texture.call(this,ee,re,ie,ae,oe,le,he,ue,pe),this.generateMipmaps=!1;var ce=this;function fe(){requestAnimationFrame(fe),ee.readyState>=ee.HAVE_CURRENT_DATA&&(ce.needsUpdate=!0)}fe()},te.VideoTexture.prototype=Object.create(te.Texture.prototype),te.VideoTexture.prototype.constructor=te.VideoTexture,te.Group=function(){te.Object3D.call(this),this.type="Group"},te.Group.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.Group}),te.Points=function(ee,re){te.Object3D.call(this),this.type="Points",this.geometry=ee!==void 0?ee:new te.BufferGeometry,this.material=re!==void 0?re:new te.PointsMaterial({color:Math.random()*16777215})},te.Points.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.Points,raycast:function(){var ee=new te.Matrix4,re=new te.Ray,ie=new te.Sphere;return function(oe,le){var he=this,ue=this.geometry,pe=this.matrixWorld,ce=oe.params.Points.threshold;if(ue.boundingSphere===null&&ue.computeBoundingSphere(),ie.copy(ue.boundingSphere),ie.applyMatrix4(pe),oe.ray.intersectsSphere(ie)===!1)return;ee.getInverse(pe),re.copy(oe.ray).applyMatrix4(ee);var fe=ce/((this.scale.x+this.scale.y+this.scale.z)/3),me=fe*fe,de=new te.Vector3;function ve(De,Fe){var Le=re.distanceSqToPoint(De);if(Le<me){var Ie=re.closestPointToPoint(De);Ie.applyMatrix4(pe);var Oe=oe.ray.origin.distanceTo(Ie);if(Oe<oe.near||Oe>oe.far)return;le.push({distance:Oe,distanceToRay:Math.sqrt(Le),point:Ie.clone(),index:Fe,face:null,object:he})}}if(ue instanceof te.BufferGeometry){var ge=ue.index,xe=ue.attributes,_e=xe.position.array;if(ge!==null)for(var ye=ge.array,we=0,be=ye.length;we<be;we++){var Se=ye[we];de.fromArray(_e,Se*3),ve(de,Se)}else for(var we=0,Ce=_e.length/3;we<Ce;we++)de.fromArray(_e,we*3),ve(de,we)}else for(var Te=ue.vertices,we=0,Ce=Te.length;we<Ce;we++)ve(Te[we],we)}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),te.Line=function(ee,re,ie){if(ie===1)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new te.LineSegments(ee,re);te.Object3D.call(this),this.type="Line",this.geometry=ee!==void 0?ee:new te.BufferGeometry,this.material=re!==void 0?re:new te.LineBasicMaterial({color:Math.random()*16777215})},te.Line.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.Line,raycast:function(){var ee=new te.Matrix4,re=new te.Ray,ie=new te.Sphere;return function(oe,le){var he=oe.linePrecision,ue=he*he,pe=this.geometry,ce=this.matrixWorld;if(pe.boundingSphere===null&&pe.computeBoundingSphere(),ie.copy(pe.boundingSphere),ie.applyMatrix4(ce),oe.ray.intersectsSphere(ie)!==!1){ee.getInverse(ce),re.copy(oe.ray).applyMatrix4(ee);var fe=new te.Vector3,me=new te.Vector3,de=new te.Vector3,ve=new te.Vector3,ge=this instanceof te.LineSegments?2:1;if(pe instanceof te.BufferGeometry){var xe=pe.index,_e=pe.attributes,ye=_e.position.array;if(xe!==null)for(var we=xe.array,be=0,Se=we.length-1;be<Se;be+=ge){var Ce=we[be],Te=we[be+1];fe.fromArray(ye,Ce*3),me.fromArray(ye,Te*3);var De=re.distanceSqToSegment(fe,me,ve,de);if(!(De>ue)){ve.applyMatrix4(this.matrixWorld);var Fe=oe.ray.origin.distanceTo(ve);Fe<oe.near||Fe>oe.far||le.push({distance:Fe,point:de.clone().applyMatrix4(this.matrixWorld),index:be,face:null,faceIndex:null,object:this})}}else for(var be=0,Se=ye.length/3-1;be<Se;be+=ge){fe.fromArray(ye,3*be),me.fromArray(ye,3*be+3);var De=re.distanceSqToSegment(fe,me,ve,de);if(!(De>ue)){ve.applyMatrix4(this.matrixWorld);var Fe=oe.ray.origin.distanceTo(ve);Fe<oe.near||Fe>oe.far||le.push({distance:Fe,point:de.clone().applyMatrix4(this.matrixWorld),index:be,face:null,faceIndex:null,object:this})}}}else if(pe instanceof te.Geometry)for(var Le=pe.vertices,Ie=Le.length,be=0;be<Ie-1;be+=ge){var De=re.distanceSqToSegment(Le[be],Le[be+1],ve,de);if(!(De>ue)){ve.applyMatrix4(this.matrixWorld);var Fe=oe.ray.origin.distanceTo(ve);Fe<oe.near||Fe>oe.far||le.push({distance:Fe,point:de.clone().applyMatrix4(this.matrixWorld),index:be,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),te.LineSegments=function(ee,re){te.Line.call(this,ee,re),this.type="LineSegments"},te.LineSegments.prototype=Object.assign(Object.create(te.Line.prototype),{constructor:te.LineSegments}),te.Mesh=function(ee,re){te.Object3D.call(this),this.type="Mesh",this.geometry=ee!==void 0?ee:new te.BufferGeometry,this.material=re!==void 0?re:new te.MeshBasicMaterial({color:Math.random()*16777215}),this.drawMode=te.TrianglesDrawMode,this.updateMorphTargets()},te.Mesh.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.Mesh,setDrawMode:function(ee){this.drawMode=ee},copy:function(ee){return te.Object3D.prototype.copy.call(this,ee),this.drawMode=ee.drawMode,this},updateMorphTargets:function(){if(this.geometry.morphTargets!==void 0&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var ee=0,re=this.geometry.morphTargets.length;ee<re;ee++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[ee].name]=ee}},getMorphTargetIndexByName:function(ee){return this.morphTargetDictionary[ee]!==void 0?this.morphTargetDictionary[ee]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+ee+" does not exist. Returning 0."),0)},raycast:function(){var ee=new te.Matrix4,re=new te.Ray,ie=new te.Sphere,ae=new te.Vector3,oe=new te.Vector3,le=new te.Vector3,he=new te.Vector3,ue=new te.Vector3,pe=new te.Vector3,ce=new te.Vector2,fe=new te.Vector2,me=new te.Vector2,de=new te.Vector3,ve=new te.Vector3,ge=new te.Vector3;function xe(we,be,Se,Ce,Te,De,Fe){return te.Triangle.barycoordFromPoint(we,be,Se,Ce,de),Te.multiplyScalar(de.x),De.multiplyScalar(de.y),Fe.multiplyScalar(de.z),Te.add(De).add(Fe),Te.clone()}function _e(we,be,Se,Ce,Te,De,Fe){var Le,Ie=we.material;if(Ie.side===te.BackSide?Le=Se.intersectTriangle(De,Te,Ce,!0,Fe):Le=Se.intersectTriangle(Ce,Te,De,Ie.side!==te.DoubleSide,Fe),Le===null)return null;ge.copy(Fe),ge.applyMatrix4(we.matrixWorld);var Oe=be.ray.origin.distanceTo(ge);return Oe<be.near||Oe>be.far?null:{distance:Oe,point:ge.clone(),object:we}}function ye(we,be,Se,Ce,Te,De,Fe,Le){ae.fromArray(Ce,De*3),oe.fromArray(Ce,Fe*3),le.fromArray(Ce,Le*3);var Ie=_e(we,be,Se,ae,oe,le,ve);return Ie&&(Te&&(ce.fromArray(Te,De*2),fe.fromArray(Te,Fe*2),me.fromArray(Te,Le*2),Ie.uv=xe(ve,ae,oe,le,ce,fe,me)),Ie.face=new te.Face3(De,Fe,Le,te.Triangle.normal(ae,oe,le)),Ie.faceIndex=De),Ie}return function(be,Se){var Ce=this.geometry,Te=this.material,De=this.matrixWorld;if(Te!==void 0&&(Ce.boundingSphere===null&&Ce.computeBoundingSphere(),ie.copy(Ce.boundingSphere),ie.applyMatrix4(De),be.ray.intersectsSphere(ie)!==!1&&(ee.getInverse(De),re.copy(be.ray).applyMatrix4(ee),!(Ce.boundingBox!==null&&re.intersectsBox(Ce.boundingBox)===!1)))){var Fe,Le;if(Ce instanceof te.BufferGeometry){var Ie,Oe,ke,Pe=Ce.index,Me=Ce.attributes,Ee=Me.position.array;if(Me.uv!==void 0&&(Fe=Me.uv.array),Pe!==null)for(var Ae=Pe.array,Re=0,Be=Ae.length;Re<Be;Re+=3)Ie=Ae[Re],Oe=Ae[Re+1],ke=Ae[Re+2],Le=ye(this,be,re,Ee,Fe,Ie,Oe,ke),Le&&(Le.faceIndex=Math.floor(Re/3),Se.push(Le));else for(var Re=0,Be=Ee.length;Re<Be;Re+=9)Ie=Re/3,Oe=Ie+1,ke=Ie+2,Le=ye(this,be,re,Ee,Fe,Ie,Oe,ke),Le&&(Le.index=Ie,Se.push(Le))}else if(Ce instanceof te.Geometry){var ze,je,$e,We=Te instanceof te.MultiMaterial,Ge=We===!0?Te.materials:null,He=Ce.vertices,Ze=Ce.faces,Ye=Ce.faceVertexUvs[0];Ye.length>0&&(Fe=Ye);for(var Qe=0,Je=Ze.length;Qe<Je;Qe++){var Ne=Ze[Qe],Ke=We===!0?Ge[Ne.materialIndex]:Te;if(Ke!==void 0){if(ze=He[Ne.a],je=He[Ne.b],$e=He[Ne.c],Ke.morphTargets===!0){var ht=Ce.morphTargets,_t=this.morphTargetInfluences;ae.set(0,0,0),oe.set(0,0,0),le.set(0,0,0);for(var pt=0,qe=ht.length;pt<qe;pt++){var Dt=_t[pt];if(Dt!==0){var wt=ht[pt].vertices;ae.addScaledVector(he.subVectors(wt[Ne.a],ze),Dt),oe.addScaledVector(ue.subVectors(wt[Ne.b],je),Dt),le.addScaledVector(pe.subVectors(wt[Ne.c],$e),Dt)}}ae.add(ze),oe.add(je),le.add($e),ze=ae,je=oe,$e=le}if(Le=_e(this,be,re,ze,je,$e,ve),Le){if(Fe){var vt=Fe[Qe];ce.copy(vt[0]),fe.copy(vt[1]),me.copy(vt[2]),Le.uv=xe(ve,ze,je,$e,ce,fe,me)}Le.face=Ne,Le.faceIndex=Qe,Se.push(Le)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),te.Bone=function(ee){te.Object3D.call(this),this.type="Bone",this.skin=ee},te.Bone.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.Bone,copy:function(ee){return te.Object3D.prototype.copy.call(this,ee),this.skin=ee.skin,this}}),te.Skeleton=function(ee,re,ie){if(this.useVertexTexture=ie!==void 0?ie:!0,this.identityMatrix=new te.Matrix4,ee=ee||[],this.bones=ee.slice(0),this.useVertexTexture){var ae=Math.sqrt(this.bones.length*4);ae=te.Math.nextPowerOfTwo(Math.ceil(ae)),ae=Math.max(ae,4),this.boneTextureWidth=ae,this.boneTextureHeight=ae,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new te.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,te.RGBAFormat,te.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(re===void 0)this.calculateInverses();else if(this.bones.length===re.length)this.boneInverses=re.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var oe=0,le=this.bones.length;oe<le;oe++)this.boneInverses.push(new te.Matrix4)}},Object.assign(te.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var ee=0,re=this.bones.length;ee<re;ee++){var ie=new te.Matrix4;this.bones[ee]&&ie.getInverse(this.bones[ee].matrixWorld),this.boneInverses.push(ie)}},pose:function(){for(var ee,re=0,ie=this.bones.length;re<ie;re++)ee=this.bones[re],ee&&ee.matrixWorld.getInverse(this.boneInverses[re]);for(var re=0,ie=this.bones.length;re<ie;re++)ee=this.bones[re],ee&&(ee.parent instanceof te.Bone?(ee.matrix.getInverse(ee.parent.matrixWorld),ee.matrix.multiply(ee.matrixWorld)):ee.matrix.copy(ee.matrixWorld),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale))},update:function(){var ee=new te.Matrix4;return function(){for(var ie=0,ae=this.bones.length;ie<ae;ie++){var oe=this.bones[ie]?this.bones[ie].matrixWorld:this.identityMatrix;ee.multiplyMatrices(oe,this.boneInverses[ie]),ee.toArray(this.boneMatrices,ie*16)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new te.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}}),te.SkinnedMesh=function(ee,re,ie){te.Mesh.call(this,ee,re),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new te.Matrix4,this.bindMatrixInverse=new te.Matrix4;var ae=[];if(this.geometry&&this.geometry.bones!==void 0){for(var oe,le,he=0,ue=this.geometry.bones.length;he<ue;++he)le=this.geometry.bones[he],oe=new te.Bone(this),ae.push(oe),oe.name=le.name,oe.position.fromArray(le.pos),oe.quaternion.fromArray(le.rotq),le.scl!==void 0&&oe.scale.fromArray(le.scl);for(var he=0,ue=this.geometry.bones.length;he<ue;++he)le=this.geometry.bones[he],le.parent!==-1&&le.parent!==null&&ae[le.parent]!==void 0?ae[le.parent].add(ae[he]):this.add(ae[he])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new te.Skeleton(ae,void 0,ie),this.matrixWorld)},te.SkinnedMesh.prototype=Object.assign(Object.create(te.Mesh.prototype),{constructor:te.SkinnedMesh,bind:function(ee,re){this.skeleton=ee,re===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),re=this.matrixWorld),this.bindMatrix.copy(re),this.bindMatrixInverse.getInverse(re)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof te.Geometry)for(var ee=0;ee<this.geometry.skinWeights.length;ee++){var re=this.geometry.skinWeights[ee],ie=1/re.lengthManhattan();ie!==1/0?re.multiplyScalar(ie):re.set(1,0,0,0)}else if(this.geometry instanceof te.BufferGeometry)for(var ae=new te.Vector4,oe=this.geometry.attributes.skinWeight,ee=0;ee<oe.count;ee++){ae.x=oe.getX(ee),ae.y=oe.getY(ee),ae.z=oe.getZ(ee),ae.w=oe.getW(ee);var ie=1/ae.lengthManhattan();ie!==1/0?ae.multiplyScalar(ie):ae.set(1,0,0,0),oe.setXYZW(ee,ae.x,ae.y,ae.z,ae.w)}},updateMatrixWorld:function(ee){te.Mesh.prototype.updateMatrixWorld.call(this,!0),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),te.LOD=function(){te.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})},te.LOD.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.LOD,copy:function(ee){te.Object3D.prototype.copy.call(this,ee,!1);for(var re=ee.levels,ie=0,ae=re.length;ie<ae;ie++){var oe=re[ie];this.addLevel(oe.object.clone(),oe.distance)}return this},addLevel:function(ee,re){re===void 0&&(re=0),re=Math.abs(re);for(var ie=this.levels,ae=0;ae<ie.length&&!(re<ie[ae].distance);ae++);ie.splice(ae,0,{distance:re,object:ee}),this.add(ee)},getObjectForDistance:function(ee){for(var re=this.levels,ie=1,ae=re.length;ie<ae&&!(ee<re[ie].distance);ie++);return re[ie-1].object},raycast:function(){var ee=new te.Vector3;return function(ie,ae){ee.setFromMatrixPosition(this.matrixWorld);var oe=ie.ray.origin.distanceTo(ee);this.getObjectForDistance(oe).raycast(ie,ae)}}(),update:function(){var ee=new te.Vector3,re=new te.Vector3;return function(ae){var oe=this.levels;if(oe.length>1){ee.setFromMatrixPosition(ae.matrixWorld),re.setFromMatrixPosition(this.matrixWorld);var le=ee.distanceTo(re);oe[0].object.visible=!0;for(var he=1,ue=oe.length;he<ue&&le>=oe[he].distance;he++)oe[he-1].object.visible=!1,oe[he].object.visible=!0;for(;he<ue;he++)oe[he].object.visible=!1}}}(),toJSON:function(ee){var re=te.Object3D.prototype.toJSON.call(this,ee);re.object.levels=[];for(var ie=this.levels,ae=0,oe=ie.length;ae<oe;ae++){var le=ie[ae];re.object.levels.push({object:le.object.uuid,distance:le.distance})}return re}}),te.Sprite=function(ee){te.Object3D.call(this),this.type="Sprite",this.material=ee!==void 0?ee:new te.SpriteMaterial},te.Sprite.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.Sprite,raycast:function(){var ee=new te.Vector3;return function(ie,ae){ee.setFromMatrixPosition(this.matrixWorld);var oe=ie.ray.distanceSqToPoint(ee),le=this.scale.x*this.scale.y/4;oe>le||ae.push({distance:Math.sqrt(oe),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),te.LensFlare=function(ee,re,ie,ae,oe){te.Object3D.call(this),this.lensFlares=[],this.positionScreen=new te.Vector3,this.customUpdateCallback=void 0,ee!==void 0&&this.add(ee,re,ie,ae,oe)},te.LensFlare.prototype=Object.assign(Object.create(te.Object3D.prototype),{constructor:te.LensFlare,copy:function(ee){te.Object3D.prototype.copy.call(this,ee),this.positionScreen.copy(ee.positionScreen),this.customUpdateCallback=ee.customUpdateCallback;for(var re=0,ie=ee.lensFlares.length;re<ie;re++)this.lensFlares.push(ee.lensFlares[re]);return this},add:function(ee,re,ie,ae,oe,le){re===void 0&&(re=-1),ie===void 0&&(ie=0),le===void 0&&(le=1),oe===void 0&&(oe=new te.Color(16777215)),ae===void 0&&(ae=te.NormalBlending),ie=Math.min(ie,Math.max(0,ie)),this.lensFlares.push({texture:ee,size:re,distance:ie,x:0,y:0,z:0,scale:1,rotation:0,opacity:le,color:oe,blending:ae})},updateLensFlares:function(){var ee,re=this.lensFlares.length,ie,ae=-this.positionScreen.x*2,oe=-this.positionScreen.y*2;for(ee=0;ee<re;ee++)ie=this.lensFlares[ee],ie.x=this.positionScreen.x+ae*ie.distance,ie.y=this.positionScreen.y+oe*ie.distance,ie.wantedRotation=ie.x*Math.PI*.25,ie.rotation+=(ie.wantedRotation-ie.rotation)*.25}}),te.Scene=function(){te.Object3D.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},te.Scene.prototype=Object.create(te.Object3D.prototype),te.Scene.prototype.constructor=te.Scene,te.Scene.prototype.copy=function(ee,re){return te.Object3D.prototype.copy.call(this,ee,re),ee.background!==null&&(this.background=ee.background.clone()),ee.fog!==null&&(this.fog=ee.fog.clone()),ee.overrideMaterial!==null&&(this.overrideMaterial=ee.overrideMaterial.clone()),this.autoUpdate=ee.autoUpdate,this.matrixAutoUpdate=ee.matrixAutoUpdate,this},te.Fog=function(ee,re,ie){this.name="",this.color=new te.Color(ee),this.near=re!==void 0?re:1,this.far=ie!==void 0?ie:1e3},te.Fog.prototype.clone=function(){return new te.Fog(this.color.getHex(),this.near,this.far)},te.FogExp2=function(ee,re){this.name="",this.color=new te.Color(ee),this.density=re!==void 0?re:25e-5},te.FogExp2.prototype.clone=function(){return new te.FogExp2(this.color.getHex(),this.density)},te.ShaderChunk={},te.ShaderChunk.alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif
`,te.ShaderChunk.alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif
`,te.ShaderChunk.alphatest_fragment=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif
`,te.ShaderChunk.aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( PHYSICAL )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif
`,te.ShaderChunk.aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,te.ShaderChunk.begin_vertex=`
vec3 transformed = vec3( position );
`,te.ShaderChunk.beginnormal_vertex=`
vec3 objectNormal = vec3( normal );
`,te.ShaderChunk.bsdfs=`bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {
	return any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
		if( decayExponent > 0.0 ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
			float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
			float maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
			return distanceFalloff * maxDistanceCutoffFactor;
#else
			return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
#endif
		}
		return 1.0;
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;
	return specularColor * AB.x + AB.y;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
`,te.ShaderChunk.bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = dFdx( surf_pos );
		vec3 vSigmaY = dFdy( surf_pos );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif
`,te.ShaderChunk.clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	for ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {
		vec4 plane = clippingPlanes[ i ];
		if ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;
	}
#endif
`,te.ShaderChunk.clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	#if ! defined( PHYSICAL ) && ! defined( PHONG )
		varying vec3 vViewPosition;
	#endif
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif
`,te.ShaderChunk.clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )
	varying vec3 vViewPosition;
#endif
`,te.ShaderChunk.clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )
	vViewPosition = - mvPosition.xyz;
#endif
`,te.ShaderChunk.color_fragment=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,te.ShaderChunk.color_pars_fragment=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif
`,te.ShaderChunk.color_pars_vertex=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,te.ShaderChunk.color_vertex=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,te.ShaderChunk.common=`#define PI 3.14159265359
#define PI2 6.28318530718
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#define saturate(a) clamp( a, 0.0, 1.0 )
#define whiteCompliment(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
`,te.ShaderChunk.cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_textureSize (1024.0)
int getFaceFromDirection(vec3 direction) {
	vec3 absDirection = abs(direction);
	int face = -1;
	if( absDirection.x > absDirection.z ) {
		if(absDirection.x > absDirection.y )
			face = direction.x > 0.0 ? 0 : 3;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	else {
		if(absDirection.z > absDirection.y )
			face = direction.z > 0.0 ? 2 : 5;
		else
			face = direction.y > 0.0 ? 1 : 4;
	}
	return face;
}
#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)
#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))
vec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {
	float scale = exp2(cubeUV_maxLods1 - roughnessLevel);
	float dxRoughness = dFdx(roughness);
	float dyRoughness = dFdy(roughness);
	vec3 dx = dFdx( vec * scale * dxRoughness );
	vec3 dy = dFdy( vec * scale * dyRoughness );
	float d = max( dot( dx, dx ), dot( dy, dy ) );
	d = clamp(d, 1.0, cubeUV_rangeClamp);
	float mipLevel = 0.5 * log2(d);
	return vec2(floor(mipLevel), fract(mipLevel));
}
#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)
#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)
vec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {
	mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;
	float a = 16.0 * cubeUV_rcpTextureSize;
	vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );
	vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;
	float powScale = exp2_packed.x * exp2_packed.y;
	float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;
	float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;
	bool bRes = mipLevel == 0.0;
	scale =  bRes && (scale < a) ? a : scale;
	vec3 r;
	vec2 offset;
	int face = getFaceFromDirection(direction);
	float rcpPowScale = 1.0 / powScale;
	if( face == 0) {
		r = vec3(direction.x, -direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;
	}
	else if( face == 1) {
		r = vec3(direction.y, direction.x, direction.z);
		offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;
	}
	else if( face == 2) {
		r = vec3(direction.z, direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;
	}
	else if( face == 3) {
		r = vec3(direction.x, direction.z, direction.y);
		offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;
	}
	else if( face == 4) {
		r = vec3(direction.y, direction.x, -direction.z);
		offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;
	}
	else {
		r = vec3(direction.z, -direction.x, direction.y);
		offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);
		offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;
	}
	r = normalize(r);
	float texelOffset = 0.5 * cubeUV_rcpTextureSize;
	vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;
	vec2 base = offset + vec2( texelOffset );
	return base + s * ( scale - 2.0 * texelOffset );
}
#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)
vec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {
	float roughnessVal = roughness* cubeUV_maxLods3;
	float r1 = floor(roughnessVal);
	float r2 = r1 + 1.0;
	float t = fract(roughnessVal);
	vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);
	float s = mipInfo.y;
	float level0 = mipInfo.x;
	float level1 = level0 + 1.0;
	level1 = level1 > 5.0 ? 5.0 : level1;
	level0 += min( floor( s + 0.5 ), 5.0 );
	vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);
	vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));
	vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);
	vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));
	vec4 result = mix(color10, color20, t);
	return vec4(result.rgb, 1.0);
}
#endif
`,te.ShaderChunk.defaultnormal_vertex=`#ifdef FLIP_SIDED
	objectNormal = -objectNormal;
#endif
vec3 transformedNormal = normalMatrix * objectNormal;
`,te.ShaderChunk.displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );
#endif
`,te.ShaderChunk.displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif
`,te.ShaderChunk.emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif
`,te.ShaderChunk.emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif
`,te.ShaderChunk.encodings_pars_fragment=`
vec4 LinearToLinear( in vec4 value ) {
  return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );
}
vec4 sRGBToLinear( in vec4 value ) {
  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );
}
vec4 LinearTosRGB( in vec4 value ) {
  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );
}
vec4 RGBEToLinear( in vec4 value ) {
  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
  float maxComponent = max( max( value.r, value.g ), value.b );
  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
  return vec4( value.xyz * value.w * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
  float maxRGB = max( value.x, max( value.g, value.b ) );
  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );
  M            = ceil( M * 255.0 ) / 255.0;
  return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
    float maxRGB = max( value.x, max( value.g, value.b ) );
    float D      = max( maxRange / maxRGB, 1.0 );
    D            = min( floor( D ) / 255.0, 1.0 );
    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;
  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));
  vec4 vResult;
  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
  vResult.w = fract(Le);
  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;
  return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
  float Le = value.z * 255.0 + value.w;
  vec3 Xp_Y_XYZp;
  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);
  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;
  return vec4( max(vRGB, 0.0), 1.0 );
}
`,te.ShaderChunk.encodings_fragment=`  gl_FragColor = linearToOutputTexel( gl_FragColor );
`,te.ShaderChunk.envmap_fragment=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToVertex, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		vec2 sampleUV;
		sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );
		sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		vec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#endif
	envColor = envMapTexelToLinear( envColor );
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif
`,te.ShaderChunk.envmap_pars_fragment=`#if defined( USE_ENVMAP ) || defined( PHYSICAL )
	uniform float reflectivity;
	uniform float envMapIntenstiy;
#endif
#ifdef USE_ENVMAP
	#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )
		varying vec3 vWorldPosition;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	uniform float flipEnvMap;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif
`,te.ShaderChunk.envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif
`,te.ShaderChunk.envmap_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif
`,te.ShaderChunk.fog_fragment=`#ifdef USE_FOG
	#ifdef USE_LOGDEPTHBUF_EXT
		float depth = gl_FragDepthEXT / gl_FragCoord.w;
	#else
		float depth = gl_FragCoord.z / gl_FragCoord.w;
	#endif
	#ifdef FOG_EXP2
		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, depth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif
`,te.ShaderChunk.fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,te.ShaderChunk.lightmap_fragment=`#ifdef USE_LIGHTMAP
	reflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
#endif
`,te.ShaderChunk.lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,te.ShaderChunk.lights_lambert_vertex=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
#if NUM_POINT_LIGHTS > 0
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_DIR_LIGHTS > 0
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
#endif
`,te.ShaderChunk.lights_pars=`uniform vec3 ambientLightColor;
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		if ( testLightInRange( lightDistance, pointLight.distance ) ) {
			directLight.color = pointLight.color;
			directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
		int shadow;
		float shadowBias;
		float shadowRadius;
		vec2 shadowMapSize;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif
#if defined( USE_ENVMAP ) && defined( PHYSICAL )
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		#include <normal_flip>
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			vec4 envMapColor = textureCubeUV( queryVec, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );
		#else
			vec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );
		#endif
		#include <normal_flip>
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			vec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV;
			sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );
			sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif
`,te.ShaderChunk.lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;
`,te.ShaderChunk.lights_phong_pars_fragment=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)
`,te.ShaderChunk.lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );
#ifdef STANDARD
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
	material.clearCoat = saturate( clearCoat );	material.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );
#endif
`,te.ShaderChunk.lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
	#ifndef STANDARD
		float clearCoat;
		float clearCoatRoughness;
	#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearCoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifndef STANDARD
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif
	reflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );
	reflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	#ifndef STANDARD
		reflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );
	#endif
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	#ifndef STANDARD
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		float dotNL = dotNV;
		float clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );
	#else
		float clearCoatDHR = 0.0;
	#endif
	reflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );
	#ifndef STANDARD
		reflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );
	#endif
}
#define RE_Direct				RE_Direct_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )
#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}
`,te.ShaderChunk.lights_template=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = normalize( vViewPosition );
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#ifdef USE_SHADOWMAP
		directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
#endif
#if defined( RE_IndirectDiffuse )
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#ifdef USE_LIGHTMAP
		vec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
	#endif
	#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )
	 	irradiance += getLightProbeIndirectIrradiance( geometry, 8 );
	#endif
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	vec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );
	#ifndef STANDARD
		vec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );
	#else
		vec3 clearCoatRadiance = vec3( 0.0 );
	#endif
		
	RE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );
#endif
`,te.ShaderChunk.logdepthbuf_fragment=`#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)
	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;
#endif`,te.ShaderChunk.logdepthbuf_pars_fragment=`#ifdef USE_LOGDEPTHBUF
	uniform float logDepthBufFC;
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
	#endif
#endif
`,te.ShaderChunk.logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
	#endif
	uniform float logDepthBufFC;
#endif`,te.ShaderChunk.logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
	#else
		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;
	#endif
#endif
`,te.ShaderChunk.map_fragment=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif
`,te.ShaderChunk.map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif
`,te.ShaderChunk.map_particle_fragment=`#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
`,te.ShaderChunk.map_particle_pars_fragment=`#ifdef USE_MAP
	uniform vec4 offsetRepeat;
	uniform sampler2D map;
#endif
`,te.ShaderChunk.metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.r;
#endif
`,te.ShaderChunk.metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,te.ShaderChunk.morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];
	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];
	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];
	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];
#endif
`,te.ShaderChunk.morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,te.ShaderChunk.morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];
	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];
	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];
	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];
	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];
	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];
	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];
	#endif
#endif
`,te.ShaderChunk.normal_flip=`#ifdef DOUBLE_SIDED
	float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );
#else
	float flipNormal = 1.0;
#endif
`,te.ShaderChunk.normal_fragment=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal ) * flipNormal;
#endif
#ifdef USE_NORMALMAP
	normal = perturbNormal2Arb( -vViewPosition, normal );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif
`,te.ShaderChunk.normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 S = normalize( q0 * st1.t - q1 * st0.t );
		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );
		vec3 N = normalize( surf_norm );
		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
		mapN.xy = normalScale * mapN.xy;
		mat3 tsn = mat3( S, T, N );
		return normalize( tsn * mapN );
	}
#endif
`,te.ShaderChunk.packing=`vec3 packNormalToRGB( const in vec3 normal ) {
  return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
  return 1.0 - 2.0 * rgb.xyz;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
  return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
  return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
  return ( near * far ) / ( ( far - near ) * invClipZ - far );
}
`,te.ShaderChunk.premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif
`,te.ShaderChunk.project_vertex=`#ifdef USE_SKINNING
	vec4 mvPosition = modelViewMatrix * skinned;
#else
	vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );
#endif
gl_Position = projectionMatrix * mvPosition;
`,te.ShaderChunk.roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.r;
#endif
`,te.ShaderChunk.roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,te.ShaderChunk.shadowmap_pars_fragment=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];
	#endif
	#if NUM_SPOT_LIGHTS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];
	#endif
	#if NUM_POINT_LIGHTS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {
		const vec2 offset = vec2( 0.0, 1.0 );
		vec2 texelSize = vec2( 1.0 ) / size;
		vec2 centroidUV = floor( uv * size + 0.5 ) / size;
		float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );
		float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );
		float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );
		float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );
		vec2 f = fract( uv * size + 0.5 );
		float a = mix( lb, lt, f.y );
		float b = mix( rb, rt, f.y );
		float c = mix( a, b, f.x );
		return c;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			return (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			return (
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return 1.0;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		float dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif
`,te.ShaderChunk.shadowmap_pars_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];
	#endif
	#if NUM_SPOT_LIGHTS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];
	#endif
	#if NUM_POINT_LIGHTS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];
	#endif
#endif
`,te.ShaderChunk.shadowmap_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_SPOT_LIGHTS > 0
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#endif
	#if NUM_POINT_LIGHTS > 0
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#endif
#endif
`,te.ShaderChunk.shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHTS > 0
	DirectionalLight directionalLight;
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		shadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_SPOT_LIGHTS > 0
	SpotLight spotLight;
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		shadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#if NUM_POINT_LIGHTS > 0
	PointLight pointLight;
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		shadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;
	}
	#endif
	#endif
	return shadow;
}
`,te.ShaderChunk.skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,te.ShaderChunk.skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform sampler2D boneTexture;
		uniform int boneTextureWidth;
		uniform int boneTextureHeight;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureWidth ) );
			float y = floor( j / float( boneTextureWidth ) );
			float dx = 1.0 / float( boneTextureWidth );
			float dy = 1.0 / float( boneTextureHeight );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif
`,te.ShaderChunk.skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	skinned  = bindMatrixInverse * skinned;
#endif
`,te.ShaderChunk.skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
#endif
`,te.ShaderChunk.specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,te.ShaderChunk.specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,te.ShaderChunk.tonemapping_fragment=`#if defined( TONE_MAPPING )
  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif
`,te.ShaderChunk.tonemapping_pars_fragment=`#define saturate(a) clamp( a, 0.0, 1.0 )
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
  return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
  color *= toneMappingExposure;
  return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
  color *= toneMappingExposure;
  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
  color *= toneMappingExposure;
  color = max( vec3( 0.0 ), color - 0.004 );
  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
`,te.ShaderChunk.uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,te.ShaderChunk.uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
#endif`,te.ShaderChunk.uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = uv2;
#endif`,te.ShaderChunk.uv_pars_fragment=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	varying vec2 vUv;
#endif`,te.ShaderChunk.uv_pars_vertex=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	varying vec2 vUv;
	uniform vec4 offsetRepeat;
#endif
`,te.ShaderChunk.uv_vertex=`#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )
	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;
#endif`,te.ShaderChunk.worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )
	#ifdef USE_SKINNING
		vec4 worldPosition = modelMatrix * skinned;
	#else
		vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );
	#endif
#endif
`,te.UniformsUtils={merge:function(ee){for(var re={},ie=0;ie<ee.length;ie++){var ae=this.clone(ee[ie]);for(var oe in ae)re[oe]=ae[oe]}return re},clone:function(ee){var re={};for(var ie in ee){re[ie]={};for(var ae in ee[ie]){var oe=ee[ie][ae];oe instanceof te.Color||oe instanceof te.Vector2||oe instanceof te.Vector3||oe instanceof te.Vector4||oe instanceof te.Matrix3||oe instanceof te.Matrix4||oe instanceof te.Texture?re[ie][ae]=oe.clone():Array.isArray(oe)?re[ie][ae]=oe.slice():re[ie][ae]=oe}}return re}},te.UniformsLib={common:{diffuse:{value:new te.Color(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new te.Vector4(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new te.Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new te.Color(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}}},points:{diffuse:{value:new te.Color(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new te.Vector4(0,0,1,1)}}},te.ShaderChunk.cube_frag=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldPosition;
#include <common>
void main() {
	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );
	gl_FragColor.a *= opacity;
}
`,te.ShaderChunk.cube_vert=`varying vec3 vWorldPosition;
#include <common>
void main() {
	vWorldPosition = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}
`,te.ShaderChunk.depth_frag=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( gl_FragCoord.z );
	#endif
}
`,te.ShaderChunk.depth_vert=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#include <begin_vertex>
	#include <displacementmap_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}
`,te.ShaderChunk.distanceRGBA_frag=`uniform vec3 lightPos;
varying vec4 vWorldPosition;
#include <common>
#include <packing>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	gl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );
}
`,te.ShaderChunk.distanceRGBA_vert=`varying vec4 vWorldPosition;
#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <skinbase_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition;
}
`,te.ShaderChunk.equirect_frag=`uniform sampler2D tEquirect;
uniform float tFlip;
varying vec3 vWorldPosition;
#include <common>
void main() {
	vec3 direction = normalize( vWorldPosition );
	vec2 sampleUV;
	sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );
	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;
	gl_FragColor = texture2D( tEquirect, sampleUV );
}
`,te.ShaderChunk.equirect_vert=`varying vec3 vWorldPosition;
#include <common>
void main() {
	vWorldPosition = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}
`,te.ShaderChunk.linedashed_frag=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,te.ShaderChunk.linedashed_vert=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	vLineDistance = scale * lineDistance;
	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}
`,te.ShaderChunk.meshbasic_frag=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight;
	reflectedLight.directDiffuse = vec3( 0.0 );
	reflectedLight.directSpecular = vec3( 0.0 );
	reflectedLight.indirectDiffuse = diffuseColor.rgb;
	reflectedLight.indirectSpecular = vec3( 0.0 );
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <normal_flip>
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,te.ShaderChunk.meshbasic_vert=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
}
`,te.ShaderChunk.meshlambert_frag=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
#endif
#include <common>
#include <packing>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <bsdfs>
#include <lights_pars>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	reflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <normal_flip>
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,te.ShaderChunk.meshlambert_vert=`#define LAMBERT
varying vec3 vLightFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
}
`,te.ShaderChunk.meshphong_frag=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_flip>
	#include <normal_fragment>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_template>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,te.ShaderChunk.meshphong_vert=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <displacementmap_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
}
`,te.ShaderChunk.meshphysical_frag=`#define PHYSICAL
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifndef STANDARD
	uniform float clearCoat;
	uniform float clearCoatRoughness;
#endif
uniform float envMapIntensity;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <packing>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <lights_pars>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_flip>
	#include <normal_fragment>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_template>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,te.ShaderChunk.meshphysical_vert=`#define PHYSICAL
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <displacementmap_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
}
`,te.ShaderChunk.normal_frag=`uniform float opacity;
varying vec3 vNormal;
#include <common>
#include <packing>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	gl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );
	#include <logdepthbuf_fragment>
}
`,te.ShaderChunk.normal_vert=`varying vec3 vNormal;
#include <common>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vNormal = normalize( normalMatrix * normal );
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}
`,te.ShaderChunk.points_frag=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <premultiplied_alpha_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}
`,te.ShaderChunk.points_vert=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <project_vertex>
	#ifdef USE_SIZEATTENUATION
		gl_PointSize = size * ( scale / - mvPosition.z );
	#else
		gl_PointSize = size;
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
}
`,te.ShaderChunk.shadow_frag=`uniform float opacity;
#include <common>
#include <packing>
#include <bsdfs>
#include <lights_pars>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );
}
`,te.ShaderChunk.shadow_vert=`#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
}
`,te.ShaderLib={basic:{uniforms:te.UniformsUtils.merge([te.UniformsLib.common,te.UniformsLib.aomap,te.UniformsLib.fog]),vertexShader:te.ShaderChunk.meshbasic_vert,fragmentShader:te.ShaderChunk.meshbasic_frag},lambert:{uniforms:te.UniformsUtils.merge([te.UniformsLib.common,te.UniformsLib.aomap,te.UniformsLib.lightmap,te.UniformsLib.emissivemap,te.UniformsLib.fog,te.UniformsLib.lights,{emissive:{value:new te.Color(0)}}]),vertexShader:te.ShaderChunk.meshlambert_vert,fragmentShader:te.ShaderChunk.meshlambert_frag},phong:{uniforms:te.UniformsUtils.merge([te.UniformsLib.common,te.UniformsLib.aomap,te.UniformsLib.lightmap,te.UniformsLib.emissivemap,te.UniformsLib.bumpmap,te.UniformsLib.normalmap,te.UniformsLib.displacementmap,te.UniformsLib.fog,te.UniformsLib.lights,{emissive:{value:new te.Color(0)},specular:{value:new te.Color(1118481)},shininess:{value:30}}]),vertexShader:te.ShaderChunk.meshphong_vert,fragmentShader:te.ShaderChunk.meshphong_frag},standard:{uniforms:te.UniformsUtils.merge([te.UniformsLib.common,te.UniformsLib.aomap,te.UniformsLib.lightmap,te.UniformsLib.emissivemap,te.UniformsLib.bumpmap,te.UniformsLib.normalmap,te.UniformsLib.displacementmap,te.UniformsLib.roughnessmap,te.UniformsLib.metalnessmap,te.UniformsLib.fog,te.UniformsLib.lights,{emissive:{value:new te.Color(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:te.ShaderChunk.meshphysical_vert,fragmentShader:te.ShaderChunk.meshphysical_frag},points:{uniforms:te.UniformsUtils.merge([te.UniformsLib.points,te.UniformsLib.fog]),vertexShader:te.ShaderChunk.points_vert,fragmentShader:te.ShaderChunk.points_frag},dashed:{uniforms:te.UniformsUtils.merge([te.UniformsLib.common,te.UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:te.ShaderChunk.linedashed_vert,fragmentShader:te.ShaderChunk.linedashed_frag},depth:{uniforms:te.UniformsUtils.merge([te.UniformsLib.common,te.UniformsLib.displacementmap]),vertexShader:te.ShaderChunk.depth_vert,fragmentShader:te.ShaderChunk.depth_frag},normal:{uniforms:{opacity:{value:1}},vertexShader:te.ShaderChunk.normal_vert,fragmentShader:te.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:te.ShaderChunk.cube_vert,fragmentShader:te.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:te.ShaderChunk.equirect_vert,fragmentShader:te.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new te.Vector3}},vertexShader:te.ShaderChunk.distanceRGBA_vert,fragmentShader:te.ShaderChunk.distanceRGBA_frag}},te.ShaderLib.physical={uniforms:te.UniformsUtils.merge([te.ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:te.ShaderChunk.meshphysical_vert,fragmentShader:te.ShaderChunk.meshphysical_frag},te.WebGLRenderer=function(ee){console.log("THREE.WebGLRenderer",te.REVISION),ee=ee||{};var re=ee.canvas!==void 0?ee.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),ie=ee.context!==void 0?ee.context:null,ae=ee.alpha!==void 0?ee.alpha:!1,oe=ee.depth!==void 0?ee.depth:!0,le=ee.stencil!==void 0?ee.stencil:!0,he=ee.antialias!==void 0?ee.antialias:!1,ue=ee.premultipliedAlpha!==void 0?ee.premultipliedAlpha:!0,pe=ee.preserveDrawingBuffer!==void 0?ee.preserveDrawingBuffer:!1,ce=[],fe=[],me=-1,de=[],ve=-1,ge=new Float32Array(8),xe=[],_e=[];this.domElement=re,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=te.LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ye=this,we=null,be=null,Se=null,Ce=-1,Te="",De=null,Fe=new te.Vector4,Le=null,Ie=new te.Vector4,Oe=0,ke=new te.Color(0),Pe=0,Me=re.width,Ee=re.height,Ae=1,Re=new te.Vector4(0,0,Me,Ee),Be=!1,ze=new te.Vector4(0,0,Me,Ee),je=new te.Frustum,$e=new te.WebGLClipping,We=!1,Ge=!1,He=new te.Sphere,Ze=new te.Matrix4,Ye=new te.Vector3,Qe={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Je={calls:0,vertices:0,faces:0,points:0};this.info={render:Je,memory:{geometries:0,textures:0},programs:null};var Ne;try{var Ke={alpha:ae,depth:oe,stencil:le,antialias:he,premultipliedAlpha:ue,preserveDrawingBuffer:pe};if(Ne=ie||re.getContext("webgl",Ke)||re.getContext("experimental-webgl",Ke),Ne===null)throw re.getContext("webgl")!==null?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";Ne.getShaderPrecisionFormat===void 0&&(Ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),re.addEventListener("webglcontextlost",cr,!1)}catch(Ve){console.error("THREE.WebGLRenderer: "+Ve)}var ht=new te.WebGLExtensions(Ne);ht.get("WEBGL_depth_texture"),ht.get("OES_texture_float"),ht.get("OES_texture_float_linear"),ht.get("OES_texture_half_float"),ht.get("OES_texture_half_float_linear"),ht.get("OES_standard_derivatives"),ht.get("ANGLE_instanced_arrays"),ht.get("OES_element_index_uint")&&(te.BufferGeometry.MaxIndex=4294967296);var _t=new te.WebGLCapabilities(Ne,ht,ee),pt=new te.WebGLState(Ne,ht,$t),qe=new te.WebGLProperties,Dt=new te.WebGLTextures(Ne,ht,pt,qe,_t,$t,this.info),wt=new te.WebGLObjects(Ne,qe,this.info),vt=new te.WebGLPrograms(this,_t),gt=new te.WebGLLights;this.info.programs=vt.programs;var Ft=new te.WebGLBufferRenderer(Ne,ht,Je),Tt=new te.WebGLIndexedBufferRenderer(Ne,ht,Je),Bt=new te.OrthographicCamera(-1,1,1,-1,0,1),zt=new te.PerspectiveCamera,St=new te.Mesh(new te.PlaneBufferGeometry(2,2),new te.MeshBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1})),kt=te.ShaderLib.cube,Rt=new te.Mesh(new te.BoxBufferGeometry(5,5,5),new te.ShaderMaterial({uniforms:kt.uniforms,vertexShader:kt.vertexShader,fragmentShader:kt.fragmentShader,side:te.BackSide,depthTest:!1,depthWrite:!1,fog:!1}));function Ut(){return be===null?Ae:1}function Ht(Ve,Ue,Xe,lt){ue===!0&&(Ve*=lt,Ue*=lt,Xe*=lt),pt.clearColor(Ve,Ue,Xe,lt)}function nr(){pt.init(),pt.scissor(Fe.copy(Re).multiplyScalar(Ae)),pt.viewport(Ie.copy(ze).multiplyScalar(Ae)),Ht(ke.r,ke.g,ke.b,Pe)}function mr(){we=null,De=null,Te="",Ce=-1,pt.reset()}nr(),this.context=Ne,this.capabilities=_t,this.extensions=ht,this.properties=qe,this.state=pt;var sr=new te.WebGLShadowMap(this,Qe,wt,_t);this.shadowMap=sr;var gr=new te.SpritePlugin(this,xe),ur=new te.LensFlarePlugin(this,_e);this.getContext=function(){return Ne},this.getContextAttributes=function(){return Ne.getContextAttributes()},this.forceContextLoss=function(){ht.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return _t.getMaxAnisotropy()},this.getPrecision=function(){return _t.precision},this.getPixelRatio=function(){return Ae},this.setPixelRatio=function(Ve){Ve!==void 0&&(Ae=Ve,this.setSize(ze.z,ze.w,!1))},this.getSize=function(){return{width:Me,height:Ee}},this.setSize=function(Ve,Ue,Xe){Me=Ve,Ee=Ue,re.width=Ve*Ae,re.height=Ue*Ae,Xe!==!1&&(re.style.width=Ve+"px",re.style.height=Ue+"px"),this.setViewport(0,0,Ve,Ue)},this.setViewport=function(Ve,Ue,Xe,lt){pt.viewport(ze.set(Ve,Ue,Xe,lt))},this.setScissor=function(Ve,Ue,Xe,lt){pt.scissor(Re.set(Ve,Ue,Xe,lt))},this.setScissorTest=function(Ve){pt.setScissorTest(Be=Ve)},this.getClearColor=function(){return ke},this.setClearColor=function(Ve,Ue){ke.set(Ve),Pe=Ue!==void 0?Ue:1,Ht(ke.r,ke.g,ke.b,Pe)},this.getClearAlpha=function(){return Pe},this.setClearAlpha=function(Ve){Pe=Ve,Ht(ke.r,ke.g,ke.b,Pe)},this.clear=function(Ve,Ue,Xe){var lt=0;(Ve===void 0||Ve)&&(lt|=Ne.COLOR_BUFFER_BIT),(Ue===void 0||Ue)&&(lt|=Ne.DEPTH_BUFFER_BIT),(Xe===void 0||Xe)&&(lt|=Ne.STENCIL_BUFFER_BIT),Ne.clear(lt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(Ve,Ue,Xe,lt){this.setRenderTarget(Ve),this.clear(Ue,Xe,lt)},this.resetGLState=mr,this.dispose=function(){de=[],ve=-1,fe=[],me=-1,re.removeEventListener("webglcontextlost",cr,!1)};function cr(Ve){Ve.preventDefault(),mr(),nr(),qe.clear()}function Gt(Ve){var Ue=Ve.target;Ue.removeEventListener("dispose",Gt),or(Ue)}function or(Ve){ar(Ve),qe.delete(Ve)}function ar(Ve){var Ue=qe.get(Ve).program;Ve.program=void 0,Ue!==void 0&&vt.releaseProgram(Ue)}this.renderBufferImmediate=function(Ve,Ue,Xe){pt.initAttributes();var lt=qe.get(Ve);Ve.hasPositions&&!lt.position&&(lt.position=Ne.createBuffer()),Ve.hasNormals&&!lt.normal&&(lt.normal=Ne.createBuffer()),Ve.hasUvs&&!lt.uv&&(lt.uv=Ne.createBuffer()),Ve.hasColors&&!lt.color&&(lt.color=Ne.createBuffer());var at=Ue.getAttributes();if(Ve.hasPositions&&(Ne.bindBuffer(Ne.ARRAY_BUFFER,lt.position),Ne.bufferData(Ne.ARRAY_BUFFER,Ve.positionArray,Ne.DYNAMIC_DRAW),pt.enableAttribute(at.position),Ne.vertexAttribPointer(at.position,3,Ne.FLOAT,!1,0,0)),Ve.hasNormals){if(Ne.bindBuffer(Ne.ARRAY_BUFFER,lt.normal),Xe.type!=="MeshPhongMaterial"&&Xe.type!=="MeshStandardMaterial"&&Xe.type!=="MeshPhysicalMaterial"&&Xe.shading===te.FlatShading)for(var mt=0,At=Ve.count*3;mt<At;mt+=9){var xt=Ve.normalArray,Ot=(xt[mt+0]+xt[mt+3]+xt[mt+6])/3,It=(xt[mt+1]+xt[mt+4]+xt[mt+7])/3,Et=(xt[mt+2]+xt[mt+5]+xt[mt+8])/3;xt[mt+0]=Ot,xt[mt+1]=It,xt[mt+2]=Et,xt[mt+3]=Ot,xt[mt+4]=It,xt[mt+5]=Et,xt[mt+6]=Ot,xt[mt+7]=It,xt[mt+8]=Et}Ne.bufferData(Ne.ARRAY_BUFFER,Ve.normalArray,Ne.DYNAMIC_DRAW),pt.enableAttribute(at.normal),Ne.vertexAttribPointer(at.normal,3,Ne.FLOAT,!1,0,0)}Ve.hasUvs&&Xe.map&&(Ne.bindBuffer(Ne.ARRAY_BUFFER,lt.uv),Ne.bufferData(Ne.ARRAY_BUFFER,Ve.uvArray,Ne.DYNAMIC_DRAW),pt.enableAttribute(at.uv),Ne.vertexAttribPointer(at.uv,2,Ne.FLOAT,!1,0,0)),Ve.hasColors&&Xe.vertexColors!==te.NoColors&&(Ne.bindBuffer(Ne.ARRAY_BUFFER,lt.color),Ne.bufferData(Ne.ARRAY_BUFFER,Ve.colorArray,Ne.DYNAMIC_DRAW),pt.enableAttribute(at.color),Ne.vertexAttribPointer(at.color,3,Ne.FLOAT,!1,0,0)),pt.disableUnusedAttributes(),Ne.drawArrays(Ne.TRIANGLES,0,Ve.count),Ve.count=0},this.renderBufferDirect=function(Ve,Ue,Xe,lt,at,mt){Pt(lt);var At=Lt(Ve,Ue,lt,at),xt=!1,Ot=Xe.id+"_"+At.id+"_"+lt.wireframe;Ot!==Te&&(Te=Ot,xt=!0);var It=at.morphTargetInfluences;if(It!==void 0){for(var Et=[],yt=0,jt=It.length;yt<jt;yt++){var Zt=It[yt];Et.push([Zt,yt])}Et.sort(fr),Et.length>8&&(Et.length=8);for(var tr=Xe.morphAttributes,yt=0,jt=Et.length;yt<jt;yt++){var Zt=Et[yt];if(ge[yt]=Zt[0],Zt[0]!==0){var rr=Zt[1];lt.morphTargets===!0&&tr.position&&Xe.addAttribute("morphTarget"+yt,tr.position[rr]),lt.morphNormals===!0&&tr.normal&&Xe.addAttribute("morphNormal"+yt,tr.normal[rr])}else lt.morphTargets===!0&&Xe.removeAttribute("morphTarget"+yt),lt.morphNormals===!0&&Xe.removeAttribute("morphNormal"+yt)}At.getUniforms().setValue(Ne,"morphTargetInfluences",ge),xt=!0}var rr=Xe.index,hr=Xe.attributes.position;lt.wireframe===!0&&(rr=wt.getWireframeAttribute(Xe));var bt;rr!==null?(bt=Tt,bt.setIndex(rr)):bt=Ft,xt&&(ir(lt,At,Xe),rr!==null&&Ne.bindBuffer(Ne.ELEMENT_ARRAY_BUFFER,wt.getAttributeBuffer(rr)));var Cr=0,_r=1/0;rr!==null?_r=rr.count:hr!==void 0&&(_r=hr.count);var Pr=Xe.drawRange.start,Dr=Xe.drawRange.count,Mr=mt!==null?mt.start:0,Fr=mt!==null?mt.count:1/0,Er=Math.max(Cr,Pr,Mr),Lr=Math.min(Cr+_r,Pr+Dr,Mr+Fr)-1,Ar=Math.max(0,Lr-Er+1);if(at instanceof te.Mesh)if(lt.wireframe===!0)pt.setLineWidth(lt.wireframeLinewidth*Ut()),bt.setMode(Ne.LINES);else switch(at.drawMode){case te.TrianglesDrawMode:bt.setMode(Ne.TRIANGLES);break;case te.TriangleStripDrawMode:bt.setMode(Ne.TRIANGLE_STRIP);break;case te.TriangleFanDrawMode:bt.setMode(Ne.TRIANGLE_FAN);break}else if(at instanceof te.Line){var Tr=lt.linewidth;Tr===void 0&&(Tr=1),pt.setLineWidth(Tr*Ut()),at instanceof te.LineSegments?bt.setMode(Ne.LINES):bt.setMode(Ne.LINE_STRIP)}else at instanceof te.Points&&bt.setMode(Ne.POINTS);Xe instanceof te.InstancedBufferGeometry?Xe.maxInstancedCount>0&&bt.renderInstances(Xe,Er,Ar):bt.render(Er,Ar)};function ir(Ve,Ue,Xe,lt){var at;if(Xe instanceof te.InstancedBufferGeometry&&(at=ht.get("ANGLE_instanced_arrays"),at===null)){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}lt===void 0&&(lt=0),pt.initAttributes();var mt=Xe.attributes,At=Ue.getAttributes(),xt=Ve.defaultAttributeValues;for(var Ot in At){var It=At[Ot];if(It>=0){var Et=mt[Ot];if(Et!==void 0){var yt=Ne.FLOAT,jt=Et.array,Zt=Et.normalized;jt instanceof Float32Array?yt=Ne.FLOAT:jt instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):jt instanceof Uint16Array?yt=Ne.UNSIGNED_SHORT:jt instanceof Int16Array?yt=Ne.SHORT:jt instanceof Uint32Array?yt=Ne.UNSIGNED_INT:jt instanceof Int32Array?yt=Ne.INT:jt instanceof Int8Array?yt=Ne.BYTE:jt instanceof Uint8Array&&(yt=Ne.UNSIGNED_BYTE);var tr=Et.itemSize,rr=wt.getAttributeBuffer(Et);if(Et instanceof te.InterleavedBufferAttribute){var hr=Et.data,bt=hr.stride,Cr=Et.offset;hr instanceof te.InstancedInterleavedBuffer?(pt.enableAttributeAndDivisor(It,hr.meshPerAttribute,at),Xe.maxInstancedCount===void 0&&(Xe.maxInstancedCount=hr.meshPerAttribute*hr.count)):pt.enableAttribute(It),Ne.bindBuffer(Ne.ARRAY_BUFFER,rr),Ne.vertexAttribPointer(It,tr,yt,Zt,bt*hr.array.BYTES_PER_ELEMENT,(lt*bt+Cr)*hr.array.BYTES_PER_ELEMENT)}else Et instanceof te.InstancedBufferAttribute?(pt.enableAttributeAndDivisor(It,Et.meshPerAttribute,at),Xe.maxInstancedCount===void 0&&(Xe.maxInstancedCount=Et.meshPerAttribute*Et.count)):pt.enableAttribute(It),Ne.bindBuffer(Ne.ARRAY_BUFFER,rr),Ne.vertexAttribPointer(It,tr,yt,Zt,0,lt*tr*Et.array.BYTES_PER_ELEMENT)}else if(xt!==void 0){var _r=xt[Ot];if(_r!==void 0)switch(_r.length){case 2:Ne.vertexAttrib2fv(It,_r);break;case 3:Ne.vertexAttrib3fv(It,_r);break;case 4:Ne.vertexAttrib4fv(It,_r);break;default:Ne.vertexAttrib1fv(It,_r)}}}}pt.disableUnusedAttributes()}function fr(Ve,Ue){return Math.abs(Ue[0])-Math.abs(Ve[0])}function pr(Ve,Ue){return Ve.object.renderOrder!==Ue.object.renderOrder?Ve.object.renderOrder-Ue.object.renderOrder:Ve.material.program&&Ue.material.program&&Ve.material.program!==Ue.material.program?Ve.material.program.id-Ue.material.program.id:Ve.material.id!==Ue.material.id?Ve.material.id-Ue.material.id:Ve.z!==Ue.z?Ve.z-Ue.z:Ve.id-Ue.id}function xr(Ve,Ue){return Ve.object.renderOrder!==Ue.object.renderOrder?Ve.object.renderOrder-Ue.object.renderOrder:Ve.z!==Ue.z?Ue.z-Ve.z:Ve.id-Ue.id}this.render=function(Ve,Ue,Xe,lt){if(!(Ue instanceof te.Camera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}var at=Ve.fog;Te="",Ce=-1,De=null,Ve.autoUpdate===!0&&Ve.updateMatrixWorld(),Ue.parent===null&&Ue.updateMatrixWorld(),Ue.matrixWorldInverse.getInverse(Ue.matrixWorld),Ze.multiplyMatrices(Ue.projectionMatrix,Ue.matrixWorldInverse),je.setFromMatrix(Ze),ce.length=0,me=-1,ve=-1,xe.length=0,_e.length=0,Ge=this.localClippingEnabled,We=$e.init(this.clippingPlanes,Ge,Ue),Ct(Ve,Ue),fe.length=me+1,de.length=ve+1,ye.sortObjects===!0&&(fe.sort(pr),de.sort(xr)),We&&$e.beginShadows(),Kt(ce),sr.render(Ve,Ue),br(ce,Ue),We&&$e.endShadows(),Je.calls=0,Je.vertices=0,Je.faces=0,Je.points=0,Xe===void 0&&(Xe=null),this.setRenderTarget(Xe);var mt=Ve.background;if(mt===null?Ht(ke.r,ke.g,ke.b,Pe):mt instanceof te.Color&&Ht(mt.r,mt.g,mt.b,1),(this.autoClear||lt)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),mt instanceof te.CubeTexture?(zt.projectionMatrix.copy(Ue.projectionMatrix),zt.matrixWorld.extractRotation(Ue.matrixWorld),zt.matrixWorldInverse.getInverse(zt.matrixWorld),Rt.material.uniforms.tCube.value=mt,Rt.modelViewMatrix.multiplyMatrices(zt.matrixWorldInverse,Rt.matrixWorld),wt.update(Rt),ye.renderBufferDirect(zt,null,Rt.geometry,Rt.material,Rt,null)):mt instanceof te.Texture&&(St.material.map=mt,wt.update(St),ye.renderBufferDirect(Bt,null,St.geometry,St.material,St,null)),Ve.overrideMaterial){var At=Ve.overrideMaterial;dt(fe,Ue,at,At),dt(de,Ue,at,At)}else pt.setBlending(te.NoBlending),dt(fe,Ue,at),dt(de,Ue,at);gr.render(Ve,Ue),ur.render(Ve,Ue,Ie),Xe&&Dt.updateRenderTargetMipmap(Xe),pt.setDepthTest(!0),pt.setDepthWrite(!0),pt.setColorWrite(!0)};function yr(Ve,Ue,Xe,lt,at){var mt,At;Xe.transparent?(mt=de,At=++ve):(mt=fe,At=++me);var xt=mt[At];xt!==void 0?(xt.id=Ve.id,xt.object=Ve,xt.geometry=Ue,xt.material=Xe,xt.z=Ye.z,xt.group=at):(xt={id:Ve.id,object:Ve,geometry:Ue,material:Xe,z:Ye.z,group:at},mt.push(xt))}function vr(Ve){var Ue=Ve.geometry;return Ue.boundingSphere===null&&Ue.computeBoundingSphere(),He.copy(Ue.boundingSphere).applyMatrix4(Ve.matrixWorld),Nt(He)}function Sr(Ve){return He.center.set(0,0,0),He.radius=.7071067811865476,He.applyMatrix4(Ve.matrixWorld),Nt(He)}function Nt(Ve){if(!je.intersectsSphere(Ve))return!1;var Ue=$e.numPlanes;if(Ue===0)return!0;var Xe=ye.clippingPlanes,lt=Ve.center,at=-Ve.radius,mt=0;do if(Xe[mt].distanceToPoint(lt)<at)return!1;while(++mt!==Ue);return!0}function Ct(Ve,Ue){if(Ve.visible!==!1){if(Ve.layers.test(Ue.layers)){if(Ve instanceof te.Light)ce.push(Ve);else if(Ve instanceof te.Sprite)(Ve.frustumCulled===!1||Sr(Ve)===!0)&&xe.push(Ve);else if(Ve instanceof te.LensFlare)_e.push(Ve);else if(Ve instanceof te.ImmediateRenderObject)ye.sortObjects===!0&&(Ye.setFromMatrixPosition(Ve.matrixWorld),Ye.applyProjection(Ze)),yr(Ve,null,Ve.material,Ye.z,null);else if((Ve instanceof te.Mesh||Ve instanceof te.Line||Ve instanceof te.Points)&&(Ve instanceof te.SkinnedMesh&&Ve.skeleton.update(),Ve.frustumCulled===!1||vr(Ve)===!0)){var Xe=Ve.material;if(Xe.visible===!0){ye.sortObjects===!0&&(Ye.setFromMatrixPosition(Ve.matrixWorld),Ye.applyProjection(Ze));var lt=wt.update(Ve);if(Xe instanceof te.MultiMaterial)for(var at=lt.groups,mt=Xe.materials,At=0,xt=at.length;At<xt;At++){var Ot=at[At],It=mt[Ot.materialIndex];It.visible===!0&&yr(Ve,lt,It,Ye.z,Ot)}else yr(Ve,lt,Xe,Ye.z,null)}}}for(var Et=Ve.children,At=0,xt=Et.length;At<xt;At++)Ct(Et[At],Ue)}}function dt(Ve,Ue,Xe,lt){for(var at=0,mt=Ve.length;at<mt;at++){var At=Ve[at],xt=At.object,Ot=At.geometry,It=lt===void 0?At.material:lt,Et=At.group;if(xt.modelViewMatrix.multiplyMatrices(Ue.matrixWorldInverse,xt.matrixWorld),xt.normalMatrix.getNormalMatrix(xt.modelViewMatrix),xt instanceof te.ImmediateRenderObject){Pt(It);var yt=Lt(Ue,Xe,It,xt);Te="",xt.render(function(jt){ye.renderBufferImmediate(jt,yt,It)})}else ye.renderBufferDirect(Ue,Xe,Ot,It,xt,Et)}}function Mt(Ve,Ue,Xe){var lt=qe.get(Ve),at=vt.getParameters(Ve,Qe,Ue,$e.numPlanes,Xe),mt=vt.getProgramCode(Ve,at),At=lt.program,xt=!0;if(At===void 0)Ve.addEventListener("dispose",Gt);else if(At.code!==mt)ar(Ve);else{if(at.shaderID!==void 0)return;xt=!1}if(xt){if(at.shaderID){var Ot=te.ShaderLib[at.shaderID];lt.__webglShader={name:Ve.type,uniforms:te.UniformsUtils.clone(Ot.uniforms),vertexShader:Ot.vertexShader,fragmentShader:Ot.fragmentShader}}else lt.__webglShader={name:Ve.type,uniforms:Ve.uniforms,vertexShader:Ve.vertexShader,fragmentShader:Ve.fragmentShader};Ve.__webglShader=lt.__webglShader,At=vt.acquireProgram(Ve,at,mt),lt.program=At,Ve.program=At}var It=At.getAttributes();if(Ve.morphTargets){Ve.numSupportedMorphTargets=0;for(var Et=0;Et<ye.maxMorphTargets;Et++)It["morphTarget"+Et]>=0&&Ve.numSupportedMorphTargets++}if(Ve.morphNormals){Ve.numSupportedMorphNormals=0;for(var Et=0;Et<ye.maxMorphNormals;Et++)It["morphNormal"+Et]>=0&&Ve.numSupportedMorphNormals++}var yt=lt.__webglShader.uniforms;(!(Ve instanceof te.ShaderMaterial)&&!(Ve instanceof te.RawShaderMaterial)||Ve.clipping===!0)&&(lt.numClippingPlanes=$e.numPlanes,yt.clippingPlanes=$e.uniform),Ve.lights&&(lt.lightsHash=Qe.hash,yt.ambientLightColor.value=Qe.ambient,yt.directionalLights.value=Qe.directional,yt.spotLights.value=Qe.spot,yt.pointLights.value=Qe.point,yt.hemisphereLights.value=Qe.hemi,yt.directionalShadowMap.value=Qe.directionalShadowMap,yt.directionalShadowMatrix.value=Qe.directionalShadowMatrix,yt.spotShadowMap.value=Qe.spotShadowMap,yt.spotShadowMatrix.value=Qe.spotShadowMatrix,yt.pointShadowMap.value=Qe.pointShadowMap,yt.pointShadowMatrix.value=Qe.pointShadowMatrix);var jt=lt.program.getUniforms(),Zt=te.WebGLUniforms.seqWithValue(jt.seq,yt);lt.uniformsList=Zt,lt.dynamicUniforms=te.WebGLUniforms.splitDynamic(Zt,yt)}function Pt(Ve){Ve.side!==te.DoubleSide?pt.enable(Ne.CULL_FACE):pt.disable(Ne.CULL_FACE),pt.setFlipSided(Ve.side===te.BackSide),Ve.transparent===!0?pt.setBlending(Ve.blending,Ve.blendEquation,Ve.blendSrc,Ve.blendDst,Ve.blendEquationAlpha,Ve.blendSrcAlpha,Ve.blendDstAlpha,Ve.premultipliedAlpha):pt.setBlending(te.NoBlending),pt.setDepthFunc(Ve.depthFunc),pt.setDepthTest(Ve.depthTest),pt.setDepthWrite(Ve.depthWrite),pt.setColorWrite(Ve.colorWrite),pt.setPolygonOffset(Ve.polygonOffset,Ve.polygonOffsetFactor,Ve.polygonOffsetUnits)}function Lt(Ve,Ue,Xe,lt){Oe=0;var at=qe.get(Xe);if(We){if(Ge||Ve!==De){var mt=Ve===De&&Xe.id===Ce;$e.setState(Xe.clippingPlanes,Xe.clipShadows,Ve,at,mt)}at.numClippingPlanes!==void 0&&at.numClippingPlanes!==$e.numPlanes&&(Xe.needsUpdate=!0)}at.program===void 0&&(Xe.needsUpdate=!0),at.lightsHash!==void 0&&at.lightsHash!==Qe.hash&&(Xe.needsUpdate=!0),Xe.needsUpdate&&(Mt(Xe,Ue,lt),Xe.needsUpdate=!1);var At=!1,xt=!1,Ot=!1,It=at.program,Et=It.getUniforms(),yt=at.__webglShader.uniforms;if(It.id!==we&&(Ne.useProgram(It.program),we=It.id,At=!0,xt=!0,Ot=!0),Xe.id!==Ce&&(Ce=Xe.id,xt=!0),At||Ve!==De){if(Et.set(Ne,Ve,"projectionMatrix"),_t.logarithmicDepthBuffer&&Et.setValue(Ne,"logDepthBufFC",2/(Math.log(Ve.far+1)/Math.LN2)),Ve!==De&&(De=Ve,xt=!0,Ot=!0),Xe instanceof te.ShaderMaterial||Xe instanceof te.MeshPhongMaterial||Xe instanceof te.MeshStandardMaterial||Xe.envMap){var jt=Et.map.cameraPosition;jt!==void 0&&jt.setValue(Ne,Ye.setFromMatrixPosition(Ve.matrixWorld))}(Xe instanceof te.MeshPhongMaterial||Xe instanceof te.MeshLambertMaterial||Xe instanceof te.MeshBasicMaterial||Xe instanceof te.MeshStandardMaterial||Xe instanceof te.ShaderMaterial||Xe.skinning)&&Et.setValue(Ne,"viewMatrix",Ve.matrixWorldInverse),Et.set(Ne,ye,"toneMappingExposure"),Et.set(Ne,ye,"toneMappingWhitePoint")}if(Xe.skinning){Et.setOptional(Ne,lt,"bindMatrix"),Et.setOptional(Ne,lt,"bindMatrixInverse");var Zt=lt.skeleton;Zt&&(_t.floatVertexTextures&&Zt.useVertexTexture?(Et.set(Ne,Zt,"boneTexture"),Et.set(Ne,Zt,"boneTextureWidth"),Et.set(Ne,Zt,"boneTextureHeight")):Et.setOptional(Ne,Zt,"boneMatrices"))}xt&&(Xe.lights&&Yt(yt,Ot),Ue&&Xe.fog&&dr(yt,Ue),(Xe instanceof te.MeshBasicMaterial||Xe instanceof te.MeshLambertMaterial||Xe instanceof te.MeshPhongMaterial||Xe instanceof te.MeshStandardMaterial||Xe instanceof te.MeshDepthMaterial)&&Jt(yt,Xe),Xe instanceof te.LineBasicMaterial?Vt(yt,Xe):Xe instanceof te.LineDashedMaterial?(Vt(yt,Xe),Qt(yt,Xe)):Xe instanceof te.PointsMaterial?Xt(yt,Xe):Xe instanceof te.MeshLambertMaterial?Wt(yt,Xe):Xe instanceof te.MeshPhongMaterial?er(yt,Xe):Xe instanceof te.MeshPhysicalMaterial?qt(yt,Xe):Xe instanceof te.MeshStandardMaterial?lr(yt,Xe):Xe instanceof te.MeshDepthMaterial?Xe.displacementMap&&(yt.displacementMap.value=Xe.displacementMap,yt.displacementScale.value=Xe.displacementScale,yt.displacementBias.value=Xe.displacementBias):Xe instanceof te.MeshNormalMaterial&&(yt.opacity.value=Xe.opacity),te.WebGLUniforms.upload(Ne,at.uniformsList,yt,ye)),Et.set(Ne,lt,"modelViewMatrix"),Et.set(Ne,lt,"normalMatrix"),Et.setValue(Ne,"modelMatrix",lt.matrixWorld);var tr=at.dynamicUniforms;return tr!==null&&(te.WebGLUniforms.evalDynamic(tr,yt,lt,Ve),te.WebGLUniforms.upload(Ne,tr,yt,ye)),It}function Jt(Ve,Ue){Ve.opacity.value=Ue.opacity,Ve.diffuse.value=Ue.color,Ue.emissive&&Ve.emissive.value.copy(Ue.emissive).multiplyScalar(Ue.emissiveIntensity),Ve.map.value=Ue.map,Ve.specularMap.value=Ue.specularMap,Ve.alphaMap.value=Ue.alphaMap,Ue.aoMap&&(Ve.aoMap.value=Ue.aoMap,Ve.aoMapIntensity.value=Ue.aoMapIntensity);var Xe;if(Ue.map?Xe=Ue.map:Ue.specularMap?Xe=Ue.specularMap:Ue.displacementMap?Xe=Ue.displacementMap:Ue.normalMap?Xe=Ue.normalMap:Ue.bumpMap?Xe=Ue.bumpMap:Ue.roughnessMap?Xe=Ue.roughnessMap:Ue.metalnessMap?Xe=Ue.metalnessMap:Ue.alphaMap?Xe=Ue.alphaMap:Ue.emissiveMap&&(Xe=Ue.emissiveMap),Xe!==void 0){Xe instanceof te.WebGLRenderTarget&&(Xe=Xe.texture);var lt=Xe.offset,at=Xe.repeat;Ve.offsetRepeat.value.set(lt.x,lt.y,at.x,at.y)}Ve.envMap.value=Ue.envMap,Ve.flipEnvMap.value=Ue.envMap instanceof te.CubeTexture?-1:1,Ve.reflectivity.value=Ue.reflectivity,Ve.refractionRatio.value=Ue.refractionRatio}function Vt(Ve,Ue){Ve.diffuse.value=Ue.color,Ve.opacity.value=Ue.opacity}function Qt(Ve,Ue){Ve.dashSize.value=Ue.dashSize,Ve.totalSize.value=Ue.dashSize+Ue.gapSize,Ve.scale.value=Ue.scale}function Xt(Ve,Ue){if(Ve.diffuse.value=Ue.color,Ve.opacity.value=Ue.opacity,Ve.size.value=Ue.size*Ae,Ve.scale.value=re.clientHeight*.5,Ve.map.value=Ue.map,Ue.map!==null){var Xe=Ue.map.offset,lt=Ue.map.repeat;Ve.offsetRepeat.value.set(Xe.x,Xe.y,lt.x,lt.y)}}function dr(Ve,Ue){Ve.fogColor.value=Ue.color,Ue instanceof te.Fog?(Ve.fogNear.value=Ue.near,Ve.fogFar.value=Ue.far):Ue instanceof te.FogExp2&&(Ve.fogDensity.value=Ue.density)}function Wt(Ve,Ue){Ue.lightMap&&(Ve.lightMap.value=Ue.lightMap,Ve.lightMapIntensity.value=Ue.lightMapIntensity),Ue.emissiveMap&&(Ve.emissiveMap.value=Ue.emissiveMap)}function er(Ve,Ue){Ve.specular.value=Ue.specular,Ve.shininess.value=Math.max(Ue.shininess,1e-4),Ue.lightMap&&(Ve.lightMap.value=Ue.lightMap,Ve.lightMapIntensity.value=Ue.lightMapIntensity),Ue.emissiveMap&&(Ve.emissiveMap.value=Ue.emissiveMap),Ue.bumpMap&&(Ve.bumpMap.value=Ue.bumpMap,Ve.bumpScale.value=Ue.bumpScale),Ue.normalMap&&(Ve.normalMap.value=Ue.normalMap,Ve.normalScale.value.copy(Ue.normalScale)),Ue.displacementMap&&(Ve.displacementMap.value=Ue.displacementMap,Ve.displacementScale.value=Ue.displacementScale,Ve.displacementBias.value=Ue.displacementBias)}function lr(Ve,Ue){Ve.roughness.value=Ue.roughness,Ve.metalness.value=Ue.metalness,Ue.roughnessMap&&(Ve.roughnessMap.value=Ue.roughnessMap),Ue.metalnessMap&&(Ve.metalnessMap.value=Ue.metalnessMap),Ue.lightMap&&(Ve.lightMap.value=Ue.lightMap,Ve.lightMapIntensity.value=Ue.lightMapIntensity),Ue.emissiveMap&&(Ve.emissiveMap.value=Ue.emissiveMap),Ue.bumpMap&&(Ve.bumpMap.value=Ue.bumpMap,Ve.bumpScale.value=Ue.bumpScale),Ue.normalMap&&(Ve.normalMap.value=Ue.normalMap,Ve.normalScale.value.copy(Ue.normalScale)),Ue.displacementMap&&(Ve.displacementMap.value=Ue.displacementMap,Ve.displacementScale.value=Ue.displacementScale,Ve.displacementBias.value=Ue.displacementBias),Ue.envMap&&(Ve.envMapIntensity.value=Ue.envMapIntensity)}function qt(Ve,Ue){Ve.clearCoat.value=Ue.clearCoat,Ve.clearCoatRoughness.value=Ue.clearCoatRoughness,lr(Ve,Ue)}function Yt(Ve,Ue){Ve.ambientLightColor.needsUpdate=Ue,Ve.directionalLights.needsUpdate=Ue,Ve.pointLights.needsUpdate=Ue,Ve.spotLights.needsUpdate=Ue,Ve.hemisphereLights.needsUpdate=Ue}function Kt(Ve){for(var Ue=0,Xe=0,lt=Ve.length;Xe<lt;Xe++){var at=Ve[Xe];at.castShadow&&(Qe.shadows[Ue++]=at)}Qe.shadows.length=Ue}function br(Ve,Ue){var Xe,lt,at,mt=0,At=0,xt=0,Ot,It,Et,yt,jt=Ue.matrixWorldInverse,Zt=0,tr=0,rr=0,hr=0;for(Xe=0,lt=Ve.length;Xe<lt;Xe++)if(at=Ve[Xe],Ot=at.color,It=at.intensity,Et=at.distance,yt=at.shadow&&at.shadow.map?at.shadow.map.texture:null,at instanceof te.AmbientLight)mt+=Ot.r*It,At+=Ot.g*It,xt+=Ot.b*It;else if(at instanceof te.DirectionalLight){var bt=gt.get(at);bt.color.copy(at.color).multiplyScalar(at.intensity),bt.direction.setFromMatrixPosition(at.matrixWorld),Ye.setFromMatrixPosition(at.target.matrixWorld),bt.direction.sub(Ye),bt.direction.transformDirection(jt),bt.shadow=at.castShadow,at.castShadow&&(bt.shadowBias=at.shadow.bias,bt.shadowRadius=at.shadow.radius,bt.shadowMapSize=at.shadow.mapSize),Qe.directionalShadowMap[Zt]=yt,Qe.directionalShadowMatrix[Zt]=at.shadow.matrix,Qe.directional[Zt++]=bt}else if(at instanceof te.SpotLight){var bt=gt.get(at);bt.position.setFromMatrixPosition(at.matrixWorld),bt.position.applyMatrix4(jt),bt.color.copy(Ot).multiplyScalar(It),bt.distance=Et,bt.direction.setFromMatrixPosition(at.matrixWorld),Ye.setFromMatrixPosition(at.target.matrixWorld),bt.direction.sub(Ye),bt.direction.transformDirection(jt),bt.coneCos=Math.cos(at.angle),bt.penumbraCos=Math.cos(at.angle*(1-at.penumbra)),bt.decay=at.distance===0?0:at.decay,bt.shadow=at.castShadow,at.castShadow&&(bt.shadowBias=at.shadow.bias,bt.shadowRadius=at.shadow.radius,bt.shadowMapSize=at.shadow.mapSize),Qe.spotShadowMap[rr]=yt,Qe.spotShadowMatrix[rr]=at.shadow.matrix,Qe.spot[rr++]=bt}else if(at instanceof te.PointLight){var bt=gt.get(at);bt.position.setFromMatrixPosition(at.matrixWorld),bt.position.applyMatrix4(jt),bt.color.copy(at.color).multiplyScalar(at.intensity),bt.distance=at.distance,bt.decay=at.distance===0?0:at.decay,bt.shadow=at.castShadow,at.castShadow&&(bt.shadowBias=at.shadow.bias,bt.shadowRadius=at.shadow.radius,bt.shadowMapSize=at.shadow.mapSize),Qe.pointShadowMap[tr]=yt,Qe.pointShadowMatrix[tr]===void 0&&(Qe.pointShadowMatrix[tr]=new te.Matrix4),Ye.setFromMatrixPosition(at.matrixWorld).negate(),Qe.pointShadowMatrix[tr].identity().setPosition(Ye),Qe.point[tr++]=bt}else if(at instanceof te.HemisphereLight){var bt=gt.get(at);bt.direction.setFromMatrixPosition(at.matrixWorld),bt.direction.transformDirection(jt),bt.direction.normalize(),bt.skyColor.copy(at.color).multiplyScalar(It),bt.groundColor.copy(at.groundColor).multiplyScalar(It),Qe.hemi[hr++]=bt}Qe.ambient[0]=mt,Qe.ambient[1]=At,Qe.ambient[2]=xt,Qe.directional.length=Zt,Qe.spot.length=rr,Qe.point.length=tr,Qe.hemi.length=hr,Qe.hash=Zt+","+tr+","+rr+","+hr+","+Qe.shadows.length}this.setFaceCulling=function(Ve,Ue){pt.setCullFace(Ve),pt.setFlipSided(Ue===te.FrontFaceDirectionCW)};function wr(){var Ve=Oe;return Ve>=_t.maxTextures&&console.warn("WebGLRenderer: trying to use "+Ve+" texture units while this GPU supports only "+_t.maxTextures),Oe+=1,Ve}this.allocTextureUnit=wr,this.setTexture2D=function(){var Ve=!1;return function(Xe,lt){Xe instanceof te.WebGLRenderTarget&&(Ve||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),Ve=!0),Xe=Xe.texture),Dt.setTexture2D(Xe,lt)}}(),this.setTexture=function(){var Ve=!1;return function(Xe,lt){Ve||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),Ve=!0),Dt.setTexture2D(Xe,lt)}}(),this.setTextureCube=function(){var Ve=!1;return function(Xe,lt){Xe instanceof te.WebGLRenderTargetCube&&(Ve||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Ve=!0),Xe=Xe.texture),Xe instanceof te.CubeTexture||Array.isArray(Xe.image)&&Xe.image.length===6?Dt.setTextureCube(Xe,lt):Dt.setTextureCubeDynamic(Xe,lt)}}(),this.getCurrentRenderTarget=function(){return be},this.setRenderTarget=function(Ve){be=Ve,Ve&&qe.get(Ve).__webglFramebuffer===void 0&&Dt.setupRenderTarget(Ve);var Ue=Ve instanceof te.WebGLRenderTargetCube,Xe;if(Ve){var lt=qe.get(Ve);Ue?Xe=lt.__webglFramebuffer[Ve.activeCubeFace]:Xe=lt.__webglFramebuffer,Fe.copy(Ve.scissor),Le=Ve.scissorTest,Ie.copy(Ve.viewport)}else Xe=null,Fe.copy(Re).multiplyScalar(Ae),Le=Be,Ie.copy(ze).multiplyScalar(Ae);if(Se!==Xe&&(Ne.bindFramebuffer(Ne.FRAMEBUFFER,Xe),Se=Xe),pt.scissor(Fe),pt.setScissorTest(Le),pt.viewport(Ie),Ue){var at=qe.get(Ve.texture);Ne.framebufferTexture2D(Ne.FRAMEBUFFER,Ne.COLOR_ATTACHMENT0,Ne.TEXTURE_CUBE_MAP_POSITIVE_X+Ve.activeCubeFace,at.__webglTexture,Ve.activeMipMapLevel)}},this.readRenderTargetPixels=function(Ve,Ue,Xe,lt,at,mt){if(!(Ve instanceof te.WebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var At=qe.get(Ve).__webglFramebuffer;if(At){var xt=!1;At!==Se&&(Ne.bindFramebuffer(Ne.FRAMEBUFFER,At),xt=!0);try{var Ot=Ve.texture;if(Ot.format!==te.RGBAFormat&&$t(Ot.format)!==Ne.getParameter(Ne.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Ot.type!==te.UnsignedByteType&&$t(Ot.type)!==Ne.getParameter(Ne.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ot.type===te.FloatType&&ht.get("WEBGL_color_buffer_float"))&&!(Ot.type===te.HalfFloatType&&ht.get("EXT_color_buffer_half_float"))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ne.checkFramebufferStatus(Ne.FRAMEBUFFER)===Ne.FRAMEBUFFER_COMPLETE?Ue>=0&&Ue<=Ve.width-lt&&Xe>=0&&Xe<=Ve.height-at&&Ne.readPixels(Ue,Xe,lt,at,$t(Ot.format),$t(Ot.type),mt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{xt&&Ne.bindFramebuffer(Ne.FRAMEBUFFER,Se)}}};function $t(Ve){var Ue;if(Ve===te.RepeatWrapping)return Ne.REPEAT;if(Ve===te.ClampToEdgeWrapping)return Ne.CLAMP_TO_EDGE;if(Ve===te.MirroredRepeatWrapping)return Ne.MIRRORED_REPEAT;if(Ve===te.NearestFilter)return Ne.NEAREST;if(Ve===te.NearestMipMapNearestFilter)return Ne.NEAREST_MIPMAP_NEAREST;if(Ve===te.NearestMipMapLinearFilter)return Ne.NEAREST_MIPMAP_LINEAR;if(Ve===te.LinearFilter)return Ne.LINEAR;if(Ve===te.LinearMipMapNearestFilter)return Ne.LINEAR_MIPMAP_NEAREST;if(Ve===te.LinearMipMapLinearFilter)return Ne.LINEAR_MIPMAP_LINEAR;if(Ve===te.UnsignedByteType)return Ne.UNSIGNED_BYTE;if(Ve===te.UnsignedShort4444Type)return Ne.UNSIGNED_SHORT_4_4_4_4;if(Ve===te.UnsignedShort5551Type)return Ne.UNSIGNED_SHORT_5_5_5_1;if(Ve===te.UnsignedShort565Type)return Ne.UNSIGNED_SHORT_5_6_5;if(Ve===te.ByteType)return Ne.BYTE;if(Ve===te.ShortType)return Ne.SHORT;if(Ve===te.UnsignedShortType)return Ne.UNSIGNED_SHORT;if(Ve===te.IntType)return Ne.INT;if(Ve===te.UnsignedIntType)return Ne.UNSIGNED_INT;if(Ve===te.FloatType)return Ne.FLOAT;if(Ue=ht.get("OES_texture_half_float"),Ue!==null&&Ve===te.HalfFloatType)return Ue.HALF_FLOAT_OES;if(Ve===te.AlphaFormat)return Ne.ALPHA;if(Ve===te.RGBFormat)return Ne.RGB;if(Ve===te.RGBAFormat)return Ne.RGBA;if(Ve===te.LuminanceFormat)return Ne.LUMINANCE;if(Ve===te.LuminanceAlphaFormat)return Ne.LUMINANCE_ALPHA;if(Ve===te.DepthFormat)return Ne.DEPTH_COMPONENT;if(Ve===te.AddEquation)return Ne.FUNC_ADD;if(Ve===te.SubtractEquation)return Ne.FUNC_SUBTRACT;if(Ve===te.ReverseSubtractEquation)return Ne.FUNC_REVERSE_SUBTRACT;if(Ve===te.ZeroFactor)return Ne.ZERO;if(Ve===te.OneFactor)return Ne.ONE;if(Ve===te.SrcColorFactor)return Ne.SRC_COLOR;if(Ve===te.OneMinusSrcColorFactor)return Ne.ONE_MINUS_SRC_COLOR;if(Ve===te.SrcAlphaFactor)return Ne.SRC_ALPHA;if(Ve===te.OneMinusSrcAlphaFactor)return Ne.ONE_MINUS_SRC_ALPHA;if(Ve===te.DstAlphaFactor)return Ne.DST_ALPHA;if(Ve===te.OneMinusDstAlphaFactor)return Ne.ONE_MINUS_DST_ALPHA;if(Ve===te.DstColorFactor)return Ne.DST_COLOR;if(Ve===te.OneMinusDstColorFactor)return Ne.ONE_MINUS_DST_COLOR;if(Ve===te.SrcAlphaSaturateFactor)return Ne.SRC_ALPHA_SATURATE;if(Ue=ht.get("WEBGL_compressed_texture_s3tc"),Ue!==null){if(Ve===te.RGB_S3TC_DXT1_Format)return Ue.COMPRESSED_RGB_S3TC_DXT1_EXT;if(Ve===te.RGBA_S3TC_DXT1_Format)return Ue.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(Ve===te.RGBA_S3TC_DXT3_Format)return Ue.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(Ve===te.RGBA_S3TC_DXT5_Format)return Ue.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(Ue=ht.get("WEBGL_compressed_texture_pvrtc"),Ue!==null){if(Ve===te.RGB_PVRTC_4BPPV1_Format)return Ue.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(Ve===te.RGB_PVRTC_2BPPV1_Format)return Ue.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(Ve===te.RGBA_PVRTC_4BPPV1_Format)return Ue.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(Ve===te.RGBA_PVRTC_2BPPV1_Format)return Ue.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(Ue=ht.get("WEBGL_compressed_texture_etc1"),Ue!==null&&Ve===te.RGB_ETC1_Format)return Ue.COMPRESSED_RGB_ETC1_WEBGL;if(Ue=ht.get("EXT_blend_minmax"),Ue!==null){if(Ve===te.MinEquation)return Ue.MIN_EXT;if(Ve===te.MaxEquation)return Ue.MAX_EXT}return 0}},te.WebGLRenderTarget=function(ee,re,ie){this.uuid=te.Math.generateUUID(),this.width=ee,this.height=re,this.scissor=new te.Vector4(0,0,ee,re),this.scissorTest=!1,this.viewport=new te.Vector4(0,0,ee,re),ie=ie||{},ie.minFilter===void 0&&(ie.minFilter=te.LinearFilter),this.texture=new te.Texture(void 0,void 0,ie.wrapS,ie.wrapT,ie.magFilter,ie.minFilter,ie.format,ie.type,ie.anisotropy,ie.encoding),this.depthBuffer=ie.depthBuffer!==void 0?ie.depthBuffer:!0,this.stencilBuffer=ie.stencilBuffer!==void 0?ie.stencilBuffer:!0,this.depthTexture=null},Object.assign(te.WebGLRenderTarget.prototype,te.EventDispatcher.prototype,{setSize:function(ee,re){(this.width!==ee||this.height!==re)&&(this.width=ee,this.height=re,this.dispose()),this.viewport.set(0,0,ee,re),this.scissor.set(0,0,ee,re)},clone:function(){return new this.constructor().copy(this)},copy:function(ee){return this.width=ee.width,this.height=ee.height,this.viewport.copy(ee.viewport),this.texture=ee.texture.clone(),this.depthBuffer=ee.depthBuffer,this.stencilBuffer=ee.stencilBuffer,this.depthTexture=ee.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),te.WebGLRenderTargetCube=function(ee,re,ie){te.WebGLRenderTarget.call(this,ee,re,ie),this.activeCubeFace=0,this.activeMipMapLevel=0},te.WebGLRenderTargetCube.prototype=Object.create(te.WebGLRenderTarget.prototype),te.WebGLRenderTargetCube.prototype.constructor=te.WebGLRenderTargetCube,te.WebGLBufferRenderer=function(ee,re,ie){var ae;function oe(ue){ae=ue}function le(ue,pe){ee.drawArrays(ae,ue,pe),ie.calls++,ie.vertices+=pe,ae===ee.TRIANGLES&&(ie.faces+=pe/3)}function he(ue){var pe=re.get("ANGLE_instanced_arrays");if(pe===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}var ce=ue.attributes.position,fe=0;ce instanceof te.InterleavedBufferAttribute?(fe=ce.data.count,pe.drawArraysInstancedANGLE(ae,0,fe,ue.maxInstancedCount)):(fe=ce.count,pe.drawArraysInstancedANGLE(ae,0,fe,ue.maxInstancedCount)),ie.calls++,ie.vertices+=fe*ue.maxInstancedCount,ae===ee.TRIANGLES&&(ie.faces+=ue.maxInstancedCount*fe/3)}this.setMode=oe,this.render=le,this.renderInstances=he},te.WebGLClipping=function(){var ee=this,re=null,ie=0,ae=!1,oe=!1,le=new te.Plane,he=new te.Matrix3,ue={value:null,needsUpdate:!1};this.uniform=ue,this.numPlanes=0,this.init=function(fe,me,de){var ve=fe.length!==0||me||ie!==0||ae;return ae=me,re=ce(fe,de,0),ie=fe.length,ve},this.beginShadows=function(){oe=!0,ce(null)},this.endShadows=function(){oe=!1,pe()},this.setState=function(fe,me,de,ve,ge){if(!ae||fe===null||fe.length===0||oe&&!me)oe?ce(null):pe();else{var xe=oe?0:ie,_e=xe*4,ye=ve.clippingState||null;ue.value=ye,ye=ce(fe,de,_e,ge);for(var we=0;we!==_e;++we)ye[we]=re[we];ve.clippingState=ye,this.numPlanes+=xe}};function pe(){ue.value!==re&&(ue.value=re,ue.needsUpdate=ie>0),ee.numPlanes=ie}function ce(fe,me,de,ve){var ge=fe!==null?fe.length:0,xe=null;if(ge!==0){if(xe=ue.value,ve!==!0||xe===null){var _e=de+ge*4,ye=me.matrixWorldInverse;he.getNormalMatrix(ye),(xe===null||xe.length<_e)&&(xe=new Float32Array(_e));for(var we=0,be=de;we!==ge;++we,be+=4)le.copy(fe[we]).applyMatrix4(ye,he),le.normal.toArray(xe,be),xe[be+3]=le.constant}ue.value=xe,ue.needsUpdate=!0}return ee.numPlanes=ge,xe}},te.WebGLIndexedBufferRenderer=function(ee,re,ie){var ae;function oe(fe){ae=fe}var le,he;function ue(fe){fe.array instanceof Uint32Array&&re.get("OES_element_index_uint")?(le=ee.UNSIGNED_INT,he=4):(le=ee.UNSIGNED_SHORT,he=2)}function pe(fe,me){ee.drawElements(ae,me,le,fe*he),ie.calls++,ie.vertices+=me,ae===ee.TRIANGLES&&(ie.faces+=me/3)}function ce(fe,me,de){var ve=re.get("ANGLE_instanced_arrays");if(ve===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ve.drawElementsInstancedANGLE(ae,de,le,me*he,fe.maxInstancedCount),ie.calls++,ie.vertices+=de*fe.maxInstancedCount,ae===ee.TRIANGLES&&(ie.faces+=fe.maxInstancedCount*de/3)}this.setMode=oe,this.setIndex=ue,this.render=pe,this.renderInstances=ce},te.WebGLExtensions=function(ee){var re={};this.get=function(ie){if(re[ie]!==void 0)return re[ie];var ae;switch(ie){case"WEBGL_depth_texture":ae=ee.getExtension("WEBGL_depth_texture")||ee.getExtension("MOZ_WEBGL_depth_texture")||ee.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":ae=ee.getExtension("EXT_texture_filter_anisotropic")||ee.getExtension("MOZ_EXT_texture_filter_anisotropic")||ee.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":ae=ee.getExtension("WEBGL_compressed_texture_s3tc")||ee.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||ee.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":ae=ee.getExtension("WEBGL_compressed_texture_pvrtc")||ee.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":ae=ee.getExtension("WEBGL_compressed_texture_etc1");break;default:ae=ee.getExtension(ie)}return ae===null&&console.warn("THREE.WebGLRenderer: "+ie+" extension not supported."),re[ie]=ae,ae}},te.WebGLCapabilities=function(ee,re,ie){var ae;function oe(){if(ae!==void 0)return ae;var ue=re.get("EXT_texture_filter_anisotropic");return ue!==null?ae=ee.getParameter(ue.MAX_TEXTURE_MAX_ANISOTROPY_EXT):ae=0,ae}function le(ue){if(ue==="highp"){if(ee.getShaderPrecisionFormat(ee.VERTEX_SHADER,ee.HIGH_FLOAT).precision>0&&ee.getShaderPrecisionFormat(ee.FRAGMENT_SHADER,ee.HIGH_FLOAT).precision>0)return"highp";ue="mediump"}return ue==="mediump"&&ee.getShaderPrecisionFormat(ee.VERTEX_SHADER,ee.MEDIUM_FLOAT).precision>0&&ee.getShaderPrecisionFormat(ee.FRAGMENT_SHADER,ee.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxAnisotropy=oe,this.getMaxPrecision=le,this.precision=ie.precision!==void 0?ie.precision:"highp",this.logarithmicDepthBuffer=ie.logarithmicDepthBuffer!==void 0?ie.logarithmicDepthBuffer:!1,this.maxTextures=ee.getParameter(ee.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=ee.getParameter(ee.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=ee.getParameter(ee.MAX_TEXTURE_SIZE),this.maxCubemapSize=ee.getParameter(ee.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=ee.getParameter(ee.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=ee.getParameter(ee.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=ee.getParameter(ee.MAX_VARYING_VECTORS),this.maxFragmentUniforms=ee.getParameter(ee.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!re.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var he=le(this.precision);he!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",he,"instead."),this.precision=he),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!re.get("EXT_frag_depth"))},te.WebGLGeometries=function(ee,re,ie){var ae={};function oe(fe){var me=fe.geometry;if(ae[me.id]!==void 0)return ae[me.id];me.addEventListener("dispose",le);var de;return me instanceof te.BufferGeometry?de=me:me instanceof te.Geometry&&(me._bufferGeometry===void 0&&(me._bufferGeometry=new te.BufferGeometry().setFromObject(fe)),de=me._bufferGeometry),ae[me.id]=de,ie.memory.geometries++,de}function le(fe){var me=fe.target,de=ae[me.id];de.index!==null&&ue(de.index),pe(de.attributes),me.removeEventListener("dispose",le),delete ae[me.id];var ve=re.get(me);ve.wireframe&&ue(ve.wireframe),re.delete(me);var ge=re.get(de);ge.wireframe&&ue(ge.wireframe),re.delete(de),ie.memory.geometries--}function he(fe){return fe instanceof te.InterleavedBufferAttribute?re.get(fe.data).__webglBuffer:re.get(fe).__webglBuffer}function ue(fe){var me=he(fe);me!==void 0&&(ee.deleteBuffer(me),ce(fe))}function pe(fe){for(var me in fe)ue(fe[me])}function ce(fe){fe instanceof te.InterleavedBufferAttribute?re.delete(fe.data):re.delete(fe)}this.get=oe},te.WebGLLights=function(){var ee={};this.get=function(re){if(ee[re.id]!==void 0)return ee[re.id];var ie;switch(re.type){case"DirectionalLight":ie={direction:new te.Vector3,color:new te.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new te.Vector2};break;case"SpotLight":ie={position:new te.Vector3,direction:new te.Vector3,color:new te.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new te.Vector2};break;case"PointLight":ie={position:new te.Vector3,color:new te.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new te.Vector2};break;case"HemisphereLight":ie={direction:new te.Vector3,skyColor:new te.Color,groundColor:new te.Color};break}return ee[re.id]=ie,ie}},te.WebGLObjects=function(ee,re,ie){var ae=new te.WebGLGeometries(ee,re,ie);function oe(me){var de=ae.get(me);me.geometry instanceof te.Geometry&&de.updateFromObject(me);var ve=de.index,ge=de.attributes;ve!==null&&le(ve,ee.ELEMENT_ARRAY_BUFFER);for(var xe in ge)le(ge[xe],ee.ARRAY_BUFFER);var _e=de.morphAttributes;for(var xe in _e)for(var ye=_e[xe],we=0,be=ye.length;we<be;we++)le(ye[we],ee.ARRAY_BUFFER);return de}function le(me,de){var ve=me instanceof te.InterleavedBufferAttribute?me.data:me,ge=re.get(ve);ge.__webglBuffer===void 0?he(ge,ve,de):ge.version!==ve.version&&ue(ge,ve,de)}function he(me,de,ve){me.__webglBuffer=ee.createBuffer(),ee.bindBuffer(ve,me.__webglBuffer);var ge=de.dynamic?ee.DYNAMIC_DRAW:ee.STATIC_DRAW;ee.bufferData(ve,de.array,ge),me.version=de.version}function ue(me,de,ve){ee.bindBuffer(ve,me.__webglBuffer),de.dynamic===!1||de.updateRange.count===-1?ee.bufferSubData(ve,0,de.array):de.updateRange.count===0?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(ee.bufferSubData(ve,de.updateRange.offset*de.array.BYTES_PER_ELEMENT,de.array.subarray(de.updateRange.offset,de.updateRange.offset+de.updateRange.count)),de.updateRange.count=0),me.version=de.version}function pe(me){return me instanceof te.InterleavedBufferAttribute?re.get(me.data).__webglBuffer:re.get(me).__webglBuffer}function ce(me){var de=re.get(me);if(de.wireframe!==void 0)return de.wireframe;var ve=[],ge=me.index,xe=me.attributes,_e=xe.position;if(ge!==null)for(var ye={},we=ge.array,be=0,Se=we.length;be<Se;be+=3){var Ce=we[be+0],Te=we[be+1],De=we[be+2];fe(ye,Ce,Te)&&ve.push(Ce,Te),fe(ye,Te,De)&&ve.push(Te,De),fe(ye,De,Ce)&&ve.push(De,Ce)}else for(var we=xe.position.array,be=0,Se=we.length/3-1;be<Se;be+=3){var Ce=be+0,Te=be+1,De=be+2;ve.push(Ce,Te,Te,De,De,Ce)}var Fe=_e.count>65535?Uint32Array:Uint16Array,Le=new te.BufferAttribute(new Fe(ve),1);return le(Le,ee.ELEMENT_ARRAY_BUFFER),de.wireframe=Le,Le}function fe(me,de,ve){if(de>ve){var ge=de;de=ve,ve=ge}var xe=me[de];return xe===void 0?(me[de]=[ve],!0):xe.indexOf(ve)===-1?(xe.push(ve),!0):!1}this.getAttributeBuffer=pe,this.getWireframeAttribute=ce,this.update=oe},te.WebGLProgram=function(){var ee=0;function re(de){switch(de){case te.LinearEncoding:return["Linear","( value )"];case te.sRGBEncoding:return["sRGB","( value )"];case te.RGBEEncoding:return["RGBE","( value )"];case te.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case te.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case te.RGBDEncoding:return["RGBD","( value, 256.0 )"];case te.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+de)}}function ie(de,ve){var ge=re(ve);return"vec4 "+de+"( vec4 value ) { return "+ge[0]+"ToLinear"+ge[1]+"; }"}function ae(de,ve){var ge=re(ve);return"vec4 "+de+"( vec4 value ) { return LinearTo"+ge[0]+ge[1]+"; }"}function oe(de,ve){var ge;switch(ve){case te.LinearToneMapping:ge="Linear";break;case te.ReinhardToneMapping:ge="Reinhard";break;case te.Uncharted2ToneMapping:ge="Uncharted2";break;case te.CineonToneMapping:ge="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+ve)}return"vec3 "+de+"( vec3 color ) { return "+ge+"ToneMapping( color ); }"}function le(de,ve,ge){de=de||{};var xe=[de.derivatives||ve.envMapCubeUV||ve.bumpMap||ve.normalMap||ve.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(de.fragDepth||ve.logarithmicDepthBuffer)&&ge.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",de.drawBuffers&&ge.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(de.shaderTextureLOD||ve.envMap)&&ge.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return xe.filter(pe).join(`
`)}function he(de){var ve=[];for(var ge in de){var xe=de[ge];xe!==!1&&ve.push("#define "+ge+" "+xe)}return ve.join(`
`)}function ue(de,ve,ge){for(var xe={},_e=de.getProgramParameter(ve,de.ACTIVE_ATTRIBUTES),ye=0;ye<_e;ye++){var we=de.getActiveAttrib(ve,ye),be=we.name;xe[be]=de.getAttribLocation(ve,be)}return xe}function pe(de){return de!==""}function ce(de,ve){return de.replace(/NUM_DIR_LIGHTS/g,ve.numDirLights).replace(/NUM_SPOT_LIGHTS/g,ve.numSpotLights).replace(/NUM_POINT_LIGHTS/g,ve.numPointLights).replace(/NUM_HEMI_LIGHTS/g,ve.numHemiLights)}function fe(de){var ve=/#include +<([\w\d.]+)>/g;function ge(xe,_e){var ye=te.ShaderChunk[_e];if(ye===void 0)throw new Error("Can not resolve #include <"+_e+">");return fe(ye)}return de.replace(ve,ge)}function me(de){var ve=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function ge(xe,_e,ye,we){for(var be="",Se=parseInt(_e);Se<parseInt(ye);Se++)be+=we.replace(/\[ i \]/g,"[ "+Se+" ]");return be}return de.replace(ve,ge)}return function(ve,ge,xe,_e){var ye=ve.context,we=xe.extensions,be=xe.defines,Se=xe.__webglShader.vertexShader,Ce=xe.__webglShader.fragmentShader,Te="SHADOWMAP_TYPE_BASIC";_e.shadowMapType===te.PCFShadowMap?Te="SHADOWMAP_TYPE_PCF":_e.shadowMapType===te.PCFSoftShadowMap&&(Te="SHADOWMAP_TYPE_PCF_SOFT");var De="ENVMAP_TYPE_CUBE",Fe="ENVMAP_MODE_REFLECTION",Le="ENVMAP_BLENDING_MULTIPLY";if(_e.envMap){switch(xe.envMap.mapping){case te.CubeReflectionMapping:case te.CubeRefractionMapping:De="ENVMAP_TYPE_CUBE";break;case te.CubeUVReflectionMapping:case te.CubeUVRefractionMapping:De="ENVMAP_TYPE_CUBE_UV";break;case te.EquirectangularReflectionMapping:case te.EquirectangularRefractionMapping:De="ENVMAP_TYPE_EQUIREC";break;case te.SphericalReflectionMapping:De="ENVMAP_TYPE_SPHERE";break}switch(xe.envMap.mapping){case te.CubeRefractionMapping:case te.EquirectangularRefractionMapping:Fe="ENVMAP_MODE_REFRACTION";break}switch(xe.combine){case te.MultiplyOperation:Le="ENVMAP_BLENDING_MULTIPLY";break;case te.MixOperation:Le="ENVMAP_BLENDING_MIX";break;case te.AddOperation:Le="ENVMAP_BLENDING_ADD";break}}var Ie=ve.gammaFactor>0?ve.gammaFactor:1,Oe=le(we,_e,ve.extensions),ke=he(be),Pe=ye.createProgram(),Me,Ee;xe instanceof te.RawShaderMaterial?(Me=[ke].filter(pe).join(`
`),Ee=[ke].filter(pe).join(`
`)):(Me=["precision "+_e.precision+" float;","precision "+_e.precision+" int;","#define SHADER_NAME "+xe.__webglShader.name,ke,_e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+Ie,"#define MAX_BONES "+_e.maxBones,_e.map?"#define USE_MAP":"",_e.envMap?"#define USE_ENVMAP":"",_e.envMap?"#define "+Fe:"",_e.lightMap?"#define USE_LIGHTMAP":"",_e.aoMap?"#define USE_AOMAP":"",_e.emissiveMap?"#define USE_EMISSIVEMAP":"",_e.bumpMap?"#define USE_BUMPMAP":"",_e.normalMap?"#define USE_NORMALMAP":"",_e.displacementMap&&_e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",_e.specularMap?"#define USE_SPECULARMAP":"",_e.roughnessMap?"#define USE_ROUGHNESSMAP":"",_e.metalnessMap?"#define USE_METALNESSMAP":"",_e.alphaMap?"#define USE_ALPHAMAP":"",_e.vertexColors?"#define USE_COLOR":"",_e.flatShading?"#define FLAT_SHADED":"",_e.skinning?"#define USE_SKINNING":"",_e.useVertexTexture?"#define BONE_TEXTURE":"",_e.morphTargets?"#define USE_MORPHTARGETS":"",_e.morphNormals&&_e.flatShading===!1?"#define USE_MORPHNORMALS":"",_e.doubleSided?"#define DOUBLE_SIDED":"",_e.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+_e.numClippingPlanes,_e.shadowMapEnabled?"#define USE_SHADOWMAP":"",_e.shadowMapEnabled?"#define "+Te:"",_e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",_e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",_e.logarithmicDepthBuffer&&ve.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(pe).join(`
`),Ee=[Oe,"precision "+_e.precision+" float;","precision "+_e.precision+" int;","#define SHADER_NAME "+xe.__webglShader.name,ke,_e.alphaTest?"#define ALPHATEST "+_e.alphaTest:"","#define GAMMA_FACTOR "+Ie,_e.useFog&&_e.fog?"#define USE_FOG":"",_e.useFog&&_e.fogExp?"#define FOG_EXP2":"",_e.map?"#define USE_MAP":"",_e.envMap?"#define USE_ENVMAP":"",_e.envMap?"#define "+De:"",_e.envMap?"#define "+Fe:"",_e.envMap?"#define "+Le:"",_e.lightMap?"#define USE_LIGHTMAP":"",_e.aoMap?"#define USE_AOMAP":"",_e.emissiveMap?"#define USE_EMISSIVEMAP":"",_e.bumpMap?"#define USE_BUMPMAP":"",_e.normalMap?"#define USE_NORMALMAP":"",_e.specularMap?"#define USE_SPECULARMAP":"",_e.roughnessMap?"#define USE_ROUGHNESSMAP":"",_e.metalnessMap?"#define USE_METALNESSMAP":"",_e.alphaMap?"#define USE_ALPHAMAP":"",_e.vertexColors?"#define USE_COLOR":"",_e.flatShading?"#define FLAT_SHADED":"",_e.doubleSided?"#define DOUBLE_SIDED":"",_e.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+_e.numClippingPlanes,_e.shadowMapEnabled?"#define USE_SHADOWMAP":"",_e.shadowMapEnabled?"#define "+Te:"",_e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",_e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",_e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",_e.logarithmicDepthBuffer&&ve.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",_e.envMap&&ve.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",_e.toneMapping!==te.NoToneMapping?"#define TONE_MAPPING":"",_e.toneMapping!==te.NoToneMapping?te.ShaderChunk.tonemapping_pars_fragment:"",_e.toneMapping!==te.NoToneMapping?oe("toneMapping",_e.toneMapping):"",_e.outputEncoding||_e.mapEncoding||_e.envMapEncoding||_e.emissiveMapEncoding?te.ShaderChunk.encodings_pars_fragment:"",_e.mapEncoding?ie("mapTexelToLinear",_e.mapEncoding):"",_e.envMapEncoding?ie("envMapTexelToLinear",_e.envMapEncoding):"",_e.emissiveMapEncoding?ie("emissiveMapTexelToLinear",_e.emissiveMapEncoding):"",_e.outputEncoding?ae("linearToOutputTexel",_e.outputEncoding):"",_e.depthPacking?"#define DEPTH_PACKING "+xe.depthPacking:"",`
`].filter(pe).join(`
`)),Se=fe(Se),Se=ce(Se,_e),Ce=fe(Ce),Ce=ce(Ce,_e),xe instanceof te.ShaderMaterial||(Se=me(Se),Ce=me(Ce));var Ae=Me+Se,Re=Ee+Ce,Be=te.WebGLShader(ye,ye.VERTEX_SHADER,Ae),ze=te.WebGLShader(ye,ye.FRAGMENT_SHADER,Re);ye.attachShader(Pe,Be),ye.attachShader(Pe,ze),xe.index0AttributeName!==void 0?ye.bindAttribLocation(Pe,0,xe.index0AttributeName):_e.morphTargets===!0&&ye.bindAttribLocation(Pe,0,"position"),ye.linkProgram(Pe);var je=ye.getProgramInfoLog(Pe),$e=ye.getShaderInfoLog(Be),We=ye.getShaderInfoLog(ze),Ge=!0,He=!0;ye.getProgramParameter(Pe,ye.LINK_STATUS)===!1?(Ge=!1,console.error("THREE.WebGLProgram: shader error: ",ye.getError(),"gl.VALIDATE_STATUS",ye.getProgramParameter(Pe,ye.VALIDATE_STATUS),"gl.getProgramInfoLog",je,$e,We)):je!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",je):($e===""||We==="")&&(He=!1),He&&(this.diagnostics={runnable:Ge,material:xe,programLog:je,vertexShader:{log:$e,prefix:Me},fragmentShader:{log:We,prefix:Ee}}),ye.deleteShader(Be),ye.deleteShader(ze);var Ze;this.getUniforms=function(){return Ze===void 0&&(Ze=new te.WebGLUniforms(ye,Pe,ve)),Ze};var Ye;return this.getAttributes=function(){return Ye===void 0&&(Ye=ue(ye,Pe)),Ye},this.destroy=function(){ye.deleteProgram(Pe),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=ee++,this.code=ge,this.usedTimes=1,this.program=Pe,this.vertexShader=Be,this.fragmentShader=ze,this}}(),te.WebGLPrograms=function(ee,re){var ie=[],ae={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},oe=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","depthPacking"];function le(ue){if(re.floatVertexTextures&&ue&&ue.skeleton&&ue.skeleton.useVertexTexture)return 1024;var pe=re.maxVertexUniforms,ce=Math.floor((pe-20)/4),fe=ce;return ue!==void 0&&ue instanceof te.SkinnedMesh&&(fe=Math.min(ue.skeleton.bones.length,fe),fe<ue.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+ue.skeleton.bones.length+", this GPU supports just "+fe+" (try OpenGL instead of ANGLE)")),fe}function he(ue,pe){var ce;return ue?ue instanceof te.Texture?ce=ue.encoding:ue instanceof te.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),ce=ue.texture.encoding):ce=te.LinearEncoding,ce===te.LinearEncoding&&pe&&(ce=te.GammaEncoding),ce}this.getParameters=function(ue,pe,ce,fe,me){var de=ae[ue.type],ve=le(me),ge=ee.getPrecision();ue.precision!==null&&(ge=re.getMaxPrecision(ue.precision),ge!==ue.precision&&console.warn("THREE.WebGLProgram.getParameters:",ue.precision,"not supported, using",ge,"instead."));var xe=ee.getCurrentRenderTarget(),_e={shaderID:de,precision:ge,supportsVertexTextures:re.vertexTextures,outputEncoding:he(xe?xe.texture:null,ee.gammaOutput),map:!!ue.map,mapEncoding:he(ue.map,ee.gammaInput),envMap:!!ue.envMap,envMapMode:ue.envMap&&ue.envMap.mapping,envMapEncoding:he(ue.envMap,ee.gammaInput),envMapCubeUV:!!ue.envMap&&(ue.envMap.mapping===te.CubeUVReflectionMapping||ue.envMap.mapping===te.CubeUVRefractionMapping),lightMap:!!ue.lightMap,aoMap:!!ue.aoMap,emissiveMap:!!ue.emissiveMap,emissiveMapEncoding:he(ue.emissiveMap,ee.gammaInput),bumpMap:!!ue.bumpMap,normalMap:!!ue.normalMap,displacementMap:!!ue.displacementMap,roughnessMap:!!ue.roughnessMap,metalnessMap:!!ue.metalnessMap,specularMap:!!ue.specularMap,alphaMap:!!ue.alphaMap,combine:ue.combine,vertexColors:ue.vertexColors,fog:!!ce,useFog:ue.fog,fogExp:ce instanceof te.FogExp2,flatShading:ue.shading===te.FlatShading,sizeAttenuation:ue.sizeAttenuation,logarithmicDepthBuffer:re.logarithmicDepthBuffer,skinning:ue.skinning,maxBones:ve,useVertexTexture:re.floatVertexTextures&&me&&me.skeleton&&me.skeleton.useVertexTexture,morphTargets:ue.morphTargets,morphNormals:ue.morphNormals,maxMorphTargets:ee.maxMorphTargets,maxMorphNormals:ee.maxMorphNormals,numDirLights:pe.directional.length,numPointLights:pe.point.length,numSpotLights:pe.spot.length,numHemiLights:pe.hemi.length,numClippingPlanes:fe,shadowMapEnabled:ee.shadowMap.enabled&&me.receiveShadow&&pe.shadows.length>0,shadowMapType:ee.shadowMap.type,toneMapping:ee.toneMapping,physicallyCorrectLights:ee.physicallyCorrectLights,premultipliedAlpha:ue.premultipliedAlpha,alphaTest:ue.alphaTest,doubleSided:ue.side===te.DoubleSide,flipSided:ue.side===te.BackSide,depthPacking:ue.depthPacking!==void 0?ue.depthPacking:!1};return _e},this.getProgramCode=function(ue,pe){var ce=[];if(pe.shaderID?ce.push(pe.shaderID):(ce.push(ue.fragmentShader),ce.push(ue.vertexShader)),ue.defines!==void 0)for(var fe in ue.defines)ce.push(fe),ce.push(ue.defines[fe]);for(var me=0;me<oe.length;me++)ce.push(pe[oe[me]]);return ce.join()},this.acquireProgram=function(ue,pe,ce){for(var fe,me=0,de=ie.length;me<de;me++){var ve=ie[me];if(ve.code===ce){fe=ve,++fe.usedTimes;break}}return fe===void 0&&(fe=new te.WebGLProgram(ee,ce,ue,pe),ie.push(fe)),fe},this.releaseProgram=function(ue){if(--ue.usedTimes===0){var pe=ie.indexOf(ue);ie[pe]=ie[ie.length-1],ie.pop(),ue.destroy()}},this.programs=ie},te.WebGLProperties=function(){var ee={};this.get=function(re){var ie=re.uuid,ae=ee[ie];return ae===void 0&&(ae={},ee[ie]=ae),ae},this.delete=function(re){delete ee[re.uuid]},this.clear=function(){ee={}}},te.WebGLShader=function(){function ee(re){for(var ie=re.split(`
`),ae=0;ae<ie.length;ae++)ie[ae]=ae+1+": "+ie[ae];return ie.join(`
`)}return function(ie,ae,oe){var le=ie.createShader(ae);return ie.shaderSource(le,oe),ie.compileShader(le),ie.getShaderParameter(le,ie.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),ie.getShaderInfoLog(le)!==""&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",ae===ie.VERTEX_SHADER?"vertex":"fragment",ie.getShaderInfoLog(le),ee(oe)),le}}(),te.WebGLShadowMap=function(ee,re,ie,ae){var oe=ee.context,le=ee.state,he=new te.Frustum,ue=new te.Matrix4,pe=re.shadows,ce=new te.Vector2,fe=new te.Vector2(ae.maxTextureSize,ae.maxTextureSize),me=new te.Vector3,de=new te.Vector3,ve=[],ge=1,xe=2,_e=(ge|xe)+1,ye=new Array(_e),we=new Array(_e),be={},Se=[new te.Vector3(1,0,0),new te.Vector3(-1,0,0),new te.Vector3(0,0,1),new te.Vector3(0,0,-1),new te.Vector3(0,1,0),new te.Vector3(0,-1,0)],Ce=[new te.Vector3(0,1,0),new te.Vector3(0,1,0),new te.Vector3(0,1,0),new te.Vector3(0,1,0),new te.Vector3(0,0,1),new te.Vector3(0,0,-1)],Te=[new te.Vector4,new te.Vector4,new te.Vector4,new te.Vector4,new te.Vector4,new te.Vector4],De=new te.MeshDepthMaterial;De.depthPacking=te.RGBADepthPacking,De.clipping=!0;for(var Fe=te.ShaderLib.distanceRGBA,Le=te.UniformsUtils.clone(Fe.uniforms),Ie=0;Ie!==_e;++Ie){var Oe=(Ie&ge)!==0,ke=(Ie&xe)!==0,Pe=De.clone();Pe.morphTargets=Oe,Pe.skinning=ke,ye[Ie]=Pe;var Me=new te.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:Le,vertexShader:Fe.vertexShader,fragmentShader:Fe.fragmentShader,morphTargets:Oe,skinning:ke,clipping:!0});we[Ie]=Me}var Ee=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=te.PCFShadowMap,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(Be,ze){if(Ee.enabled!==!1&&!(Ee.autoUpdate===!1&&Ee.needsUpdate===!1)&&pe.length!==0){le.clearColor(1,1,1,1),le.disable(oe.BLEND),le.setDepthTest(!0),le.setScissorTest(!1);for(var je,$e,We=0,Ge=pe.length;We<Ge;We++){var He=pe[We],Ze=He.shadow;if(Ze===void 0){console.warn("THREE.WebGLShadowMap:",He,"has no shadow.");continue}var Ye=Ze.camera;if(ce.copy(Ze.mapSize),ce.min(fe),He instanceof te.PointLight){je=6,$e=!0;var Qe=ce.x,Je=ce.y;Te[0].set(Qe*2,Je,Qe,Je),Te[1].set(0,Je,Qe,Je),Te[2].set(Qe*3,Je,Qe,Je),Te[3].set(Qe,Je,Qe,Je),Te[4].set(Qe*3,0,Qe,Je),Te[5].set(Qe,0,Qe,Je),ce.x*=4,ce.y*=2}else je=1,$e=!1;if(Ze.map===null){var Ne={minFilter:te.NearestFilter,magFilter:te.NearestFilter,format:te.RGBAFormat};Ze.map=new te.WebGLRenderTarget(ce.x,ce.y,Ne),Ye.updateProjectionMatrix()}Ze instanceof te.SpotLightShadow&&Ze.update(He);var Ke=Ze.map,ht=Ze.matrix;de.setFromMatrixPosition(He.matrixWorld),Ye.position.copy(de),ee.setRenderTarget(Ke),ee.clear();for(var _t=0;_t<je;_t++){if($e){me.copy(Ye.position),me.add(Se[_t]),Ye.up.copy(Ce[_t]),Ye.lookAt(me);var pt=Te[_t];le.viewport(pt)}else me.setFromMatrixPosition(He.target.matrixWorld),Ye.lookAt(me);Ye.updateMatrixWorld(),Ye.matrixWorldInverse.getInverse(Ye.matrixWorld),ht.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),ht.multiply(Ye.projectionMatrix),ht.multiply(Ye.matrixWorldInverse),ue.multiplyMatrices(Ye.projectionMatrix,Ye.matrixWorldInverse),he.setFromMatrix(ue),ve.length=0,Re(Be,ze,Ye);for(var qe=0,Dt=ve.length;qe<Dt;qe++){var wt=ve[qe],vt=ie.update(wt),gt=wt.material;if(gt instanceof te.MultiMaterial)for(var Ft=vt.groups,Tt=gt.materials,Bt=0,zt=Ft.length;Bt<zt;Bt++){var St=Ft[Bt],kt=Tt[St.materialIndex];if(kt.visible===!0){var Rt=Ae(wt,kt,$e,de);ee.renderBufferDirect(Ye,null,vt,Rt,wt,St)}}else{var Rt=Ae(wt,gt,$e,de);ee.renderBufferDirect(Ye,null,vt,Rt,wt,null)}}}}var Ut=ee.getClearColor(),Ht=ee.getClearAlpha();ee.setClearColor(Ut,Ht),Ee.needsUpdate=!1}};function Ae(Be,ze,je,$e){var We=Be.geometry,Ge=null,He=ye,Ze=Be.customDepthMaterial;if(je&&(He=we,Ze=Be.customDistanceMaterial),Ze)Ge=Ze;else{var Ye=!1;ze.morphTargets&&(We instanceof te.BufferGeometry?Ye=We.morphAttributes&&We.morphAttributes.position&&We.morphAttributes.position.length>0:We instanceof te.Geometry&&(Ye=We.morphTargets&&We.morphTargets.length>0));var Qe=Be instanceof te.SkinnedMesh&&ze.skinning,Je=0;Ye&&(Je|=ge),Qe&&(Je|=xe),Ge=He[Je]}if(ee.localClippingEnabled&&ze.clipShadows===!0&&ze.clippingPlanes.length!==0){var Ne=Ge.uuid,Ke=ze.uuid,ht=be[Ne];ht===void 0&&(ht={},be[Ne]=ht);var _t=ht[Ke];_t===void 0&&(_t=Ge.clone(),ht[Ke]=_t),Ge=_t}Ge.visible=ze.visible,Ge.wireframe=ze.wireframe;var pt=ze.side;return Ee.renderSingleSided&&pt==te.DoubleSide&&(pt=te.FrontSide),Ee.renderReverseSided&&(pt===te.FrontSide?pt=te.BackSide:pt===te.BackSide&&(pt=te.FrontSide)),Ge.side=pt,Ge.clipShadows=ze.clipShadows,Ge.clippingPlanes=ze.clippingPlanes,Ge.wireframeLinewidth=ze.wireframeLinewidth,Ge.linewidth=ze.linewidth,je&&Ge.uniforms.lightPos!==void 0&&Ge.uniforms.lightPos.value.copy($e),Ge}function Re(Be,ze,je){if(Be.visible!==!1){if(Be.layers.test(ze.layers)&&(Be instanceof te.Mesh||Be instanceof te.Line||Be instanceof te.Points)&&Be.castShadow&&(Be.frustumCulled===!1||he.intersectsObject(Be)===!0)){var $e=Be.material;$e.visible===!0&&(Be.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,Be.matrixWorld),ve.push(Be))}for(var We=Be.children,Ge=0,He=We.length;Ge<He;Ge++)Re(We[Ge],ze,je)}}},te.WebGLState=function(ee,re,ie){var ae=this;this.buffers={color:new te.WebGLColorBuffer(ee,this),depth:new te.WebGLDepthBuffer(ee,this),stencil:new te.WebGLStencilBuffer(ee,this)};var oe=ee.getParameter(ee.MAX_VERTEX_ATTRIBS),le=new Uint8Array(oe),he=new Uint8Array(oe),ue=new Uint8Array(oe),pe={},ce=null,fe=null,me=null,de=null,ve=null,ge=null,xe=null,_e=null,ye=!1,we=null,be=null,Se=null,Ce=null,Te=null,De=null,Fe=ee.getParameter(ee.MAX_TEXTURE_IMAGE_UNITS),Le=null,Ie={},Oe=new te.Vector4,ke=new te.Vector4;function Pe(Ee,Ae,Re){var Be=new Uint8Array(4),ze=ee.createTexture();ee.bindTexture(Ee,ze),ee.texParameteri(Ee,ee.TEXTURE_MIN_FILTER,ee.NEAREST),ee.texParameteri(Ee,ee.TEXTURE_MAG_FILTER,ee.NEAREST);for(var je=0;je<Re;je++)ee.texImage2D(Ae+je,0,ee.RGBA,1,1,0,ee.RGBA,ee.UNSIGNED_BYTE,Be);return ze}var Me={};Me[ee.TEXTURE_2D]=Pe(ee.TEXTURE_2D,ee.TEXTURE_2D,1),Me[ee.TEXTURE_CUBE_MAP]=Pe(ee.TEXTURE_CUBE_MAP,ee.TEXTURE_CUBE_MAP_POSITIVE_X,6),this.init=function(){this.clearColor(0,0,0,1),this.clearDepth(1),this.clearStencil(0),this.enable(ee.DEPTH_TEST),this.setDepthFunc(te.LessEqualDepth),this.setFlipSided(!1),this.setCullFace(te.CullFaceBack),this.enable(ee.CULL_FACE),this.enable(ee.BLEND),this.setBlending(te.NormalBlending)},this.initAttributes=function(){for(var Ee=0,Ae=le.length;Ee<Ae;Ee++)le[Ee]=0},this.enableAttribute=function(Ee){if(le[Ee]=1,he[Ee]===0&&(ee.enableVertexAttribArray(Ee),he[Ee]=1),ue[Ee]!==0){var Ae=re.get("ANGLE_instanced_arrays");Ae.vertexAttribDivisorANGLE(Ee,0),ue[Ee]=0}},this.enableAttributeAndDivisor=function(Ee,Ae,Re){le[Ee]=1,he[Ee]===0&&(ee.enableVertexAttribArray(Ee),he[Ee]=1),ue[Ee]!==Ae&&(Re.vertexAttribDivisorANGLE(Ee,Ae),ue[Ee]=Ae)},this.disableUnusedAttributes=function(){for(var Ee=0,Ae=he.length;Ee!==Ae;++Ee)he[Ee]!==le[Ee]&&(ee.disableVertexAttribArray(Ee),he[Ee]=0)},this.enable=function(Ee){pe[Ee]!==!0&&(ee.enable(Ee),pe[Ee]=!0)},this.disable=function(Ee){pe[Ee]!==!1&&(ee.disable(Ee),pe[Ee]=!1)},this.getCompressedTextureFormats=function(){if(ce===null&&(ce=[],re.get("WEBGL_compressed_texture_pvrtc")||re.get("WEBGL_compressed_texture_s3tc")||re.get("WEBGL_compressed_texture_etc1")))for(var Ee=ee.getParameter(ee.COMPRESSED_TEXTURE_FORMATS),Ae=0;Ae<Ee.length;Ae++)ce.push(Ee[Ae]);return ce},this.setBlending=function(Ee,Ae,Re,Be,ze,je,$e,We){if(Ee!==te.NoBlending)this.enable(ee.BLEND);else{this.disable(ee.BLEND),fe=Ee;return}(Ee!==fe||We!==ye)&&(Ee===te.AdditiveBlending?We?(ee.blendEquationSeparate(ee.FUNC_ADD,ee.FUNC_ADD),ee.blendFuncSeparate(ee.ONE,ee.ONE,ee.ONE,ee.ONE)):(ee.blendEquation(ee.FUNC_ADD),ee.blendFunc(ee.SRC_ALPHA,ee.ONE)):Ee===te.SubtractiveBlending?We?(ee.blendEquationSeparate(ee.FUNC_ADD,ee.FUNC_ADD),ee.blendFuncSeparate(ee.ZERO,ee.ZERO,ee.ONE_MINUS_SRC_COLOR,ee.ONE_MINUS_SRC_ALPHA)):(ee.blendEquation(ee.FUNC_ADD),ee.blendFunc(ee.ZERO,ee.ONE_MINUS_SRC_COLOR)):Ee===te.MultiplyBlending?We?(ee.blendEquationSeparate(ee.FUNC_ADD,ee.FUNC_ADD),ee.blendFuncSeparate(ee.ZERO,ee.SRC_COLOR,ee.ZERO,ee.SRC_ALPHA)):(ee.blendEquation(ee.FUNC_ADD),ee.blendFunc(ee.ZERO,ee.SRC_COLOR)):We?(ee.blendEquationSeparate(ee.FUNC_ADD,ee.FUNC_ADD),ee.blendFuncSeparate(ee.ONE,ee.ONE_MINUS_SRC_ALPHA,ee.ONE,ee.ONE_MINUS_SRC_ALPHA)):(ee.blendEquationSeparate(ee.FUNC_ADD,ee.FUNC_ADD),ee.blendFuncSeparate(ee.SRC_ALPHA,ee.ONE_MINUS_SRC_ALPHA,ee.ONE,ee.ONE_MINUS_SRC_ALPHA)),fe=Ee,ye=We),Ee===te.CustomBlending?(ze=ze||Ae,je=je||Re,$e=$e||Be,(Ae!==me||ze!==ge)&&(ee.blendEquationSeparate(ie(Ae),ie(ze)),me=Ae,ge=ze),(Re!==de||Be!==ve||je!==xe||$e!==_e)&&(ee.blendFuncSeparate(ie(Re),ie(Be),ie(je),ie($e)),de=Re,ve=Be,xe=je,_e=$e)):(me=null,de=null,ve=null,ge=null,xe=null,_e=null)},this.setColorWrite=function(Ee){this.buffers.color.setMask(Ee)},this.setDepthTest=function(Ee){this.buffers.depth.setTest(Ee)},this.setDepthWrite=function(Ee){this.buffers.depth.setMask(Ee)},this.setDepthFunc=function(Ee){this.buffers.depth.setFunc(Ee)},this.setStencilTest=function(Ee){this.buffers.stencil.setTest(Ee)},this.setStencilWrite=function(Ee){this.buffers.stencil.setMask(Ee)},this.setStencilFunc=function(Ee,Ae,Re){this.buffers.stencil.setFunc(Ee,Ae,Re)},this.setStencilOp=function(Ee,Ae,Re){this.buffers.stencil.setOp(Ee,Ae,Re)},this.setFlipSided=function(Ee){we!==Ee&&(Ee?ee.frontFace(ee.CW):ee.frontFace(ee.CCW),we=Ee)},this.setCullFace=function(Ee){Ee!==te.CullFaceNone?(this.enable(ee.CULL_FACE),Ee!==be&&(Ee===te.CullFaceBack?ee.cullFace(ee.BACK):Ee===te.CullFaceFront?ee.cullFace(ee.FRONT):ee.cullFace(ee.FRONT_AND_BACK))):this.disable(ee.CULL_FACE),be=Ee},this.setLineWidth=function(Ee){Ee!==Se&&(ee.lineWidth(Ee),Se=Ee)},this.setPolygonOffset=function(Ee,Ae,Re){Ee?(this.enable(ee.POLYGON_OFFSET_FILL),(Ce!==Ae||Te!==Re)&&(ee.polygonOffset(Ae,Re),Ce=Ae,Te=Re)):this.disable(ee.POLYGON_OFFSET_FILL)},this.getScissorTest=function(){return De},this.setScissorTest=function(Ee){De=Ee,Ee?this.enable(ee.SCISSOR_TEST):this.disable(ee.SCISSOR_TEST)},this.activeTexture=function(Ee){Ee===void 0&&(Ee=ee.TEXTURE0+Fe-1),Le!==Ee&&(ee.activeTexture(Ee),Le=Ee)},this.bindTexture=function(Ee,Ae){Le===null&&ae.activeTexture();var Re=Ie[Le];Re===void 0&&(Re={type:void 0,texture:void 0},Ie[Le]=Re),(Re.type!==Ee||Re.texture!==Ae)&&(ee.bindTexture(Ee,Ae||Me[Ee]),Re.type=Ee,Re.texture=Ae)},this.compressedTexImage2D=function(){try{ee.compressedTexImage2D.apply(ee,arguments)}catch(Ee){console.error(Ee)}},this.texImage2D=function(){try{ee.texImage2D.apply(ee,arguments)}catch(Ee){console.error(Ee)}},this.clearColor=function(Ee,Ae,Re,Be){this.buffers.color.setClear(Ee,Ae,Re,Be)},this.clearDepth=function(Ee){this.buffers.depth.setClear(Ee)},this.clearStencil=function(Ee){this.buffers.stencil.setClear(Ee)},this.scissor=function(Ee){Oe.equals(Ee)===!1&&(ee.scissor(Ee.x,Ee.y,Ee.z,Ee.w),Oe.copy(Ee))},this.viewport=function(Ee){ke.equals(Ee)===!1&&(ee.viewport(Ee.x,Ee.y,Ee.z,Ee.w),ke.copy(Ee))},this.reset=function(){for(var Ee=0;Ee<he.length;Ee++)he[Ee]===1&&(ee.disableVertexAttribArray(Ee),he[Ee]=0);pe={},ce=null,Le=null,Ie={},fe=null,we=null,be=null,this.buffers.color.reset(),this.buffers.depth.reset(),this.buffers.stencil.reset()}},te.WebGLColorBuffer=function(ee,re){var ie=!1,ae=new te.Vector4,oe=null,le=new te.Vector4;this.setMask=function(he){oe!==he&&!ie&&(ee.colorMask(he,he,he,he),oe=he)},this.setLocked=function(he){ie=he},this.setClear=function(he,ue,pe,ce){ae.set(he,ue,pe,ce),le.equals(ae)===!1&&(ee.clearColor(he,ue,pe,ce),le.copy(ae))},this.reset=function(){ie=!1,oe=null,le=new te.Vector4}},te.WebGLDepthBuffer=function(ee,re){var ie=!1,ae=null,oe=null,le=null;this.setTest=function(he){he?re.enable(ee.DEPTH_TEST):re.disable(ee.DEPTH_TEST)},this.setMask=function(he){ae!==he&&!ie&&(ee.depthMask(he),ae=he)},this.setFunc=function(he){if(oe!==he){if(he)switch(he){case te.NeverDepth:ee.depthFunc(ee.NEVER);break;case te.AlwaysDepth:ee.depthFunc(ee.ALWAYS);break;case te.LessDepth:ee.depthFunc(ee.LESS);break;case te.LessEqualDepth:ee.depthFunc(ee.LEQUAL);break;case te.EqualDepth:ee.depthFunc(ee.EQUAL);break;case te.GreaterEqualDepth:ee.depthFunc(ee.GEQUAL);break;case te.GreaterDepth:ee.depthFunc(ee.GREATER);break;case te.NotEqualDepth:ee.depthFunc(ee.NOTEQUAL);break;default:ee.depthFunc(ee.LEQUAL)}else ee.depthFunc(ee.LEQUAL);oe=he}},this.setLocked=function(he){ie=he},this.setClear=function(he){le!==he&&(ee.clearDepth(he),le=he)},this.reset=function(){ie=!1,ae=null,oe=null,le=null}},te.WebGLStencilBuffer=function(ee,re){var ie=!1,ae=null,oe=null,le=null,he=null,ue=null,pe=null,ce=null,fe=null;this.setTest=function(me){me?re.enable(ee.STENCIL_TEST):re.disable(ee.STENCIL_TEST)},this.setMask=function(me){ae!==me&&!ie&&(ee.stencilMask(me),ae=me)},this.setFunc=function(me,de,ve){(oe!==me||le!==de||he!==ve)&&(ee.stencilFunc(me,de,ve),oe=me,le=de,he=ve)},this.setOp=function(me,de,ve){(ue!==me||pe!==de||ce!==ve)&&(ee.stencilOp(me,de,ve),ue=me,pe=de,ce=ve)},this.setLocked=function(me){ie=me},this.setClear=function(me){fe!==me&&(ee.clearStencil(me),fe=me)},this.reset=function(){ie=!1,ae=null,oe=null,le=null,he=null,ue=null,pe=null,ce=null,fe=null}},te.WebGLTextures=function(ee,re,ie,ae,oe,le,he){var ue=he.memory,pe=typeof WebGL2RenderingContext!="undefined"&&ee instanceof WebGL2RenderingContext;function ce(Pe,Me){if(Pe.width>Me||Pe.height>Me){var Ee=Me/Math.max(Pe.width,Pe.height),Ae=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");Ae.width=Math.floor(Pe.width*Ee),Ae.height=Math.floor(Pe.height*Ee);var Re=Ae.getContext("2d");return Re.drawImage(Pe,0,0,Pe.width,Pe.height,0,0,Ae.width,Ae.height),console.warn("THREE.WebGLRenderer: image is too big ("+Pe.width+"x"+Pe.height+"). Resized to "+Ae.width+"x"+Ae.height,Pe),Ae}return Pe}function fe(Pe){return te.Math.isPowerOfTwo(Pe.width)&&te.Math.isPowerOfTwo(Pe.height)}function me(Pe){if(Pe instanceof HTMLImageElement||Pe instanceof HTMLCanvasElement){var Me=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");Me.width=te.Math.nearestPowerOfTwo(Pe.width),Me.height=te.Math.nearestPowerOfTwo(Pe.height);var Ee=Me.getContext("2d");return Ee.drawImage(Pe,0,0,Me.width,Me.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+Pe.width+"x"+Pe.height+"). Resized to "+Me.width+"x"+Me.height,Pe),Me}return Pe}function de(Pe){return Pe.wrapS!==te.ClampToEdgeWrapping||Pe.wrapT!==te.ClampToEdgeWrapping||Pe.minFilter!==te.NearestFilter&&Pe.minFilter!==te.LinearFilter}function ve(Pe){return Pe===te.NearestFilter||Pe===te.NearestMipMapNearestFilter||Pe===te.NearestMipMapLinearFilter?ee.NEAREST:ee.LINEAR}function ge(Pe){var Me=Pe.target;Me.removeEventListener("dispose",ge),_e(Me),ue.textures--}function xe(Pe){var Me=Pe.target;Me.removeEventListener("dispose",xe),ye(Me),ue.textures--}function _e(Pe){var Me=ae.get(Pe);if(Pe.image&&Me.__image__webglTextureCube)ee.deleteTexture(Me.__image__webglTextureCube);else{if(Me.__webglInit===void 0)return;ee.deleteTexture(Me.__webglTexture)}ae.delete(Pe)}function ye(Pe){var Me=ae.get(Pe),Ee=ae.get(Pe.texture);if(!!Pe){if(Ee.__webglTexture!==void 0&&ee.deleteTexture(Ee.__webglTexture),Pe.depthTexture&&Pe.depthTexture.dispose(),Pe instanceof te.WebGLRenderTargetCube)for(var Ae=0;Ae<6;Ae++)ee.deleteFramebuffer(Me.__webglFramebuffer[Ae]),Me.__webglDepthbuffer&&ee.deleteRenderbuffer(Me.__webglDepthbuffer[Ae]);else ee.deleteFramebuffer(Me.__webglFramebuffer),Me.__webglDepthbuffer&&ee.deleteRenderbuffer(Me.__webglDepthbuffer);ae.delete(Pe.texture),ae.delete(Pe)}}function we(Pe,Me){var Ee=ae.get(Pe);if(Pe.version>0&&Ee.__version!==Pe.version){var Ae=Pe.image;if(Ae===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",Pe);else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",Pe);else{Te(Ee,Pe,Me);return}}ie.activeTexture(ee.TEXTURE0+Me),ie.bindTexture(ee.TEXTURE_2D,Ee.__webglTexture)}function be(Pe,Me){var Ee=ae.get(Pe);if(Pe.image.length===6)if(Pe.version>0&&Ee.__version!==Pe.version){Ee.__image__webglTextureCube||(Pe.addEventListener("dispose",ge),Ee.__image__webglTextureCube=ee.createTexture(),ue.textures++),ie.activeTexture(ee.TEXTURE0+Me),ie.bindTexture(ee.TEXTURE_CUBE_MAP,Ee.__image__webglTextureCube),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,Pe.flipY);for(var Ae=Pe instanceof te.CompressedTexture,Re=Pe.image[0]instanceof te.DataTexture,Be=[],ze=0;ze<6;ze++)!Ae&&!Re?Be[ze]=ce(Pe.image[ze],oe.maxCubemapSize):Be[ze]=Re?Pe.image[ze].image:Pe.image[ze];var je=Be[0],$e=fe(je),We=le(Pe.format),Ge=le(Pe.type);Ce(ee.TEXTURE_CUBE_MAP,Pe,$e);for(var ze=0;ze<6;ze++)if(!Ae)Re?ie.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,We,Be[ze].width,Be[ze].height,0,We,Ge,Be[ze].data):ie.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+ze,0,We,We,Ge,Be[ze]);else for(var He,Ze=Be[ze].mipmaps,Ye=0,Qe=Ze.length;Ye<Qe;Ye++)He=Ze[Ye],Pe.format!==te.RGBAFormat&&Pe.format!==te.RGBFormat?ie.getCompressedTextureFormats().indexOf(We)>-1?ie.compressedTexImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+ze,Ye,We,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ie.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+ze,Ye,We,He.width,He.height,0,We,Ge,He.data);Pe.generateMipmaps&&$e&&ee.generateMipmap(ee.TEXTURE_CUBE_MAP),Ee.__version=Pe.version,Pe.onUpdate&&Pe.onUpdate(Pe)}else ie.activeTexture(ee.TEXTURE0+Me),ie.bindTexture(ee.TEXTURE_CUBE_MAP,Ee.__image__webglTextureCube)}function Se(Pe,Me){ie.activeTexture(ee.TEXTURE0+Me),ie.bindTexture(ee.TEXTURE_CUBE_MAP,ae.get(Pe).__webglTexture)}function Ce(Pe,Me,Ee){var Ae;if(Ee?(ee.texParameteri(Pe,ee.TEXTURE_WRAP_S,le(Me.wrapS)),ee.texParameteri(Pe,ee.TEXTURE_WRAP_T,le(Me.wrapT)),ee.texParameteri(Pe,ee.TEXTURE_MAG_FILTER,le(Me.magFilter)),ee.texParameteri(Pe,ee.TEXTURE_MIN_FILTER,le(Me.minFilter))):(ee.texParameteri(Pe,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(Pe,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),(Me.wrapS!==te.ClampToEdgeWrapping||Me.wrapT!==te.ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",Me),ee.texParameteri(Pe,ee.TEXTURE_MAG_FILTER,ve(Me.magFilter)),ee.texParameteri(Pe,ee.TEXTURE_MIN_FILTER,ve(Me.minFilter)),Me.minFilter!==te.NearestFilter&&Me.minFilter!==te.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",Me)),Ae=re.get("EXT_texture_filter_anisotropic"),Ae){if(Me.type===te.FloatType&&re.get("OES_texture_float_linear")===null||Me.type===te.HalfFloatType&&re.get("OES_texture_half_float_linear")===null)return;(Me.anisotropy>1||ae.get(Me).__currentAnisotropy)&&(ee.texParameterf(Pe,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Me.anisotropy,oe.getMaxAnisotropy())),ae.get(Me).__currentAnisotropy=Me.anisotropy)}}function Te(Pe,Me,Ee){Pe.__webglInit===void 0&&(Pe.__webglInit=!0,Me.addEventListener("dispose",ge),Pe.__webglTexture=ee.createTexture(),ue.textures++),ie.activeTexture(ee.TEXTURE0+Ee),ie.bindTexture(ee.TEXTURE_2D,Pe.__webglTexture),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,Me.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Me.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,Me.unpackAlignment);var Ae=ce(Me.image,oe.maxTextureSize);de(Me)&&fe(Ae)===!1&&(Ae=me(Ae));var Re=fe(Ae),Be=le(Me.format),ze=le(Me.type);Ce(ee.TEXTURE_2D,Me,Re);var je,$e=Me.mipmaps;if(Me instanceof te.DepthTexture){var We=ee.DEPTH_COMPONENT;if(Me.type===te.FloatType){if(!pe)throw new Error("Float Depth Texture only supported in WebGL2.0");We=ee.DEPTH_COMPONENT32F}else pe&&(We=ee.DEPTH_COMPONENT16);ie.texImage2D(ee.TEXTURE_2D,0,We,Ae.width,Ae.height,0,Be,ze,null)}else if(Me instanceof te.DataTexture)if($e.length>0&&Re){for(var Ge=0,He=$e.length;Ge<He;Ge++)je=$e[Ge],ie.texImage2D(ee.TEXTURE_2D,Ge,Be,je.width,je.height,0,Be,ze,je.data);Me.generateMipmaps=!1}else ie.texImage2D(ee.TEXTURE_2D,0,Be,Ae.width,Ae.height,0,Be,ze,Ae.data);else if(Me instanceof te.CompressedTexture)for(var Ge=0,He=$e.length;Ge<He;Ge++)je=$e[Ge],Me.format!==te.RGBAFormat&&Me.format!==te.RGBFormat?ie.getCompressedTextureFormats().indexOf(Be)>-1?ie.compressedTexImage2D(ee.TEXTURE_2D,Ge,Be,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ie.texImage2D(ee.TEXTURE_2D,Ge,Be,je.width,je.height,0,Be,ze,je.data);else if($e.length>0&&Re){for(var Ge=0,He=$e.length;Ge<He;Ge++)je=$e[Ge],ie.texImage2D(ee.TEXTURE_2D,Ge,Be,Be,ze,je);Me.generateMipmaps=!1}else ie.texImage2D(ee.TEXTURE_2D,0,Be,Be,ze,Ae);Me.generateMipmaps&&Re&&ee.generateMipmap(ee.TEXTURE_2D),Pe.__version=Me.version,Me.onUpdate&&Me.onUpdate(Me)}function De(Pe,Me,Ee,Ae){var Re=le(Me.texture.format),Be=le(Me.texture.type);ie.texImage2D(Ae,0,Re,Me.width,Me.height,0,Re,Be,null),ee.bindFramebuffer(ee.FRAMEBUFFER,Pe),ee.framebufferTexture2D(ee.FRAMEBUFFER,Ee,Ae,ae.get(Me.texture).__webglTexture,0),ee.bindFramebuffer(ee.FRAMEBUFFER,null)}function Fe(Pe,Me){ee.bindRenderbuffer(ee.RENDERBUFFER,Pe),Me.depthBuffer&&!Me.stencilBuffer?(ee.renderbufferStorage(ee.RENDERBUFFER,ee.DEPTH_COMPONENT16,Me.width,Me.height),ee.framebufferRenderbuffer(ee.FRAMEBUFFER,ee.DEPTH_ATTACHMENT,ee.RENDERBUFFER,Pe)):Me.depthBuffer&&Me.stencilBuffer?(ee.renderbufferStorage(ee.RENDERBUFFER,ee.DEPTH_STENCIL,Me.width,Me.height),ee.framebufferRenderbuffer(ee.FRAMEBUFFER,ee.DEPTH_STENCIL_ATTACHMENT,ee.RENDERBUFFER,Pe)):ee.renderbufferStorage(ee.RENDERBUFFER,ee.RGBA4,Me.width,Me.height),ee.bindRenderbuffer(ee.RENDERBUFFER,null)}function Le(Pe,Me){var Ee=Me instanceof te.WebGLRenderTargetCube;if(Ee)throw new Error("Depth Texture with cube render targets is not supported!");if(ee.bindFramebuffer(ee.FRAMEBUFFER,Pe),!(Me.depthTexture instanceof te.DepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!ae.get(Me.depthTexture).__webglTexture||Me.depthTexture.image.width!==Me.width||Me.depthTexture.image.height!==Me.height)&&(Me.depthTexture.image.width=Me.width,Me.depthTexture.image.height=Me.height,Me.depthTexture.needsUpdate=!0),we(Me.depthTexture,0);var Ae=ae.get(Me.depthTexture).__webglTexture;ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.DEPTH_ATTACHMENT,ee.TEXTURE_2D,Ae,0)}function Ie(Pe){var Me=ae.get(Pe),Ee=Pe instanceof te.WebGLRenderTargetCube;if(Pe.depthTexture){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");Le(Me.__webglFramebuffer,Pe)}else if(Ee){Me.__webglDepthbuffer=[];for(var Ae=0;Ae<6;Ae++)ee.bindFramebuffer(ee.FRAMEBUFFER,Me.__webglFramebuffer[Ae]),Me.__webglDepthbuffer[Ae]=ee.createRenderbuffer(),Fe(Me.__webglDepthbuffer[Ae],Pe)}else ee.bindFramebuffer(ee.FRAMEBUFFER,Me.__webglFramebuffer),Me.__webglDepthbuffer=ee.createRenderbuffer(),Fe(Me.__webglDepthbuffer,Pe);ee.bindFramebuffer(ee.FRAMEBUFFER,null)}function Oe(Pe){var Me=ae.get(Pe),Ee=ae.get(Pe.texture);Pe.addEventListener("dispose",xe),Ee.__webglTexture=ee.createTexture(),ue.textures++;var Ae=Pe instanceof te.WebGLRenderTargetCube,Re=fe(Pe);if(Ae){Me.__webglFramebuffer=[];for(var Be=0;Be<6;Be++)Me.__webglFramebuffer[Be]=ee.createFramebuffer()}else Me.__webglFramebuffer=ee.createFramebuffer();if(Ae){ie.bindTexture(ee.TEXTURE_CUBE_MAP,Ee.__webglTexture),Ce(ee.TEXTURE_CUBE_MAP,Pe.texture,Re);for(var Be=0;Be<6;Be++)De(Me.__webglFramebuffer[Be],Pe,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+Be);Pe.texture.generateMipmaps&&Re&&ee.generateMipmap(ee.TEXTURE_CUBE_MAP),ie.bindTexture(ee.TEXTURE_CUBE_MAP,null)}else ie.bindTexture(ee.TEXTURE_2D,Ee.__webglTexture),Ce(ee.TEXTURE_2D,Pe.texture,Re),De(Me.__webglFramebuffer,Pe,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D),Pe.texture.generateMipmaps&&Re&&ee.generateMipmap(ee.TEXTURE_2D),ie.bindTexture(ee.TEXTURE_2D,null);Pe.depthBuffer&&Ie(Pe)}function ke(Pe){var Me=Pe.texture;if(Me.generateMipmaps&&fe(Pe)&&Me.minFilter!==te.NearestFilter&&Me.minFilter!==te.LinearFilter){var Ee=Pe instanceof te.WebGLRenderTargetCube?ee.TEXTURE_CUBE_MAP:ee.TEXTURE_2D,Ae=ae.get(Me).__webglTexture;ie.bindTexture(Ee,Ae),ee.generateMipmap(Ee),ie.bindTexture(Ee,null)}}this.setTexture2D=we,this.setTextureCube=be,this.setTextureCubeDynamic=Se,this.setupRenderTarget=Oe,this.updateRenderTargetMipmap=ke},te.WebGLUniforms=function(){var ee=new te.Texture,re=new te.CubeTexture,ie=function(){this.seq=[],this.map={}},ae=[],oe=[],le=function(Ge,He,Ze){var Ye=Ge[0];if(Ye<=0||Ye>0)return Ge;var Qe=He*Ze,Je=ae[Qe];if(Je===void 0&&(Je=new Float32Array(Qe),ae[Qe]=Je),He!==0){Ye.toArray(Je,0);for(var Ne=1,Ke=0;Ne!==He;++Ne)Ke+=Ze,Ge[Ne].toArray(Je,Ke)}return Je},he=function(Ge,He){var Ze=oe[He];Ze===void 0&&(Ze=new Int32Array(He),oe[He]=Ze);for(var Ye=0;Ye!==He;++Ye)Ze[Ye]=Ge.allocTextureUnit();return Ze},ue=function(Ge,He){Ge.uniform1f(this.addr,He)},pe=function(Ge,He){Ge.uniform1i(this.addr,He)},ce=function(Ge,He){He.x===void 0?Ge.uniform2fv(this.addr,He):Ge.uniform2f(this.addr,He.x,He.y)},fe=function(Ge,He){He.x!==void 0?Ge.uniform3f(this.addr,He.x,He.y,He.z):He.r!==void 0?Ge.uniform3f(this.addr,He.r,He.g,He.b):Ge.uniform3fv(this.addr,He)},me=function(Ge,He){He.x===void 0?Ge.uniform4fv(this.addr,He):Ge.uniform4f(this.addr,He.x,He.y,He.z,He.w)},de=function(Ge,He){Ge.uniformMatrix2fv(this.addr,!1,He.elements||He)},ve=function(Ge,He){Ge.uniformMatrix3fv(this.addr,!1,He.elements||He)},ge=function(Ge,He){Ge.uniformMatrix4fv(this.addr,!1,He.elements||He)},xe=function(Ge,He,Ze){var Ye=Ze.allocTextureUnit();Ge.uniform1i(this.addr,Ye),Ze.setTexture2D(He||ee,Ye)},_e=function(Ge,He,Ze){var Ye=Ze.allocTextureUnit();Ge.uniform1i(this.addr,Ye),Ze.setTextureCube(He||re,Ye)},ye=function(Ge,He){Ge.uniform2iv(this.addr,He)},we=function(Ge,He){Ge.uniform3iv(this.addr,He)},be=function(Ge,He){Ge.uniform4iv(this.addr,He)},Se=function(Ge){switch(Ge){case 5126:return ue;case 35664:return ce;case 35665:return fe;case 35666:return me;case 35674:return de;case 35675:return ve;case 35676:return ge;case 35678:return xe;case 35680:return _e;case 5124:case 35670:return pe;case 35667:case 35671:return ye;case 35668:case 35672:return we;case 35669:case 35673:return be}},Ce=function(Ge,He){Ge.uniform1fv(this.addr,He)},Te=function(Ge,He){Ge.uniform1iv(this.addr,He)},De=function(Ge,He){Ge.uniform2fv(this.addr,le(He,this.size,2))},Fe=function(Ge,He){Ge.uniform3fv(this.addr,le(He,this.size,3))},Le=function(Ge,He){Ge.uniform4fv(this.addr,le(He,this.size,4))},Ie=function(Ge,He){Ge.uniformMatrix2fv(this.addr,!1,le(He,this.size,4))},Oe=function(Ge,He){Ge.uniformMatrix3fv(this.addr,!1,le(He,this.size,9))},ke=function(Ge,He){Ge.uniformMatrix4fv(this.addr,!1,le(He,this.size,16))},Pe=function(Ge,He,Ze){var Ye=He.length,Qe=he(Ze,Ye);Ge.uniform1iv(this.addr,Qe);for(var Je=0;Je!==Ye;++Je)Ze.setTexture2D(He[Je]||ee,Qe[Je])},Me=function(Ge,He,Ze){var Ye=He.length,Qe=he(Ze,Ye);Ge.uniform1iv(this.addr,Qe);for(var Je=0;Je!==Ye;++Je)Ze.setTextureCube(He[Je]||re,Qe[Je])},Ee=function(Ge){switch(Ge){case 5126:return Ce;case 35664:return De;case 35665:return Fe;case 35666:return Le;case 35674:return Ie;case 35675:return Oe;case 35676:return ke;case 35678:return Pe;case 35680:return Me;case 5124:case 35670:return Te;case 35667:case 35671:return ye;case 35668:case 35672:return we;case 35669:case 35673:return be}},Ae=function(He,Ze,Ye){this.id=He,this.addr=Ye,this.setValue=Se(Ze.type)},Re=function(Ge,He,Ze){this.id=Ge,this.addr=Ze,this.size=He.size,this.setValue=Ee(He.type)},Be=function(Ge){this.id=Ge,ie.call(this)};Be.prototype.setValue=function(Ge,He){for(var Ze=this.seq,Ye=0,Qe=Ze.length;Ye!==Qe;++Ye){var Je=Ze[Ye];Je.setValue(Ge,He[Je.id])}};var ze=/([\w\d_]+)(\])?(\[|\.)?/g,je=function(Ge,He){Ge.seq.push(He),Ge.map[He.id]=He},$e=function(Ge,He,Ze){var Ye=Ge.name,Qe=Ye.length;for(ze.lastIndex=0;;){var Je=ze.exec(Ye),Ne=ze.lastIndex,Ke=Je[1],ht=Je[2]==="]",_t=Je[3];if(ht&&(Ke=Ke|0),_t===void 0||_t==="["&&Ne+2===Qe){je(Ze,_t===void 0?new Ae(Ke,Ge,He):new Re(Ke,Ge,He));break}else{var pt=Ze.map,qe=pt[Ke];qe===void 0&&(qe=new Be(Ke),je(Ze,qe)),Ze=qe}}},We=function(He,Ze,Ye){ie.call(this),this.renderer=Ye;for(var Qe=He.getProgramParameter(Ze,He.ACTIVE_UNIFORMS),Je=0;Je!==Qe;++Je){var Ne=He.getActiveUniform(Ze,Je),Ke=Ne.name,ht=He.getUniformLocation(Ze,Ke);$e(Ne,ht,this)}};return We.prototype.setValue=function(Ge,He,Ze){var Ye=this.map[He];Ye!==void 0&&Ye.setValue(Ge,Ze,this.renderer)},We.prototype.set=function(Ge,He,Ze){var Ye=this.map[Ze];Ye!==void 0&&Ye.setValue(Ge,He[Ze],this.renderer)},We.prototype.setOptional=function(Ge,He,Ze){var Ye=He[Ze];Ye!==void 0&&this.setValue(Ge,Ze,Ye)},We.upload=function(Ge,He,Ze,Ye){for(var Qe=0,Je=He.length;Qe!==Je;++Qe){var Ne=He[Qe],Ke=Ze[Ne.id];Ke.needsUpdate!==!1&&Ne.setValue(Ge,Ke.value,Ye)}},We.seqWithValue=function(Ge,He){for(var Ze=[],Ye=0,Qe=Ge.length;Ye!==Qe;++Ye){var Je=Ge[Ye];Je.id in He&&Ze.push(Je)}return Ze},We.splitDynamic=function(Ge,He){for(var Ze=null,Ye=Ge.length,Qe=0,Je=0;Je!==Ye;++Je){var Ne=Ge[Je],Ke=He[Ne.id];Ke&&Ke.dynamic===!0?(Ze===null&&(Ze=[]),Ze.push(Ne)):(Qe<Je&&(Ge[Qe]=Ne),++Qe)}return Qe<Ye&&(Ge.length=Qe),Ze},We.evalDynamic=function(Ge,He,Ze,Ye){for(var Qe=0,Je=Ge.length;Qe!==Je;++Qe){var Ne=He[Ge[Qe].id],Ke=Ne.onUpdateCallback;Ke!==void 0&&Ke.call(Ne,Ze,Ye)}},We}(),te.LensFlarePlugin=function(ee,re){var ie=ee.context,ae=ee.state,oe,le,he,ue,pe,ce,fe,me;function de(){var ge=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),xe=new Uint16Array([0,1,2,0,2,3]);oe=ie.createBuffer(),le=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,oe),ie.bufferData(ie.ARRAY_BUFFER,ge,ie.STATIC_DRAW),ie.bindBuffer(ie.ELEMENT_ARRAY_BUFFER,le),ie.bufferData(ie.ELEMENT_ARRAY_BUFFER,xe,ie.STATIC_DRAW),fe=ie.createTexture(),me=ie.createTexture(),ae.bindTexture(ie.TEXTURE_2D,fe),ie.texImage2D(ie.TEXTURE_2D,0,ie.RGB,16,16,0,ie.RGB,ie.UNSIGNED_BYTE,null),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_S,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_T,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MAG_FILTER,ie.NEAREST),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MIN_FILTER,ie.NEAREST),ae.bindTexture(ie.TEXTURE_2D,me),ie.texImage2D(ie.TEXTURE_2D,0,ie.RGBA,16,16,0,ie.RGBA,ie.UNSIGNED_BYTE,null),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_S,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_T,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MAG_FILTER,ie.NEAREST),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MIN_FILTER,ie.NEAREST),he={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join(`
`),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join(`
`)},ue=ve(he),pe={vertex:ie.getAttribLocation(ue,"position"),uv:ie.getAttribLocation(ue,"uv")},ce={renderType:ie.getUniformLocation(ue,"renderType"),map:ie.getUniformLocation(ue,"map"),occlusionMap:ie.getUniformLocation(ue,"occlusionMap"),opacity:ie.getUniformLocation(ue,"opacity"),color:ie.getUniformLocation(ue,"color"),scale:ie.getUniformLocation(ue,"scale"),rotation:ie.getUniformLocation(ue,"rotation"),screenPosition:ie.getUniformLocation(ue,"screenPosition")}}this.render=function(ge,xe,_e){if(re.length!==0){var ye=new te.Vector3,we=_e.w/_e.z,be=_e.z*.5,Se=_e.w*.5,Ce=16/_e.w,Te=new te.Vector2(Ce*we,Ce),De=new te.Vector3(1,1,0),Fe=new te.Vector2(1,1),Le=new te.Box2;Le.min.set(0,0),Le.max.set(_e.z-16,_e.w-16),ue===void 0&&de(),ie.useProgram(ue),ae.initAttributes(),ae.enableAttribute(pe.vertex),ae.enableAttribute(pe.uv),ae.disableUnusedAttributes(),ie.uniform1i(ce.occlusionMap,0),ie.uniform1i(ce.map,1),ie.bindBuffer(ie.ARRAY_BUFFER,oe),ie.vertexAttribPointer(pe.vertex,2,ie.FLOAT,!1,2*8,0),ie.vertexAttribPointer(pe.uv,2,ie.FLOAT,!1,2*8,8),ie.bindBuffer(ie.ELEMENT_ARRAY_BUFFER,le),ae.disable(ie.CULL_FACE),ae.setDepthWrite(!1);for(var Ie=0,Oe=re.length;Ie<Oe;Ie++){Ce=16/_e.w,Te.set(Ce*we,Ce);var ke=re[Ie];if(ye.set(ke.matrixWorld.elements[12],ke.matrixWorld.elements[13],ke.matrixWorld.elements[14]),ye.applyMatrix4(xe.matrixWorldInverse),ye.applyProjection(xe.projectionMatrix),De.copy(ye),Fe.x=_e.x+De.x*be+be-8,Fe.y=_e.y+De.y*Se+Se-8,Le.containsPoint(Fe)===!0){ae.activeTexture(ie.TEXTURE0),ae.bindTexture(ie.TEXTURE_2D,null),ae.activeTexture(ie.TEXTURE1),ae.bindTexture(ie.TEXTURE_2D,fe),ie.copyTexImage2D(ie.TEXTURE_2D,0,ie.RGB,Fe.x,Fe.y,16,16,0),ie.uniform1i(ce.renderType,0),ie.uniform2f(ce.scale,Te.x,Te.y),ie.uniform3f(ce.screenPosition,De.x,De.y,De.z),ae.disable(ie.BLEND),ae.enable(ie.DEPTH_TEST),ie.drawElements(ie.TRIANGLES,6,ie.UNSIGNED_SHORT,0),ae.activeTexture(ie.TEXTURE0),ae.bindTexture(ie.TEXTURE_2D,me),ie.copyTexImage2D(ie.TEXTURE_2D,0,ie.RGBA,Fe.x,Fe.y,16,16,0),ie.uniform1i(ce.renderType,1),ae.disable(ie.DEPTH_TEST),ae.activeTexture(ie.TEXTURE1),ae.bindTexture(ie.TEXTURE_2D,fe),ie.drawElements(ie.TRIANGLES,6,ie.UNSIGNED_SHORT,0),ke.positionScreen.copy(De),ke.customUpdateCallback?ke.customUpdateCallback(ke):ke.updateLensFlares(),ie.uniform1i(ce.renderType,2),ae.enable(ie.BLEND);for(var Pe=0,Me=ke.lensFlares.length;Pe<Me;Pe++){var Ee=ke.lensFlares[Pe];Ee.opacity>.001&&Ee.scale>.001&&(De.x=Ee.x,De.y=Ee.y,De.z=Ee.z,Ce=Ee.size*Ee.scale/_e.w,Te.x=Ce*we,Te.y=Ce,ie.uniform3f(ce.screenPosition,De.x,De.y,De.z),ie.uniform2f(ce.scale,Te.x,Te.y),ie.uniform1f(ce.rotation,Ee.rotation),ie.uniform1f(ce.opacity,Ee.opacity),ie.uniform3f(ce.color,Ee.color.r,Ee.color.g,Ee.color.b),ae.setBlending(Ee.blending,Ee.blendEquation,Ee.blendSrc,Ee.blendDst),ee.setTexture2D(Ee.texture,1),ie.drawElements(ie.TRIANGLES,6,ie.UNSIGNED_SHORT,0))}}}ae.enable(ie.CULL_FACE),ae.enable(ie.DEPTH_TEST),ae.setDepthWrite(!0),ee.resetGLState()}};function ve(ge){var xe=ie.createProgram(),_e=ie.createShader(ie.FRAGMENT_SHADER),ye=ie.createShader(ie.VERTEX_SHADER),we="precision "+ee.getPrecision()+` float;
`;return ie.shaderSource(_e,we+ge.fragmentShader),ie.shaderSource(ye,we+ge.vertexShader),ie.compileShader(_e),ie.compileShader(ye),ie.attachShader(xe,_e),ie.attachShader(xe,ye),ie.linkProgram(xe),xe}},te.SpritePlugin=function(ee,re){var ie=ee.context,ae=ee.state,oe,le,he,ue,pe,ce,fe=new te.Vector3,me=new te.Quaternion,de=new te.Vector3;function ve(){var _e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),ye=new Uint16Array([0,1,2,0,2,3]);oe=ie.createBuffer(),le=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,oe),ie.bufferData(ie.ARRAY_BUFFER,_e,ie.STATIC_DRAW),ie.bindBuffer(ie.ELEMENT_ARRAY_BUFFER,le),ie.bufferData(ie.ELEMENT_ARRAY_BUFFER,ye,ie.STATIC_DRAW),he=ge(),ue={position:ie.getAttribLocation(he,"position"),uv:ie.getAttribLocation(he,"uv")},pe={uvOffset:ie.getUniformLocation(he,"uvOffset"),uvScale:ie.getUniformLocation(he,"uvScale"),rotation:ie.getUniformLocation(he,"rotation"),scale:ie.getUniformLocation(he,"scale"),color:ie.getUniformLocation(he,"color"),map:ie.getUniformLocation(he,"map"),opacity:ie.getUniformLocation(he,"opacity"),modelViewMatrix:ie.getUniformLocation(he,"modelViewMatrix"),projectionMatrix:ie.getUniformLocation(he,"projectionMatrix"),fogType:ie.getUniformLocation(he,"fogType"),fogDensity:ie.getUniformLocation(he,"fogDensity"),fogNear:ie.getUniformLocation(he,"fogNear"),fogFar:ie.getUniformLocation(he,"fogFar"),fogColor:ie.getUniformLocation(he,"fogColor"),alphaTest:ie.getUniformLocation(he,"alphaTest")};var we=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");we.width=8,we.height=8;var be=we.getContext("2d");be.fillStyle="white",be.fillRect(0,0,8,8),ce=new te.Texture(we),ce.needsUpdate=!0}this.render=function(_e,ye){if(re.length!==0){he===void 0&&ve(),ie.useProgram(he),ae.initAttributes(),ae.enableAttribute(ue.position),ae.enableAttribute(ue.uv),ae.disableUnusedAttributes(),ae.disable(ie.CULL_FACE),ae.enable(ie.BLEND),ie.bindBuffer(ie.ARRAY_BUFFER,oe),ie.vertexAttribPointer(ue.position,2,ie.FLOAT,!1,2*8,0),ie.vertexAttribPointer(ue.uv,2,ie.FLOAT,!1,2*8,8),ie.bindBuffer(ie.ELEMENT_ARRAY_BUFFER,le),ie.uniformMatrix4fv(pe.projectionMatrix,!1,ye.projectionMatrix.elements),ae.activeTexture(ie.TEXTURE0),ie.uniform1i(pe.map,0);var we=0,be=0,Se=_e.fog;Se?(ie.uniform3f(pe.fogColor,Se.color.r,Se.color.g,Se.color.b),Se instanceof te.Fog?(ie.uniform1f(pe.fogNear,Se.near),ie.uniform1f(pe.fogFar,Se.far),ie.uniform1i(pe.fogType,1),we=1,be=1):Se instanceof te.FogExp2&&(ie.uniform1f(pe.fogDensity,Se.density),ie.uniform1i(pe.fogType,2),we=2,be=2)):(ie.uniform1i(pe.fogType,0),we=0,be=0);for(var Ce=0,Te=re.length;Ce<Te;Ce++){var De=re[Ce];De.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,De.matrixWorld),De.z=-De.modelViewMatrix.elements[14]}re.sort(xe);for(var Fe=[],Ce=0,Te=re.length;Ce<Te;Ce++){var De=re[Ce],Le=De.material;if(Le.visible!==!1){ie.uniform1f(pe.alphaTest,Le.alphaTest),ie.uniformMatrix4fv(pe.modelViewMatrix,!1,De.modelViewMatrix.elements),De.matrixWorld.decompose(fe,me,de),Fe[0]=de.x,Fe[1]=de.y;var Ie=0;_e.fog&&Le.fog&&(Ie=be),we!==Ie&&(ie.uniform1i(pe.fogType,Ie),we=Ie),Le.map!==null?(ie.uniform2f(pe.uvOffset,Le.map.offset.x,Le.map.offset.y),ie.uniform2f(pe.uvScale,Le.map.repeat.x,Le.map.repeat.y)):(ie.uniform2f(pe.uvOffset,0,0),ie.uniform2f(pe.uvScale,1,1)),ie.uniform1f(pe.opacity,Le.opacity),ie.uniform3f(pe.color,Le.color.r,Le.color.g,Le.color.b),ie.uniform1f(pe.rotation,Le.rotation),ie.uniform2fv(pe.scale,Fe),ae.setBlending(Le.blending,Le.blendEquation,Le.blendSrc,Le.blendDst),ae.setDepthTest(Le.depthTest),ae.setDepthWrite(Le.depthWrite),Le.map?ee.setTexture2D(Le.map,0):ee.setTexture2D(ce,0),ie.drawElements(ie.TRIANGLES,6,ie.UNSIGNED_SHORT,0)}}ae.enable(ie.CULL_FACE),ee.resetGLState()}};function ge(){var _e=ie.createProgram(),ye=ie.createShader(ie.VERTEX_SHADER),we=ie.createShader(ie.FRAGMENT_SHADER);return ie.shaderSource(ye,["precision "+ee.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join(`
`)),ie.shaderSource(we,["precision "+ee.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join(`
`)),ie.compileShader(ye),ie.compileShader(we),ie.attachShader(_e,ye),ie.attachShader(_e,we),ie.linkProgram(_e),_e}function xe(_e,ye){return _e.renderOrder!==ye.renderOrder?_e.renderOrder-ye.renderOrder:_e.z!==ye.z?ye.z-_e.z:ye.id-_e.id}},Object.assign(te,{Face4:function(ee,re,ie,ae,oe,le,he){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new te.Face3(ee,re,ie,oe,le,he)},LineStrip:0,LinePieces:1,MeshFaceMaterial:te.MultiMaterial,PointCloud:function(ee,re){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new te.Points(ee,re)},Particle:te.Sprite,ParticleSystem:function(ee,re){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new te.Points(ee,re)},PointCloudMaterial:function(ee){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new te.PointsMaterial(ee)},ParticleBasicMaterial:function(ee){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new te.PointsMaterial(ee)},ParticleSystemMaterial:function(ee){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new te.PointsMaterial(ee)},Vertex:function(ee,re,ie){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new te.Vector3(ee,re,ie)}}),Object.assign(te.Box2.prototype,{empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(ee){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(ee)}}),Object.assign(te.Box3.prototype,{empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(ee){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(ee)},isIntersectionSphere:function(ee){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(ee)}}),Object.assign(te.Matrix3.prototype,{multiplyVector3:function(ee){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),ee.applyMatrix3(this)},multiplyVector3Array:function(ee){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(ee)}}),Object.assign(te.Matrix4.prototype,{extractPosition:function(ee){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(ee)},setRotationFromQuaternion:function(ee){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(ee)},multiplyVector3:function(ee){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),ee.applyProjection(this)},multiplyVector4:function(ee){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),ee.applyMatrix4(this)},multiplyVector3Array:function(ee){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(ee)},rotateAxis:function(ee){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),ee.transformDirection(this)},crossVector:function(ee){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),ee.applyMatrix4(this)},translate:function(ee){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(ee){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(ee){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(ee){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(ee,re){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}),Object.assign(te.Plane.prototype,{isIntersectionLine:function(ee){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(ee)}}),Object.assign(te.Quaternion.prototype,{multiplyVector3:function(ee){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),ee.applyQuaternion(this)}}),Object.assign(te.Ray.prototype,{isIntersectionBox:function(ee){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(ee)},isIntersectionPlane:function(ee){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(ee)},isIntersectionSphere:function(ee){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(ee)}}),Object.assign(te.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(ee){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(ee)},getScaleFromMatrix:function(ee){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(ee)},getColumnFromMatrix:function(ee,re){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(re,ee)}}),Object.assign(te.Object3D.prototype,{getChildByName:function(ee){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(ee)},renderDepth:function(ee){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(ee,re){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(re,ee)}}),Object.defineProperties(te.Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(ee){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=ee}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(ee){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(te.LOD.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),te.PerspectiveCamera.prototype.setLens=function(ee,re){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),re!==void 0&&(this.filmGauge=re),this.setFocalLength(ee)},Object.defineProperties(te.Light.prototype,{onlyShadow:{set:function(ee){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(ee){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=ee}},shadowCameraLeft:{set:function(ee){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=ee}},shadowCameraRight:{set:function(ee){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=ee}},shadowCameraTop:{set:function(ee){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=ee}},shadowCameraBottom:{set:function(ee){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=ee}},shadowCameraNear:{set:function(ee){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=ee}},shadowCameraFar:{set:function(ee){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=ee}},shadowCameraVisible:{set:function(ee){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(ee){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=ee}},shadowDarkness:{set:function(ee){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(ee){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=ee}},shadowMapHeight:{set:function(ee){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=ee}}}),Object.defineProperties(te.BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}}),Object.assign(te.BufferGeometry.prototype,{addIndex:function(ee){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(ee)},addDrawCall:function(ee,re,ie){ie!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(ee,re)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(te.BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(te.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(ee){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new te.Color}}}),Object.defineProperties(te.MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(ee){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(te.ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(ee){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=ee}}}),te.EventDispatcher.prototype=Object.assign(Object.create({constructor:te.EventDispatcher,apply:function(ee){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),Object.assign(ee,this)}}),te.EventDispatcher.prototype),Object.assign(te.WebGLRenderer.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(ee){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(ee)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(te.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(ee){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=ee}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(ee){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=ee}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(ee){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=ee}}}),Object.defineProperties(te.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?te.CullFaceFront:te.CullFaceBack},set:function(ee){var re=ee!==te.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+re+"."),this.renderReverseSided=re}}}),Object.defineProperties(te.WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(ee){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=ee}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(ee){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=ee}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(ee){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=ee}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(ee){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=ee}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(ee){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=ee}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(ee){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=ee}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(ee){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=ee}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(ee){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=ee}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(ee){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=ee}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(ee){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=ee}}}),Object.assign(te.Audio.prototype,{load:function(ee){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var re=this,ie=new te.AudioLoader;return ie.load(ee,function(ae){re.setBuffer(ae)}),this}}),Object.assign(te.AudioAnalyser.prototype,{getData:function(ee){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()}}),te.GeometryUtils={merge:function(ee,re,ie){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var ae;re instanceof te.Mesh&&(re.matrixAutoUpdate&&re.updateMatrix(),ae=re.matrix,re=re.geometry),ee.merge(re,ae,ie)},center:function(ee){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),ee.center()}},te.ImageUtils={crossOrigin:void 0,loadTexture:function(ee,re,ie,ae){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var oe=new te.TextureLoader;oe.setCrossOrigin(this.crossOrigin);var le=oe.load(ee,ie,void 0,ae);return re&&(le.mapping=re),le},loadTextureCube:function(ee,re,ie,ae){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var oe=new te.CubeTextureLoader;oe.setCrossOrigin(this.crossOrigin);var le=oe.load(ee,ie,void 0,ae);return re&&(le.mapping=re),le},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},te.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(ee,re){console.warn("THREE.Projector: .projectVector() is now vector.project()."),ee.project(re)},this.unprojectVector=function(ee,re){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),ee.unproject(re)},this.pickingRay=function(ee,re){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},te.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},te.CurveUtils={tangentQuadraticBezier:function(ee,re,ie,ae){return 2*(1-ee)*(ie-re)+2*ee*(ae-ie)},tangentCubicBezier:function(ee,re,ie,ae,oe){return-3*re*(1-ee)*(1-ee)+3*ie*(1-ee)*(1-ee)-6*ee*ie*(1-ee)+6*ee*ae*(1-ee)-3*ee*ee*ae+3*ee*ee*oe},tangentSpline:function(ee,re,ie,ae,oe){var le=6*ee*ee-6*ee,he=3*ee*ee-4*ee+1,ue=-6*ee*ee+6*ee,pe=3*ee*ee-2*ee;return le+he+ue+pe},interpolate:function(ee,re,ie,ae,oe){var le=(ie-ee)*.5,he=(ae-re)*.5,ue=oe*oe,pe=oe*ue;return(2*re-2*ie+le+he)*pe+(-3*re+3*ie-2*le-he)*ue+le*oe+re}},te.SceneUtils={createMultiMaterialObject:function(ee,re){for(var ie=new te.Group,ae=0,oe=re.length;ae<oe;ae++)ie.add(new te.Mesh(ee,re[ae]));return ie},detach:function(ee,re,ie){ee.applyMatrix(re.matrixWorld),re.remove(ee),ie.add(ee)},attach:function(ee,re,ie){var ae=new te.Matrix4;ae.getInverse(ie.matrixWorld),ee.applyMatrix(ae),re.remove(ee),ie.add(ee)}},te.ShapeUtils={area:function(ee){for(var re=ee.length,ie=0,ae=re-1,oe=0;oe<re;ae=oe++)ie+=ee[ae].x*ee[oe].y-ee[oe].x*ee[ae].y;return ie*.5},triangulate:function(){function ee(re,ie,ae,oe,le,he){var ue,pe,ce,fe,me,de,ve,ge,xe;if(pe=re[he[ie]].x,ce=re[he[ie]].y,fe=re[he[ae]].x,me=re[he[ae]].y,de=re[he[oe]].x,ve=re[he[oe]].y,Number.EPSILON>(fe-pe)*(ve-ce)-(me-ce)*(de-pe))return!1;var _e,ye,we,be,Se,Ce,Te,De,Fe,Le,Ie,Oe,ke,Pe,Me;for(_e=de-fe,ye=ve-me,we=pe-de,be=ce-ve,Se=fe-pe,Ce=me-ce,ue=0;ue<le;ue++)if(ge=re[he[ue]].x,xe=re[he[ue]].y,!(ge===pe&&xe===ce||ge===fe&&xe===me||ge===de&&xe===ve)&&(Te=ge-pe,De=xe-ce,Fe=ge-fe,Le=xe-me,Ie=ge-de,Oe=xe-ve,Me=_e*Le-ye*Fe,ke=Se*De-Ce*Te,Pe=we*Oe-be*Ie,Me>=-Number.EPSILON&&Pe>=-Number.EPSILON&&ke>=-Number.EPSILON))return!1;return!0}return function(ie,ae){var oe=ie.length;if(oe<3)return null;var le=[],he=[],ue=[],pe,ce,fe;if(te.ShapeUtils.area(ie)>0)for(ce=0;ce<oe;ce++)he[ce]=ce;else for(ce=0;ce<oe;ce++)he[ce]=oe-1-ce;var me=oe,de=2*me;for(ce=me-1;me>2;){if(de--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),ae?ue:le;if(pe=ce,me<=pe&&(pe=0),ce=pe+1,me<=ce&&(ce=0),fe=ce+1,me<=fe&&(fe=0),ee(ie,pe,ce,fe,me,he)){var ve,ge,xe,_e,ye;for(ve=he[pe],ge=he[ce],xe=he[fe],le.push([ie[ve],ie[ge],ie[xe]]),ue.push([he[pe],he[ce],he[fe]]),_e=ce,ye=ce+1;ye<me;_e++,ye++)he[_e]=he[ye];me--,de=2*me}}return ae?ue:le}}(),triangulateShape:function(ee,re){function ie(be){var Se=be.length;Se>2&&be[Se-1].equals(be[0])&&be.pop()}ie(ee),re.forEach(ie);function ae(be,Se,Ce){return be.x!==Se.x?be.x<Se.x?be.x<=Ce.x&&Ce.x<=Se.x:Se.x<=Ce.x&&Ce.x<=be.x:be.y<Se.y?be.y<=Ce.y&&Ce.y<=Se.y:Se.y<=Ce.y&&Ce.y<=be.y}function oe(be,Se,Ce,Te,De){var Fe=Se.x-be.x,Le=Se.y-be.y,Ie=Te.x-Ce.x,Oe=Te.y-Ce.y,ke=be.x-Ce.x,Pe=be.y-Ce.y,Me=Le*Ie-Fe*Oe,Ee=Le*ke-Fe*Pe;if(Math.abs(Me)>Number.EPSILON){var Ae;if(Me>0){if(Ee<0||Ee>Me)return[];if(Ae=Oe*ke-Ie*Pe,Ae<0||Ae>Me)return[]}else{if(Ee>0||Ee<Me)return[];if(Ae=Oe*ke-Ie*Pe,Ae>0||Ae<Me)return[]}if(Ae===0)return De&&(Ee===0||Ee===Me)?[]:[be];if(Ae===Me)return De&&(Ee===0||Ee===Me)?[]:[Se];if(Ee===0)return[Ce];if(Ee===Me)return[Te];var Re=Ae/Me;return[{x:be.x+Re*Fe,y:be.y+Re*Le}]}else{if(Ee!==0||Oe*ke!==Ie*Pe)return[];var Be=Fe===0&&Le===0,ze=Ie===0&&Oe===0;if(Be&&ze)return be.x!==Ce.x||be.y!==Ce.y?[]:[be];if(Be)return ae(Ce,Te,be)?[be]:[];if(ze)return ae(be,Se,Ce)?[Ce]:[];var je,$e,We,Ge,He,Ze,Ye,Qe;return Fe!==0?(be.x<Se.x?(je=be,We=be.x,$e=Se,Ge=Se.x):(je=Se,We=Se.x,$e=be,Ge=be.x),Ce.x<Te.x?(He=Ce,Ye=Ce.x,Ze=Te,Qe=Te.x):(He=Te,Ye=Te.x,Ze=Ce,Qe=Ce.x)):(be.y<Se.y?(je=be,We=be.y,$e=Se,Ge=Se.y):(je=Se,We=Se.y,$e=be,Ge=be.y),Ce.y<Te.y?(He=Ce,Ye=Ce.y,Ze=Te,Qe=Te.y):(He=Te,Ye=Te.y,Ze=Ce,Qe=Ce.y)),We<=Ye?Ge<Ye?[]:Ge===Ye?De?[]:[He]:Ge<=Qe?[He,$e]:[He,Ze]:We>Qe?[]:We===Qe?De?[]:[je]:Ge<=Qe?[je,$e]:[je,Ze]}}function le(be,Se,Ce,Te){var De=Se.x-be.x,Fe=Se.y-be.y,Le=Ce.x-be.x,Ie=Ce.y-be.y,Oe=Te.x-be.x,ke=Te.y-be.y,Pe=De*Ie-Fe*Le,Me=De*ke-Fe*Oe;if(Math.abs(Pe)>Number.EPSILON){var Ee=Oe*Ie-ke*Le;return Pe>0?Me>=0&&Ee>=0:Me>=0||Ee>=0}else return Me>0}function he(be,Se){var Ce=be.concat(),Te;function De(Qe,Je){var Ne=Ce.length-1,Ke=Qe-1;Ke<0&&(Ke=Ne);var ht=Qe+1;ht>Ne&&(ht=0);var _t=le(Ce[Qe],Ce[Ke],Ce[ht],Te[Je]);if(!_t)return!1;var pt=Te.length-1,qe=Je-1;qe<0&&(qe=pt);var Dt=Je+1;return Dt>pt&&(Dt=0),_t=le(Te[Je],Te[qe],Te[Dt],Ce[Qe]),!!_t}function Fe(Qe,Je){var Ne,Ke,ht;for(Ne=0;Ne<Ce.length;Ne++)if(Ke=Ne+1,Ke%=Ce.length,ht=oe(Qe,Je,Ce[Ne],Ce[Ke],!0),ht.length>0)return!0;return!1}var Le=[];function Ie(Qe,Je){var Ne,Ke,ht,_t,pt;for(Ne=0;Ne<Le.length;Ne++)for(Ke=Se[Le[Ne]],ht=0;ht<Ke.length;ht++)if(_t=ht+1,_t%=Ke.length,pt=oe(Qe,Je,Ke[ht],Ke[_t],!0),pt.length>0)return!0;return!1}for(var Oe,ke,Pe,Me,Ee,Ae,Re=[],Be,ze,je,$e,We=0,Ge=Se.length;We<Ge;We++)Le.push(We);for(var He=0,Ze=Le.length*2;Le.length>0;){if(Ze--,Ze<0){console.log("Infinite Loop! Holes left:"+Le.length+", Probably Hole outside Shape!");break}for(ke=He;ke<Ce.length;ke++){Pe=Ce[ke],Oe=-1;for(var We=0;We<Le.length;We++)if(Ee=Le[We],Ae=Pe.x+":"+Pe.y+":"+Ee,Re[Ae]===void 0){Te=Se[Ee];for(var Ye=0;Ye<Te.length;Ye++)if(Me=Te[Ye],!!De(ke,Ye)&&!Fe(Pe,Me)&&!Ie(Pe,Me)){Oe=Ye,Le.splice(We,1),Be=Ce.slice(0,ke+1),ze=Ce.slice(ke),je=Te.slice(Oe),$e=Te.slice(0,Oe+1),Ce=Be.concat(je).concat($e).concat(ze),He=ke;break}if(Oe>=0)break;Re[Ae]=!0}if(Oe>=0)break}}return Ce}for(var ue,pe,ce,fe,me,de,ve={},ge=ee.concat(),xe=0,_e=re.length;xe<_e;xe++)Array.prototype.push.apply(ge,re[xe]);for(ue=0,pe=ge.length;ue<pe;ue++)me=ge[ue].x+":"+ge[ue].y,ve[me]!==void 0&&console.warn("THREE.ShapeUtils: Duplicate point",me,ue),ve[me]=ue;var ye=he(ee,re),we=te.ShapeUtils.triangulate(ye,!1);for(ue=0,pe=we.length;ue<pe;ue++)for(fe=we[ue],ce=0;ce<3;ce++)me=fe[ce].x+":"+fe[ce].y,de=ve[me],de!==void 0&&(fe[ce]=de);return we.concat()},isClockWise:function(ee){return te.ShapeUtils.area(ee)<0},b2:function(){function ee(ae,oe){var le=1-ae;return le*le*oe}function re(ae,oe){return 2*(1-ae)*ae*oe}function ie(ae,oe){return ae*ae*oe}return function(oe,le,he,ue){return ee(oe,le)+re(oe,he)+ie(oe,ue)}}(),b3:function(){function ee(oe,le){var he=1-oe;return he*he*he*le}function re(oe,le){var he=1-oe;return 3*he*he*oe*le}function ie(oe,le){var he=1-oe;return 3*he*oe*oe*le}function ae(oe,le){return oe*oe*oe*le}return function(le,he,ue,pe,ce){return ee(le,he)+re(le,ue)+ie(le,pe)+ae(le,ce)}}()},te.Curve=function(){},te.Curve.prototype={constructor:te.Curve,getPoint:function(ee){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(ee){var re=this.getUtoTmapping(ee);return this.getPoint(re)},getPoints:function(ee){ee||(ee=5);for(var re=[],ie=0;ie<=ee;ie++)re.push(this.getPoint(ie/ee));return re},getSpacedPoints:function(ee){ee||(ee=5);for(var re=[],ie=0;ie<=ee;ie++)re.push(this.getPointAt(ie/ee));return re},getLength:function(){var ee=this.getLengths();return ee[ee.length-1]},getLengths:function(ee){if(ee||(ee=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===ee+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var re=[],ie,ae=this.getPoint(0),oe,le=0;for(re.push(0),oe=1;oe<=ee;oe++)ie=this.getPoint(oe/ee),le+=ie.distanceTo(ae),re.push(le),ae=ie;return this.cacheArcLengths=re,re},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(ee,re){var ie=this.getLengths(),ae=0,oe=ie.length,le;re?le=re:le=ee*ie[oe-1];for(var he=0,ue=oe-1,pe;he<=ue;)if(ae=Math.floor(he+(ue-he)/2),pe=ie[ae]-le,pe<0)he=ae+1;else if(pe>0)ue=ae-1;else{ue=ae;break}if(ae=ue,ie[ae]===le){var ve=ae/(oe-1);return ve}var ce=ie[ae],fe=ie[ae+1],me=fe-ce,de=(le-ce)/me,ve=(ae+de)/(oe-1);return ve},getTangent:function(ee){var re=1e-4,ie=ee-re,ae=ee+re;ie<0&&(ie=0),ae>1&&(ae=1);var oe=this.getPoint(ie),le=this.getPoint(ae),he=le.clone().sub(oe);return he.normalize()},getTangentAt:function(ee){var re=this.getUtoTmapping(ee);return this.getTangent(re)}},te.Curve.create=function(ee,re){return ee.prototype=Object.create(te.Curve.prototype),ee.prototype.constructor=ee,ee.prototype.getPoint=re,ee},te.CurvePath=function(){this.curves=[],this.autoClose=!1},te.CurvePath.prototype=Object.assign(Object.create(te.Curve.prototype),{constructor:te.CurvePath,add:function(ee){this.curves.push(ee)},closePath:function(){var ee=this.curves[0].getPoint(0),re=this.curves[this.curves.length-1].getPoint(1);ee.equals(re)||this.curves.push(new te.LineCurve(re,ee))},getPoint:function(ee){for(var re=ee*this.getLength(),ie=this.getCurveLengths(),ae=0;ae<ie.length;){if(ie[ae]>=re){var oe=ie[ae]-re,le=this.curves[ae],he=le.getLength(),ue=he===0?0:1-oe/he;return le.getPointAt(ue)}ae++}return null},getLength:function(){var ee=this.getCurveLengths();return ee[ee.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var ee=[],re=0,ie=0,ae=this.curves.length;ie<ae;ie++)re+=this.curves[ie].getLength(),ee.push(re);return this.cacheLengths=ee,ee},getSpacedPoints:function(ee){ee||(ee=40);for(var re=[],ie=0;ie<=ee;ie++)re.push(this.getPoint(ie/ee));return this.autoClose&&re.push(re[0]),re},getPoints:function(ee){ee=ee||12;for(var re=[],ie,ae=0,oe=this.curves;ae<oe.length;ae++)for(var le=oe[ae],he=le instanceof te.EllipseCurve?ee*2:le instanceof te.LineCurve?1:le instanceof te.SplineCurve?ee*le.points.length:ee,ue=le.getPoints(he),pe=0;pe<ue.length;pe++){var ce=ue[pe];ie&&ie.equals(ce)||(re.push(ce),ie=ce)}return this.autoClose&&re.length>1&&!re[re.length-1].equals(re[0])&&re.push(re[0]),re},createPointsGeometry:function(ee){var re=this.getPoints(ee);return this.createGeometry(re)},createSpacedPointsGeometry:function(ee){var re=this.getSpacedPoints(ee);return this.createGeometry(re)},createGeometry:function(ee){for(var re=new te.Geometry,ie=0,ae=ee.length;ie<ae;ie++){var oe=ee[ie];re.vertices.push(new te.Vector3(oe.x,oe.y,oe.z||0))}return re}}),te.Font=function(ee){this.data=ee},Object.assign(te.Font.prototype,{generateShapes:function(ee,re,ie){function ae(fe){for(var me=String(fe).split(""),de=re/le.resolution,ve=0,ge=[],xe=0;xe<me.length;xe++){var _e=oe(me[xe],de,ve);ve+=_e.offset,ge.push(_e.path)}return ge}function oe(fe,me,de){var ve=le.glyphs[fe]||le.glyphs["?"];if(!!ve){var ge=new te.ShapePath,xe=[],_e=te.ShapeUtils.b2,ye=te.ShapeUtils.b3,we,be,Se,Ce,Te,De,Fe,Le,Ie,Oe,ke;if(ve.o)for(var Pe=ve._cachedOutline||(ve._cachedOutline=ve.o.split(" ")),Me=0,Ee=Pe.length;Me<Ee;){var Ae=Pe[Me++];switch(Ae){case"m":we=Pe[Me++]*me+de,be=Pe[Me++]*me,ge.moveTo(we,be);break;case"l":we=Pe[Me++]*me+de,be=Pe[Me++]*me,ge.lineTo(we,be);break;case"q":if(Se=Pe[Me++]*me+de,Ce=Pe[Me++]*me,Fe=Pe[Me++]*me+de,Le=Pe[Me++]*me,ge.quadraticCurveTo(Fe,Le,Se,Ce),ke=xe[xe.length-1],ke){Te=ke.x,De=ke.y;for(var Re=1;Re<=ie;Re++){var Be=Re/ie;_e(Be,Te,Fe,Se),_e(Be,De,Le,Ce)}}break;case"b":if(Se=Pe[Me++]*me+de,Ce=Pe[Me++]*me,Fe=Pe[Me++]*me+de,Le=Pe[Me++]*me,Ie=Pe[Me++]*me+de,Oe=Pe[Me++]*me,ge.bezierCurveTo(Fe,Le,Ie,Oe,Se,Ce),ke=xe[xe.length-1],ke){Te=ke.x,De=ke.y;for(var Re=1;Re<=ie;Re++){var Be=Re/ie;ye(Be,Te,Fe,Ie,Se),ye(Be,De,Le,Oe,Ce)}}break}}return{offset:ve.ha*me,path:ge}}}re===void 0&&(re=100),ie===void 0&&(ie=4);for(var le=this.data,he=ae(ee),ue=[],pe=0,ce=he.length;pe<ce;pe++)Array.prototype.push.apply(ue,he[pe].toShapes());return ue}}),te.Path=function(ee){te.CurvePath.call(this),this.currentPoint=new te.Vector2,ee&&this.fromPoints(ee)},te.Path.prototype=Object.assign(Object.create(te.CurvePath.prototype),{constructor:te.Path,fromPoints:function(ee){this.moveTo(ee[0].x,ee[0].y);for(var re=1,ie=ee.length;re<ie;re++)this.lineTo(ee[re].x,ee[re].y)},moveTo:function(ee,re){this.currentPoint.set(ee,re)},lineTo:function(ee,re){var ie=new te.LineCurve(this.currentPoint.clone(),new te.Vector2(ee,re));this.curves.push(ie),this.currentPoint.set(ee,re)},quadraticCurveTo:function(ee,re,ie,ae){var oe=new te.QuadraticBezierCurve(this.currentPoint.clone(),new te.Vector2(ee,re),new te.Vector2(ie,ae));this.curves.push(oe),this.currentPoint.set(ie,ae)},bezierCurveTo:function(ee,re,ie,ae,oe,le){var he=new te.CubicBezierCurve(this.currentPoint.clone(),new te.Vector2(ee,re),new te.Vector2(ie,ae),new te.Vector2(oe,le));this.curves.push(he),this.currentPoint.set(oe,le)},splineThru:function(ee){var re=[this.currentPoint.clone()].concat(ee),ie=new te.SplineCurve(re);this.curves.push(ie),this.currentPoint.copy(ee[ee.length-1])},arc:function(ee,re,ie,ae,oe,le){var he=this.currentPoint.x,ue=this.currentPoint.y;this.absarc(ee+he,re+ue,ie,ae,oe,le)},absarc:function(ee,re,ie,ae,oe,le){this.absellipse(ee,re,ie,ie,ae,oe,le)},ellipse:function(ee,re,ie,ae,oe,le,he,ue){var pe=this.currentPoint.x,ce=this.currentPoint.y;this.absellipse(ee+pe,re+ce,ie,ae,oe,le,he,ue)},absellipse:function(ee,re,ie,ae,oe,le,he,ue){var pe=new te.EllipseCurve(ee,re,ie,ae,oe,le,he,ue);if(this.curves.length>0){var ce=pe.getPoint(0);ce.equals(this.currentPoint)||this.lineTo(ce.x,ce.y)}this.curves.push(pe);var fe=pe.getPoint(1);this.currentPoint.copy(fe)}}),te.ShapePath=function(){this.subPaths=[],this.currentPath=null},te.ShapePath.prototype={moveTo:function(ee,re){this.currentPath=new te.Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(ee,re)},lineTo:function(ee,re){this.currentPath.lineTo(ee,re)},quadraticCurveTo:function(ee,re,ie,ae){this.currentPath.quadraticCurveTo(ee,re,ie,ae)},bezierCurveTo:function(ee,re,ie,ae,oe,le){this.currentPath.bezierCurveTo(ee,re,ie,ae,oe,le)},splineThru:function(ee){this.currentPath.splineThru(ee)},toShapes:function(ee,re){function ie(Ee){for(var Ae=[],Re=0,Be=Ee.length;Re<Be;Re++){var ze=Ee[Re],je=new te.Shape;je.curves=ze.curves,Ae.push(je)}return Ae}function ae(Ee,Ae){for(var Re=Ae.length,Be=!1,ze=Re-1,je=0;je<Re;ze=je++){var $e=Ae[ze],We=Ae[je],Ge=We.x-$e.x,He=We.y-$e.y;if(Math.abs(He)>Number.EPSILON){if(He<0&&($e=Ae[je],Ge=-Ge,We=Ae[ze],He=-He),Ee.y<$e.y||Ee.y>We.y)continue;if(Ee.y===$e.y){if(Ee.x===$e.x)return!0}else{var Ze=He*(Ee.x-$e.x)-Ge*(Ee.y-$e.y);if(Ze===0)return!0;if(Ze<0)continue;Be=!Be}}else{if(Ee.y!==$e.y)continue;if(We.x<=Ee.x&&Ee.x<=$e.x||$e.x<=Ee.x&&Ee.x<=We.x)return!0}}return Be}var oe=te.ShapeUtils.isClockWise,le=this.subPaths;if(le.length===0)return[];if(re===!0)return ie(le);var he,ue,pe,ce=[];if(le.length===1)return ue=le[0],pe=new te.Shape,pe.curves=ue.curves,ce.push(pe),ce;var fe=!oe(le[0].getPoints());fe=ee?!fe:fe;var me=[],de=[],ve=[],ge=0,xe;de[ge]=void 0,ve[ge]=[];for(var _e=0,ye=le.length;_e<ye;_e++)ue=le[_e],xe=ue.getPoints(),he=oe(xe),he=ee?!he:he,he?(!fe&&de[ge]&&ge++,de[ge]={s:new te.Shape,p:xe},de[ge].s.curves=ue.curves,fe&&ge++,ve[ge]=[]):ve[ge].push({h:ue,p:xe[0]});if(!de[0])return ie(le);if(de.length>1){for(var we=!1,be=[],Se=0,Ce=de.length;Se<Ce;Se++)me[Se]=[];for(var Se=0,Ce=de.length;Se<Ce;Se++)for(var Te=ve[Se],De=0;De<Te.length;De++){for(var Fe=Te[De],Le=!0,Ie=0;Ie<de.length;Ie++)ae(Fe.p,de[Ie].p)&&(Se!==Ie&&be.push({froms:Se,tos:Ie,hole:De}),Le?(Le=!1,me[Ie].push(Fe)):we=!0);Le&&me[Se].push(Fe)}be.length>0&&(we||(ve=me))}for(var Oe,_e=0,ke=de.length;_e<ke;_e++){pe=de[_e].s,ce.push(pe),Oe=ve[_e];for(var Pe=0,Me=Oe.length;Pe<Me;Pe++)pe.holes.push(Oe[Pe].h)}return ce}},te.Shape=function(){te.Path.apply(this,arguments),this.holes=[]},te.Shape.prototype=Object.assign(Object.create(te.Path.prototype),{constructor:te.Shape,extrude:function(ee){return new te.ExtrudeGeometry(this,ee)},makeGeometry:function(ee){return new te.ShapeGeometry(this,ee)},getPointsHoles:function(ee){for(var re=[],ie=0,ae=this.holes.length;ie<ae;ie++)re[ie]=this.holes[ie].getPoints(ee);return re},extractAllPoints:function(ee){return{shape:this.getPoints(ee),holes:this.getPointsHoles(ee)}},extractPoints:function(ee){return this.extractAllPoints(ee)}}),te.LineCurve=function(ee,re){this.v1=ee,this.v2=re},te.LineCurve.prototype=Object.create(te.Curve.prototype),te.LineCurve.prototype.constructor=te.LineCurve,te.LineCurve.prototype.getPoint=function(ee){if(ee===1)return this.v2.clone();var re=this.v2.clone().sub(this.v1);return re.multiplyScalar(ee).add(this.v1),re},te.LineCurve.prototype.getPointAt=function(ee){return this.getPoint(ee)},te.LineCurve.prototype.getTangent=function(ee){var re=this.v2.clone().sub(this.v1);return re.normalize()},te.QuadraticBezierCurve=function(ee,re,ie){this.v0=ee,this.v1=re,this.v2=ie},te.QuadraticBezierCurve.prototype=Object.create(te.Curve.prototype),te.QuadraticBezierCurve.prototype.constructor=te.QuadraticBezierCurve,te.QuadraticBezierCurve.prototype.getPoint=function(ee){var re=te.ShapeUtils.b2;return new te.Vector2(re(ee,this.v0.x,this.v1.x,this.v2.x),re(ee,this.v0.y,this.v1.y,this.v2.y))},te.QuadraticBezierCurve.prototype.getTangent=function(ee){var re=te.CurveUtils.tangentQuadraticBezier;return new te.Vector2(re(ee,this.v0.x,this.v1.x,this.v2.x),re(ee,this.v0.y,this.v1.y,this.v2.y)).normalize()},te.CubicBezierCurve=function(ee,re,ie,ae){this.v0=ee,this.v1=re,this.v2=ie,this.v3=ae},te.CubicBezierCurve.prototype=Object.create(te.Curve.prototype),te.CubicBezierCurve.prototype.constructor=te.CubicBezierCurve,te.CubicBezierCurve.prototype.getPoint=function(ee){var re=te.ShapeUtils.b3;return new te.Vector2(re(ee,this.v0.x,this.v1.x,this.v2.x,this.v3.x),re(ee,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},te.CubicBezierCurve.prototype.getTangent=function(ee){var re=te.CurveUtils.tangentCubicBezier;return new te.Vector2(re(ee,this.v0.x,this.v1.x,this.v2.x,this.v3.x),re(ee,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},te.SplineCurve=function(ee){this.points=ee==null?[]:ee},te.SplineCurve.prototype=Object.create(te.Curve.prototype),te.SplineCurve.prototype.constructor=te.SplineCurve,te.SplineCurve.prototype.getPoint=function(ee){var re=this.points,ie=(re.length-1)*ee,ae=Math.floor(ie),oe=ie-ae,le=re[ae===0?ae:ae-1],he=re[ae],ue=re[ae>re.length-2?re.length-1:ae+1],pe=re[ae>re.length-3?re.length-1:ae+2],ce=te.CurveUtils.interpolate;return new te.Vector2(ce(le.x,he.x,ue.x,pe.x,oe),ce(le.y,he.y,ue.y,pe.y,oe))},te.EllipseCurve=function(ee,re,ie,ae,oe,le,he,ue){this.aX=ee,this.aY=re,this.xRadius=ie,this.yRadius=ae,this.aStartAngle=oe,this.aEndAngle=le,this.aClockwise=he,this.aRotation=ue||0},te.EllipseCurve.prototype=Object.create(te.Curve.prototype),te.EllipseCurve.prototype.constructor=te.EllipseCurve,te.EllipseCurve.prototype.getPoint=function(ee){for(var re=Math.PI*2,ie=this.aEndAngle-this.aStartAngle,ae=Math.abs(ie)<Number.EPSILON;ie<0;)ie+=re;for(;ie>re;)ie-=re;ie<Number.EPSILON&&(ae?ie=0:ie=re),this.aClockwise===!0&&!ae&&(ie===re?ie=-re:ie=ie-re);var oe=this.aStartAngle+ee*ie,le=this.aX+this.xRadius*Math.cos(oe),he=this.aY+this.yRadius*Math.sin(oe);if(this.aRotation!==0){var ue=Math.cos(this.aRotation),pe=Math.sin(this.aRotation),ce=le-this.aX,fe=he-this.aY;le=ce*ue-fe*pe+this.aX,he=ce*pe+fe*ue+this.aY}return new te.Vector2(le,he)},te.ArcCurve=function(ee,re,ie,ae,oe,le){te.EllipseCurve.call(this,ee,re,ie,ie,ae,oe,le)},te.ArcCurve.prototype=Object.create(te.EllipseCurve.prototype),te.ArcCurve.prototype.constructor=te.ArcCurve,te.LineCurve3=te.Curve.create(function(ee,re){this.v1=ee,this.v2=re},function(ee){if(ee===1)return this.v2.clone();var re=new te.Vector3;return re.subVectors(this.v2,this.v1),re.multiplyScalar(ee),re.add(this.v1),re}),te.QuadraticBezierCurve3=te.Curve.create(function(ee,re,ie){this.v0=ee,this.v1=re,this.v2=ie},function(ee){var re=te.ShapeUtils.b2;return new te.Vector3(re(ee,this.v0.x,this.v1.x,this.v2.x),re(ee,this.v0.y,this.v1.y,this.v2.y),re(ee,this.v0.z,this.v1.z,this.v2.z))}),te.CubicBezierCurve3=te.Curve.create(function(ee,re,ie,ae){this.v0=ee,this.v1=re,this.v2=ie,this.v3=ae},function(ee){var re=te.ShapeUtils.b3;return new te.Vector3(re(ee,this.v0.x,this.v1.x,this.v2.x,this.v3.x),re(ee,this.v0.y,this.v1.y,this.v2.y,this.v3.y),re(ee,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),te.SplineCurve3=te.Curve.create(function(ee){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=ee==null?[]:ee},function(ee){var re=this.points,ie=(re.length-1)*ee,ae=Math.floor(ie),oe=ie-ae,le=re[ae==0?ae:ae-1],he=re[ae],ue=re[ae>re.length-2?re.length-1:ae+1],pe=re[ae>re.length-3?re.length-1:ae+2],ce=te.CurveUtils.interpolate;return new te.Vector3(ce(le.x,he.x,ue.x,pe.x,oe),ce(le.y,he.y,ue.y,pe.y,oe),ce(le.z,he.z,ue.z,pe.z,oe))}),te.CatmullRomCurve3=function(){var ee=new te.Vector3,re=new oe,ie=new oe,ae=new oe;function oe(){}return oe.prototype.init=function(le,he,ue,pe){this.c0=le,this.c1=ue,this.c2=-3*le+3*he-2*ue-pe,this.c3=2*le-2*he+ue+pe},oe.prototype.initNonuniformCatmullRom=function(le,he,ue,pe,ce,fe,me){var de=(he-le)/ce-(ue-le)/(ce+fe)+(ue-he)/fe,ve=(ue-he)/fe-(pe-he)/(fe+me)+(pe-ue)/me;de*=fe,ve*=fe,this.init(he,ue,de,ve)},oe.prototype.initCatmullRom=function(le,he,ue,pe,ce){this.init(he,ue,ce*(ue-le),ce*(pe-he))},oe.prototype.calc=function(le){var he=le*le,ue=he*le;return this.c0+this.c1*le+this.c2*he+this.c3*ue},te.Curve.create(function(le){this.points=le||[],this.closed=!1},function(le){var he=this.points,ue,pe,ce,fe;fe=he.length,fe<2&&console.log("duh, you need at least 2 points"),ue=(fe-(this.closed?0:1))*le,pe=Math.floor(ue),ce=ue-pe,this.closed?pe+=pe>0?0:(Math.floor(Math.abs(pe)/he.length)+1)*he.length:ce===0&&pe===fe-1&&(pe=fe-2,ce=1);var me,de,ve,ge;if(this.closed||pe>0?me=he[(pe-1)%fe]:(ee.subVectors(he[0],he[1]).add(he[0]),me=ee),de=he[pe%fe],ve=he[(pe+1)%fe],this.closed||pe+2<fe?ge=he[(pe+2)%fe]:(ee.subVectors(he[fe-1],he[fe-2]).add(he[fe-1]),ge=ee),this.type===void 0||this.type==="centripetal"||this.type==="chordal"){var xe=this.type==="chordal"?.5:.25,_e=Math.pow(me.distanceToSquared(de),xe),ye=Math.pow(de.distanceToSquared(ve),xe),we=Math.pow(ve.distanceToSquared(ge),xe);ye<1e-4&&(ye=1),_e<1e-4&&(_e=ye),we<1e-4&&(we=ye),re.initNonuniformCatmullRom(me.x,de.x,ve.x,ge.x,_e,ye,we),ie.initNonuniformCatmullRom(me.y,de.y,ve.y,ge.y,_e,ye,we),ae.initNonuniformCatmullRom(me.z,de.z,ve.z,ge.z,_e,ye,we)}else if(this.type==="catmullrom"){var be=this.tension!==void 0?this.tension:.5;re.initCatmullRom(me.x,de.x,ve.x,ge.x,be),ie.initCatmullRom(me.y,de.y,ve.y,ge.y,be),ae.initCatmullRom(me.z,de.z,ve.z,ge.z,be)}var Se=new te.Vector3(re.calc(ce),ie.calc(ce),ae.calc(ce));return Se})}(),te.ClosedSplineCurve3=function(ee){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),te.CatmullRomCurve3.call(this,ee),this.type="catmullrom",this.closed=!0},te.ClosedSplineCurve3.prototype=Object.create(te.CatmullRomCurve3.prototype),te.BoxGeometry=function(ee,re,ie,ae,oe,le){te.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:ee,height:re,depth:ie,widthSegments:ae,heightSegments:oe,depthSegments:le},this.fromBufferGeometry(new te.BoxBufferGeometry(ee,re,ie,ae,oe,le)),this.mergeVertices()},te.BoxGeometry.prototype=Object.create(te.Geometry.prototype),te.BoxGeometry.prototype.constructor=te.BoxGeometry,te.CubeGeometry=te.BoxGeometry,te.BoxBufferGeometry=function(ee,re,ie,ae,oe,le){te.BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:ee,height:re,depth:ie,widthSegments:ae,heightSegments:oe,depthSegments:le};var he=this;ae=Math.floor(ae)||1,oe=Math.floor(oe)||1,le=Math.floor(le)||1;var ue=we(ae,oe,le),pe=be(ae,oe,le),ce=new(pe>65535?Uint32Array:Uint16Array)(pe),fe=new Float32Array(ue*3),me=new Float32Array(ue*3),de=new Float32Array(ue*2),ve=0,ge=0,xe=0,_e=0,ye=0;Se("z","y","x",-1,-1,ie,re,ee,le,oe,0),Se("z","y","x",1,-1,ie,re,-ee,le,oe,1),Se("x","z","y",1,1,ee,ie,re,ae,le,2),Se("x","z","y",1,-1,ee,ie,-re,ae,le,3),Se("x","y","z",1,-1,ee,re,ie,ae,oe,4),Se("x","y","z",-1,-1,ee,re,-ie,ae,oe,5),this.setIndex(new te.BufferAttribute(ce,1)),this.addAttribute("position",new te.BufferAttribute(fe,3)),this.addAttribute("normal",new te.BufferAttribute(me,3)),this.addAttribute("uv",new te.BufferAttribute(de,2));function we(Ce,Te,De){var Fe=0;return Fe+=(Ce+1)*(Te+1)*2,Fe+=(Ce+1)*(De+1)*2,Fe+=(De+1)*(Te+1)*2,Fe}function be(Ce,Te,De){var Fe=0;return Fe+=Ce*Te*2,Fe+=Ce*De*2,Fe+=De*Te*2,Fe*6}function Se(Ce,Te,De,Fe,Le,Ie,Oe,ke,Pe,Me,Ee){for(var Ae=Ie/Pe,Re=Oe/Me,Be=Ie/2,ze=Oe/2,je=ke/2,$e=Pe+1,We=Me+1,Ge=0,He=0,Ze=new te.Vector3,Ye=0;Ye<We;Ye++)for(var Qe=Ye*Re-ze,Je=0;Je<$e;Je++){var Ne=Je*Ae-Be;Ze[Ce]=Ne*Fe,Ze[Te]=Qe*Le,Ze[De]=je,fe[ve]=Ze.x,fe[ve+1]=Ze.y,fe[ve+2]=Ze.z,Ze[Ce]=0,Ze[Te]=0,Ze[De]=ke>0?1:-1,me[ve]=Ze.x,me[ve+1]=Ze.y,me[ve+2]=Ze.z,de[ge]=Je/Pe,de[ge+1]=1-Ye/Me,ve+=3,ge+=2,Ge+=1}for(Ye=0;Ye<Me;Ye++)for(Je=0;Je<Pe;Je++){var Ke=_e+Je+$e*Ye,ht=_e+Je+$e*(Ye+1),_t=_e+(Je+1)+$e*(Ye+1),pt=_e+(Je+1)+$e*Ye;ce[xe]=Ke,ce[xe+1]=ht,ce[xe+2]=pt,ce[xe+3]=ht,ce[xe+4]=_t,ce[xe+5]=pt,xe+=6,He+=6}he.addGroup(ye,He,Ee),ye+=He,_e+=Ge}},te.BoxBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.BoxBufferGeometry.prototype.constructor=te.BoxBufferGeometry,te.CircleGeometry=function(ee,re,ie,ae){te.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:ee,segments:re,thetaStart:ie,thetaLength:ae},this.fromBufferGeometry(new te.CircleBufferGeometry(ee,re,ie,ae))},te.CircleGeometry.prototype=Object.create(te.Geometry.prototype),te.CircleGeometry.prototype.constructor=te.CircleGeometry,te.CircleBufferGeometry=function(ee,re,ie,ae){te.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:ee,segments:re,thetaStart:ie,thetaLength:ae},ee=ee||50,re=re!==void 0?Math.max(3,re):8,ie=ie!==void 0?ie:0,ae=ae!==void 0?ae:Math.PI*2;var oe=re+2,le=new Float32Array(oe*3),he=new Float32Array(oe*3),ue=new Float32Array(oe*2);he[2]=1,ue[0]=.5,ue[1]=.5;for(var pe=0,ce=3,fe=2;pe<=re;pe++,ce+=3,fe+=2){var me=ie+pe/re*ae;le[ce]=ee*Math.cos(me),le[ce+1]=ee*Math.sin(me),he[ce+2]=1,ue[fe]=(le[ce]/ee+1)/2,ue[fe+1]=(le[ce+1]/ee+1)/2}for(var de=[],ce=1;ce<=re;ce++)de.push(ce,ce+1,0);this.setIndex(new te.BufferAttribute(new Uint16Array(de),1)),this.addAttribute("position",new te.BufferAttribute(le,3)),this.addAttribute("normal",new te.BufferAttribute(he,3)),this.addAttribute("uv",new te.BufferAttribute(ue,2)),this.boundingSphere=new te.Sphere(new te.Vector3,ee)},te.CircleBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.CircleBufferGeometry.prototype.constructor=te.CircleBufferGeometry,te.CylinderBufferGeometry=function(ee,re,ie,ae,oe,le,he,ue){te.BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:ee,radiusBottom:re,height:ie,radialSegments:ae,heightSegments:oe,openEnded:le,thetaStart:he,thetaLength:ue};var pe=this;ee=ee!==void 0?ee:20,re=re!==void 0?re:20,ie=ie!==void 0?ie:100,ae=Math.floor(ae)||8,oe=Math.floor(oe)||1,le=le!==void 0?le:!1,he=he!==void 0?he:0,ue=ue!==void 0?ue:2*Math.PI;var ce=0;le===!1&&(ee>0&&ce++,re>0&&ce++);var fe=Ce(),me=Te(),de=new te.BufferAttribute(new(me>65535?Uint32Array:Uint16Array)(me),1),ve=new te.BufferAttribute(new Float32Array(fe*3),3),ge=new te.BufferAttribute(new Float32Array(fe*3),3),xe=new te.BufferAttribute(new Float32Array(fe*2),2),_e=0,ye=0,we=[],be=ie/2,Se=0;De(),le===!1&&(ee>0&&Fe(!0),re>0&&Fe(!1)),this.setIndex(de),this.addAttribute("position",ve),this.addAttribute("normal",ge),this.addAttribute("uv",xe);function Ce(){var Le=(ae+1)*(oe+1);return le===!1&&(Le+=(ae+1)*ce+ae*ce),Le}function Te(){var Le=ae*oe*2*3;return le===!1&&(Le+=ae*ce*3),Le}function De(){var Le,Ie,Oe=new te.Vector3,ke=new te.Vector3,Pe=0,Me=(re-ee)/ie;for(Ie=0;Ie<=oe;Ie++){var Ee=[],Ae=Ie/oe,Re=Ae*(re-ee)+ee;for(Le=0;Le<=ae;Le++){var Be=Le/ae;ke.x=Re*Math.sin(Be*ue+he),ke.y=-Ae*ie+be,ke.z=Re*Math.cos(Be*ue+he),ve.setXYZ(_e,ke.x,ke.y,ke.z),Oe.copy(ke),(ee===0&&Ie===0||re===0&&Ie===oe)&&(Oe.x=Math.sin(Be*ue+he),Oe.z=Math.cos(Be*ue+he)),Oe.setY(Math.sqrt(Oe.x*Oe.x+Oe.z*Oe.z)*Me).normalize(),ge.setXYZ(_e,Oe.x,Oe.y,Oe.z),xe.setXY(_e,Be,1-Ae),Ee.push(_e),_e++}we.push(Ee)}for(Le=0;Le<ae;Le++)for(Ie=0;Ie<oe;Ie++){var ze=we[Ie][Le],je=we[Ie+1][Le],$e=we[Ie+1][Le+1],We=we[Ie][Le+1];de.setX(ye,ze),ye++,de.setX(ye,je),ye++,de.setX(ye,We),ye++,de.setX(ye,je),ye++,de.setX(ye,$e),ye++,de.setX(ye,We),ye++,Pe+=6}pe.addGroup(Se,Pe,0),Se+=Pe}function Fe(Le){var Ie,Oe,ke,Pe=new te.Vector2,Me=new te.Vector3,Ee=0,Ae=Le===!0?ee:re,Re=Le===!0?1:-1;for(Oe=_e,Ie=1;Ie<=ae;Ie++)ve.setXYZ(_e,0,be*Re,0),ge.setXYZ(_e,0,Re,0),Pe.x=.5,Pe.y=.5,xe.setXY(_e,Pe.x,Pe.y),_e++;for(ke=_e,Ie=0;Ie<=ae;Ie++){var Be=Ie/ae,ze=Be*ue+he,je=Math.cos(ze),$e=Math.sin(ze);Me.x=Ae*$e,Me.y=be*Re,Me.z=Ae*je,ve.setXYZ(_e,Me.x,Me.y,Me.z),ge.setXYZ(_e,0,Re,0),Pe.x=je*.5+.5,Pe.y=$e*.5*Re+.5,xe.setXY(_e,Pe.x,Pe.y),_e++}for(Ie=0;Ie<ae;Ie++){var We=Oe+Ie,Ge=ke+Ie;Le===!0?(de.setX(ye,Ge),ye++,de.setX(ye,Ge+1),ye++,de.setX(ye,We),ye++):(de.setX(ye,Ge+1),ye++,de.setX(ye,Ge),ye++,de.setX(ye,We),ye++),Ee+=3}pe.addGroup(Se,Ee,Le===!0?1:2),Se+=Ee}},te.CylinderBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.CylinderBufferGeometry.prototype.constructor=te.CylinderBufferGeometry,te.CylinderGeometry=function(ee,re,ie,ae,oe,le,he,ue){te.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:ee,radiusBottom:re,height:ie,radialSegments:ae,heightSegments:oe,openEnded:le,thetaStart:he,thetaLength:ue},this.fromBufferGeometry(new te.CylinderBufferGeometry(ee,re,ie,ae,oe,le,he,ue)),this.mergeVertices()},te.CylinderGeometry.prototype=Object.create(te.Geometry.prototype),te.CylinderGeometry.prototype.constructor=te.CylinderGeometry,te.ConeBufferGeometry=function(ee,re,ie,ae,oe,le,he){te.CylinderBufferGeometry.call(this,0,ee,re,ie,ae,oe,le,he),this.type="ConeBufferGeometry",this.parameters={radius:ee,height:re,radialSegments:ie,heightSegments:ae,thetaStart:le,thetaLength:he}},te.ConeBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.ConeBufferGeometry.prototype.constructor=te.ConeBufferGeometry,te.ConeGeometry=function(ee,re,ie,ae,oe,le,he){te.CylinderGeometry.call(this,0,ee,re,ie,ae,oe,le,he),this.type="ConeGeometry",this.parameters={radius:ee,height:re,radialSegments:ie,heightSegments:ae,openEnded:oe,thetaStart:le,thetaLength:he}},te.ConeGeometry.prototype=Object.create(te.CylinderGeometry.prototype),te.ConeGeometry.prototype.constructor=te.ConeGeometry,te.EdgesGeometry=function(ee,re){te.BufferGeometry.call(this),re=re!==void 0?re:1;var ie=Math.cos(te.Math.DEG2RAD*re),ae=[0,0],oe={};function le(we,be){return we-be}var he=["a","b","c"],ue;ee instanceof te.BufferGeometry?(ue=new te.Geometry,ue.fromBufferGeometry(ee)):ue=ee.clone(),ue.mergeVertices(),ue.computeFaceNormals();for(var pe=ue.vertices,ce=ue.faces,fe=0,me=ce.length;fe<me;fe++)for(var de=ce[fe],ve=0;ve<3;ve++){ae[0]=de[he[ve]],ae[1]=de[he[(ve+1)%3]],ae.sort(le);var ge=ae.toString();oe[ge]===void 0?oe[ge]={vert1:ae[0],vert2:ae[1],face1:fe,face2:void 0}:oe[ge].face2=fe}var xe=[];for(var ge in oe){var _e=oe[ge];if(_e.face2===void 0||ce[_e.face1].normal.dot(ce[_e.face2].normal)<=ie){var ye=pe[_e.vert1];xe.push(ye.x),xe.push(ye.y),xe.push(ye.z),ye=pe[_e.vert2],xe.push(ye.x),xe.push(ye.y),xe.push(ye.z)}}this.addAttribute("position",new te.BufferAttribute(new Float32Array(xe),3))},te.EdgesGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.EdgesGeometry.prototype.constructor=te.EdgesGeometry,te.ExtrudeGeometry=function(ee,re){if(typeof ee=="undefined"){ee=[];return}te.Geometry.call(this),this.type="ExtrudeGeometry",ee=Array.isArray(ee)?ee:[ee],this.addShapeList(ee,re),this.computeFaceNormals()},te.ExtrudeGeometry.prototype=Object.create(te.Geometry.prototype),te.ExtrudeGeometry.prototype.constructor=te.ExtrudeGeometry,te.ExtrudeGeometry.prototype.addShapeList=function(ee,re){for(var ie=ee.length,ae=0;ae<ie;ae++){var oe=ee[ae];this.addShape(oe,re)}},te.ExtrudeGeometry.prototype.addShape=function(ee,re){var ie=re.amount!==void 0?re.amount:100,ae=re.bevelThickness!==void 0?re.bevelThickness:6,oe=re.bevelSize!==void 0?re.bevelSize:ae-2,le=re.bevelSegments!==void 0?re.bevelSegments:3,he=re.bevelEnabled!==void 0?re.bevelEnabled:!0,ue=re.curveSegments!==void 0?re.curveSegments:12,pe=re.steps!==void 0?re.steps:1,ce=re.extrudePath,fe,me=!1,de=re.UVGenerator!==void 0?re.UVGenerator:te.ExtrudeGeometry.WorldUVGenerator,ve,ge,xe,_e;ce&&(fe=ce.getSpacedPoints(pe),me=!0,he=!1,ve=re.frames!==void 0?re.frames:new te.TubeGeometry.FrenetFrames(ce,pe,!1),ge=new te.Vector3,xe=new te.Vector3,_e=new te.Vector3),he||(le=0,ae=0,oe=0);var ye,we,be,Se=this,Ce=this.vertices.length,Te=ee.extractPoints(ue),De=Te.shape,Fe=Te.holes,Le=!te.ShapeUtils.isClockWise(De);if(Le){for(De=De.reverse(),we=0,be=Fe.length;we<be;we++)ye=Fe[we],te.ShapeUtils.isClockWise(ye)&&(Fe[we]=ye.reverse());Le=!1}var Ie=te.ShapeUtils.triangulateShape(De,Fe),Oe=De;for(we=0,be=Fe.length;we<be;we++)ye=Fe[we],De=De.concat(ye);function ke(vt,gt,Ft){return gt||console.error("THREE.ExtrudeGeometry: vec does not exist"),gt.clone().multiplyScalar(Ft).add(vt)}var Pe,Me,Ee,Ae,Re,Be=De.length,ze,je=Ie.length;function $e(vt,gt,Ft){var Tt,Bt,zt=1,St=vt.x-gt.x,kt=vt.y-gt.y,Rt=Ft.x-vt.x,Ut=Ft.y-vt.y,Ht=St*St+kt*kt,nr=St*Ut-kt*Rt;if(Math.abs(nr)>Number.EPSILON){var mr=Math.sqrt(Ht),sr=Math.sqrt(Rt*Rt+Ut*Ut),gr=gt.x-kt/mr,ur=gt.y+St/mr,cr=Ft.x-Ut/sr,Gt=Ft.y+Rt/sr,or=((cr-gr)*Ut-(Gt-ur)*Rt)/(St*Ut-kt*Rt);Tt=gr+St*or-vt.x,Bt=ur+kt*or-vt.y;var ar=Tt*Tt+Bt*Bt;if(ar<=2)return new te.Vector2(Tt,Bt);zt=Math.sqrt(ar/2)}else{var ir=!1;St>Number.EPSILON?Rt>Number.EPSILON&&(ir=!0):St<-Number.EPSILON?Rt<-Number.EPSILON&&(ir=!0):Math.sign(kt)===Math.sign(Ut)&&(ir=!0),ir?(Tt=-kt,Bt=St,zt=Math.sqrt(Ht)):(Tt=St,Bt=kt,zt=Math.sqrt(Ht/2))}return new te.Vector2(Tt/zt,Bt/zt)}for(var We=[],Ge=0,He=Oe.length,Ze=He-1,Ye=Ge+1;Ge<He;Ge++,Ze++,Ye++)Ze===He&&(Ze=0),Ye===He&&(Ye=0),We[Ge]=$e(Oe[Ge],Oe[Ze],Oe[Ye]);var Qe=[],Je,Ne=We.concat();for(we=0,be=Fe.length;we<be;we++){for(ye=Fe[we],Je=[],Ge=0,He=ye.length,Ze=He-1,Ye=Ge+1;Ge<He;Ge++,Ze++,Ye++)Ze===He&&(Ze=0),Ye===He&&(Ye=0),Je[Ge]=$e(ye[Ge],ye[Ze],ye[Ye]);Qe.push(Je),Ne=Ne.concat(Je)}for(Pe=0;Pe<le;Pe++){for(Ee=Pe/le,Ae=ae*(1-Ee),Me=oe*Math.sin(Ee*Math.PI/2),Ge=0,He=Oe.length;Ge<He;Ge++)Re=ke(Oe[Ge],We[Ge],Me),qe(Re.x,Re.y,-Ae);for(we=0,be=Fe.length;we<be;we++)for(ye=Fe[we],Je=Qe[we],Ge=0,He=ye.length;Ge<He;Ge++)Re=ke(ye[Ge],Je[Ge],Me),qe(Re.x,Re.y,-Ae)}for(Me=oe,Ge=0;Ge<Be;Ge++)Re=he?ke(De[Ge],Ne[Ge],Me):De[Ge],me?(xe.copy(ve.normals[0]).multiplyScalar(Re.x),ge.copy(ve.binormals[0]).multiplyScalar(Re.y),_e.copy(fe[0]).add(xe).add(ge),qe(_e.x,_e.y,_e.z)):qe(Re.x,Re.y,0);var Ke;for(Ke=1;Ke<=pe;Ke++)for(Ge=0;Ge<Be;Ge++)Re=he?ke(De[Ge],Ne[Ge],Me):De[Ge],me?(xe.copy(ve.normals[Ke]).multiplyScalar(Re.x),ge.copy(ve.binormals[Ke]).multiplyScalar(Re.y),_e.copy(fe[Ke]).add(xe).add(ge),qe(_e.x,_e.y,_e.z)):qe(Re.x,Re.y,ie/pe*Ke);for(Pe=le-1;Pe>=0;Pe--){for(Ee=Pe/le,Ae=ae*(1-Ee),Me=oe*Math.sin(Ee*Math.PI/2),Ge=0,He=Oe.length;Ge<He;Ge++)Re=ke(Oe[Ge],We[Ge],Me),qe(Re.x,Re.y,ie+Ae);for(we=0,be=Fe.length;we<be;we++)for(ye=Fe[we],Je=Qe[we],Ge=0,He=ye.length;Ge<He;Ge++)Re=ke(ye[Ge],Je[Ge],Me),me?qe(Re.x,Re.y+fe[pe-1].y,fe[pe-1].x+Ae):qe(Re.x,Re.y,ie+Ae)}ht(),_t();function ht(){if(he){var vt=0,gt=Be*vt;for(Ge=0;Ge<je;Ge++)ze=Ie[Ge],Dt(ze[2]+gt,ze[1]+gt,ze[0]+gt);for(vt=pe+le*2,gt=Be*vt,Ge=0;Ge<je;Ge++)ze=Ie[Ge],Dt(ze[0]+gt,ze[1]+gt,ze[2]+gt)}else{for(Ge=0;Ge<je;Ge++)ze=Ie[Ge],Dt(ze[2],ze[1],ze[0]);for(Ge=0;Ge<je;Ge++)ze=Ie[Ge],Dt(ze[0]+Be*pe,ze[1]+Be*pe,ze[2]+Be*pe)}}function _t(){var vt=0;for(pt(Oe,vt),vt+=Oe.length,we=0,be=Fe.length;we<be;we++)ye=Fe[we],pt(ye,vt),vt+=ye.length}function pt(vt,gt){var Ft,Tt;for(Ge=vt.length;--Ge>=0;){Ft=Ge,Tt=Ge-1,Tt<0&&(Tt=vt.length-1);var Bt=0,zt=pe+le*2;for(Bt=0;Bt<zt;Bt++){var St=Be*Bt,kt=Be*(Bt+1),Rt=gt+Ft+St,Ut=gt+Tt+St,Ht=gt+Tt+kt,nr=gt+Ft+kt;wt(Rt,Ut,Ht,nr)}}}function qe(vt,gt,Ft){Se.vertices.push(new te.Vector3(vt,gt,Ft))}function Dt(vt,gt,Ft){vt+=Ce,gt+=Ce,Ft+=Ce,Se.faces.push(new te.Face3(vt,gt,Ft,null,null,0));var Tt=de.generateTopUV(Se,vt,gt,Ft);Se.faceVertexUvs[0].push(Tt)}function wt(vt,gt,Ft,Tt,Bt,zt,St,kt,Rt){vt+=Ce,gt+=Ce,Ft+=Ce,Tt+=Ce,Se.faces.push(new te.Face3(vt,gt,Tt,null,null,1)),Se.faces.push(new te.Face3(gt,Ft,Tt,null,null,1));var Ut=de.generateSideWallUV(Se,vt,gt,Ft,Tt);Se.faceVertexUvs[0].push([Ut[0],Ut[1],Ut[3]]),Se.faceVertexUvs[0].push([Ut[1],Ut[2],Ut[3]])}},te.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(ee,re,ie,ae){var oe=ee.vertices,le=oe[re],he=oe[ie],ue=oe[ae];return[new te.Vector2(le.x,le.y),new te.Vector2(he.x,he.y),new te.Vector2(ue.x,ue.y)]},generateSideWallUV:function(ee,re,ie,ae,oe){var le=ee.vertices,he=le[re],ue=le[ie],pe=le[ae],ce=le[oe];return Math.abs(he.y-ue.y)<.01?[new te.Vector2(he.x,1-he.z),new te.Vector2(ue.x,1-ue.z),new te.Vector2(pe.x,1-pe.z),new te.Vector2(ce.x,1-ce.z)]:[new te.Vector2(he.y,1-he.z),new te.Vector2(ue.y,1-ue.z),new te.Vector2(pe.y,1-pe.z),new te.Vector2(ce.y,1-ce.z)]}},te.ShapeGeometry=function(ee,re){te.Geometry.call(this),this.type="ShapeGeometry",Array.isArray(ee)===!1&&(ee=[ee]),this.addShapeList(ee,re),this.computeFaceNormals()},te.ShapeGeometry.prototype=Object.create(te.Geometry.prototype),te.ShapeGeometry.prototype.constructor=te.ShapeGeometry,te.ShapeGeometry.prototype.addShapeList=function(ee,re){for(var ie=0,ae=ee.length;ie<ae;ie++)this.addShape(ee[ie],re);return this},te.ShapeGeometry.prototype.addShape=function(ee,re){re===void 0&&(re={});var ie=re.curveSegments!==void 0?re.curveSegments:12,ae=re.material,oe=re.UVGenerator===void 0?te.ExtrudeGeometry.WorldUVGenerator:re.UVGenerator,le,he,ue,pe=this.vertices.length,ce=ee.extractPoints(ie),fe=ce.shape,me=ce.holes,de=!te.ShapeUtils.isClockWise(fe);if(de){for(fe=fe.reverse(),le=0,he=me.length;le<he;le++)ue=me[le],te.ShapeUtils.isClockWise(ue)&&(me[le]=ue.reverse());de=!1}var ve=te.ShapeUtils.triangulateShape(fe,me);for(le=0,he=me.length;le<he;le++)ue=me[le],fe=fe.concat(ue);var ge,xe=fe.length,_e,ye=ve.length;for(le=0;le<xe;le++)ge=fe[le],this.vertices.push(new te.Vector3(ge.x,ge.y,0));for(le=0;le<ye;le++){_e=ve[le];var we=_e[0]+pe,be=_e[1]+pe,Se=_e[2]+pe;this.faces.push(new te.Face3(we,be,Se,null,null,ae)),this.faceVertexUvs[0].push(oe.generateTopUV(this,we,be,Se))}},te.LatheBufferGeometry=function(ee,re,ie,ae){te.BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:ee,segments:re,phiStart:ie,phiLength:ae},re=Math.floor(re)||12,ie=ie||0,ae=ae||Math.PI*2,ae=te.Math.clamp(ae,0,Math.PI*2);var oe=(re+1)*ee.length,le=re*ee.length*2*3,he=new te.BufferAttribute(new(le>65535?Uint32Array:Uint16Array)(le),1),ue=new te.BufferAttribute(new Float32Array(oe*3),3),pe=new te.BufferAttribute(new Float32Array(oe*2),2),ce=0,fe=0,me;1/(ee.length-1);var de=1/re,ve=new te.Vector3,ge=new te.Vector2,xe,_e;for(xe=0;xe<=re;xe++){var ye=ie+xe*de*ae,we=Math.sin(ye),be=Math.cos(ye);for(_e=0;_e<=ee.length-1;_e++)ve.x=ee[_e].x*we,ve.y=ee[_e].y,ve.z=ee[_e].x*be,ue.setXYZ(ce,ve.x,ve.y,ve.z),ge.x=xe/re,ge.y=_e/(ee.length-1),pe.setXY(ce,ge.x,ge.y),ce++}for(xe=0;xe<re;xe++)for(_e=0;_e<ee.length-1;_e++){me=_e+xe*ee.length;var Se=me,Ce=me+ee.length,Te=me+ee.length+1,De=me+1;he.setX(fe,Se),fe++,he.setX(fe,Ce),fe++,he.setX(fe,De),fe++,he.setX(fe,Ce),fe++,he.setX(fe,Te),fe++,he.setX(fe,De),fe++}if(this.setIndex(he),this.addAttribute("position",ue),this.addAttribute("uv",pe),this.computeVertexNormals(),ae===Math.PI*2){var Fe=this.attributes.normal.array,Le=new te.Vector3,Ie=new te.Vector3,Oe=new te.Vector3;for(me=re*ee.length*3,xe=0,_e=0;xe<ee.length;xe++,_e+=3)Le.x=Fe[_e+0],Le.y=Fe[_e+1],Le.z=Fe[_e+2],Ie.x=Fe[me+_e+0],Ie.y=Fe[me+_e+1],Ie.z=Fe[me+_e+2],Oe.addVectors(Le,Ie).normalize(),Fe[_e+0]=Fe[me+_e+0]=Oe.x,Fe[_e+1]=Fe[me+_e+1]=Oe.y,Fe[_e+2]=Fe[me+_e+2]=Oe.z}},te.LatheBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.LatheBufferGeometry.prototype.constructor=te.LatheBufferGeometry,te.LatheGeometry=function(ee,re,ie,ae){te.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:ee,segments:re,phiStart:ie,phiLength:ae},this.fromBufferGeometry(new te.LatheBufferGeometry(ee,re,ie,ae)),this.mergeVertices()},te.LatheGeometry.prototype=Object.create(te.Geometry.prototype),te.LatheGeometry.prototype.constructor=te.LatheGeometry,te.PlaneGeometry=function(ee,re,ie,ae){te.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:ee,height:re,widthSegments:ie,heightSegments:ae},this.fromBufferGeometry(new te.PlaneBufferGeometry(ee,re,ie,ae))},te.PlaneGeometry.prototype=Object.create(te.Geometry.prototype),te.PlaneGeometry.prototype.constructor=te.PlaneGeometry,te.PlaneBufferGeometry=function(ee,re,ie,ae){te.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:ee,height:re,widthSegments:ie,heightSegments:ae};for(var oe=ee/2,le=re/2,he=Math.floor(ie)||1,ue=Math.floor(ae)||1,pe=he+1,ce=ue+1,fe=ee/he,me=re/ue,de=new Float32Array(pe*ce*3),ve=new Float32Array(pe*ce*3),ge=new Float32Array(pe*ce*2),xe=0,_e=0,ye=0;ye<ce;ye++)for(var we=ye*me-le,be=0;be<pe;be++){var Se=be*fe-oe;de[xe]=Se,de[xe+1]=-we,ve[xe+2]=1,ge[_e]=be/he,ge[_e+1]=1-ye/ue,xe+=3,_e+=2}xe=0;for(var Ce=new(de.length/3>65535?Uint32Array:Uint16Array)(he*ue*6),ye=0;ye<ue;ye++)for(var be=0;be<he;be++){var Te=be+pe*ye,De=be+pe*(ye+1),Fe=be+1+pe*(ye+1),Le=be+1+pe*ye;Ce[xe]=Te,Ce[xe+1]=De,Ce[xe+2]=Le,Ce[xe+3]=De,Ce[xe+4]=Fe,Ce[xe+5]=Le,xe+=6}this.setIndex(new te.BufferAttribute(Ce,1)),this.addAttribute("position",new te.BufferAttribute(de,3)),this.addAttribute("normal",new te.BufferAttribute(ve,3)),this.addAttribute("uv",new te.BufferAttribute(ge,2))},te.PlaneBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.PlaneBufferGeometry.prototype.constructor=te.PlaneBufferGeometry,te.RingBufferGeometry=function(ee,re,ie,ae,oe,le){te.BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:ee,outerRadius:re,thetaSegments:ie,phiSegments:ae,thetaStart:oe,thetaLength:le},ee=ee||20,re=re||50,oe=oe!==void 0?oe:0,le=le!==void 0?le:Math.PI*2,ie=ie!==void 0?Math.max(3,ie):8,ae=ae!==void 0?Math.max(1,ae):1;var he=(ie+1)*(ae+1),ue=ie*ae*2*3,pe=new te.BufferAttribute(new(ue>65535?Uint32Array:Uint16Array)(ue),1),ce=new te.BufferAttribute(new Float32Array(he*3),3),fe=new te.BufferAttribute(new Float32Array(he*3),3),me=new te.BufferAttribute(new Float32Array(he*2),2),de=0,ve=0,ge,xe=ee,_e=(re-ee)/ae,ye=new te.Vector3,we=new te.Vector2,be,Se;for(be=0;be<=ae;be++){for(Se=0;Se<=ie;Se++)ge=oe+Se/ie*le,ye.x=xe*Math.cos(ge),ye.y=xe*Math.sin(ge),ce.setXYZ(de,ye.x,ye.y,ye.z),fe.setXYZ(de,0,0,1),we.x=(ye.x/re+1)/2,we.y=(ye.y/re+1)/2,me.setXY(de,we.x,we.y),de++;xe+=_e}for(be=0;be<ae;be++){var Ce=be*(ie+1);for(Se=0;Se<ie;Se++){ge=Se+Ce;var Te=ge,De=ge+ie+1,Fe=ge+ie+2,Le=ge+1;pe.setX(ve,Te),ve++,pe.setX(ve,De),ve++,pe.setX(ve,Fe),ve++,pe.setX(ve,Te),ve++,pe.setX(ve,Fe),ve++,pe.setX(ve,Le),ve++}}this.setIndex(pe),this.addAttribute("position",ce),this.addAttribute("normal",fe),this.addAttribute("uv",me)},te.RingBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.RingBufferGeometry.prototype.constructor=te.RingBufferGeometry,te.RingGeometry=function(ee,re,ie,ae,oe,le){te.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:ee,outerRadius:re,thetaSegments:ie,phiSegments:ae,thetaStart:oe,thetaLength:le},this.fromBufferGeometry(new te.RingBufferGeometry(ee,re,ie,ae,oe,le))},te.RingGeometry.prototype=Object.create(te.Geometry.prototype),te.RingGeometry.prototype.constructor=te.RingGeometry,te.SphereGeometry=function(ee,re,ie,ae,oe,le,he){te.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:ee,widthSegments:re,heightSegments:ie,phiStart:ae,phiLength:oe,thetaStart:le,thetaLength:he},this.fromBufferGeometry(new te.SphereBufferGeometry(ee,re,ie,ae,oe,le,he))},te.SphereGeometry.prototype=Object.create(te.Geometry.prototype),te.SphereGeometry.prototype.constructor=te.SphereGeometry,te.SphereBufferGeometry=function(ee,re,ie,ae,oe,le,he){te.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:ee,widthSegments:re,heightSegments:ie,phiStart:ae,phiLength:oe,thetaStart:le,thetaLength:he},ee=ee||50,re=Math.max(3,Math.floor(re)||8),ie=Math.max(2,Math.floor(ie)||6),ae=ae!==void 0?ae:0,oe=oe!==void 0?oe:Math.PI*2,le=le!==void 0?le:0,he=he!==void 0?he:Math.PI;for(var ue=le+he,pe=(re+1)*(ie+1),ce=new te.BufferAttribute(new Float32Array(pe*3),3),fe=new te.BufferAttribute(new Float32Array(pe*3),3),me=new te.BufferAttribute(new Float32Array(pe*2),2),de=0,ve=[],ge=new te.Vector3,xe=0;xe<=ie;xe++){for(var _e=[],ye=xe/ie,we=0;we<=re;we++){var be=we/re,Se=-ee*Math.cos(ae+be*oe)*Math.sin(le+ye*he),Ce=ee*Math.cos(le+ye*he),Te=ee*Math.sin(ae+be*oe)*Math.sin(le+ye*he);ge.set(Se,Ce,Te).normalize(),ce.setXYZ(de,Se,Ce,Te),fe.setXYZ(de,ge.x,ge.y,ge.z),me.setXY(de,be,1-ye),_e.push(de),de++}ve.push(_e)}for(var De=[],xe=0;xe<ie;xe++)for(var we=0;we<re;we++){var Fe=ve[xe][we+1],Le=ve[xe][we],Ie=ve[xe+1][we],Oe=ve[xe+1][we+1];(xe!==0||le>0)&&De.push(Fe,Le,Oe),(xe!==ie-1||ue<Math.PI)&&De.push(Le,Ie,Oe)}this.setIndex(new(ce.count>65535?te.Uint32Attribute:te.Uint16Attribute)(De,1)),this.addAttribute("position",ce),this.addAttribute("normal",fe),this.addAttribute("uv",me),this.boundingSphere=new te.Sphere(new te.Vector3,ee)},te.SphereBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.SphereBufferGeometry.prototype.constructor=te.SphereBufferGeometry,te.TextGeometry=function(ee,re){re=re||{};var ie=re.font;if(!(ie instanceof te.Font))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new te.Geometry;var ae=ie.generateShapes(ee,re.size,re.curveSegments);re.amount=re.height!==void 0?re.height:50,re.bevelThickness===void 0&&(re.bevelThickness=10),re.bevelSize===void 0&&(re.bevelSize=8),re.bevelEnabled===void 0&&(re.bevelEnabled=!1),te.ExtrudeGeometry.call(this,ae,re),this.type="TextGeometry"},te.TextGeometry.prototype=Object.create(te.ExtrudeGeometry.prototype),te.TextGeometry.prototype.constructor=te.TextGeometry,te.TorusBufferGeometry=function(ee,re,ie,ae,oe){te.BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:ee,tube:re,radialSegments:ie,tubularSegments:ae,arc:oe},ee=ee||100,re=re||40,ie=Math.floor(ie)||8,ae=Math.floor(ae)||6,oe=oe||Math.PI*2;var le=(ie+1)*(ae+1),he=ie*ae*2*3,ue=new(he>65535?Uint32Array:Uint16Array)(he),pe=new Float32Array(le*3),ce=new Float32Array(le*3),fe=new Float32Array(le*2),me=0,de=0,ve=0,ge=new te.Vector3,xe=new te.Vector3,_e=new te.Vector3,ye,we;for(ye=0;ye<=ie;ye++)for(we=0;we<=ae;we++){var be=we/ae*oe,Se=ye/ie*Math.PI*2;xe.x=(ee+re*Math.cos(Se))*Math.cos(be),xe.y=(ee+re*Math.cos(Se))*Math.sin(be),xe.z=re*Math.sin(Se),pe[me]=xe.x,pe[me+1]=xe.y,pe[me+2]=xe.z,ge.x=ee*Math.cos(be),ge.y=ee*Math.sin(be),_e.subVectors(xe,ge).normalize(),ce[me]=_e.x,ce[me+1]=_e.y,ce[me+2]=_e.z,fe[de]=we/ae,fe[de+1]=ye/ie,me+=3,de+=2}for(ye=1;ye<=ie;ye++)for(we=1;we<=ae;we++){var Ce=(ae+1)*ye+we-1,Te=(ae+1)*(ye-1)+we-1,De=(ae+1)*(ye-1)+we,Fe=(ae+1)*ye+we;ue[ve]=Ce,ue[ve+1]=Te,ue[ve+2]=Fe,ue[ve+3]=Te,ue[ve+4]=De,ue[ve+5]=Fe,ve+=6}this.setIndex(new te.BufferAttribute(ue,1)),this.addAttribute("position",new te.BufferAttribute(pe,3)),this.addAttribute("normal",new te.BufferAttribute(ce,3)),this.addAttribute("uv",new te.BufferAttribute(fe,2))},te.TorusBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.TorusBufferGeometry.prototype.constructor=te.TorusBufferGeometry,te.TorusGeometry=function(ee,re,ie,ae,oe){te.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:ee,tube:re,radialSegments:ie,tubularSegments:ae,arc:oe},this.fromBufferGeometry(new te.TorusBufferGeometry(ee,re,ie,ae,oe))},te.TorusGeometry.prototype=Object.create(te.Geometry.prototype),te.TorusGeometry.prototype.constructor=te.TorusGeometry,te.TorusKnotBufferGeometry=function(ee,re,ie,ae,oe,le){te.BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:ee,tube:re,tubularSegments:ie,radialSegments:ae,p:oe,q:le},ee=ee||100,re=re||40,ie=Math.floor(ie)||64,ae=Math.floor(ae)||8,oe=oe||2,le=le||3;var he=(ae+1)*(ie+1),ue=ae*ie*2*3,pe=new te.BufferAttribute(new(ue>65535?Uint32Array:Uint16Array)(ue),1),ce=new te.BufferAttribute(new Float32Array(he*3),3),fe=new te.BufferAttribute(new Float32Array(he*3),3),me=new te.BufferAttribute(new Float32Array(he*2),2),de,ve,ge=0,xe=0,_e=new te.Vector3,ye=new te.Vector3,we=new te.Vector2,be=new te.Vector3,Se=new te.Vector3,Ce=new te.Vector3,Te=new te.Vector3,De=new te.Vector3;for(de=0;de<=ie;++de){var Fe=de/ie*oe*Math.PI*2;for(Ae(Fe,oe,le,ee,be),Ae(Fe+.01,oe,le,ee,Se),Te.subVectors(Se,be),De.addVectors(Se,be),Ce.crossVectors(Te,De),De.crossVectors(Ce,Te),Ce.normalize(),De.normalize(),ve=0;ve<=ae;++ve){var Le=ve/ae*Math.PI*2,Ie=-re*Math.cos(Le),Oe=re*Math.sin(Le);_e.x=be.x+(Ie*De.x+Oe*Ce.x),_e.y=be.y+(Ie*De.y+Oe*Ce.y),_e.z=be.z+(Ie*De.z+Oe*Ce.z),ce.setXYZ(ge,_e.x,_e.y,_e.z),ye.subVectors(_e,be).normalize(),fe.setXYZ(ge,ye.x,ye.y,ye.z),we.x=de/ie,we.y=ve/ae,me.setXY(ge,we.x,we.y),ge++}}for(ve=1;ve<=ie;ve++)for(de=1;de<=ae;de++){var ke=(ae+1)*(ve-1)+(de-1),Pe=(ae+1)*ve+(de-1),Me=(ae+1)*ve+de,Ee=(ae+1)*(ve-1)+de;pe.setX(xe,ke),xe++,pe.setX(xe,Pe),xe++,pe.setX(xe,Ee),xe++,pe.setX(xe,Pe),xe++,pe.setX(xe,Me),xe++,pe.setX(xe,Ee),xe++}this.setIndex(pe),this.addAttribute("position",ce),this.addAttribute("normal",fe),this.addAttribute("uv",me);function Ae(Re,Be,ze,je,$e){var We=Math.cos(Re),Ge=Math.sin(Re),He=ze/Be*Re,Ze=Math.cos(He);$e.x=je*(2+Ze)*.5*We,$e.y=je*(2+Ze)*Ge*.5,$e.z=je*Math.sin(He)*.5}},te.TorusKnotBufferGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.TorusKnotBufferGeometry.prototype.constructor=te.TorusKnotBufferGeometry,te.TorusKnotGeometry=function(ee,re,ie,ae,oe,le,he){te.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:ee,tube:re,tubularSegments:ie,radialSegments:ae,p:oe,q:le},he!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new te.TorusKnotBufferGeometry(ee,re,ie,ae,oe,le)),this.mergeVertices()},te.TorusKnotGeometry.prototype=Object.create(te.Geometry.prototype),te.TorusKnotGeometry.prototype.constructor=te.TorusKnotGeometry,te.TubeGeometry=function(ee,re,ie,ae,oe,le){te.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:ee,segments:re,radius:ie,radialSegments:ae,closed:oe,taper:le},re=re||64,ie=ie||1,ae=ae||8,oe=oe||!1,le=le||te.TubeGeometry.NoTaper;var he=[],ue=this,pe,ce,fe=re+1,me,de,ve,ge,xe,_e,ye=new te.Vector3,we,be,Se,Ce,Te,De,Fe,Le,Ie,Oe,ke,Pe,Me=new te.TubeGeometry.FrenetFrames(ee,re,oe),Ee=Me.tangents,Ae=Me.normals,Re=Me.binormals;this.tangents=Ee,this.normals=Ae,this.binormals=Re;function Be(ze,je,$e){return ue.vertices.push(new te.Vector3(ze,je,$e))-1}for(we=0;we<fe;we++)for(he[we]=[],me=we/(fe-1),_e=ee.getPointAt(me),Ee[we],pe=Ae[we],ce=Re[we],ve=ie*le(me),be=0;be<ae;be++)de=be/ae*2*Math.PI,ge=-ve*Math.cos(de),xe=ve*Math.sin(de),ye.copy(_e),ye.x+=ge*pe.x+xe*ce.x,ye.y+=ge*pe.y+xe*ce.y,ye.z+=ge*pe.z+xe*ce.z,he[we][be]=Be(ye.x,ye.y,ye.z);for(we=0;we<re;we++)for(be=0;be<ae;be++)Se=oe?(we+1)%re:we+1,Ce=(be+1)%ae,Te=he[we][be],De=he[Se][be],Fe=he[Se][Ce],Le=he[we][Ce],Ie=new te.Vector2(we/re,be/ae),Oe=new te.Vector2((we+1)/re,be/ae),ke=new te.Vector2((we+1)/re,(be+1)/ae),Pe=new te.Vector2(we/re,(be+1)/ae),this.faces.push(new te.Face3(Te,De,Le)),this.faceVertexUvs[0].push([Ie,Oe,Pe]),this.faces.push(new te.Face3(De,Fe,Le)),this.faceVertexUvs[0].push([Oe.clone(),ke,Pe.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},te.TubeGeometry.prototype=Object.create(te.Geometry.prototype),te.TubeGeometry.prototype.constructor=te.TubeGeometry,te.TubeGeometry.NoTaper=function(ee){return 1},te.TubeGeometry.SinusoidalTaper=function(ee){return Math.sin(Math.PI*ee)},te.TubeGeometry.FrenetFrames=function(ee,re,ie){var ae=new te.Vector3,oe=[],le=[],he=[],ue=new te.Vector3,pe=new te.Matrix4,ce=re+1,fe,me,de,ve,ge,xe,_e;for(this.tangents=oe,this.normals=le,this.binormals=he,xe=0;xe<ce;xe++)_e=xe/(ce-1),oe[xe]=ee.getTangentAt(_e),oe[xe].normalize();ye();function ye(){le[0]=new te.Vector3,he[0]=new te.Vector3,me=Number.MAX_VALUE,de=Math.abs(oe[0].x),ve=Math.abs(oe[0].y),ge=Math.abs(oe[0].z),de<=me&&(me=de,ae.set(1,0,0)),ve<=me&&(me=ve,ae.set(0,1,0)),ge<=me&&ae.set(0,0,1),ue.crossVectors(oe[0],ae).normalize(),le[0].crossVectors(oe[0],ue),he[0].crossVectors(oe[0],le[0])}for(xe=1;xe<ce;xe++)le[xe]=le[xe-1].clone(),he[xe]=he[xe-1].clone(),ue.crossVectors(oe[xe-1],oe[xe]),ue.length()>Number.EPSILON&&(ue.normalize(),fe=Math.acos(te.Math.clamp(oe[xe-1].dot(oe[xe]),-1,1)),le[xe].applyMatrix4(pe.makeRotationAxis(ue,fe))),he[xe].crossVectors(oe[xe],le[xe]);if(ie)for(fe=Math.acos(te.Math.clamp(le[0].dot(le[ce-1]),-1,1)),fe/=ce-1,oe[0].dot(ue.crossVectors(le[0],le[ce-1]))>0&&(fe=-fe),xe=1;xe<ce;xe++)le[xe].applyMatrix4(pe.makeRotationAxis(oe[xe],fe*xe)),he[xe].crossVectors(oe[xe],le[xe])},te.PolyhedronGeometry=function(ee,re,ie,ae){te.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:ee,indices:re,radius:ie,detail:ae},ie=ie||1,ae=ae||0;for(var oe=this,le=0,he=ee.length;le<he;le+=3)Se(new te.Vector3(ee[le],ee[le+1],ee[le+2]));for(var ue=this.vertices,pe=[],le=0,ce=0,he=re.length;le<he;le+=3,ce++){var fe=ue[re[le]],me=ue[re[le+1]],de=ue[re[le+2]];pe[ce]=new te.Face3(fe.index,me.index,de.index,[fe.clone(),me.clone(),de.clone()])}for(var ve=new te.Vector3,le=0,he=pe.length;le<he;le++)Te(pe[le],ae);for(var le=0,he=this.faceVertexUvs[0].length;le<he;le++){var ge=this.faceVertexUvs[0][le],xe=ge[0].x,_e=ge[1].x,ye=ge[2].x,we=Math.max(xe,_e,ye),be=Math.min(xe,_e,ye);we>.9&&be<.1&&(xe<.2&&(ge[0].x+=1),_e<.2&&(ge[1].x+=1),ye<.2&&(ge[2].x+=1))}for(var le=0,he=this.vertices.length;le<he;le++)this.vertices[le].multiplyScalar(ie);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new te.Sphere(new te.Vector3,ie);function Se(Ie){var Oe=Ie.normalize().clone();Oe.index=oe.vertices.push(Oe)-1;var ke=De(Ie)/2/Math.PI+.5,Pe=Fe(Ie)/Math.PI+.5;return Oe.uv=new te.Vector2(ke,1-Pe),Oe}function Ce(Ie,Oe,ke){var Pe=new te.Face3(Ie.index,Oe.index,ke.index,[Ie.clone(),Oe.clone(),ke.clone()]);oe.faces.push(Pe),ve.copy(Ie).add(Oe).add(ke).divideScalar(3);var Me=De(ve);oe.faceVertexUvs[0].push([Le(Ie.uv,Ie,Me),Le(Oe.uv,Oe,Me),Le(ke.uv,ke,Me)])}function Te(Ie,Oe){for(var ke=Math.pow(2,Oe),Pe=Se(oe.vertices[Ie.a]),Me=Se(oe.vertices[Ie.b]),Ee=Se(oe.vertices[Ie.c]),Ae=[],Re=0;Re<=ke;Re++){Ae[Re]=[];for(var Be=Se(Pe.clone().lerp(Ee,Re/ke)),ze=Se(Me.clone().lerp(Ee,Re/ke)),je=ke-Re,$e=0;$e<=je;$e++)$e===0&&Re===ke?Ae[Re][$e]=Be:Ae[Re][$e]=Se(Be.clone().lerp(ze,$e/je))}for(var Re=0;Re<ke;Re++)for(var $e=0;$e<2*(ke-Re)-1;$e++){var We=Math.floor($e/2);$e%2===0?Ce(Ae[Re][We+1],Ae[Re+1][We],Ae[Re][We]):Ce(Ae[Re][We+1],Ae[Re+1][We+1],Ae[Re+1][We])}}function De(Ie){return Math.atan2(Ie.z,-Ie.x)}function Fe(Ie){return Math.atan2(-Ie.y,Math.sqrt(Ie.x*Ie.x+Ie.z*Ie.z))}function Le(Ie,Oe,ke){return ke<0&&Ie.x===1&&(Ie=new te.Vector2(Ie.x-1,Ie.y)),Oe.x===0&&Oe.z===0&&(Ie=new te.Vector2(ke/2/Math.PI+.5,Ie.y)),Ie.clone()}},te.PolyhedronGeometry.prototype=Object.create(te.Geometry.prototype),te.PolyhedronGeometry.prototype.constructor=te.PolyhedronGeometry,te.DodecahedronGeometry=function(ee,re){var ie=(1+Math.sqrt(5))/2,ae=1/ie,oe=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-ae,-ie,0,-ae,ie,0,ae,-ie,0,ae,ie,-ae,-ie,0,-ae,ie,0,ae,-ie,0,ae,ie,0,-ie,0,-ae,ie,0,-ae,-ie,0,ae,ie,0,ae],le=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];te.PolyhedronGeometry.call(this,oe,le,ee,re),this.type="DodecahedronGeometry",this.parameters={radius:ee,detail:re}},te.DodecahedronGeometry.prototype=Object.create(te.PolyhedronGeometry.prototype),te.DodecahedronGeometry.prototype.constructor=te.DodecahedronGeometry,te.IcosahedronGeometry=function(ee,re){var ie=(1+Math.sqrt(5))/2,ae=[-1,ie,0,1,ie,0,-1,-ie,0,1,-ie,0,0,-1,ie,0,1,ie,0,-1,-ie,0,1,-ie,ie,0,-1,ie,0,1,-ie,0,-1,-ie,0,1],oe=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];te.PolyhedronGeometry.call(this,ae,oe,ee,re),this.type="IcosahedronGeometry",this.parameters={radius:ee,detail:re}},te.IcosahedronGeometry.prototype=Object.create(te.PolyhedronGeometry.prototype),te.IcosahedronGeometry.prototype.constructor=te.IcosahedronGeometry,te.OctahedronGeometry=function(ee,re){var ie=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],ae=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];te.PolyhedronGeometry.call(this,ie,ae,ee,re),this.type="OctahedronGeometry",this.parameters={radius:ee,detail:re}},te.OctahedronGeometry.prototype=Object.create(te.PolyhedronGeometry.prototype),te.OctahedronGeometry.prototype.constructor=te.OctahedronGeometry,te.TetrahedronGeometry=function(ee,re){var ie=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],ae=[2,1,0,0,3,2,1,3,0,2,3,1];te.PolyhedronGeometry.call(this,ie,ae,ee,re),this.type="TetrahedronGeometry",this.parameters={radius:ee,detail:re}},te.TetrahedronGeometry.prototype=Object.create(te.PolyhedronGeometry.prototype),te.TetrahedronGeometry.prototype.constructor=te.TetrahedronGeometry,te.ParametricGeometry=function(ee,re,ie){te.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:ee,slices:re,stacks:ie};var ae=this.vertices,oe=this.faces,le=this.faceVertexUvs[0],he,ue,pe,ce,fe,me=re+1;for(he=0;he<=ie;he++)for(fe=he/ie,ue=0;ue<=re;ue++)ce=ue/re,pe=ee(ce,fe),ae.push(pe);var de,ve,ge,xe,_e,ye,we,be;for(he=0;he<ie;he++)for(ue=0;ue<re;ue++)de=he*me+ue,ve=he*me+ue+1,ge=(he+1)*me+ue+1,xe=(he+1)*me+ue,_e=new te.Vector2(ue/re,he/ie),ye=new te.Vector2((ue+1)/re,he/ie),we=new te.Vector2((ue+1)/re,(he+1)/ie),be=new te.Vector2(ue/re,(he+1)/ie),oe.push(new te.Face3(de,ve,xe)),le.push([_e,ye,be]),oe.push(new te.Face3(ve,ge,xe)),le.push([ye.clone(),we,be.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},te.ParametricGeometry.prototype=Object.create(te.Geometry.prototype),te.ParametricGeometry.prototype.constructor=te.ParametricGeometry,te.WireframeGeometry=function(ee){te.BufferGeometry.call(this);var re=[0,0],ie={};function ae(ke,Pe){return ke-Pe}var oe=["a","b","c"];if(ee instanceof te.Geometry){for(var le=ee.vertices,he=ee.faces,ue=0,pe=new Uint32Array(6*he.length),ce=0,fe=he.length;ce<fe;ce++)for(var me=he[ce],de=0;de<3;de++){re[0]=me[oe[de]],re[1]=me[oe[(de+1)%3]],re.sort(ae);var ve=re.toString();ie[ve]===void 0&&(pe[2*ue]=re[0],pe[2*ue+1]=re[1],ie[ve]=!0,ue++)}for(var ge=new Float32Array(ue*2*3),ce=0,fe=ue;ce<fe;ce++)for(var de=0;de<2;de++){var xe=le[pe[2*ce+de]],_e=6*ce+3*de;ge[_e+0]=xe.x,ge[_e+1]=xe.y,ge[_e+2]=xe.z}this.addAttribute("position",new te.BufferAttribute(ge,3))}else if(ee instanceof te.BufferGeometry)if(ee.index!==null){var ye=ee.index.array,le=ee.attributes.position,we=ee.groups,ue=0;we.length===0&&ee.addGroup(0,ye.length);for(var pe=new Uint32Array(2*ye.length),be=0,Se=we.length;be<Se;++be)for(var Ce=we[be],Te=Ce.start,De=Ce.count,ce=Te,Fe=Te+De;ce<Fe;ce+=3)for(var de=0;de<3;de++){re[0]=ye[ce+de],re[1]=ye[ce+(de+1)%3],re.sort(ae);var ve=re.toString();ie[ve]===void 0&&(pe[2*ue]=re[0],pe[2*ue+1]=re[1],ie[ve]=!0,ue++)}for(var ge=new Float32Array(ue*2*3),ce=0,fe=ue;ce<fe;ce++)for(var de=0;de<2;de++){var _e=6*ce+3*de,Le=pe[2*ce+de];ge[_e+0]=le.getX(Le),ge[_e+1]=le.getY(Le),ge[_e+2]=le.getZ(Le)}this.addAttribute("position",new te.BufferAttribute(ge,3))}else{for(var le=ee.attributes.position.array,ue=le.length/3,Ie=ue/3,ge=new Float32Array(ue*2*3),ce=0,fe=Ie;ce<fe;ce++)for(var de=0;de<3;de++){var _e=18*ce+6*de,Oe=9*ce+3*de;ge[_e+0]=le[Oe],ge[_e+1]=le[Oe+1],ge[_e+2]=le[Oe+2];var Le=9*ce+3*((de+1)%3);ge[_e+3]=le[Le],ge[_e+4]=le[Le+1],ge[_e+5]=le[Le+2]}this.addAttribute("position",new te.BufferAttribute(ge,3))}},te.WireframeGeometry.prototype=Object.create(te.BufferGeometry.prototype),te.WireframeGeometry.prototype.constructor=te.WireframeGeometry,te.AxisHelper=function(ee){ee=ee||1;var re=new Float32Array([0,0,0,ee,0,0,0,0,0,0,ee,0,0,0,0,0,0,ee]),ie=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),ae=new te.BufferGeometry;ae.addAttribute("position",new te.BufferAttribute(re,3)),ae.addAttribute("color",new te.BufferAttribute(ie,3));var oe=new te.LineBasicMaterial({vertexColors:te.VertexColors});te.LineSegments.call(this,ae,oe)},te.AxisHelper.prototype=Object.create(te.LineSegments.prototype),te.AxisHelper.prototype.constructor=te.AxisHelper,te.ArrowHelper=function(){var ee=new te.BufferGeometry;ee.addAttribute("position",new te.Float32Attribute([0,0,0,0,1,0],3));var re=new te.CylinderBufferGeometry(0,.5,1,5,1);return re.translate(0,-.5,0),function(ae,oe,le,he,ue,pe){te.Object3D.call(this),he===void 0&&(he=16776960),le===void 0&&(le=1),ue===void 0&&(ue=.2*le),pe===void 0&&(pe=.2*ue),this.position.copy(oe),this.line=new te.Line(ee,new te.LineBasicMaterial({color:he})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new te.Mesh(re,new te.MeshBasicMaterial({color:he})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(ae),this.setLength(le,ue,pe)}}(),te.ArrowHelper.prototype=Object.create(te.Object3D.prototype),te.ArrowHelper.prototype.constructor=te.ArrowHelper,te.ArrowHelper.prototype.setDirection=function(){var ee=new te.Vector3,re;return function(ae){ae.y>.99999?this.quaternion.set(0,0,0,1):ae.y<-.99999?this.quaternion.set(1,0,0,0):(ee.set(ae.z,0,-ae.x).normalize(),re=Math.acos(ae.y),this.quaternion.setFromAxisAngle(ee,re))}}(),te.ArrowHelper.prototype.setLength=function(ee,re,ie){re===void 0&&(re=.2*ee),ie===void 0&&(ie=.2*re),this.line.scale.set(1,Math.max(0,ee-re),1),this.line.updateMatrix(),this.cone.scale.set(ie,re,ie),this.cone.position.y=ee,this.cone.updateMatrix()},te.ArrowHelper.prototype.setColor=function(ee){this.line.material.color.copy(ee),this.cone.material.color.copy(ee)},te.BoxHelper=function(ee,re){re===void 0&&(re=16776960);var ie=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ae=new Float32Array(8*3),oe=new te.BufferGeometry;oe.setIndex(new te.BufferAttribute(ie,1)),oe.addAttribute("position",new te.BufferAttribute(ae,3)),te.LineSegments.call(this,oe,new te.LineBasicMaterial({color:re})),ee!==void 0&&this.update(ee)},te.BoxHelper.prototype=Object.create(te.LineSegments.prototype),te.BoxHelper.prototype.constructor=te.BoxHelper,te.BoxHelper.prototype.update=function(){var ee=new te.Box3;return function(ie){if(ie instanceof te.Box3?ee.copy(ie):ee.setFromObject(ie),!ee.isEmpty()){var ae=ee.min,oe=ee.max,le=this.geometry.attributes.position,he=le.array;he[0]=oe.x,he[1]=oe.y,he[2]=oe.z,he[3]=ae.x,he[4]=oe.y,he[5]=oe.z,he[6]=ae.x,he[7]=ae.y,he[8]=oe.z,he[9]=oe.x,he[10]=ae.y,he[11]=oe.z,he[12]=oe.x,he[13]=oe.y,he[14]=ae.z,he[15]=ae.x,he[16]=oe.y,he[17]=ae.z,he[18]=ae.x,he[19]=ae.y,he[20]=ae.z,he[21]=oe.x,he[22]=ae.y,he[23]=ae.z,le.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),te.BoundingBoxHelper=function(ee,re){var ie=re!==void 0?re:8947848;this.object=ee,this.box=new te.Box3,te.Mesh.call(this,new te.BoxGeometry(1,1,1),new te.MeshBasicMaterial({color:ie,wireframe:!0}))},te.BoundingBoxHelper.prototype=Object.create(te.Mesh.prototype),te.BoundingBoxHelper.prototype.constructor=te.BoundingBoxHelper,te.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},te.CameraHelper=function(ee){var re=new te.Geometry,ie=new te.LineBasicMaterial({color:16777215,vertexColors:te.FaceColors}),ae={},oe=16755200,le=16711680,he=43775,ue=16777215,pe=3355443;ce("n1","n2",oe),ce("n2","n4",oe),ce("n4","n3",oe),ce("n3","n1",oe),ce("f1","f2",oe),ce("f2","f4",oe),ce("f4","f3",oe),ce("f3","f1",oe),ce("n1","f1",oe),ce("n2","f2",oe),ce("n3","f3",oe),ce("n4","f4",oe),ce("p","n1",le),ce("p","n2",le),ce("p","n3",le),ce("p","n4",le),ce("u1","u2",he),ce("u2","u3",he),ce("u3","u1",he),ce("c","t",ue),ce("p","c",pe),ce("cn1","cn2",pe),ce("cn3","cn4",pe),ce("cf1","cf2",pe),ce("cf3","cf4",pe);function ce(me,de,ve){fe(me,ve),fe(de,ve)}function fe(me,de){re.vertices.push(new te.Vector3),re.colors.push(new te.Color(de)),ae[me]===void 0&&(ae[me]=[]),ae[me].push(re.vertices.length-1)}te.LineSegments.call(this,re,ie),this.camera=ee,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=ee.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=ae,this.update()},te.CameraHelper.prototype=Object.create(te.LineSegments.prototype),te.CameraHelper.prototype.constructor=te.CameraHelper,te.CameraHelper.prototype.update=function(){var ee,re,ie=new te.Vector3,ae=new te.Camera;function oe(le,he,ue,pe){ie.set(he,ue,pe).unproject(ae);var ce=re[le];if(ce!==void 0)for(var fe=0,me=ce.length;fe<me;fe++)ee.vertices[ce[fe]].copy(ie)}return function(){ee=this.geometry,re=this.pointMap;var he=1,ue=1;ae.projectionMatrix.copy(this.camera.projectionMatrix),oe("c",0,0,-1),oe("t",0,0,1),oe("n1",-he,-ue,-1),oe("n2",he,-ue,-1),oe("n3",-he,ue,-1),oe("n4",he,ue,-1),oe("f1",-he,-ue,1),oe("f2",he,-ue,1),oe("f3",-he,ue,1),oe("f4",he,ue,1),oe("u1",he*.7,ue*1.1,-1),oe("u2",-he*.7,ue*1.1,-1),oe("u3",0,ue*2,-1),oe("cf1",-he,0,1),oe("cf2",he,0,1),oe("cf3",0,-ue,1),oe("cf4",0,ue,1),oe("cn1",-he,0,-1),oe("cn2",he,0,-1),oe("cn3",0,-ue,-1),oe("cn4",0,ue,-1),ee.verticesNeedUpdate=!0}}(),te.DirectionalLightHelper=function(ee,re){te.Object3D.call(this),this.light=ee,this.light.updateMatrixWorld(),this.matrix=ee.matrixWorld,this.matrixAutoUpdate=!1,re===void 0&&(re=1);var ie=new te.BufferGeometry;ie.addAttribute("position",new te.Float32Attribute([-re,re,0,re,re,0,re,-re,0,-re,-re,0,-re,re,0],3));var ae=new te.LineBasicMaterial({fog:!1});this.add(new te.Line(ie,ae)),ie=new te.BufferGeometry,ie.addAttribute("position",new te.Float32Attribute([0,0,0,0,0,1],3)),this.add(new te.Line(ie,ae)),this.update()},te.DirectionalLightHelper.prototype=Object.create(te.Object3D.prototype),te.DirectionalLightHelper.prototype.constructor=te.DirectionalLightHelper,te.DirectionalLightHelper.prototype.dispose=function(){var ee=this.children[0],re=this.children[1];ee.geometry.dispose(),ee.material.dispose(),re.geometry.dispose(),re.material.dispose()},te.DirectionalLightHelper.prototype.update=function(){var ee=new te.Vector3,re=new te.Vector3,ie=new te.Vector3;return function(){ee.setFromMatrixPosition(this.light.matrixWorld),re.setFromMatrixPosition(this.light.target.matrixWorld),ie.subVectors(re,ee);var oe=this.children[0],le=this.children[1];oe.lookAt(ie),oe.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),le.lookAt(ie),le.scale.z=ie.length()}}(),te.EdgesHelper=function(ee,re,ie){var ae=re!==void 0?re:16777215;te.LineSegments.call(this,new te.EdgesGeometry(ee.geometry,ie),new te.LineBasicMaterial({color:ae})),this.matrix=ee.matrixWorld,this.matrixAutoUpdate=!1},te.EdgesHelper.prototype=Object.create(te.LineSegments.prototype),te.EdgesHelper.prototype.constructor=te.EdgesHelper,te.FaceNormalsHelper=function(ee,re,ie,ae){this.object=ee,this.size=re!==void 0?re:1;var oe=ie!==void 0?ie:16776960,le=ae!==void 0?ae:1,he=0,ue=this.object.geometry;ue instanceof te.Geometry?he=ue.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var pe=new te.BufferGeometry,ce=new te.Float32Attribute(he*2*3,3);pe.addAttribute("position",ce),te.LineSegments.call(this,pe,new te.LineBasicMaterial({color:oe,linewidth:le})),this.matrixAutoUpdate=!1,this.update()},te.FaceNormalsHelper.prototype=Object.create(te.LineSegments.prototype),te.FaceNormalsHelper.prototype.constructor=te.FaceNormalsHelper,te.FaceNormalsHelper.prototype.update=function(){var ee=new te.Vector3,re=new te.Vector3,ie=new te.Matrix3;return function(){this.object.updateMatrixWorld(!0),ie.getNormalMatrix(this.object.matrixWorld);for(var oe=this.object.matrixWorld,le=this.geometry.attributes.position,he=this.object.geometry,ue=he.vertices,pe=he.faces,ce=0,fe=0,me=pe.length;fe<me;fe++){var de=pe[fe],ve=de.normal;ee.copy(ue[de.a]).add(ue[de.b]).add(ue[de.c]).divideScalar(3).applyMatrix4(oe),re.copy(ve).applyMatrix3(ie).normalize().multiplyScalar(this.size).add(ee),le.setXYZ(ce,ee.x,ee.y,ee.z),ce=ce+1,le.setXYZ(ce,re.x,re.y,re.z),ce=ce+1}return le.needsUpdate=!0,this}}(),te.GridHelper=function(ee,re,ie,ae){re=re||1,ie=new te.Color(ie!==void 0?ie:4473924),ae=new te.Color(ae!==void 0?ae:8947848);for(var oe=re/2,le=ee*2/re,he=[],ue=[],pe=0,ce=0,fe=-ee;pe<=re;pe++,fe+=le){he.push(-ee,0,fe,ee,0,fe),he.push(fe,0,-ee,fe,0,ee);var me=pe===oe?ie:ae;me.toArray(ue,ce),ce+=3,me.toArray(ue,ce),ce+=3,me.toArray(ue,ce),ce+=3,me.toArray(ue,ce),ce+=3}var de=new te.BufferGeometry;de.addAttribute("position",new te.Float32Attribute(he,3)),de.addAttribute("color",new te.Float32Attribute(ue,3));var ve=new te.LineBasicMaterial({vertexColors:te.VertexColors});te.LineSegments.call(this,de,ve)},te.GridHelper.prototype=Object.create(te.LineSegments.prototype),te.GridHelper.prototype.constructor=te.GridHelper,te.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},te.HemisphereLightHelper=function(ee,re){te.Object3D.call(this),this.light=ee,this.light.updateMatrixWorld(),this.matrix=ee.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new te.Color,new te.Color];var ie=new te.SphereGeometry(re,4,2);ie.rotateX(-Math.PI/2);for(var ae=0,oe=8;ae<oe;ae++)ie.faces[ae].color=this.colors[ae<4?0:1];var le=new te.MeshBasicMaterial({vertexColors:te.FaceColors,wireframe:!0});this.lightSphere=new te.Mesh(ie,le),this.add(this.lightSphere),this.update()},te.HemisphereLightHelper.prototype=Object.create(te.Object3D.prototype),te.HemisphereLightHelper.prototype.constructor=te.HemisphereLightHelper,te.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},te.HemisphereLightHelper.prototype.update=function(){var ee=new te.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(ee.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),te.PointLightHelper=function(ee,re){this.light=ee,this.light.updateMatrixWorld();var ie=new te.SphereBufferGeometry(re,4,2),ae=new te.MeshBasicMaterial({wireframe:!0,fog:!1});ae.color.copy(this.light.color).multiplyScalar(this.light.intensity),te.Mesh.call(this,ie,ae),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},te.PointLightHelper.prototype=Object.create(te.Mesh.prototype),te.PointLightHelper.prototype.constructor=te.PointLightHelper,te.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},te.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},te.SkeletonHelper=function(ee){this.bones=this.getBoneList(ee);for(var re=new te.Geometry,ie=0;ie<this.bones.length;ie++){var ae=this.bones[ie];ae.parent instanceof te.Bone&&(re.vertices.push(new te.Vector3),re.vertices.push(new te.Vector3),re.colors.push(new te.Color(0,0,1)),re.colors.push(new te.Color(0,1,0)))}re.dynamic=!0;var oe=new te.LineBasicMaterial({vertexColors:te.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});te.LineSegments.call(this,re,oe),this.root=ee,this.matrix=ee.matrixWorld,this.matrixAutoUpdate=!1,this.update()},te.SkeletonHelper.prototype=Object.create(te.LineSegments.prototype),te.SkeletonHelper.prototype.constructor=te.SkeletonHelper,te.SkeletonHelper.prototype.getBoneList=function(ee){var re=[];ee instanceof te.Bone&&re.push(ee);for(var ie=0;ie<ee.children.length;ie++)re.push.apply(re,this.getBoneList(ee.children[ie]));return re},te.SkeletonHelper.prototype.update=function(){for(var ee=this.geometry,re=new te.Matrix4().getInverse(this.root.matrixWorld),ie=new te.Matrix4,ae=0,oe=0;oe<this.bones.length;oe++){var le=this.bones[oe];le.parent instanceof te.Bone&&(ie.multiplyMatrices(re,le.matrixWorld),ee.vertices[ae].setFromMatrixPosition(ie),ie.multiplyMatrices(re,le.parent.matrixWorld),ee.vertices[ae+1].setFromMatrixPosition(ie),ae+=2)}ee.verticesNeedUpdate=!0,ee.computeBoundingSphere()},te.SpotLightHelper=function(ee){te.Object3D.call(this),this.light=ee,this.light.updateMatrixWorld(),this.matrix=ee.matrixWorld,this.matrixAutoUpdate=!1;for(var re=new te.BufferGeometry,ie=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],ae=0,oe=1,le=32;ae<le;ae++,oe++){var he=ae/le*Math.PI*2,ue=oe/le*Math.PI*2;ie.push(Math.cos(he),Math.sin(he),1,Math.cos(ue),Math.sin(ue),1)}re.addAttribute("position",new te.Float32Attribute(ie,3));var pe=new te.LineBasicMaterial({fog:!1});this.cone=new te.LineSegments(re,pe),this.add(this.cone),this.update()},te.SpotLightHelper.prototype=Object.create(te.Object3D.prototype),te.SpotLightHelper.prototype.constructor=te.SpotLightHelper,te.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},te.SpotLightHelper.prototype.update=function(){var ee=new te.Vector3,re=new te.Vector3;return function(){var ae=this.light.distance?this.light.distance:1e3,oe=ae*Math.tan(this.light.angle);this.cone.scale.set(oe,oe,ae),ee.setFromMatrixPosition(this.light.matrixWorld),re.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(re.sub(ee)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),te.VertexNormalsHelper=function(ee,re,ie,ae){this.object=ee,this.size=re!==void 0?re:1;var oe=ie!==void 0?ie:16711680,le=ae!==void 0?ae:1,he=0,ue=this.object.geometry;ue instanceof te.Geometry?he=ue.faces.length*3:ue instanceof te.BufferGeometry&&(he=ue.attributes.normal.count);var pe=new te.BufferGeometry,ce=new te.Float32Attribute(he*2*3,3);pe.addAttribute("position",ce),te.LineSegments.call(this,pe,new te.LineBasicMaterial({color:oe,linewidth:le})),this.matrixAutoUpdate=!1,this.update()},te.VertexNormalsHelper.prototype=Object.create(te.LineSegments.prototype),te.VertexNormalsHelper.prototype.constructor=te.VertexNormalsHelper,te.VertexNormalsHelper.prototype.update=function(){var ee=new te.Vector3,re=new te.Vector3,ie=new te.Matrix3;return function(){var oe=["a","b","c"];this.object.updateMatrixWorld(!0),ie.getNormalMatrix(this.object.matrixWorld);var le=this.object.matrixWorld,he=this.geometry.attributes.position,ue=this.object.geometry;if(ue instanceof te.Geometry)for(var pe=ue.vertices,ce=ue.faces,fe=0,me=0,de=ce.length;me<de;me++)for(var ve=ce[me],ge=0,xe=ve.vertexNormals.length;ge<xe;ge++){var _e=pe[ve[oe[ge]]],ye=ve.vertexNormals[ge];ee.copy(_e).applyMatrix4(le),re.copy(ye).applyMatrix3(ie).normalize().multiplyScalar(this.size).add(ee),he.setXYZ(fe,ee.x,ee.y,ee.z),fe=fe+1,he.setXYZ(fe,re.x,re.y,re.z),fe=fe+1}else if(ue instanceof te.BufferGeometry)for(var we=ue.attributes.position,be=ue.attributes.normal,fe=0,ge=0,xe=we.count;ge<xe;ge++)ee.set(we.getX(ge),we.getY(ge),we.getZ(ge)).applyMatrix4(le),re.set(be.getX(ge),be.getY(ge),be.getZ(ge)),re.applyMatrix3(ie).normalize().multiplyScalar(this.size).add(ee),he.setXYZ(fe,ee.x,ee.y,ee.z),fe=fe+1,he.setXYZ(fe,re.x,re.y,re.z),fe=fe+1;return he.needsUpdate=!0,this}}(),te.WireframeHelper=function(ee,re){var ie=re!==void 0?re:16777215;te.LineSegments.call(this,new te.WireframeGeometry(ee.geometry),new te.LineBasicMaterial({color:ie})),this.matrix=ee.matrixWorld,this.matrixAutoUpdate=!1},te.WireframeHelper.prototype=Object.create(te.LineSegments.prototype),te.WireframeHelper.prototype.constructor=te.WireframeHelper,te.ImmediateRenderObject=function(ee){te.Object3D.call(this),this.material=ee,this.render=function(re){}},te.ImmediateRenderObject.prototype=Object.create(te.Object3D.prototype),te.ImmediateRenderObject.prototype.constructor=te.ImmediateRenderObject,te.MorphBlendMesh=function(ee,re){te.Mesh.call(this,ee,re),this.animationsMap={},this.animationsList=[];var ie=this.geometry.morphTargets.length,ae="__default",oe=0,le=ie-1,he=ie/1;this.createAnimation(ae,oe,le,he),this.setAnimationWeight(ae,1)},te.MorphBlendMesh.prototype=Object.create(te.Mesh.prototype),te.MorphBlendMesh.prototype.constructor=te.MorphBlendMesh,te.MorphBlendMesh.prototype.createAnimation=function(ee,re,ie,ae){var oe={start:re,end:ie,length:ie-re+1,fps:ae,duration:(ie-re)/ae,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[ee]=oe,this.animationsList.push(oe)},te.MorphBlendMesh.prototype.autoCreateAnimations=function(ee){for(var re=/([a-z]+)_?(\d+)/i,ie,ae={},oe=this.geometry,le=0,he=oe.morphTargets.length;le<he;le++){var ue=oe.morphTargets[le],pe=ue.name.match(re);if(pe&&pe.length>1){var ce=pe[1];ae[ce]||(ae[ce]={start:1/0,end:-1/0});var fe=ae[ce];le<fe.start&&(fe.start=le),le>fe.end&&(fe.end=le),ie||(ie=ce)}}for(var ce in ae){var fe=ae[ce];this.createAnimation(ce,fe.start,fe.end,ee)}this.firstAnimation=ie},te.MorphBlendMesh.prototype.setAnimationDirectionForward=function(ee){var re=this.animationsMap[ee];re&&(re.direction=1,re.directionBackwards=!1)},te.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(ee){var re=this.animationsMap[ee];re&&(re.direction=-1,re.directionBackwards=!0)},te.MorphBlendMesh.prototype.setAnimationFPS=function(ee,re){var ie=this.animationsMap[ee];ie&&(ie.fps=re,ie.duration=(ie.end-ie.start)/ie.fps)},te.MorphBlendMesh.prototype.setAnimationDuration=function(ee,re){var ie=this.animationsMap[ee];ie&&(ie.duration=re,ie.fps=(ie.end-ie.start)/ie.duration)},te.MorphBlendMesh.prototype.setAnimationWeight=function(ee,re){var ie=this.animationsMap[ee];ie&&(ie.weight=re)},te.MorphBlendMesh.prototype.setAnimationTime=function(ee,re){var ie=this.animationsMap[ee];ie&&(ie.time=re)},te.MorphBlendMesh.prototype.getAnimationTime=function(ee){var re=0,ie=this.animationsMap[ee];return ie&&(re=ie.time),re},te.MorphBlendMesh.prototype.getAnimationDuration=function(ee){var re=-1,ie=this.animationsMap[ee];return ie&&(re=ie.duration),re},te.MorphBlendMesh.prototype.playAnimation=function(ee){var re=this.animationsMap[ee];re?(re.time=0,re.active=!0):console.warn("THREE.MorphBlendMesh: animation["+ee+"] undefined in .playAnimation()")},te.MorphBlendMesh.prototype.stopAnimation=function(ee){var re=this.animationsMap[ee];re&&(re.active=!1)},te.MorphBlendMesh.prototype.update=function(ee){for(var re=0,ie=this.animationsList.length;re<ie;re++){var ae=this.animationsList[re];if(!!ae.active){var oe=ae.duration/ae.length;ae.time+=ae.direction*ee,ae.mirroredLoop?(ae.time>ae.duration||ae.time<0)&&(ae.direction*=-1,ae.time>ae.duration&&(ae.time=ae.duration,ae.directionBackwards=!0),ae.time<0&&(ae.time=0,ae.directionBackwards=!1)):(ae.time=ae.time%ae.duration,ae.time<0&&(ae.time+=ae.duration));var le=ae.start+te.Math.clamp(Math.floor(ae.time/oe),0,ae.length-1),he=ae.weight;le!==ae.currentFrame&&(this.morphTargetInfluences[ae.lastFrame]=0,this.morphTargetInfluences[ae.currentFrame]=1*he,this.morphTargetInfluences[le]=0,ae.lastFrame=ae.currentFrame,ae.currentFrame=le);var ue=ae.time%oe/oe;ae.directionBackwards&&(ue=1-ue),ae.currentFrame!==ae.lastFrame?(this.morphTargetInfluences[ae.currentFrame]=ue*he,this.morphTargetInfluences[ae.lastFrame]=(1-ue)*he):this.morphTargetInfluences[ae.currentFrame]=he}}}})(three);var vertex_default=`uniform float time;
varying vec2 vUv;
varying vec3 vPosition;
uniform vec2 pixels;
float PI = 3.141592653589793238;
void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragment_default=`uniform float time;
uniform float progress;
uniform sampler2D uDataTexture;
uniform sampler2D uTexture;

uniform vec4 resolution;
varying vec2 vUv;
varying vec3 vPosition;
float PI = 3.141592653589793238;
void main()	{
	vec2 newUV = (vUv - vec2(0.5))*resolution.zw + vec2(0.5);
	vec4 color = texture2D(uTexture,newUV);
	vec4 offset = texture2D(uDataTexture,vUv);

	gl_FragColor = texture2D(uTexture,newUV - 0.02*offset.rg);
	

}`;function clamp(se,ne,te){return Math.max(ne,Math.min(se,te))}class _HeroVideo{constructor(ne){this.video=document.querySelector("video"),this.videoTexture=new three.exports.VideoTexture(this.video),this.videoTexture.magFilter=three.exports.NearestFilter,this.videoTexture.minFilter=three.exports.LinearFilter,window.addEventListener("load",()=>{this.videoTexture.generateMipmaps=!1;var re=this.videoTexture.clone();re.needsUpdate=!0}),this.scene=new three.exports.Scene,this.container=ne.dom,this.img=this.container.querySelector("img"),this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.renderer=new three.exports.WebGLRenderer,this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(this.width,this.height),this.renderer.setClearColor(657930,1),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=three.exports.sRGBEncoding,this.container.appendChild(this.renderer.domElement),this.camera=new three.exports.PerspectiveCamera(70,this.width/this.height,.1,100);var te=1,ee=this.width/this.height;this.camera=new three.exports.OrthographicCamera(te/-2,te/2,te/2,te/-2,-1e3,1e3),this.camera.position.set(0,0,2),this.time=0,this.mouse={x:0,y:0,prevX:0,prevY:0,vX:0,vY:0},this.isPlaying=!0,this.settings(ee),this.addObjects(),this.resize(),this.render(),this.setupResize(),this.mouseEvents(this.container)}getValue(ne){return parseFloat(this.container.getAttribute("data-"+ne))}mouseEvents(ne){ne.addEventListener("mousemove",te=>{this.mouse.x=te.layerX/this.width,this.mouse.y=te.layerY/this.height,this.mouse.vX=this.mouse.x-this.mouse.prevX,this.mouse.vY=this.mouse.y-this.mouse.prevY,this.mouse.prevX=this.mouse.x,this.mouse.prevY=this.mouse.y})}settings(ne){this.settings={grid:this.getValue("grid")||30,mouse:this.getValue("mouse")||.25,strength:this.getValue("strength")||1,relaxation:this.getValue("relaxation")||.89,aspectRatio:this.getValue("aspectRatio")||1280/2274}}setupResize(){window.addEventListener("resize",this.resize.bind(this))}resize(){this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.imageAspect=1/this.settings.aspectRatio;let ne,te;this.height/this.width>this.imageAspect?(ne=this.width/this.height*this.imageAspect,te=1):(ne=1,te=this.height/this.width/this.imageAspect),this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.material.uniforms.resolution.value.z=ne,this.material.uniforms.resolution.value.w=te,this.camera.updateProjectionMatrix(),this.regenerateGrid()}regenerateGrid(){this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.size=this.settings.grid;const ne=this.size,te=this.size,ee=ne*te,re=new Float32Array(3*ee),ie=new three.exports.Color(16777215);Math.floor(ie.r*255),Math.floor(ie.g*255),Math.floor(ie.b*255);for(let ae=0;ae<ee;ae++){let oe=Math.random()*255-125,le=Math.random()*255-125;const he=ae*3;re[he]=oe,re[he+1]=le,re[he+2]=oe}this.texture=new three.exports.DataTexture(re,ne,te,three.exports.RGBFormat,three.exports.FloatType),this.texture.magFilter=three.exports.NearestFilter,this.texture.minFilter=three.exports.LinearFilter,this.material&&(this.material.uniforms.uDataTexture.value=this.texture,this.material.uniforms.uDataTexture.value.needsUpdate=!0)}addObjects(){this.regenerateGrid(),this.material=new three.exports.ShaderMaterial({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:three.exports.DoubleSide,uniforms:{time:{value:0},resolution:{value:new three.exports.Vector4},uTexture:{value:this.videoTexture},uDataTexture:{value:this.texture}},vertexShader:vertex_default,fragmentShader:fragment_default}),this.geometry=new three.exports.PlaneGeometry(1,1,1,1),this.plane=new three.exports.Mesh(this.geometry,this.material),this.scene.add(this.plane),this.resize()}updateDataTexture(){let ne=this.texture.image.data;for(let ae=0;ae<ne.length;ae+=3)ne[ae]*=this.settings.relaxation,ne[ae+1]*=this.settings.relaxation;let te=this.size*this.mouse.x,ee=this.size*(1-this.mouse.y),re=this.size*this.settings.mouse,ie=this.height/this.width;for(let ae=0;ae<this.size;ae++)for(let oe=0;oe<this.size;oe++){let le=(te-ae)**2/ie+(ee-oe)**2,he=re**2;if(le<he){let ue=3*(ae+this.size*oe),pe=re/Math.sqrt(le);pe=clamp(pe,0,10),ne[ue]+=this.settings.strength*100*this.mouse.vX*pe,ne[ue+1]-=this.settings.strength*100*this.mouse.vY*pe}}this.mouse.vX*=.9,this.mouse.vY*=.9,this.texture.needsUpdate=!0}render(){!this.isPlaying||(this.time+=.05,this.updateDataTexture(),this.material.uniforms.time.value=this.time,this.video&&this.video.readyState===this.video.HAVE_ENOUGH_DATA&&(this.videoTexture.needsUpdate=!0),requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera))}}class _Header{constructor(){let ne=3e3;const te="abcdefghijklmnopqrstuvwxyz";let ee=$("[hero-hello]"),re=0,ie={0:"Hola",1:"Bonjour",2:"Hallo",3:"Ciao",4:"Oi",5:"N\u01D0 h\u01CEo",6:"Konnichiwa",7:"Merhaba",8:"Aloha",9:"Shalom"};ee.attr("data-value",ie[re++]),setInterval(()=>{ee.attr("data-value",ie[re++]),re>=Object.keys(ie).length&&(re=0)},ne);const oe=()=>{let le=0,he=setInterval(()=>{ee.text(ee.attr("data-value").split("").map((ue,pe)=>pe<le?ee.attr("data-value")[pe]:te[Math.floor(Math.random()*26)]).join("")),le>=ee.attr("data-value").length&&clearInterval(he),le+=Math.ceil(1/5)},40)};oe(),setInterval(oe,ne)}}gsapWithCSS.registerPlugin(SplitText);class _HomeLoader{constructor(ne,te){const ee=()=>{let ie=gsapWithCSS.matchMedia(),ae="(min-width: 991px)";$("body").addClass("at-top");let le=$(ne).find("header"),he=le.find(".hero__text--parent").find(".f"),ue=le.find(".hero__top.grid").find(".f"),pe=new SplitText(he,{type:"chars, words"}),ce=new SplitText(ue,{type:"chars, words"}),fe=le.find(".hero__divider");le.find(".hero__img"),ie.add(ae,()=>{setTimeout(()=>{new _HeroVideo({dom:ne.querySelector(".hero__img")})},(te-.4)*1e3)});let me=gsapWithCSS.timeline({defaults:{ease:"power3.inOut",duration:.8},onComplete:()=>{new _Header}});me.from(fe,{scaleX:0,transformOrigin:"left",stagger:.2},te);for(let de=0;de<pe.elements.length;de++){let ve=pe.elements[de],ge=$(ve).find(pe.chars);gsapWithCSS.utils.shuffle(ge),me.from(ge,{opacity:0,duration:.2,stagger:{each:.02,ease:"ease"}},`${te+.2+de*.4}`).from(ge,{duration:.4,filter:"blur(20px)",stagger:{each:.02,ease:"ease"}},"<")}for(let de=0;de<ce.elements.length;de++){let ve=ce.elements[de],ge=$(ve).find(ce.chars);gsapWithCSS.utils.shuffle(ge),me.from(ge,{opacity:0,duration:.2,stagger:{each:.03,ease:"ease"}},`${te+.6}`).from(ge,{duration:.4,filter:"blur(20px)",stagger:{each:.03,ease:"ease"}},"<")}};new FontFaceObserver("Supply").load().then(function(){ee()}).catch(function(){ee()})}}gsapWithCSS.registerPlugin(SplitText);class _InnerLoader{constructor(){let ne=document.querySelector(".loader"),te=ne.querySelector(".loader__grid"),ee=$(".nav__body").find(".f"),re=new SplitText(ee,{type:"chars"});gsapWithCSS.set(re.chars,{opacity:0,filter:"blur(20px)"});const ie=()=>{for(let le=0;le<re.elements.length;le++){let he=re.elements[le],ue=$(he).find(re.chars);gsapWithCSS.utils.shuffle(ue),gsapWithCSS.to(ue,{opacity:1,filter:"blur(0px)",duration:.4,stagger:{each:.08}})}};new CreateGrid(te,"loader__tile");let ae=$(".loader__tile");document.documentElement.style.getPropertyValue("--rows"),document.documentElement.style.getPropertyValue("--columns");let oe=gsapWithCSS.timeline({defaults:{duration:1,ease:"power2"}});gsapWithCSS.utils.shuffle(ae),oe.to(ae,{opacity:0,duration:0,stagger:{amount:.3},onComplete:ie},"0.3").to(ne,{display:"none"},"0.3"),this.duration=oe.duration()}}gsapWithCSS.registerPlugin(SplitText);class _CasesLoader{constructor(ne,te){$("body").removeClass("at-top");let re=$(ne).find(".f-154"),ie=new SplitText(re,{type:"chars, words",charsClass:"cases__char"});gsapWithCSS.utils.shuffle(ie.chars);let ae=gsapWithCSS.timeline({defaults:{ease:"power2",duration:.2}});const oe=()=>{$(".cases__char").css("opacity",1)};ae.from(ie.chars,{opacity:0,duration:.1,stagger:{amount:.2,ease:"none"},onComplete:oe},te)}}gsapWithCSS.registerPlugin(SplitText);class _PlaygroundLoader{constructor(ne,te){$("body").addClass("at-top");const ee=()=>{let ie=$(ne),ae=ie.find(".f-96"),oe=new SplitText(ae,{type:"chars, lines"}),le=ie.find(".playground__item:nth-child(-n+12)"),he=ie.find(".playground__categories").find(".categories__item"),ue=ie.find(".hero__top .f, .playground__subtitle .f, .playground__categories--title .f"),pe=new SplitText(ue,{type:"chars, words"});gsapWithCSS.utils.shuffle(oe.chars);let ce=gsapWithCSS.timeline({defaults:{ease:"power3.inOut",duration:.8}});ce.fromTo(oe.chars,{"font-variation-settings":'"wdth" 200, "HGHT" 100',scaleY:0},{"font-variation-settings":'"wdth" 200, "HGHT" 1000',scaleY:1,transformOrigin:"bottom",stagger:.02},te).fromTo(le,{opacity:0},{opacity:1,stagger:.1},"<0.2").fromTo(he,{opacity:0},{opacity:1,stagger:.1},"<0.2");for(let fe=0;fe<pe.elements.length;fe++){let me=pe.elements[fe],de=$(me).find(pe.chars);gsapWithCSS.utils.shuffle(de),ce.from(de,{opacity:0,duration:.2,stagger:{each:.02,ease:"ease"}},`${te+.2+fe*.4}`).from(de,{duration:.4,filter:"blur(20px)",stagger:{each:.02,ease:"ease"}},te+.4)}};new FontFaceObserver("Supply").load().then(function(){ee()}).catch(function(){ee()})}}gsapWithCSS.registerPlugin(SplitText);class _ContactLoader{constructor(ne,te){const ee=()=>{let ie=$(ne),ae=ie.find(".form__step").eq(0).find(".f-96"),oe=ie.find(".contact__subtitle .f, .contact__socials .f, .contact__steps .f"),le=ie.find(".contact__socials--divider"),he=ie.find(".contact__next"),ue=ie.find(".form__step").eq(0).find(".form__radio"),pe=new SplitText(ae,{type:"chars, lines"}),ce=new SplitText(oe,{type:"chars, words"});gsapWithCSS.utils.shuffle(pe.chars);let fe=gsapWithCSS.timeline({defaults:{ease:"power3.inOut",duration:.8}});fe.fromTo(pe.chars,{"font-variation-settings":'"wdth" 200, "HGHT" 100',scaleY:0},{"font-variation-settings":'"wdth" 200, "HGHT" 1000',scaleY:1,transformOrigin:"bottom",stagger:.02},te).fromTo(ue,{opacity:0},{opacity:1,duration:.2,stagger:.1,onComplete:()=>{gsapWithCSS.set(ue,{clearProps:"opacity"})}},"<0.2").from(le,{scaleX:0,duration:.4,transformOrigin:"right"},"<0.2").from(he,{opacity:0,duration:.2},"<0.2");for(let me=0;me<ce.elements.length;me++){let de=ce.elements[me],ve=$(de).find(ce.chars);gsapWithCSS.utils.shuffle(ve),fe.from(ve,{opacity:0,duration:.2,stagger:{each:.02,ease:"ease"}},`${te+.2+me*.1}`).from(ve,{duration:.4,filter:"blur(20px)",stagger:{each:.02,ease:"ease"}},"<")}};new FontFaceObserver("Supply").load().then(function(){ee()}).catch(function(){ee()})}}gsapWithCSS.registerPlugin(SplitText);class _InnerCaseLoader{constructor(ne,te){$("body").addClass("at-top");const ee=()=>{let ie=$(ne),ae=ie.find("header").find(".f-96"),oe=new SplitText(ae,{type:"chars, lines"}),le=ie.find(".hero__showreal"),he=ie.find(".hero").find(".f"),ue=new SplitText(he,{type:"chars, words"}),pe=ie.find(".awards__divider");gsapWithCSS.utils.shuffle(oe.chars);let ce=gsapWithCSS.timeline({defaults:{ease:"power3.inOut",duration:.8}});ce.fromTo(oe.chars,{"font-variation-settings":'"wdth" 200, "HGHT" 100',scaleY:0},{"font-variation-settings":'"wdth" 200, "HGHT" 1000',scaleY:1,transformOrigin:"bottom",stagger:.02},te).fromTo(le,{opacity:0},{opacity:1},"<0.2"),pe.length>0&&ce.fromTo(pe,{scaleX:0},{scaleX:1,transformOrigin:"left",stagger:.1},"<0.2");for(let fe=0;fe<ue.elements.length;fe++){let me=ue.elements[fe],de=$(me).find(ue.chars);gsapWithCSS.utils.shuffle(de),ce.from(de,{opacity:0,duration:.2,stagger:{each:.02,ease:"ease"}},`${te+.2+fe*.2}`).from(de,{duration:.4,filter:"blur(20px)",stagger:{each:.02,ease:"ease"}},"<")}};new FontFaceObserver("Supply").load().then(function(){ee()}).catch(function(){ee()})}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Leave{constructor(ne,te){let ee=$(".nav__progress").parent();$(".nav__progress").remove(),ee.append('<div class="nav__progress"></div>'),ScrollTrigger.killAll(),$(".loader").css("display","block");let ie=$(".loader__tile");gsapWithCSS.utils.shuffle(ie);let ae=gsapWithCSS.timeline();ae.to(ie,{opacity:1,duration:0,stagger:{amount:.3}});let oe=ae.duration();gsapWithCSS.to(ne,{opacity:1,duration:oe+.05,onComplete:()=>{te(),$("body").removeClass("active-burger")}})}}class _Enter{constructor(ne){gsapWithCSS.set(ne,{autoAlpha:1});let te=$(".loader"),ee=$(".loader__tile");gsapWithCSS.utils.shuffle(ee),gsapWithCSS.timeline().to(ee,{opacity:0,duration:0,stagger:{amount:.3}},.05).to(te,{display:"none",onComplete:()=>{$("body").removeClass("grey-tile"),$("body").removeClass("page-404")}},"0.3")}}gsapWithCSS.registerPlugin(SplitText);class SplitTextResize{constructor(ne,te){let ee=window.innerWidth;const re=()=>{let ae=window.innerWidth;ee!==ae&&(ne.revert(),te()),ee=window.innerWidth};function ie(ae){let oe;return function(le){oe&&clearTimeout(oe),oe=setTimeout(ae,300,le)}}window.addEventListener("resize",ie(function(ae){re()}))}}gsapWithCSS.registerPlugin(ScrollTrigger,SplitText);class Title{constructor(){gsapWithCSS.matchMedia();let ne="top 85%",te,ee;const re=()=>{let le=$("[text-char]");te=new SplitText(le,{type:"lines, chars"}),$(le).each(function(){let he=$(this),ue=he.find(te.chars),pe=gsapWithCSS.timeline({paused:!0,defaults:{duration:.4,ease:"power3",stagger:.06}});gsapWithCSS.utils.shuffle(ue),pe.fromTo(ue,{"font-variation-settings":'"wdth" 200, "HGHT" 100',scaleY:0},{"font-variation-settings":'"wdth" 200, "HGHT" 1000',scaleY:1,transformOrigin:"bottom",stagger:.02}),ScrollTrigger.create({trigger:he,start:ne,onEnter:()=>pe.play()}),ScrollTrigger.create({trigger:he,start:ne,onUpdate:()=>pe.play()})})},ie=()=>{let le=$("[text-word]");ee=new SplitText(le,{type:"words, lines",wordsClass:"text-word",linesClass:"text-line"}),$(le).each(function(){let he=$(this),ue=he.find(ee.words),pe=gsapWithCSS.timeline({paused:!0,defaults:{duration:.4,ease:"power3",stagger:.06}});gsapWithCSS.utils.shuffle(ue),pe.fromTo(ue,{opacity:0},{opacity:1,duration:.05,stagger:.01}),ScrollTrigger.create({trigger:he,start:ne,onEnter:()=>pe.play()}),ScrollTrigger.create({trigger:he,start:ne,onUpdate:()=>pe.play()})})};new FontFaceObserver("Flexible").load().then(function(){re(),new SplitTextResize(te,re)}).catch(function(){}),new FontFaceObserver("Supply").load().then(function(){ie(),new SplitTextResize(ee,ie)}).catch(function(){})}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Services{constructor(){$(".services__list").each((te,ee)=>{let re=$(ee),ie=re.height();re.height(ie);let ae=re.find(".services__item"),oe=gsapWithCSS.timeline({scrollTrigger:{trigger:re,start:"top 80%",end:"top 57%",scrub:!0}}),le="2.1875rem";oe.fromTo(ae,{opacity:0,minHeight:"6.1875rem"},{opacity:1,minHeight:le,stagger:.1})})}}gsapWithCSS.registerPlugin(ScrollTrigger);class _About{constructor(){let ne=gsapWithCSS.matchMedia(),te="(min-width: 991px)",ee="(min-width: 480px) and (max-width: 991px)",re="(max-width: 479px)",ie=$(".about"),ae=$(".services"),oe=ie.find(".about__item").eq(0),le=ie.find(".about__item").eq(1),he=ie.find(".about__img"),ue=he.find(".about__canvas"),pe=ue.height(),ce,fe;ne.add(te,()=>{gsapWithCSS.timeline({scrollTrigger:{trigger:ie,start:"top bottom",end:"bottom top",scrub:1}}).fromTo(oe,{y:-100},{y:100,ease:"none"}).fromTo(le,{y:100},{y:-200,ease:"none"},0),fe=`bottom+=${pe/2} center+=${pe+50}`,ce=ScrollTrigger.create({trigger:he,endTrigger:ae,start:"center center",end:fe,pin:ue,pinType:"fixed",pinSpacing:!1});let de=1600,ve=window.innerWidth;const ge=()=>{if(ve=window.innerWidth,ve>de){let ye=(ve-de)/4;$(".about__descr").css("--padding",ye+"px")}};ge();const xe=()=>{pe=ue.height(),fe=`bottom+=${pe/2} center+=${pe+50}`,setTimeout(()=>{ce.kill(),ScrollTrigger.refresh(),ce=ScrollTrigger.create({trigger:he,endTrigger:ae,start:"center center",end:fe,pin:ue,pinType:"fixed",pinSpacing:!1})},50),ge()};function _e(ye){let we;return function(be){we&&clearTimeout(we),we=setTimeout(ye,300,be)}}window.addEventListener("resize",_e(function(ye){xe()})),this.sequence(he,ae,"center center",fe)}),ne.add(ee,()=>{fe="bottom center",this.sequence(he,ie,"center center",fe)}),ne.add(re,()=>{fe="top top",this.sequence(he,he,"top 75%",fe)})}sequence(ne,te,ee,re){function ie(ae,oe,le,he,ue,pe,ce,fe){arguments.length===2&&(le=he=0,ue=ae.canvas.width,pe=ae.canvas.height),ce=typeof ce=="number"?ce:.5,fe=typeof fe=="number"?fe:.5,ce<0&&(ce=0),fe<0&&(fe=0),ce>1&&(ce=1),fe>1&&(fe=1);var me=oe.width,de=oe.height,ve=Math.min(ue/me,pe/de),ge=me*ve,xe=de*ve,_e,ye,we,be,Se=1;ge<ue&&(Se=ue/ge),Math.abs(Se-1)<1e-14&&xe<pe&&(Se=pe/xe),ge*=Se,xe*=Se,we=me/(ge/ue),be=de/(xe/pe),_e=(me-we)*ce,ye=(de-be)*fe,_e<0&&(_e=0),ye<0&&(ye=0),we>me&&(we=me),be>de&&(be=de),ae.drawImage(oe,_e,ye,we,be,le,he,ue,pe)}$(".about__img").each(function(){const ae=$(this).find("canvas")[0],oe=$(this).find(".about__canvas")[0],le=ae.getContext("2d");function he(){ae.width=oe.offsetWidth,ae.height=oe.offsetHeight}he();const ue=$(this).attr("total-frames"),pe=$(this).attr("url-start"),ce=$(this).attr("url-end"),fe=$(this).attr("floating-zeros"),me=ye=>`${pe}${(ye+1).toString().padStart(fe,"0")}${ce}`,de=[],ve={frame:0};for(let ye=0;ye<ue;ye++){const we=new Image;we.src=me(ye),de.push(we)}gsapWithCSS.to(ve,{frame:ue-1,snap:"frame",ease:"none",scrollTrigger:{trigger:ne,endTrigger:te,start:ee,end:re,scrub:1},onUpdate:ge}),de[0].onload=ge;function ge(){le.clearRect(0,0,oe.offsetWidth,oe.offsetHeight),ie(le,de[ve.frame],0,0,oe.offsetWidth,oe.offsetHeight,.5,.5)}let xe=!!navigator.platform.match(/iPhone|iPod|iPad/),_e;$(window).on("resize",function(ye){xe?(clearTimeout(_e),_e=setTimeout(function(){he(),ge()},250)):(he(),ge())})})}}gsapWithCSS.registerPlugin(ScrollTrigger,SplitText);class _Process{constructor(){let ne=$(".process");ne.find(".process__sticky");let te=ne.find(".process__bg")[0];new CreateGrid(te,"process__tile");let ee=$(".process__tile");gsapWithCSS.utils.shuffle(ee),ee.each(function(le,he){$(he).css("transition-delay",le*(.4/ee.length)+"s")}),ScrollTrigger.create({trigger:ne,start:`${window.innerHeight/10} top`,end:"bottom bottom",onEnter:()=>{$("body").addClass("active-process")},onLeaveBack:()=>{$("body").removeClass("active-process")},onEnterBack:()=>{$("body").addClass("active-process")},onLeave:()=>{$("body").removeClass("active-process")}}),this.splitChars(),this.steps(ne);let ie=ne.find(".process__info").outerHeight();ne.css("--info-height-fixed",`${ie}px`);const ae=()=>{setTimeout(()=>{ee=$(".process__tile"),gsapWithCSS.utils.shuffle(ee),ee.each(function(le,he){$(he).css("transition-delay",le*(.4/ee.length)+"s")})},10)};function oe(le){let he;return function(ue){he&&clearTimeout(he),he=setTimeout(le,300,ue)}}window.addEventListener("resize",oe(function(le){ae()}))}splitChars(){let ne=$(".process__title").find(".f-96");new SplitText(ne,{type:"chars, lines",charsClass:"process__char"}),ne.each((re,ie)=>{let oe=$(ie).find(".process__char");gsapWithCSS.utils.shuffle(oe),oe.each((le,he)=>{$(he).css("transition-delay",`${le*.02}s`)})});const te=()=>{let re=$(".process__info").find(".f");new SplitText(re,{type:"words, lines",wordsClass:"process__info--word",linesClass:"process__info--line"}),$(".process__info--list").each((ie,ae)=>{let le=$(ae).find(".process__info--word");gsapWithCSS.utils.shuffle(le),le.each((he,ue)=>{$(ue).css("transition-delay",`${he*.005}s`)})})};new FontFaceObserver("Supply").load().then(function(){te()}).catch(function(){})}steps(ne){let te=gsapWithCSS.matchMedia(),ee="(min-width: 991px)",re=$(".process__titles"),ie=gsapWithCSS.timeline({paused:!0,defaults:{ease:"none"}});const ae=le=>{let pe=ne.find(".process__info").find(`.process__info--list:nth-child(${le})`).outerHeight();ne.css("--info-height",`${pe}px`),$(".process__info--list").addClass("no-delay"),$(`.process__info--list:nth-child(${le})`).removeClass("no-delay")};ae(1);const oe=le=>{let he=0;le<.001&&ne.removeClass("hide-first"),le>=.001&&le<=.3?(he=1,ae(he),ne.addClass("hide-first"),ne.addClass("active-1"),ne.removeClass("active-2").removeClass("active-3")):le>=.3&&le<=.6?(he=2,ae(he),ne.addClass("active-2"),ne.removeClass("active-1").removeClass("active-3")):le>=.6&&le<=.9&&(he=3,ae(he),ne.addClass("active-3"),ne.removeClass("active-1").removeClass("active-2"))};te.add(ee,()=>{ie.to(re,{xPercent:-160})}),ScrollTrigger.create({trigger:ne,start:`${window.innerHeight/2} top`,end:"bottom bottom",animation:ie,scrub:!0,onUpdate:le=>oe(le.progress),onLeaveBack:()=>ne.removeClass("active-1").removeClass("active-2").removeClass("active-3")})}}gsapWithCSS.registerPlugin(ScrollTrigger,SplitText);class _Awards$1{constructor(){let ne=$(".awards");this.titleSplit(ne),this.grid(ne)}titleSplit(ne){let te=ne.find(".awards__title").find(".f-96"),ee;const re=()=>{ee=new SplitText(te,{type:"chars"}),gsapWithCSS.utils.shuffle(ee.chars);let ae=gsapWithCSS.timeline({paused:!0,defaults:{duration:.4,ease:"power3",stagger:.06}});ae.fromTo(ee.chars,{"font-variation-settings":'"wdth" 200, "HGHT" 100',scaleY:0},{"font-variation-settings":'"wdth" 200, "HGHT" 1000',scaleY:1,transformOrigin:"bottom",stagger:.02}),ScrollTrigger.create({trigger:te,start:"top: 55%",onEnter:()=>ae.play()}),ScrollTrigger.create({trigger:te,start:"top: 55%",onUpdate:()=>ae.play()})};new FontFaceObserver("Flexible").load().then(function(){re(),new SplitTextResize(ee,re)}).catch(function(){re(),new SplitTextResize(ee,re)})}grid(ne){let te=gsapWithCSS.matchMedia(),ee="(max-width: 479px)",re="top 35%";te.add(ee,()=>re="bottom 70%"),ne.find(".awards__grid").each((ae,oe)=>{let le=$(oe),he=le.height();le.height(he);let ue=le.find(".awards__row"),pe=gsapWithCSS.timeline({scrollTrigger:{trigger:le,start:"top 65%",end:re,scrub:!0}}),ce="2.1875rem";pe.fromTo(ue,{opacity:0,minHeight:"6.1875rem"},{opacity:1,minHeight:ce,stagger:.1})})}}var matter={exports:{}};/*!
* matter-js 0.18.0 by @liabru
* http://brm.io/matter-js/
* License MIT
* 
* The MIT License (MIT)
* 
* Copyright (c) Liam Brummitt and contributors.
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in
* all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
* THE SOFTWARE.
*/(function(se,ne){(function(ee,re){se.exports=re()})(commonjsGlobal,function(){return function(te){var ee={};function re(ie){if(ee[ie])return ee[ie].exports;var ae=ee[ie]={i:ie,l:!1,exports:{}};return te[ie].call(ae.exports,ae,ae.exports,re),ae.l=!0,ae.exports}return re.m=te,re.c=ee,re.d=function(ie,ae,oe){re.o(ie,ae)||Object.defineProperty(ie,ae,{enumerable:!0,get:oe})},re.r=function(ie){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ie,"__esModule",{value:!0})},re.t=function(ie,ae){if(ae&1&&(ie=re(ie)),ae&8||ae&4&&typeof ie=="object"&&ie&&ie.__esModule)return ie;var oe=Object.create(null);if(re.r(oe),Object.defineProperty(oe,"default",{enumerable:!0,value:ie}),ae&2&&typeof ie!="string")for(var le in ie)re.d(oe,le,function(he){return ie[he]}.bind(null,le));return oe},re.n=function(ie){var ae=ie&&ie.__esModule?function(){return ie.default}:function(){return ie};return re.d(ae,"a",ae),ae},re.o=function(ie,ae){return Object.prototype.hasOwnProperty.call(ie,ae)},re.p="",re(re.s=21)}([function(te,ee){var re={};te.exports=re,function(){re._nextId=0,re._seed=0,re._nowStartTime=+new Date,re._warnedOnce={},re._decomp=null,re.extend=function(ae,oe){var le,he;typeof oe=="boolean"?(le=2,he=oe):(le=1,he=!0);for(var ue=le;ue<arguments.length;ue++){var pe=arguments[ue];if(pe)for(var ce in pe)he&&pe[ce]&&pe[ce].constructor===Object&&(!ae[ce]||ae[ce].constructor===Object)?(ae[ce]=ae[ce]||{},re.extend(ae[ce],he,pe[ce])):ae[ce]=pe[ce]}return ae},re.clone=function(ae,oe){return re.extend({},oe,ae)},re.keys=function(ae){if(Object.keys)return Object.keys(ae);var oe=[];for(var le in ae)oe.push(le);return oe},re.values=function(ae){var oe=[];if(Object.keys){for(var le=Object.keys(ae),he=0;he<le.length;he++)oe.push(ae[le[he]]);return oe}for(var ue in ae)oe.push(ae[ue]);return oe},re.get=function(ae,oe,le,he){oe=oe.split(".").slice(le,he);for(var ue=0;ue<oe.length;ue+=1)ae=ae[oe[ue]];return ae},re.set=function(ae,oe,le,he,ue){var pe=oe.split(".").slice(he,ue);return re.get(ae,oe,0,-1)[pe[pe.length-1]]=le,le},re.shuffle=function(ae){for(var oe=ae.length-1;oe>0;oe--){var le=Math.floor(re.random()*(oe+1)),he=ae[oe];ae[oe]=ae[le],ae[le]=he}return ae},re.choose=function(ae){return ae[Math.floor(re.random()*ae.length)]},re.isElement=function(ae){return typeof HTMLElement!="undefined"?ae instanceof HTMLElement:!!(ae&&ae.nodeType&&ae.nodeName)},re.isArray=function(ae){return Object.prototype.toString.call(ae)==="[object Array]"},re.isFunction=function(ae){return typeof ae=="function"},re.isPlainObject=function(ae){return typeof ae=="object"&&ae.constructor===Object},re.isString=function(ae){return toString.call(ae)==="[object String]"},re.clamp=function(ae,oe,le){return ae<oe?oe:ae>le?le:ae},re.sign=function(ae){return ae<0?-1:1},re.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-re._nowStartTime},re.random=function(ae,oe){return ae=typeof ae!="undefined"?ae:0,oe=typeof oe!="undefined"?oe:1,ae+ie()*(oe-ae)};var ie=function(){return re._seed=(re._seed*9301+49297)%233280,re._seed/233280};re.colorToNumber=function(ae){return ae=ae.replace("#",""),ae.length==3&&(ae=ae.charAt(0)+ae.charAt(0)+ae.charAt(1)+ae.charAt(1)+ae.charAt(2)+ae.charAt(2)),parseInt(ae,16)},re.logLevel=1,re.log=function(){console&&re.logLevel>0&&re.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},re.info=function(){console&&re.logLevel>0&&re.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},re.warn=function(){console&&re.logLevel>0&&re.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},re.warnOnce=function(){var ae=Array.prototype.slice.call(arguments).join(" ");re._warnedOnce[ae]||(re.warn(ae),re._warnedOnce[ae]=!0)},re.deprecated=function(ae,oe,le){ae[oe]=re.chain(function(){re.warnOnce("\u{1F505} deprecated \u{1F505}",le)},ae[oe])},re.nextId=function(){return re._nextId++},re.indexOf=function(ae,oe){if(ae.indexOf)return ae.indexOf(oe);for(var le=0;le<ae.length;le++)if(ae[le]===oe)return le;return-1},re.map=function(ae,oe){if(ae.map)return ae.map(oe);for(var le=[],he=0;he<ae.length;he+=1)le.push(oe(ae[he]));return le},re.topologicalSort=function(ae){var oe=[],le=[],he=[];for(var ue in ae)!le[ue]&&!he[ue]&&re._topologicalSort(ue,le,he,ae,oe);return oe},re._topologicalSort=function(ae,oe,le,he,ue){var pe=he[ae]||[];le[ae]=!0;for(var ce=0;ce<pe.length;ce+=1){var fe=pe[ce];le[fe]||oe[fe]||re._topologicalSort(fe,oe,le,he,ue)}le[ae]=!1,oe[ae]=!0,ue.push(ae)},re.chain=function(){for(var ae=[],oe=0;oe<arguments.length;oe+=1){var le=arguments[oe];le._chained?ae.push.apply(ae,le._chained):ae.push(le)}var he=function(){for(var ue,pe=new Array(arguments.length),ce=0,fe=arguments.length;ce<fe;ce++)pe[ce]=arguments[ce];for(ce=0;ce<ae.length;ce+=1){var me=ae[ce].apply(ue,pe);typeof me!="undefined"&&(ue=me)}return ue};return he._chained=ae,he},re.chainPathBefore=function(ae,oe,le){return re.set(ae,oe,re.chain(le,re.get(ae,oe)))},re.chainPathAfter=function(ae,oe,le){return re.set(ae,oe,re.chain(re.get(ae,oe),le))},re.setDecomp=function(ae){re._decomp=ae},re.getDecomp=function(){var ae=re._decomp;try{!ae&&typeof window!="undefined"&&(ae=window.decomp),!ae&&typeof commonjsGlobal!="undefined"&&(ae=commonjsGlobal.decomp)}catch{ae=null}return ae}}()},function(te,ee){var re={};te.exports=re,function(){re.create=function(ie){var ae={min:{x:0,y:0},max:{x:0,y:0}};return ie&&re.update(ae,ie),ae},re.update=function(ie,ae,oe){ie.min.x=1/0,ie.max.x=-1/0,ie.min.y=1/0,ie.max.y=-1/0;for(var le=0;le<ae.length;le++){var he=ae[le];he.x>ie.max.x&&(ie.max.x=he.x),he.x<ie.min.x&&(ie.min.x=he.x),he.y>ie.max.y&&(ie.max.y=he.y),he.y<ie.min.y&&(ie.min.y=he.y)}oe&&(oe.x>0?ie.max.x+=oe.x:ie.min.x+=oe.x,oe.y>0?ie.max.y+=oe.y:ie.min.y+=oe.y)},re.contains=function(ie,ae){return ae.x>=ie.min.x&&ae.x<=ie.max.x&&ae.y>=ie.min.y&&ae.y<=ie.max.y},re.overlaps=function(ie,ae){return ie.min.x<=ae.max.x&&ie.max.x>=ae.min.x&&ie.max.y>=ae.min.y&&ie.min.y<=ae.max.y},re.translate=function(ie,ae){ie.min.x+=ae.x,ie.max.x+=ae.x,ie.min.y+=ae.y,ie.max.y+=ae.y},re.shift=function(ie,ae){var oe=ie.max.x-ie.min.x,le=ie.max.y-ie.min.y;ie.min.x=ae.x,ie.max.x=ae.x+oe,ie.min.y=ae.y,ie.max.y=ae.y+le}}()},function(te,ee){var re={};te.exports=re,function(){re.create=function(ie,ae){return{x:ie||0,y:ae||0}},re.clone=function(ie){return{x:ie.x,y:ie.y}},re.magnitude=function(ie){return Math.sqrt(ie.x*ie.x+ie.y*ie.y)},re.magnitudeSquared=function(ie){return ie.x*ie.x+ie.y*ie.y},re.rotate=function(ie,ae,oe){var le=Math.cos(ae),he=Math.sin(ae);oe||(oe={});var ue=ie.x*le-ie.y*he;return oe.y=ie.x*he+ie.y*le,oe.x=ue,oe},re.rotateAbout=function(ie,ae,oe,le){var he=Math.cos(ae),ue=Math.sin(ae);le||(le={});var pe=oe.x+((ie.x-oe.x)*he-(ie.y-oe.y)*ue);return le.y=oe.y+((ie.x-oe.x)*ue+(ie.y-oe.y)*he),le.x=pe,le},re.normalise=function(ie){var ae=re.magnitude(ie);return ae===0?{x:0,y:0}:{x:ie.x/ae,y:ie.y/ae}},re.dot=function(ie,ae){return ie.x*ae.x+ie.y*ae.y},re.cross=function(ie,ae){return ie.x*ae.y-ie.y*ae.x},re.cross3=function(ie,ae,oe){return(ae.x-ie.x)*(oe.y-ie.y)-(ae.y-ie.y)*(oe.x-ie.x)},re.add=function(ie,ae,oe){return oe||(oe={}),oe.x=ie.x+ae.x,oe.y=ie.y+ae.y,oe},re.sub=function(ie,ae,oe){return oe||(oe={}),oe.x=ie.x-ae.x,oe.y=ie.y-ae.y,oe},re.mult=function(ie,ae){return{x:ie.x*ae,y:ie.y*ae}},re.div=function(ie,ae){return{x:ie.x/ae,y:ie.y/ae}},re.perp=function(ie,ae){return ae=ae===!0?-1:1,{x:ae*-ie.y,y:ae*ie.x}},re.neg=function(ie){return{x:-ie.x,y:-ie.y}},re.angle=function(ie,ae){return Math.atan2(ae.y-ie.y,ae.x-ie.x)},re._temp=[re.create(),re.create(),re.create(),re.create(),re.create(),re.create()]}()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(2),oe=re(0);(function(){ie.create=function(le,he){for(var ue=[],pe=0;pe<le.length;pe++){var ce=le[pe],fe={x:ce.x,y:ce.y,index:pe,body:he,isInternal:!1};ue.push(fe)}return ue},ie.fromPath=function(le,he){var ue=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,pe=[];return le.replace(ue,function(ce,fe,me){pe.push({x:parseFloat(fe),y:parseFloat(me)})}),ie.create(pe,he)},ie.centre=function(le){for(var he=ie.area(le,!0),ue={x:0,y:0},pe,ce,fe,me=0;me<le.length;me++)fe=(me+1)%le.length,pe=ae.cross(le[me],le[fe]),ce=ae.mult(ae.add(le[me],le[fe]),pe),ue=ae.add(ue,ce);return ae.div(ue,6*he)},ie.mean=function(le){for(var he={x:0,y:0},ue=0;ue<le.length;ue++)he.x+=le[ue].x,he.y+=le[ue].y;return ae.div(he,le.length)},ie.area=function(le,he){for(var ue=0,pe=le.length-1,ce=0;ce<le.length;ce++)ue+=(le[pe].x-le[ce].x)*(le[pe].y+le[ce].y),pe=ce;return he?ue/2:Math.abs(ue)/2},ie.inertia=function(le,he){for(var ue=0,pe=0,ce=le,fe,me,de=0;de<ce.length;de++)me=(de+1)%ce.length,fe=Math.abs(ae.cross(ce[me],ce[de])),ue+=fe*(ae.dot(ce[me],ce[me])+ae.dot(ce[me],ce[de])+ae.dot(ce[de],ce[de])),pe+=fe;return he/6*(ue/pe)},ie.translate=function(le,he,ue){ue=typeof ue!="undefined"?ue:1;var pe=le.length,ce=he.x*ue,fe=he.y*ue,me;for(me=0;me<pe;me++)le[me].x+=ce,le[me].y+=fe;return le},ie.rotate=function(le,he,ue){if(he!==0){var pe=Math.cos(he),ce=Math.sin(he),fe=ue.x,me=ue.y,de=le.length,ve,ge,xe,_e;for(_e=0;_e<de;_e++)ve=le[_e],ge=ve.x-fe,xe=ve.y-me,ve.x=fe+(ge*pe-xe*ce),ve.y=me+(ge*ce+xe*pe);return le}},ie.contains=function(le,he){for(var ue=he.x,pe=he.y,ce=le.length,fe=le[ce-1],me,de=0;de<ce;de++){if(me=le[de],(ue-fe.x)*(me.y-fe.y)+(pe-fe.y)*(fe.x-me.x)>0)return!1;fe=me}return!0},ie.scale=function(le,he,ue,pe){if(he===1&&ue===1)return le;pe=pe||ie.centre(le);for(var ce,fe,me=0;me<le.length;me++)ce=le[me],fe=ae.sub(ce,pe),le[me].x=pe.x+fe.x*he,le[me].y=pe.y+fe.y*ue;return le},ie.chamfer=function(le,he,ue,pe,ce){typeof he=="number"?he=[he]:he=he||[8],ue=typeof ue!="undefined"?ue:-1,pe=pe||2,ce=ce||14;for(var fe=[],me=0;me<le.length;me++){var de=le[me-1>=0?me-1:le.length-1],ve=le[me],ge=le[(me+1)%le.length],xe=he[me<he.length?me:he.length-1];if(xe===0){fe.push(ve);continue}var _e=ae.normalise({x:ve.y-de.y,y:de.x-ve.x}),ye=ae.normalise({x:ge.y-ve.y,y:ve.x-ge.x}),we=Math.sqrt(2*Math.pow(xe,2)),be=ae.mult(oe.clone(_e),xe),Se=ae.normalise(ae.mult(ae.add(_e,ye),.5)),Ce=ae.sub(ve,ae.mult(Se,we)),Te=ue;ue===-1&&(Te=Math.pow(xe,.32)*1.75),Te=oe.clamp(Te,pe,ce),Te%2===1&&(Te+=1);for(var De=Math.acos(ae.dot(_e,ye)),Fe=De/Te,Le=0;Le<Te;Le++)fe.push(ae.add(ae.rotate(be,Fe*Le),Ce))}return fe},ie.clockwiseSort=function(le){var he=ie.mean(le);return le.sort(function(ue,pe){return ae.angle(he,ue)-ae.angle(he,pe)}),le},ie.isConvex=function(le){var he=0,ue=le.length,pe,ce,fe,me;if(ue<3)return null;for(pe=0;pe<ue;pe++)if(ce=(pe+1)%ue,fe=(pe+2)%ue,me=(le[ce].x-le[pe].x)*(le[fe].y-le[ce].y),me-=(le[ce].y-le[pe].y)*(le[fe].x-le[ce].x),me<0?he|=1:me>0&&(he|=2),he===3)return!1;return he!==0?!0:null},ie.hull=function(le){var he=[],ue=[],pe,ce;for(le=le.slice(0),le.sort(function(fe,me){var de=fe.x-me.x;return de!==0?de:fe.y-me.y}),ce=0;ce<le.length;ce+=1){for(pe=le[ce];ue.length>=2&&ae.cross3(ue[ue.length-2],ue[ue.length-1],pe)<=0;)ue.pop();ue.push(pe)}for(ce=le.length-1;ce>=0;ce-=1){for(pe=le[ce];he.length>=2&&ae.cross3(he[he.length-2],he[he.length-1],pe)<=0;)he.pop();he.push(pe)}return he.pop(),ue.pop(),he.concat(ue)}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(0);(function(){ie.on=function(oe,le,he){for(var ue=le.split(" "),pe,ce=0;ce<ue.length;ce++)pe=ue[ce],oe.events=oe.events||{},oe.events[pe]=oe.events[pe]||[],oe.events[pe].push(he);return he},ie.off=function(oe,le,he){if(!le){oe.events={};return}typeof le=="function"&&(he=le,le=ae.keys(oe.events).join(" "));for(var ue=le.split(" "),pe=0;pe<ue.length;pe++){var ce=oe.events[ue[pe]],fe=[];if(he&&ce)for(var me=0;me<ce.length;me++)ce[me]!==he&&fe.push(ce[me]);oe.events[ue[pe]]=fe}},ie.trigger=function(oe,le,he){var ue,pe,ce,fe,me=oe.events;if(me&&ae.keys(me).length>0){he||(he={}),ue=le.split(" ");for(var de=0;de<ue.length;de++)if(pe=ue[de],ce=me[pe],ce){fe=ae.clone(he,!1),fe.name=pe,fe.source=oe;for(var ve=0;ve<ce.length;ve++)ce[ve].apply(oe,[fe])}}}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(4),oe=re(0),le=re(1),he=re(6);(function(){ie.create=function(ue){return oe.extend({id:oe.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},ue)},ie.setModified=function(ue,pe,ce,fe){if(ue.isModified=pe,pe&&ue.cache&&(ue.cache.allBodies=null,ue.cache.allConstraints=null,ue.cache.allComposites=null),ce&&ue.parent&&ie.setModified(ue.parent,pe,ce,fe),fe)for(var me=0;me<ue.composites.length;me++){var de=ue.composites[me];ie.setModified(de,pe,ce,fe)}},ie.add=function(ue,pe){var ce=[].concat(pe);ae.trigger(ue,"beforeAdd",{object:pe});for(var fe=0;fe<ce.length;fe++){var me=ce[fe];switch(me.type){case"body":if(me.parent!==me){oe.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}ie.addBody(ue,me);break;case"constraint":ie.addConstraint(ue,me);break;case"composite":ie.addComposite(ue,me);break;case"mouseConstraint":ie.addConstraint(ue,me.constraint);break}}return ae.trigger(ue,"afterAdd",{object:pe}),ue},ie.remove=function(ue,pe,ce){var fe=[].concat(pe);ae.trigger(ue,"beforeRemove",{object:pe});for(var me=0;me<fe.length;me++){var de=fe[me];switch(de.type){case"body":ie.removeBody(ue,de,ce);break;case"constraint":ie.removeConstraint(ue,de,ce);break;case"composite":ie.removeComposite(ue,de,ce);break;case"mouseConstraint":ie.removeConstraint(ue,de.constraint);break}}return ae.trigger(ue,"afterRemove",{object:pe}),ue},ie.addComposite=function(ue,pe){return ue.composites.push(pe),pe.parent=ue,ie.setModified(ue,!0,!0,!1),ue},ie.removeComposite=function(ue,pe,ce){var fe=oe.indexOf(ue.composites,pe);if(fe!==-1&&ie.removeCompositeAt(ue,fe),ce)for(var me=0;me<ue.composites.length;me++)ie.removeComposite(ue.composites[me],pe,!0);return ue},ie.removeCompositeAt=function(ue,pe){return ue.composites.splice(pe,1),ie.setModified(ue,!0,!0,!1),ue},ie.addBody=function(ue,pe){return ue.bodies.push(pe),ie.setModified(ue,!0,!0,!1),ue},ie.removeBody=function(ue,pe,ce){var fe=oe.indexOf(ue.bodies,pe);if(fe!==-1&&ie.removeBodyAt(ue,fe),ce)for(var me=0;me<ue.composites.length;me++)ie.removeBody(ue.composites[me],pe,!0);return ue},ie.removeBodyAt=function(ue,pe){return ue.bodies.splice(pe,1),ie.setModified(ue,!0,!0,!1),ue},ie.addConstraint=function(ue,pe){return ue.constraints.push(pe),ie.setModified(ue,!0,!0,!1),ue},ie.removeConstraint=function(ue,pe,ce){var fe=oe.indexOf(ue.constraints,pe);if(fe!==-1&&ie.removeConstraintAt(ue,fe),ce)for(var me=0;me<ue.composites.length;me++)ie.removeConstraint(ue.composites[me],pe,!0);return ue},ie.removeConstraintAt=function(ue,pe){return ue.constraints.splice(pe,1),ie.setModified(ue,!0,!0,!1),ue},ie.clear=function(ue,pe,ce){if(ce)for(var fe=0;fe<ue.composites.length;fe++)ie.clear(ue.composites[fe],pe,!0);return pe?ue.bodies=ue.bodies.filter(function(me){return me.isStatic}):ue.bodies.length=0,ue.constraints.length=0,ue.composites.length=0,ie.setModified(ue,!0,!0,!1),ue},ie.allBodies=function(ue){if(ue.cache&&ue.cache.allBodies)return ue.cache.allBodies;for(var pe=[].concat(ue.bodies),ce=0;ce<ue.composites.length;ce++)pe=pe.concat(ie.allBodies(ue.composites[ce]));return ue.cache&&(ue.cache.allBodies=pe),pe},ie.allConstraints=function(ue){if(ue.cache&&ue.cache.allConstraints)return ue.cache.allConstraints;for(var pe=[].concat(ue.constraints),ce=0;ce<ue.composites.length;ce++)pe=pe.concat(ie.allConstraints(ue.composites[ce]));return ue.cache&&(ue.cache.allConstraints=pe),pe},ie.allComposites=function(ue){if(ue.cache&&ue.cache.allComposites)return ue.cache.allComposites;for(var pe=[].concat(ue.composites),ce=0;ce<ue.composites.length;ce++)pe=pe.concat(ie.allComposites(ue.composites[ce]));return ue.cache&&(ue.cache.allComposites=pe),pe},ie.get=function(ue,pe,ce){var fe,me;switch(ce){case"body":fe=ie.allBodies(ue);break;case"constraint":fe=ie.allConstraints(ue);break;case"composite":fe=ie.allComposites(ue).concat(ue);break}return fe?(me=fe.filter(function(de){return de.id.toString()===pe.toString()}),me.length===0?null:me[0]):null},ie.move=function(ue,pe,ce){return ie.remove(ue,pe),ie.add(ce,pe),ue},ie.rebase=function(ue){for(var pe=ie.allBodies(ue).concat(ie.allConstraints(ue)).concat(ie.allComposites(ue)),ce=0;ce<pe.length;ce++)pe[ce].id=oe.nextId();return ue},ie.translate=function(ue,pe,ce){for(var fe=ce?ie.allBodies(ue):ue.bodies,me=0;me<fe.length;me++)he.translate(fe[me],pe);return ue},ie.rotate=function(ue,pe,ce,fe){for(var me=Math.cos(pe),de=Math.sin(pe),ve=fe?ie.allBodies(ue):ue.bodies,ge=0;ge<ve.length;ge++){var xe=ve[ge],_e=xe.position.x-ce.x,ye=xe.position.y-ce.y;he.setPosition(xe,{x:ce.x+(_e*me-ye*de),y:ce.y+(_e*de+ye*me)}),he.rotate(xe,pe)}return ue},ie.scale=function(ue,pe,ce,fe,me){for(var de=me?ie.allBodies(ue):ue.bodies,ve=0;ve<de.length;ve++){var ge=de[ve],xe=ge.position.x-fe.x,_e=ge.position.y-fe.y;he.setPosition(ge,{x:fe.x+xe*pe,y:fe.y+_e*ce}),he.scale(ge,pe,ce)}return ue},ie.bounds=function(ue){for(var pe=ie.allBodies(ue),ce=[],fe=0;fe<pe.length;fe+=1){var me=pe[fe];ce.push(me.bounds.min,me.bounds.max)}return le.create(ce)}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(3),oe=re(2),le=re(7);re(16);var he=re(0),ue=re(1),pe=re(11);(function(){ie._inertiaScale=4,ie._nextCollidingGroupId=1,ie._nextNonCollidingGroupId=-1,ie._nextCategory=1,ie.create=function(fe){var me={id:he.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:ae.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},de=he.extend(me,fe);return ce(de,fe),de},ie.nextGroup=function(fe){return fe?ie._nextNonCollidingGroupId--:ie._nextCollidingGroupId++},ie.nextCategory=function(){return ie._nextCategory=ie._nextCategory<<1,ie._nextCategory};var ce=function(fe,me){me=me||{},ie.set(fe,{bounds:fe.bounds||ue.create(fe.vertices),positionPrev:fe.positionPrev||oe.clone(fe.position),anglePrev:fe.anglePrev||fe.angle,vertices:fe.vertices,parts:fe.parts||[fe],isStatic:fe.isStatic,isSleeping:fe.isSleeping,parent:fe.parent||fe}),ae.rotate(fe.vertices,fe.angle,fe.position),pe.rotate(fe.axes,fe.angle),ue.update(fe.bounds,fe.vertices,fe.velocity),ie.set(fe,{axes:me.axes||fe.axes,area:me.area||fe.area,mass:me.mass||fe.mass,inertia:me.inertia||fe.inertia});var de=fe.isStatic?"#14151f":he.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),ve=fe.isStatic?"#555":"#ccc",ge=fe.isStatic&&fe.render.fillStyle===null?1:0;fe.render.fillStyle=fe.render.fillStyle||de,fe.render.strokeStyle=fe.render.strokeStyle||ve,fe.render.lineWidth=fe.render.lineWidth||ge,fe.render.sprite.xOffset+=-(fe.bounds.min.x-fe.position.x)/(fe.bounds.max.x-fe.bounds.min.x),fe.render.sprite.yOffset+=-(fe.bounds.min.y-fe.position.y)/(fe.bounds.max.y-fe.bounds.min.y)};ie.set=function(fe,me,de){var ve;typeof me=="string"&&(ve=me,me={},me[ve]=de);for(ve in me)if(!!Object.prototype.hasOwnProperty.call(me,ve))switch(de=me[ve],ve){case"isStatic":ie.setStatic(fe,de);break;case"isSleeping":le.set(fe,de);break;case"mass":ie.setMass(fe,de);break;case"density":ie.setDensity(fe,de);break;case"inertia":ie.setInertia(fe,de);break;case"vertices":ie.setVertices(fe,de);break;case"position":ie.setPosition(fe,de);break;case"angle":ie.setAngle(fe,de);break;case"velocity":ie.setVelocity(fe,de);break;case"angularVelocity":ie.setAngularVelocity(fe,de);break;case"parts":ie.setParts(fe,de);break;case"centre":ie.setCentre(fe,de);break;default:fe[ve]=de}},ie.setStatic=function(fe,me){for(var de=0;de<fe.parts.length;de++){var ve=fe.parts[de];ve.isStatic=me,me?(ve._original={restitution:ve.restitution,friction:ve.friction,mass:ve.mass,inertia:ve.inertia,density:ve.density,inverseMass:ve.inverseMass,inverseInertia:ve.inverseInertia},ve.restitution=0,ve.friction=1,ve.mass=ve.inertia=ve.density=1/0,ve.inverseMass=ve.inverseInertia=0,ve.positionPrev.x=ve.position.x,ve.positionPrev.y=ve.position.y,ve.anglePrev=ve.angle,ve.angularVelocity=0,ve.speed=0,ve.angularSpeed=0,ve.motion=0):ve._original&&(ve.restitution=ve._original.restitution,ve.friction=ve._original.friction,ve.mass=ve._original.mass,ve.inertia=ve._original.inertia,ve.density=ve._original.density,ve.inverseMass=ve._original.inverseMass,ve.inverseInertia=ve._original.inverseInertia,ve._original=null)}},ie.setMass=function(fe,me){var de=fe.inertia/(fe.mass/6);fe.inertia=de*(me/6),fe.inverseInertia=1/fe.inertia,fe.mass=me,fe.inverseMass=1/fe.mass,fe.density=fe.mass/fe.area},ie.setDensity=function(fe,me){ie.setMass(fe,me*fe.area),fe.density=me},ie.setInertia=function(fe,me){fe.inertia=me,fe.inverseInertia=1/fe.inertia},ie.setVertices=function(fe,me){me[0].body===fe?fe.vertices=me:fe.vertices=ae.create(me,fe),fe.axes=pe.fromVertices(fe.vertices),fe.area=ae.area(fe.vertices),ie.setMass(fe,fe.density*fe.area);var de=ae.centre(fe.vertices);ae.translate(fe.vertices,de,-1),ie.setInertia(fe,ie._inertiaScale*ae.inertia(fe.vertices,fe.mass)),ae.translate(fe.vertices,fe.position),ue.update(fe.bounds,fe.vertices,fe.velocity)},ie.setParts=function(fe,me,de){var ve;for(me=me.slice(0),fe.parts.length=0,fe.parts.push(fe),fe.parent=fe,ve=0;ve<me.length;ve++){var ge=me[ve];ge!==fe&&(ge.parent=fe,fe.parts.push(ge))}if(fe.parts.length!==1){if(de=typeof de!="undefined"?de:!0,de){var xe=[];for(ve=0;ve<me.length;ve++)xe=xe.concat(me[ve].vertices);ae.clockwiseSort(xe);var _e=ae.hull(xe),ye=ae.centre(_e);ie.setVertices(fe,_e),ae.translate(fe.vertices,ye)}var we=ie._totalProperties(fe);fe.area=we.area,fe.parent=fe,fe.position.x=we.centre.x,fe.position.y=we.centre.y,fe.positionPrev.x=we.centre.x,fe.positionPrev.y=we.centre.y,ie.setMass(fe,we.mass),ie.setInertia(fe,we.inertia),ie.setPosition(fe,we.centre)}},ie.setCentre=function(fe,me,de){de?(fe.positionPrev.x+=me.x,fe.positionPrev.y+=me.y,fe.position.x+=me.x,fe.position.y+=me.y):(fe.positionPrev.x=me.x-(fe.position.x-fe.positionPrev.x),fe.positionPrev.y=me.y-(fe.position.y-fe.positionPrev.y),fe.position.x=me.x,fe.position.y=me.y)},ie.setPosition=function(fe,me){var de=oe.sub(me,fe.position);fe.positionPrev.x+=de.x,fe.positionPrev.y+=de.y;for(var ve=0;ve<fe.parts.length;ve++){var ge=fe.parts[ve];ge.position.x+=de.x,ge.position.y+=de.y,ae.translate(ge.vertices,de),ue.update(ge.bounds,ge.vertices,fe.velocity)}},ie.setAngle=function(fe,me){var de=me-fe.angle;fe.anglePrev+=de;for(var ve=0;ve<fe.parts.length;ve++){var ge=fe.parts[ve];ge.angle+=de,ae.rotate(ge.vertices,de,fe.position),pe.rotate(ge.axes,de),ue.update(ge.bounds,ge.vertices,fe.velocity),ve>0&&oe.rotateAbout(ge.position,de,fe.position,ge.position)}},ie.setVelocity=function(fe,me){fe.positionPrev.x=fe.position.x-me.x,fe.positionPrev.y=fe.position.y-me.y,fe.velocity.x=me.x,fe.velocity.y=me.y,fe.speed=oe.magnitude(fe.velocity)},ie.setAngularVelocity=function(fe,me){fe.anglePrev=fe.angle-me,fe.angularVelocity=me,fe.angularSpeed=Math.abs(fe.angularVelocity)},ie.translate=function(fe,me){ie.setPosition(fe,oe.add(fe.position,me))},ie.rotate=function(fe,me,de){if(!de)ie.setAngle(fe,fe.angle+me);else{var ve=Math.cos(me),ge=Math.sin(me),xe=fe.position.x-de.x,_e=fe.position.y-de.y;ie.setPosition(fe,{x:de.x+(xe*ve-_e*ge),y:de.y+(xe*ge+_e*ve)}),ie.setAngle(fe,fe.angle+me)}},ie.scale=function(fe,me,de,ve){var ge=0,xe=0;ve=ve||fe.position;for(var _e=0;_e<fe.parts.length;_e++){var ye=fe.parts[_e];ae.scale(ye.vertices,me,de,ve),ye.axes=pe.fromVertices(ye.vertices),ye.area=ae.area(ye.vertices),ie.setMass(ye,fe.density*ye.area),ae.translate(ye.vertices,{x:-ye.position.x,y:-ye.position.y}),ie.setInertia(ye,ie._inertiaScale*ae.inertia(ye.vertices,ye.mass)),ae.translate(ye.vertices,{x:ye.position.x,y:ye.position.y}),_e>0&&(ge+=ye.area,xe+=ye.inertia),ye.position.x=ve.x+(ye.position.x-ve.x)*me,ye.position.y=ve.y+(ye.position.y-ve.y)*de,ue.update(ye.bounds,ye.vertices,fe.velocity)}fe.parts.length>1&&(fe.area=ge,fe.isStatic||(ie.setMass(fe,fe.density*ge),ie.setInertia(fe,xe))),fe.circleRadius&&(me===de?fe.circleRadius*=me:fe.circleRadius=null)},ie.update=function(fe,me,de,ve){var ge=Math.pow(me*de*fe.timeScale,2),xe=1-fe.frictionAir*de*fe.timeScale,_e=fe.position.x-fe.positionPrev.x,ye=fe.position.y-fe.positionPrev.y;fe.velocity.x=_e*xe*ve+fe.force.x/fe.mass*ge,fe.velocity.y=ye*xe*ve+fe.force.y/fe.mass*ge,fe.positionPrev.x=fe.position.x,fe.positionPrev.y=fe.position.y,fe.position.x+=fe.velocity.x,fe.position.y+=fe.velocity.y,fe.angularVelocity=(fe.angle-fe.anglePrev)*xe*ve+fe.torque/fe.inertia*ge,fe.anglePrev=fe.angle,fe.angle+=fe.angularVelocity,fe.speed=oe.magnitude(fe.velocity),fe.angularSpeed=Math.abs(fe.angularVelocity);for(var we=0;we<fe.parts.length;we++){var be=fe.parts[we];ae.translate(be.vertices,fe.velocity),we>0&&(be.position.x+=fe.velocity.x,be.position.y+=fe.velocity.y),fe.angularVelocity!==0&&(ae.rotate(be.vertices,fe.angularVelocity,fe.position),pe.rotate(be.axes,fe.angularVelocity),we>0&&oe.rotateAbout(be.position,fe.angularVelocity,fe.position,be.position)),ue.update(be.bounds,be.vertices,fe.velocity)}},ie.applyForce=function(fe,me,de){fe.force.x+=de.x,fe.force.y+=de.y;var ve={x:me.x-fe.position.x,y:me.y-fe.position.y};fe.torque+=ve.x*de.y-ve.y*de.x},ie._totalProperties=function(fe){for(var me={mass:0,area:0,inertia:0,centre:{x:0,y:0}},de=fe.parts.length===1?0:1;de<fe.parts.length;de++){var ve=fe.parts[de],ge=ve.mass!==1/0?ve.mass:1;me.mass+=ge,me.area+=ve.area,me.inertia+=ve.inertia,me.centre=oe.add(me.centre,oe.mult(ve.position,ge))}return me.centre=oe.div(me.centre,me.mass),me}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(4);(function(){ie._motionWakeThreshold=.18,ie._motionSleepThreshold=.08,ie._minBias=.9,ie.update=function(oe,le){for(var he=le*le*le,ue=0;ue<oe.length;ue++){var pe=oe[ue],ce=pe.speed*pe.speed+pe.angularSpeed*pe.angularSpeed;if(pe.force.x!==0||pe.force.y!==0){ie.set(pe,!1);continue}var fe=Math.min(pe.motion,ce),me=Math.max(pe.motion,ce);pe.motion=ie._minBias*fe+(1-ie._minBias)*me,pe.sleepThreshold>0&&pe.motion<ie._motionSleepThreshold*he?(pe.sleepCounter+=1,pe.sleepCounter>=pe.sleepThreshold&&ie.set(pe,!0)):pe.sleepCounter>0&&(pe.sleepCounter-=1)}},ie.afterCollisions=function(oe,le){for(var he=le*le*le,ue=0;ue<oe.length;ue++){var pe=oe[ue];if(!!pe.isActive){var ce=pe.collision,fe=ce.bodyA.parent,me=ce.bodyB.parent;if(!(fe.isSleeping&&me.isSleeping||fe.isStatic||me.isStatic)&&(fe.isSleeping||me.isSleeping)){var de=fe.isSleeping&&!fe.isStatic?fe:me,ve=de===fe?me:fe;!de.isStatic&&ve.motion>ie._motionWakeThreshold*he&&ie.set(de,!1)}}}},ie.set=function(oe,le){var he=oe.isSleeping;le?(oe.isSleeping=!0,oe.sleepCounter=oe.sleepThreshold,oe.positionImpulse.x=0,oe.positionImpulse.y=0,oe.positionPrev.x=oe.position.x,oe.positionPrev.y=oe.position.y,oe.anglePrev=oe.angle,oe.speed=0,oe.angularSpeed=0,oe.motion=0,he||ae.trigger(oe,"sleepStart")):(oe.isSleeping=!1,oe.sleepCounter=0,he&&ae.trigger(oe,"sleepEnd"))}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(3),oe=re(9);(function(){var le=[],he={overlap:0,axis:null},ue={overlap:0,axis:null};ie.create=function(pe,ce){return{pair:null,collided:!1,bodyA:pe,bodyB:ce,parentA:pe.parent,parentB:ce.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},ie.collides=function(pe,ce,fe){if(ie._overlapAxes(he,pe.vertices,ce.vertices,pe.axes),he.overlap<=0||(ie._overlapAxes(ue,ce.vertices,pe.vertices,ce.axes),ue.overlap<=0))return null;var me=fe&&fe.table[oe.id(pe,ce)],de;me?de=me.collision:(de=ie.create(pe,ce),de.collided=!0,de.bodyA=pe.id<ce.id?pe:ce,de.bodyB=pe.id<ce.id?ce:pe,de.parentA=de.bodyA.parent,de.parentB=de.bodyB.parent),pe=de.bodyA,ce=de.bodyB;var ve;he.overlap<ue.overlap?ve=he:ve=ue;var ge=de.normal,xe=de.supports,_e=ve.axis,ye=_e.x,we=_e.y;ye*(ce.position.x-pe.position.x)+we*(ce.position.y-pe.position.y)<0?(ge.x=ye,ge.y=we):(ge.x=-ye,ge.y=-we),de.tangent.x=-ge.y,de.tangent.y=ge.x,de.depth=ve.overlap,de.penetration.x=ge.x*de.depth,de.penetration.y=ge.y*de.depth;var be=ie._findSupports(pe,ce,ge,1),Se=0;if(ae.contains(pe.vertices,be[0])&&(xe[Se++]=be[0]),ae.contains(pe.vertices,be[1])&&(xe[Se++]=be[1]),Se<2){var Ce=ie._findSupports(ce,pe,ge,-1);ae.contains(ce.vertices,Ce[0])&&(xe[Se++]=Ce[0]),Se<2&&ae.contains(ce.vertices,Ce[1])&&(xe[Se++]=Ce[1])}return Se===0&&(xe[Se++]=be[0]),xe.length=Se,de},ie._overlapAxes=function(pe,ce,fe,me){var de=ce.length,ve=fe.length,ge=ce[0].x,xe=ce[0].y,_e=fe[0].x,ye=fe[0].y,we=me.length,be=Number.MAX_VALUE,Se=0,Ce,Te,De,Fe,Le,Ie;for(Le=0;Le<we;Le++){var Oe=me[Le],ke=Oe.x,Pe=Oe.y,Me=ge*ke+xe*Pe,Ee=_e*ke+ye*Pe,Ae=Me,Re=Ee;for(Ie=1;Ie<de;Ie+=1)Fe=ce[Ie].x*ke+ce[Ie].y*Pe,Fe>Ae?Ae=Fe:Fe<Me&&(Me=Fe);for(Ie=1;Ie<ve;Ie+=1)Fe=fe[Ie].x*ke+fe[Ie].y*Pe,Fe>Re?Re=Fe:Fe<Ee&&(Ee=Fe);if(Te=Ae-Ee,De=Re-Me,Ce=Te<De?Te:De,Ce<be&&(be=Ce,Se=Le,Ce<=0))break}pe.axis=me[Se],pe.overlap=be},ie._projectToAxis=function(pe,ce,fe){for(var me=ce[0].x*fe.x+ce[0].y*fe.y,de=me,ve=1;ve<ce.length;ve+=1){var ge=ce[ve].x*fe.x+ce[ve].y*fe.y;ge>de?de=ge:ge<me&&(me=ge)}pe.min=me,pe.max=de},ie._findSupports=function(pe,ce,fe,me){var de=ce.vertices,ve=de.length,ge=pe.position.x,xe=pe.position.y,_e=fe.x*me,ye=fe.y*me,we=Number.MAX_VALUE,be,Se,Ce,Te,De;for(De=0;De<ve;De+=1)Se=de[De],Te=_e*(ge-Se.x)+ye*(xe-Se.y),Te<we&&(we=Te,be=Se);return Ce=de[(ve+be.index-1)%ve],we=_e*(ge-Ce.x)+ye*(xe-Ce.y),Se=de[(be.index+1)%ve],_e*(ge-Se.x)+ye*(xe-Se.y)<we?(le[0]=be,le[1]=Se,le):(le[0]=be,le[1]=Ce,le)}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(17);(function(){ie.create=function(oe,le){var he=oe.bodyA,ue=oe.bodyB,pe={id:ie.id(he,ue),bodyA:he,bodyB:ue,collision:oe,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:he.isSensor||ue.isSensor,timeCreated:le,timeUpdated:le,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return ie.update(pe,oe,le),pe},ie.update=function(oe,le,he){var ue=oe.contacts,pe=le.supports,ce=oe.activeContacts,fe=le.parentA,me=le.parentB,de=fe.vertices.length;oe.isActive=!0,oe.timeUpdated=he,oe.collision=le,oe.separation=le.depth,oe.inverseMass=fe.inverseMass+me.inverseMass,oe.friction=fe.friction<me.friction?fe.friction:me.friction,oe.frictionStatic=fe.frictionStatic>me.frictionStatic?fe.frictionStatic:me.frictionStatic,oe.restitution=fe.restitution>me.restitution?fe.restitution:me.restitution,oe.slop=fe.slop>me.slop?fe.slop:me.slop,le.pair=oe,ce.length=0;for(var ve=0;ve<pe.length;ve++){var ge=pe[ve],xe=ge.body===fe?ge.index:de+ge.index,_e=ue[xe];_e?ce.push(_e):ce.push(ue[xe]=ae.create(ge))}},ie.setActive=function(oe,le,he){le?(oe.isActive=!0,oe.timeUpdated=he):(oe.isActive=!1,oe.activeContacts.length=0)},ie.id=function(oe,le){return oe.id<le.id?"A"+oe.id+"B"+le.id:"A"+le.id+"B"+oe.id}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(3),oe=re(2),le=re(7),he=re(1),ue=re(11),pe=re(0);(function(){ie._warming=.4,ie._torqueDampen=1,ie._minLength=1e-6,ie.create=function(ce){var fe=ce;fe.bodyA&&!fe.pointA&&(fe.pointA={x:0,y:0}),fe.bodyB&&!fe.pointB&&(fe.pointB={x:0,y:0});var me=fe.bodyA?oe.add(fe.bodyA.position,fe.pointA):fe.pointA,de=fe.bodyB?oe.add(fe.bodyB.position,fe.pointB):fe.pointB,ve=oe.magnitude(oe.sub(me,de));fe.length=typeof fe.length!="undefined"?fe.length:ve,fe.id=fe.id||pe.nextId(),fe.label=fe.label||"Constraint",fe.type="constraint",fe.stiffness=fe.stiffness||(fe.length>0?1:.7),fe.damping=fe.damping||0,fe.angularStiffness=fe.angularStiffness||0,fe.angleA=fe.bodyA?fe.bodyA.angle:fe.angleA,fe.angleB=fe.bodyB?fe.bodyB.angle:fe.angleB,fe.plugin={};var ge={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return fe.length===0&&fe.stiffness>.1?(ge.type="pin",ge.anchors=!1):fe.stiffness<.9&&(ge.type="spring"),fe.render=pe.extend(ge,fe.render),fe},ie.preSolveAll=function(ce){for(var fe=0;fe<ce.length;fe+=1){var me=ce[fe],de=me.constraintImpulse;me.isStatic||de.x===0&&de.y===0&&de.angle===0||(me.position.x+=de.x,me.position.y+=de.y,me.angle+=de.angle)}},ie.solveAll=function(ce,fe){for(var me=0;me<ce.length;me+=1){var de=ce[me],ve=!de.bodyA||de.bodyA&&de.bodyA.isStatic,ge=!de.bodyB||de.bodyB&&de.bodyB.isStatic;(ve||ge)&&ie.solve(ce[me],fe)}for(me=0;me<ce.length;me+=1)de=ce[me],ve=!de.bodyA||de.bodyA&&de.bodyA.isStatic,ge=!de.bodyB||de.bodyB&&de.bodyB.isStatic,!ve&&!ge&&ie.solve(ce[me],fe)},ie.solve=function(ce,fe){var me=ce.bodyA,de=ce.bodyB,ve=ce.pointA,ge=ce.pointB;if(!(!me&&!de)){me&&!me.isStatic&&(oe.rotate(ve,me.angle-ce.angleA,ve),ce.angleA=me.angle),de&&!de.isStatic&&(oe.rotate(ge,de.angle-ce.angleB,ge),ce.angleB=de.angle);var xe=ve,_e=ge;if(me&&(xe=oe.add(me.position,ve)),de&&(_e=oe.add(de.position,ge)),!(!xe||!_e)){var ye=oe.sub(xe,_e),we=oe.magnitude(ye);we<ie._minLength&&(we=ie._minLength);var be=(we-ce.length)/we,Se=ce.stiffness<1?ce.stiffness*fe:ce.stiffness,Ce=oe.mult(ye,be*Se),Te=(me?me.inverseMass:0)+(de?de.inverseMass:0),De=(me?me.inverseInertia:0)+(de?de.inverseInertia:0),Fe=Te+De,Le,Ie,Oe,ke,Pe;if(ce.damping){var Me=oe.create();Oe=oe.div(ye,we),Pe=oe.sub(de&&oe.sub(de.position,de.positionPrev)||Me,me&&oe.sub(me.position,me.positionPrev)||Me),ke=oe.dot(Oe,Pe)}me&&!me.isStatic&&(Ie=me.inverseMass/Te,me.constraintImpulse.x-=Ce.x*Ie,me.constraintImpulse.y-=Ce.y*Ie,me.position.x-=Ce.x*Ie,me.position.y-=Ce.y*Ie,ce.damping&&(me.positionPrev.x-=ce.damping*Oe.x*ke*Ie,me.positionPrev.y-=ce.damping*Oe.y*ke*Ie),Le=oe.cross(ve,Ce)/Fe*ie._torqueDampen*me.inverseInertia*(1-ce.angularStiffness),me.constraintImpulse.angle-=Le,me.angle-=Le),de&&!de.isStatic&&(Ie=de.inverseMass/Te,de.constraintImpulse.x+=Ce.x*Ie,de.constraintImpulse.y+=Ce.y*Ie,de.position.x+=Ce.x*Ie,de.position.y+=Ce.y*Ie,ce.damping&&(de.positionPrev.x+=ce.damping*Oe.x*ke*Ie,de.positionPrev.y+=ce.damping*Oe.y*ke*Ie),Le=oe.cross(ge,Ce)/Fe*ie._torqueDampen*de.inverseInertia*(1-ce.angularStiffness),de.constraintImpulse.angle+=Le,de.angle+=Le)}}},ie.postSolveAll=function(ce){for(var fe=0;fe<ce.length;fe++){var me=ce[fe],de=me.constraintImpulse;if(!(me.isStatic||de.x===0&&de.y===0&&de.angle===0)){le.set(me,!1);for(var ve=0;ve<me.parts.length;ve++){var ge=me.parts[ve];ae.translate(ge.vertices,de),ve>0&&(ge.position.x+=de.x,ge.position.y+=de.y),de.angle!==0&&(ae.rotate(ge.vertices,de.angle,me.position),ue.rotate(ge.axes,de.angle),ve>0&&oe.rotateAbout(ge.position,de.angle,me.position,ge.position)),he.update(ge.bounds,ge.vertices,me.velocity)}de.angle*=ie._warming,de.x*=ie._warming,de.y*=ie._warming}}},ie.pointAWorld=function(ce){return{x:(ce.bodyA?ce.bodyA.position.x:0)+ce.pointA.x,y:(ce.bodyA?ce.bodyA.position.y:0)+ce.pointA.y}},ie.pointBWorld=function(ce){return{x:(ce.bodyB?ce.bodyB.position.x:0)+ce.pointB.x,y:(ce.bodyB?ce.bodyB.position.y:0)+ce.pointB.y}}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(2),oe=re(0);(function(){ie.fromVertices=function(le){for(var he={},ue=0;ue<le.length;ue++){var pe=(ue+1)%le.length,ce=ae.normalise({x:le[pe].y-le[ue].y,y:le[ue].x-le[pe].x}),fe=ce.y===0?1/0:ce.x/ce.y;fe=fe.toFixed(3).toString(),he[fe]=ce}return oe.values(he)},ie.rotate=function(le,he){if(he!==0)for(var ue=Math.cos(he),pe=Math.sin(he),ce=0;ce<le.length;ce++){var fe=le[ce],me;me=fe.x*ue-fe.y*pe,fe.y=fe.x*pe+fe.y*ue,fe.x=me}}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(3),oe=re(0),le=re(6),he=re(1),ue=re(2);(function(){ie.rectangle=function(pe,ce,fe,me,de){de=de||{};var ve={label:"Rectangle Body",position:{x:pe,y:ce},vertices:ae.fromPath("L 0 0 L "+fe+" 0 L "+fe+" "+me+" L 0 "+me)};if(de.chamfer){var ge=de.chamfer;ve.vertices=ae.chamfer(ve.vertices,ge.radius,ge.quality,ge.qualityMin,ge.qualityMax),delete de.chamfer}return le.create(oe.extend({},ve,de))},ie.trapezoid=function(pe,ce,fe,me,de,ve){ve=ve||{},de*=.5;var ge=(1-de*2)*fe,xe=fe*de,_e=xe+ge,ye=_e+xe,we;de<.5?we="L 0 0 L "+xe+" "+-me+" L "+_e+" "+-me+" L "+ye+" 0":we="L 0 0 L "+_e+" "+-me+" L "+ye+" 0";var be={label:"Trapezoid Body",position:{x:pe,y:ce},vertices:ae.fromPath(we)};if(ve.chamfer){var Se=ve.chamfer;be.vertices=ae.chamfer(be.vertices,Se.radius,Se.quality,Se.qualityMin,Se.qualityMax),delete ve.chamfer}return le.create(oe.extend({},be,ve))},ie.circle=function(pe,ce,fe,me,de){me=me||{};var ve={label:"Circle Body",circleRadius:fe};de=de||25;var ge=Math.ceil(Math.max(10,Math.min(de,fe)));return ge%2===1&&(ge+=1),ie.polygon(pe,ce,ge,fe,oe.extend({},ve,me))},ie.polygon=function(pe,ce,fe,me,de){if(de=de||{},fe<3)return ie.circle(pe,ce,me,de);for(var ve=2*Math.PI/fe,ge="",xe=ve*.5,_e=0;_e<fe;_e+=1){var ye=xe+_e*ve,we=Math.cos(ye)*me,be=Math.sin(ye)*me;ge+="L "+we.toFixed(3)+" "+be.toFixed(3)+" "}var Se={label:"Polygon Body",position:{x:pe,y:ce},vertices:ae.fromPath(ge)};if(de.chamfer){var Ce=de.chamfer;Se.vertices=ae.chamfer(Se.vertices,Ce.radius,Ce.quality,Ce.qualityMin,Ce.qualityMax),delete de.chamfer}return le.create(oe.extend({},Se,de))},ie.fromVertices=function(pe,ce,fe,me,de,ve,ge,xe){var _e=oe.getDecomp(),ye,we,be,Se,Ce,Te,De,Fe,Le,Ie,Oe;for(ye=Boolean(_e&&_e.quickDecomp),me=me||{},be=[],de=typeof de!="undefined"?de:!1,ve=typeof ve!="undefined"?ve:.01,ge=typeof ge!="undefined"?ge:10,xe=typeof xe!="undefined"?xe:.01,oe.isArray(fe[0])||(fe=[fe]),Ie=0;Ie<fe.length;Ie+=1)if(Te=fe[Ie],Se=ae.isConvex(Te),Ce=!Se,Ce&&!ye&&oe.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),Se||!ye)Se?Te=ae.clockwiseSort(Te):Te=ae.hull(Te),be.push({position:{x:pe,y:ce},vertices:Te});else{var ke=Te.map(function(Ge){return[Ge.x,Ge.y]});_e.makeCCW(ke),ve!==!1&&_e.removeCollinearPoints(ke,ve),xe!==!1&&_e.removeDuplicatePoints&&_e.removeDuplicatePoints(ke,xe);var Pe=_e.quickDecomp(ke);for(De=0;De<Pe.length;De++){var Me=Pe[De],Ee=Me.map(function(Ge){return{x:Ge[0],y:Ge[1]}});ge>0&&ae.area(Ee)<ge||be.push({position:ae.centre(Ee),vertices:Ee})}}for(De=0;De<be.length;De++)be[De]=le.create(oe.extend(be[De],me));if(de){var Ae=5;for(De=0;De<be.length;De++){var Re=be[De];for(Fe=De+1;Fe<be.length;Fe++){var Be=be[Fe];if(he.overlaps(Re.bounds,Be.bounds)){var ze=Re.vertices,je=Be.vertices;for(Le=0;Le<Re.vertices.length;Le++)for(Oe=0;Oe<Be.vertices.length;Oe++){var $e=ue.magnitudeSquared(ue.sub(ze[(Le+1)%ze.length],je[Oe])),We=ue.magnitudeSquared(ue.sub(ze[Le],je[(Oe+1)%je.length]));$e<Ae&&We<Ae&&(ze[Le].isInternal=!0,je[Oe].isInternal=!0)}}}}}return be.length>1?(we=le.create(oe.extend({parts:be.slice(0)},me)),le.setPosition(we,{x:pe,y:ce}),we):be[0]}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(0);(function(){ie.create=function(oe){var le={};return oe||ae.log("Mouse.create: element was undefined, defaulting to document.body","warn"),le.element=oe||document.body,le.absolute={x:0,y:0},le.position={x:0,y:0},le.mousedownPosition={x:0,y:0},le.mouseupPosition={x:0,y:0},le.offset={x:0,y:0},le.scale={x:1,y:1},le.wheelDelta=0,le.button=-1,le.pixelRatio=parseInt(le.element.getAttribute("data-pixel-ratio"),10)||1,le.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},le.mousemove=function(he){var ue=ie._getRelativeMousePosition(he,le.element,le.pixelRatio),pe=he.changedTouches;pe&&(le.button=0,he.preventDefault()),le.absolute.x=ue.x,le.absolute.y=ue.y,le.position.x=le.absolute.x*le.scale.x+le.offset.x,le.position.y=le.absolute.y*le.scale.y+le.offset.y,le.sourceEvents.mousemove=he},le.mousedown=function(he){var ue=ie._getRelativeMousePosition(he,le.element,le.pixelRatio),pe=he.changedTouches;pe?(le.button=0,he.preventDefault()):le.button=he.button,le.absolute.x=ue.x,le.absolute.y=ue.y,le.position.x=le.absolute.x*le.scale.x+le.offset.x,le.position.y=le.absolute.y*le.scale.y+le.offset.y,le.mousedownPosition.x=le.position.x,le.mousedownPosition.y=le.position.y,le.sourceEvents.mousedown=he},le.mouseup=function(he){var ue=ie._getRelativeMousePosition(he,le.element,le.pixelRatio),pe=he.changedTouches;pe&&he.preventDefault(),le.button=-1,le.absolute.x=ue.x,le.absolute.y=ue.y,le.position.x=le.absolute.x*le.scale.x+le.offset.x,le.position.y=le.absolute.y*le.scale.y+le.offset.y,le.mouseupPosition.x=le.position.x,le.mouseupPosition.y=le.position.y,le.sourceEvents.mouseup=he},le.mousewheel=function(he){le.wheelDelta=Math.max(-1,Math.min(1,he.wheelDelta||-he.detail)),he.preventDefault()},ie.setElement(le,le.element),le},ie.setElement=function(oe,le){oe.element=le,le.addEventListener("mousemove",oe.mousemove),le.addEventListener("mousedown",oe.mousedown),le.addEventListener("mouseup",oe.mouseup),le.addEventListener("mousewheel",oe.mousewheel),le.addEventListener("DOMMouseScroll",oe.mousewheel),le.addEventListener("touchmove",oe.mousemove),le.addEventListener("touchstart",oe.mousedown),le.addEventListener("touchend",oe.mouseup)},ie.clearSourceEvents=function(oe){oe.sourceEvents.mousemove=null,oe.sourceEvents.mousedown=null,oe.sourceEvents.mouseup=null,oe.sourceEvents.mousewheel=null,oe.wheelDelta=0},ie.setOffset=function(oe,le){oe.offset.x=le.x,oe.offset.y=le.y,oe.position.x=oe.absolute.x*oe.scale.x+oe.offset.x,oe.position.y=oe.absolute.y*oe.scale.y+oe.offset.y},ie.setScale=function(oe,le){oe.scale.x=le.x,oe.scale.y=le.y,oe.position.x=oe.absolute.x*oe.scale.x+oe.offset.x,oe.position.y=oe.absolute.y*oe.scale.y+oe.offset.y},ie._getRelativeMousePosition=function(oe,le,he){var ue=le.getBoundingClientRect(),pe=document.documentElement||document.body.parentNode||document.body,ce=window.pageXOffset!==void 0?window.pageXOffset:pe.scrollLeft,fe=window.pageYOffset!==void 0?window.pageYOffset:pe.scrollTop,me=oe.changedTouches,de,ve;return me?(de=me[0].pageX-ue.left-ce,ve=me[0].pageY-ue.top-fe):(de=oe.pageX-ue.left-ce,ve=oe.pageY-ue.top-fe),{x:de/(le.clientWidth/(le.width||le.clientWidth)*he),y:ve/(le.clientHeight/(le.height||le.clientHeight)*he)}}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(0),oe=re(8);(function(){ie.create=function(le){var he={bodies:[],pairs:null};return ae.extend(he,le)},ie.setBodies=function(le,he){le.bodies=he.slice(0)},ie.clear=function(le){le.bodies=[]},ie.collisions=function(le){var he=[],ue=le.pairs,pe=le.bodies,ce=pe.length,fe=ie.canCollide,me=oe.collides,de,ve;for(pe.sort(ie._compareBoundsX),de=0;de<ce;de++){var ge=pe[de],xe=ge.bounds,_e=ge.bounds.max.x,ye=ge.bounds.max.y,we=ge.bounds.min.y,be=ge.isStatic||ge.isSleeping,Se=ge.parts.length,Ce=Se===1;for(ve=de+1;ve<ce;ve++){var Te=pe[ve],De=Te.bounds;if(De.min.x>_e)break;if(!(ye<De.min.y||we>De.max.y)&&!(be&&(Te.isStatic||Te.isSleeping))&&!!fe(ge.collisionFilter,Te.collisionFilter)){var Fe=Te.parts.length;if(Ce&&Fe===1){var Le=me(ge,Te,ue);Le&&he.push(Le)}else for(var Ie=Se>1?1:0,Oe=Fe>1?1:0,ke=Ie;ke<Se;ke++)for(var Pe=ge.parts[ke],xe=Pe.bounds,Me=Oe;Me<Fe;Me++){var Ee=Te.parts[Me],De=Ee.bounds;if(!(xe.min.x>De.max.x||xe.max.x<De.min.x||xe.max.y<De.min.y||xe.min.y>De.max.y)){var Le=me(Pe,Ee,ue);Le&&he.push(Le)}}}}}return he},ie.canCollide=function(le,he){return le.group===he.group&&le.group!==0?le.group>0:(le.mask&he.category)!==0&&(he.mask&le.category)!==0},ie._compareBoundsX=function(le,he){return le.bounds.min.x-he.bounds.min.x}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(0);(function(){ie._registry={},ie.register=function(oe){if(ie.isPlugin(oe)||ae.warn("Plugin.register:",ie.toString(oe),"does not implement all required fields."),oe.name in ie._registry){var le=ie._registry[oe.name],he=ie.versionParse(oe.version).number,ue=ie.versionParse(le.version).number;he>ue?(ae.warn("Plugin.register:",ie.toString(le),"was upgraded to",ie.toString(oe)),ie._registry[oe.name]=oe):he<ue?ae.warn("Plugin.register:",ie.toString(le),"can not be downgraded to",ie.toString(oe)):oe!==le&&ae.warn("Plugin.register:",ie.toString(oe),"is already registered to different plugin object")}else ie._registry[oe.name]=oe;return oe},ie.resolve=function(oe){return ie._registry[ie.dependencyParse(oe).name]},ie.toString=function(oe){return typeof oe=="string"?oe:(oe.name||"anonymous")+"@"+(oe.version||oe.range||"0.0.0")},ie.isPlugin=function(oe){return oe&&oe.name&&oe.version&&oe.install},ie.isUsed=function(oe,le){return oe.used.indexOf(le)>-1},ie.isFor=function(oe,le){var he=oe.for&&ie.dependencyParse(oe.for);return!oe.for||le.name===he.name&&ie.versionSatisfies(le.version,he.range)},ie.use=function(oe,le){if(oe.uses=(oe.uses||[]).concat(le||[]),oe.uses.length===0){ae.warn("Plugin.use:",ie.toString(oe),"does not specify any dependencies to install.");return}for(var he=ie.dependencies(oe),ue=ae.topologicalSort(he),pe=[],ce=0;ce<ue.length;ce+=1)if(ue[ce]!==oe.name){var fe=ie.resolve(ue[ce]);if(!fe){pe.push("\u274C "+ue[ce]);continue}ie.isUsed(oe,fe.name)||(ie.isFor(fe,oe)||(ae.warn("Plugin.use:",ie.toString(fe),"is for",fe.for,"but installed on",ie.toString(oe)+"."),fe._warned=!0),fe.install?fe.install(oe):(ae.warn("Plugin.use:",ie.toString(fe),"does not specify an install function."),fe._warned=!0),fe._warned?(pe.push("\u{1F536} "+ie.toString(fe)),delete fe._warned):pe.push("\u2705 "+ie.toString(fe)),oe.used.push(fe.name))}pe.length>0&&ae.info(pe.join("  "))},ie.dependencies=function(oe,le){var he=ie.dependencyParse(oe),ue=he.name;if(le=le||{},!(ue in le)){oe=ie.resolve(oe)||oe,le[ue]=ae.map(oe.uses||[],function(ce){ie.isPlugin(ce)&&ie.register(ce);var fe=ie.dependencyParse(ce),me=ie.resolve(ce);return me&&!ie.versionSatisfies(me.version,fe.range)?(ae.warn("Plugin.dependencies:",ie.toString(me),"does not satisfy",ie.toString(fe),"used by",ie.toString(he)+"."),me._warned=!0,oe._warned=!0):me||(ae.warn("Plugin.dependencies:",ie.toString(ce),"used by",ie.toString(he),"could not be resolved."),oe._warned=!0),fe.name});for(var pe=0;pe<le[ue].length;pe+=1)ie.dependencies(le[ue][pe],le);return le}},ie.dependencyParse=function(oe){if(ae.isString(oe)){var le=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return le.test(oe)||ae.warn("Plugin.dependencyParse:",oe,"is not a valid dependency string."),{name:oe.split("@")[0],range:oe.split("@")[1]||"*"}}return{name:oe.name,range:oe.range||oe.version}},ie.versionParse=function(oe){var le=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;le.test(oe)||ae.warn("Plugin.versionParse:",oe,"is not a valid version or range.");var he=le.exec(oe),ue=Number(he[4]),pe=Number(he[5]),ce=Number(he[6]);return{isRange:Boolean(he[1]||he[2]),version:he[3],range:oe,operator:he[1]||he[2]||"",major:ue,minor:pe,patch:ce,parts:[ue,pe,ce],prerelease:he[7],number:ue*1e8+pe*1e4+ce}},ie.versionSatisfies=function(oe,le){le=le||"*";var he=ie.versionParse(le),ue=ie.versionParse(oe);if(he.isRange){if(he.operator==="*"||oe==="*")return!0;if(he.operator===">")return ue.number>he.number;if(he.operator===">=")return ue.number>=he.number;if(he.operator==="~")return ue.major===he.major&&ue.minor===he.minor&&ue.patch>=he.patch;if(he.operator==="^")return he.major>0?ue.major===he.major&&ue.number>=he.number:he.minor>0?ue.minor===he.minor&&ue.patch>=he.patch:ue.patch===he.patch}return oe===le||oe==="*"}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(0),oe=re(5),le=re(1),he=re(4),ue=re(2),pe=re(13);(function(){var ce,fe;typeof window!="undefined"&&(ce=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ye){window.setTimeout(function(){ye(ae.now())},1e3/60)},fe=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),ie._goodFps=30,ie._goodDelta=1e3/60,ie.create=function(ye){var we={controller:ie,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!ye.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},be=ae.extend(we,ye);return be.canvas&&(be.canvas.width=be.options.width||be.canvas.width,be.canvas.height=be.options.height||be.canvas.height),be.mouse=ye.mouse,be.engine=ye.engine,be.canvas=be.canvas||ve(be.options.width,be.options.height),be.context=be.canvas.getContext("2d"),be.textures={},be.bounds=be.bounds||{min:{x:0,y:0},max:{x:be.canvas.width,y:be.canvas.height}},be.options.showBroadphase=!1,be.options.pixelRatio!==1&&ie.setPixelRatio(be,be.options.pixelRatio),ae.isElement(be.element)?be.element.appendChild(be.canvas):be.canvas.parentNode||ae.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),be},ie.run=function(ye){(function we(be){ye.frameRequestId=ce(we),me(ye,be),ie.world(ye,be),(ye.options.showStats||ye.options.showDebug)&&ie.stats(ye,ye.context,be),(ye.options.showPerformance||ye.options.showDebug)&&ie.performance(ye,ye.context,be)})()},ie.stop=function(ye){fe(ye.frameRequestId)},ie.setPixelRatio=function(ye,we){var be=ye.options,Se=ye.canvas;we==="auto"&&(we=ge(Se)),be.pixelRatio=we,Se.setAttribute("data-pixel-ratio",we),Se.width=be.width*we,Se.height=be.height*we,Se.style.width=be.width+"px",Se.style.height=be.height+"px"},ie.lookAt=function(ye,we,be,Se){Se=typeof Se!="undefined"?Se:!0,we=ae.isArray(we)?we:[we],be=be||{x:0,y:0};for(var Ce={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},Te=0;Te<we.length;Te+=1){var De=we[Te],Fe=De.bounds?De.bounds.min:De.min||De.position||De,Le=De.bounds?De.bounds.max:De.max||De.position||De;Fe&&Le&&(Fe.x<Ce.min.x&&(Ce.min.x=Fe.x),Le.x>Ce.max.x&&(Ce.max.x=Le.x),Fe.y<Ce.min.y&&(Ce.min.y=Fe.y),Le.y>Ce.max.y&&(Ce.max.y=Le.y))}var Ie=Ce.max.x-Ce.min.x+2*be.x,Oe=Ce.max.y-Ce.min.y+2*be.y,ke=ye.canvas.height,Pe=ye.canvas.width,Me=Pe/ke,Ee=Ie/Oe,Ae=1,Re=1;Ee>Me?Re=Ee/Me:Ae=Me/Ee,ye.options.hasBounds=!0,ye.bounds.min.x=Ce.min.x,ye.bounds.max.x=Ce.min.x+Ie*Ae,ye.bounds.min.y=Ce.min.y,ye.bounds.max.y=Ce.min.y+Oe*Re,Se&&(ye.bounds.min.x+=Ie*.5-Ie*Ae*.5,ye.bounds.max.x+=Ie*.5-Ie*Ae*.5,ye.bounds.min.y+=Oe*.5-Oe*Re*.5,ye.bounds.max.y+=Oe*.5-Oe*Re*.5),ye.bounds.min.x-=be.x,ye.bounds.max.x-=be.x,ye.bounds.min.y-=be.y,ye.bounds.max.y-=be.y,ye.mouse&&(pe.setScale(ye.mouse,{x:(ye.bounds.max.x-ye.bounds.min.x)/ye.canvas.width,y:(ye.bounds.max.y-ye.bounds.min.y)/ye.canvas.height}),pe.setOffset(ye.mouse,ye.bounds.min))},ie.startViewTransform=function(ye){var we=ye.bounds.max.x-ye.bounds.min.x,be=ye.bounds.max.y-ye.bounds.min.y,Se=we/ye.options.width,Ce=be/ye.options.height;ye.context.setTransform(ye.options.pixelRatio/Se,0,0,ye.options.pixelRatio/Ce,0,0),ye.context.translate(-ye.bounds.min.x,-ye.bounds.min.y)},ie.endViewTransform=function(ye){ye.context.setTransform(ye.options.pixelRatio,0,0,ye.options.pixelRatio,0,0)},ie.world=function(ye,we){var be=ae.now(),Se=ye.engine,Ce=Se.world,Te=ye.canvas,De=ye.context,Fe=ye.options,Le=ye.timing,Ie=oe.allBodies(Ce),Oe=oe.allConstraints(Ce),ke=Fe.wireframes?Fe.wireframeBackground:Fe.background,Pe=[],Me=[],Ee,Ae={timestamp:Se.timing.timestamp};if(he.trigger(ye,"beforeRender",Ae),ye.currentBackground!==ke&&_e(ye,ke),De.globalCompositeOperation="source-in",De.fillStyle="transparent",De.fillRect(0,0,Te.width,Te.height),De.globalCompositeOperation="source-over",Fe.hasBounds){for(Ee=0;Ee<Ie.length;Ee++){var Re=Ie[Ee];le.overlaps(Re.bounds,ye.bounds)&&Pe.push(Re)}for(Ee=0;Ee<Oe.length;Ee++){var Be=Oe[Ee],ze=Be.bodyA,je=Be.bodyB,$e=Be.pointA,We=Be.pointB;ze&&($e=ue.add(ze.position,Be.pointA)),je&&(We=ue.add(je.position,Be.pointB)),!(!$e||!We)&&(le.contains(ye.bounds,$e)||le.contains(ye.bounds,We))&&Me.push(Be)}ie.startViewTransform(ye),ye.mouse&&(pe.setScale(ye.mouse,{x:(ye.bounds.max.x-ye.bounds.min.x)/ye.options.width,y:(ye.bounds.max.y-ye.bounds.min.y)/ye.options.height}),pe.setOffset(ye.mouse,ye.bounds.min))}else Me=Oe,Pe=Ie,ye.options.pixelRatio!==1&&ye.context.setTransform(ye.options.pixelRatio,0,0,ye.options.pixelRatio,0,0);!Fe.wireframes||Se.enableSleeping&&Fe.showSleeping?ie.bodies(ye,Pe,De):(Fe.showConvexHulls&&ie.bodyConvexHulls(ye,Pe,De),ie.bodyWireframes(ye,Pe,De)),Fe.showBounds&&ie.bodyBounds(ye,Pe,De),(Fe.showAxes||Fe.showAngleIndicator)&&ie.bodyAxes(ye,Pe,De),Fe.showPositions&&ie.bodyPositions(ye,Pe,De),Fe.showVelocity&&ie.bodyVelocity(ye,Pe,De),Fe.showIds&&ie.bodyIds(ye,Pe,De),Fe.showSeparations&&ie.separations(ye,Se.pairs.list,De),Fe.showCollisions&&ie.collisions(ye,Se.pairs.list,De),Fe.showVertexNumbers&&ie.vertexNumbers(ye,Pe,De),Fe.showMousePosition&&ie.mousePosition(ye,ye.mouse,De),ie.constraints(Me,De),Fe.hasBounds&&ie.endViewTransform(ye),he.trigger(ye,"afterRender",Ae),Le.lastElapsed=ae.now()-be},ie.stats=function(ye,we,be){for(var Se=ye.engine,Ce=Se.world,Te=oe.allBodies(Ce),De=0,Fe=55,Le=44,Ie=0,Oe=0,ke=0;ke<Te.length;ke+=1)De+=Te[ke].parts.length;var Pe={Part:De,Body:Te.length,Cons:oe.allConstraints(Ce).length,Comp:oe.allComposites(Ce).length,Pair:Se.pairs.list.length};we.fillStyle="#0e0f19",we.fillRect(Ie,Oe,Fe*5.5,Le),we.font="12px Arial",we.textBaseline="top",we.textAlign="right";for(var Me in Pe){var Ee=Pe[Me];we.fillStyle="#aaa",we.fillText(Me,Ie+Fe,Oe+8),we.fillStyle="#eee",we.fillText(Ee,Ie+Fe,Oe+26),Ie+=Fe}},ie.performance=function(ye,we){var be=ye.engine,Se=ye.timing,Ce=Se.deltaHistory,Te=Se.elapsedHistory,De=Se.timestampElapsedHistory,Fe=Se.engineDeltaHistory,Le=Se.engineElapsedHistory,Ie=be.timing.lastDelta,Oe=de(Ce),ke=de(Te),Pe=de(Fe),Me=de(Le),Ee=de(De),Ae=Ee/Oe||0,Re=1e3/Oe||0,Be=4,ze=12,je=60,$e=34,We=10,Ge=69;we.fillStyle="#0e0f19",we.fillRect(0,50,ze*4+je*5+22,$e),ie.status(we,We,Ge,je,Be,Ce.length,Math.round(Re)+" fps",Re/ie._goodFps,function(He){return Ce[He]/Oe-1}),ie.status(we,We+ze+je,Ge,je,Be,Fe.length,Ie.toFixed(2)+" dt",ie._goodDelta/Ie,function(He){return Fe[He]/Pe-1}),ie.status(we,We+(ze+je)*2,Ge,je,Be,Le.length,Me.toFixed(2)+" ut",1-Me/ie._goodFps,function(He){return Le[He]/Me-1}),ie.status(we,We+(ze+je)*3,Ge,je,Be,Te.length,ke.toFixed(2)+" rt",1-ke/ie._goodFps,function(He){return Te[He]/ke-1}),ie.status(we,We+(ze+je)*4,Ge,je,Be,De.length,Ae.toFixed(2)+" x",Ae*Ae*Ae,function(He){return(De[He]/Ce[He]/Ae||0)-1})},ie.status=function(ye,we,be,Se,Ce,Te,De,Fe,Le){ye.strokeStyle="#888",ye.fillStyle="#444",ye.lineWidth=1,ye.fillRect(we,be+7,Se,1),ye.beginPath(),ye.moveTo(we,be+7-Ce*ae.clamp(.4*Le(0),-2,2));for(var Ie=0;Ie<Se;Ie+=1)ye.lineTo(we+Ie,be+7-(Ie<Te?Ce*ae.clamp(.4*Le(Ie),-2,2):0));ye.stroke(),ye.fillStyle="hsl("+ae.clamp(25+95*Fe,0,120)+",100%,60%)",ye.fillRect(we,be-7,4,4),ye.font="12px Arial",ye.textBaseline="middle",ye.textAlign="right",ye.fillStyle="#eee",ye.fillText(De,we+Se,be-5)},ie.constraints=function(ye,we){for(var be=we,Se=0;Se<ye.length;Se++){var Ce=ye[Se];if(!(!Ce.render.visible||!Ce.pointA||!Ce.pointB)){var Te=Ce.bodyA,De=Ce.bodyB,Fe,Le;if(Te?Fe=ue.add(Te.position,Ce.pointA):Fe=Ce.pointA,Ce.render.type==="pin")be.beginPath(),be.arc(Fe.x,Fe.y,3,0,2*Math.PI),be.closePath();else{if(De?Le=ue.add(De.position,Ce.pointB):Le=Ce.pointB,be.beginPath(),be.moveTo(Fe.x,Fe.y),Ce.render.type==="spring")for(var Ie=ue.sub(Le,Fe),Oe=ue.perp(ue.normalise(Ie)),ke=Math.ceil(ae.clamp(Ce.length/5,12,20)),Pe,Me=1;Me<ke;Me+=1)Pe=Me%2===0?1:-1,be.lineTo(Fe.x+Ie.x*(Me/ke)+Oe.x*Pe*4,Fe.y+Ie.y*(Me/ke)+Oe.y*Pe*4);be.lineTo(Le.x,Le.y)}Ce.render.lineWidth&&(be.lineWidth=Ce.render.lineWidth,be.strokeStyle=Ce.render.strokeStyle,be.stroke()),Ce.render.anchors&&(be.fillStyle=Ce.render.strokeStyle,be.beginPath(),be.arc(Fe.x,Fe.y,3,0,2*Math.PI),be.arc(Le.x,Le.y,3,0,2*Math.PI),be.closePath(),be.fill())}}},ie.bodies=function(ye,we,be){var Se=be;ye.engine;var Ce=ye.options,Te=Ce.showInternalEdges||!Ce.wireframes,De,Fe,Le,Ie;for(Le=0;Le<we.length;Le++)if(De=we[Le],!!De.render.visible){for(Ie=De.parts.length>1?1:0;Ie<De.parts.length;Ie++)if(Fe=De.parts[Ie],!!Fe.render.visible){if(Ce.showSleeping&&De.isSleeping?Se.globalAlpha=.5*Fe.render.opacity:Fe.render.opacity!==1&&(Se.globalAlpha=Fe.render.opacity),Fe.render.sprite&&Fe.render.sprite.texture&&!Ce.wireframes){var Oe=Fe.render.sprite,ke=xe(ye,Oe.texture);Se.translate(Fe.position.x,Fe.position.y),Se.rotate(Fe.angle),Se.drawImage(ke,ke.width*-Oe.xOffset*Oe.xScale,ke.height*-Oe.yOffset*Oe.yScale,ke.width*Oe.xScale,ke.height*Oe.yScale),Se.rotate(-Fe.angle),Se.translate(-Fe.position.x,-Fe.position.y)}else{if(Fe.circleRadius)Se.beginPath(),Se.arc(Fe.position.x,Fe.position.y,Fe.circleRadius,0,2*Math.PI);else{Se.beginPath(),Se.moveTo(Fe.vertices[0].x,Fe.vertices[0].y);for(var Pe=1;Pe<Fe.vertices.length;Pe++)!Fe.vertices[Pe-1].isInternal||Te?Se.lineTo(Fe.vertices[Pe].x,Fe.vertices[Pe].y):Se.moveTo(Fe.vertices[Pe].x,Fe.vertices[Pe].y),Fe.vertices[Pe].isInternal&&!Te&&Se.moveTo(Fe.vertices[(Pe+1)%Fe.vertices.length].x,Fe.vertices[(Pe+1)%Fe.vertices.length].y);Se.lineTo(Fe.vertices[0].x,Fe.vertices[0].y),Se.closePath()}Ce.wireframes?(Se.lineWidth=1,Se.strokeStyle="#bbb",Se.stroke()):(Se.fillStyle=Fe.render.fillStyle,Fe.render.lineWidth&&(Se.lineWidth=Fe.render.lineWidth,Se.strokeStyle=Fe.render.strokeStyle,Se.stroke()),Se.fill())}Se.globalAlpha=1}}},ie.bodyWireframes=function(ye,we,be){var Se=be,Ce=ye.options.showInternalEdges,Te,De,Fe,Le,Ie;for(Se.beginPath(),Fe=0;Fe<we.length;Fe++)if(Te=we[Fe],!!Te.render.visible)for(Ie=Te.parts.length>1?1:0;Ie<Te.parts.length;Ie++){for(De=Te.parts[Ie],Se.moveTo(De.vertices[0].x,De.vertices[0].y),Le=1;Le<De.vertices.length;Le++)!De.vertices[Le-1].isInternal||Ce?Se.lineTo(De.vertices[Le].x,De.vertices[Le].y):Se.moveTo(De.vertices[Le].x,De.vertices[Le].y),De.vertices[Le].isInternal&&!Ce&&Se.moveTo(De.vertices[(Le+1)%De.vertices.length].x,De.vertices[(Le+1)%De.vertices.length].y);Se.lineTo(De.vertices[0].x,De.vertices[0].y)}Se.lineWidth=1,Se.strokeStyle="#bbb",Se.stroke()},ie.bodyConvexHulls=function(ye,we,be){var Se=be,Ce,Te,De;for(Se.beginPath(),Te=0;Te<we.length;Te++)if(Ce=we[Te],!(!Ce.render.visible||Ce.parts.length===1)){for(Se.moveTo(Ce.vertices[0].x,Ce.vertices[0].y),De=1;De<Ce.vertices.length;De++)Se.lineTo(Ce.vertices[De].x,Ce.vertices[De].y);Se.lineTo(Ce.vertices[0].x,Ce.vertices[0].y)}Se.lineWidth=1,Se.strokeStyle="rgba(255,255,255,0.2)",Se.stroke()},ie.vertexNumbers=function(ye,we,be){var Se=be,Ce,Te,De;for(Ce=0;Ce<we.length;Ce++){var Fe=we[Ce].parts;for(De=Fe.length>1?1:0;De<Fe.length;De++){var Le=Fe[De];for(Te=0;Te<Le.vertices.length;Te++)Se.fillStyle="rgba(255,255,255,0.2)",Se.fillText(Ce+"_"+Te,Le.position.x+(Le.vertices[Te].x-Le.position.x)*.8,Le.position.y+(Le.vertices[Te].y-Le.position.y)*.8)}}},ie.mousePosition=function(ye,we,be){var Se=be;Se.fillStyle="rgba(255,255,255,0.8)",Se.fillText(we.position.x+"  "+we.position.y,we.position.x+5,we.position.y-5)},ie.bodyBounds=function(ye,we,be){var Se=be;ye.engine;var Ce=ye.options;Se.beginPath();for(var Te=0;Te<we.length;Te++){var De=we[Te];if(De.render.visible)for(var Fe=we[Te].parts,Le=Fe.length>1?1:0;Le<Fe.length;Le++){var Ie=Fe[Le];Se.rect(Ie.bounds.min.x,Ie.bounds.min.y,Ie.bounds.max.x-Ie.bounds.min.x,Ie.bounds.max.y-Ie.bounds.min.y)}}Ce.wireframes?Se.strokeStyle="rgba(255,255,255,0.08)":Se.strokeStyle="rgba(0,0,0,0.1)",Se.lineWidth=1,Se.stroke()},ie.bodyAxes=function(ye,we,be){var Se=be;ye.engine;var Ce=ye.options,Te,De,Fe,Le;for(Se.beginPath(),De=0;De<we.length;De++){var Ie=we[De],Oe=Ie.parts;if(!!Ie.render.visible)if(Ce.showAxes)for(Fe=Oe.length>1?1:0;Fe<Oe.length;Fe++)for(Te=Oe[Fe],Le=0;Le<Te.axes.length;Le++){var ke=Te.axes[Le];Se.moveTo(Te.position.x,Te.position.y),Se.lineTo(Te.position.x+ke.x*20,Te.position.y+ke.y*20)}else for(Fe=Oe.length>1?1:0;Fe<Oe.length;Fe++)for(Te=Oe[Fe],Le=0;Le<Te.axes.length;Le++)Se.moveTo(Te.position.x,Te.position.y),Se.lineTo((Te.vertices[0].x+Te.vertices[Te.vertices.length-1].x)/2,(Te.vertices[0].y+Te.vertices[Te.vertices.length-1].y)/2)}Ce.wireframes?(Se.strokeStyle="indianred",Se.lineWidth=1):(Se.strokeStyle="rgba(255, 255, 255, 0.4)",Se.globalCompositeOperation="overlay",Se.lineWidth=2),Se.stroke(),Se.globalCompositeOperation="source-over"},ie.bodyPositions=function(ye,we,be){var Se=be;ye.engine;var Ce=ye.options,Te,De,Fe,Le;for(Se.beginPath(),Fe=0;Fe<we.length;Fe++)if(Te=we[Fe],!!Te.render.visible)for(Le=0;Le<Te.parts.length;Le++)De=Te.parts[Le],Se.arc(De.position.x,De.position.y,3,0,2*Math.PI,!1),Se.closePath();for(Ce.wireframes?Se.fillStyle="indianred":Se.fillStyle="rgba(0,0,0,0.5)",Se.fill(),Se.beginPath(),Fe=0;Fe<we.length;Fe++)Te=we[Fe],Te.render.visible&&(Se.arc(Te.positionPrev.x,Te.positionPrev.y,2,0,2*Math.PI,!1),Se.closePath());Se.fillStyle="rgba(255,165,0,0.8)",Se.fill()},ie.bodyVelocity=function(ye,we,be){var Se=be;Se.beginPath();for(var Ce=0;Ce<we.length;Ce++){var Te=we[Ce];!Te.render.visible||(Se.moveTo(Te.position.x,Te.position.y),Se.lineTo(Te.position.x+(Te.position.x-Te.positionPrev.x)*2,Te.position.y+(Te.position.y-Te.positionPrev.y)*2))}Se.lineWidth=3,Se.strokeStyle="cornflowerblue",Se.stroke()},ie.bodyIds=function(ye,we,be){var Se=be,Ce,Te;for(Ce=0;Ce<we.length;Ce++)if(!!we[Ce].render.visible){var De=we[Ce].parts;for(Te=De.length>1?1:0;Te<De.length;Te++){var Fe=De[Te];Se.font="12px Arial",Se.fillStyle="rgba(255,255,255,0.5)",Se.fillText(Fe.id,Fe.position.x+10,Fe.position.y-10)}}},ie.collisions=function(ye,we,be){var Se=be,Ce=ye.options,Te,De,Fe,Le;for(Se.beginPath(),Fe=0;Fe<we.length;Fe++)if(Te=we[Fe],!!Te.isActive)for(De=Te.collision,Le=0;Le<Te.activeContacts.length;Le++){var Ie=Te.activeContacts[Le],Oe=Ie.vertex;Se.rect(Oe.x-1.5,Oe.y-1.5,3.5,3.5)}for(Ce.wireframes?Se.fillStyle="rgba(255,255,255,0.7)":Se.fillStyle="orange",Se.fill(),Se.beginPath(),Fe=0;Fe<we.length;Fe++)if(Te=we[Fe],!!Te.isActive&&(De=Te.collision,Te.activeContacts.length>0)){var ke=Te.activeContacts[0].vertex.x,Pe=Te.activeContacts[0].vertex.y;Te.activeContacts.length===2&&(ke=(Te.activeContacts[0].vertex.x+Te.activeContacts[1].vertex.x)/2,Pe=(Te.activeContacts[0].vertex.y+Te.activeContacts[1].vertex.y)/2),De.bodyB===De.supports[0].body||De.bodyA.isStatic===!0?Se.moveTo(ke-De.normal.x*8,Pe-De.normal.y*8):Se.moveTo(ke+De.normal.x*8,Pe+De.normal.y*8),Se.lineTo(ke,Pe)}Ce.wireframes?Se.strokeStyle="rgba(255,165,0,0.7)":Se.strokeStyle="orange",Se.lineWidth=1,Se.stroke()},ie.separations=function(ye,we,be){var Se=be,Ce=ye.options,Te,De,Fe,Le,Ie;for(Se.beginPath(),Ie=0;Ie<we.length;Ie++)if(Te=we[Ie],!!Te.isActive){De=Te.collision,Fe=De.bodyA,Le=De.bodyB;var Oe=1;!Le.isStatic&&!Fe.isStatic&&(Oe=.5),Le.isStatic&&(Oe=0),Se.moveTo(Le.position.x,Le.position.y),Se.lineTo(Le.position.x-De.penetration.x*Oe,Le.position.y-De.penetration.y*Oe),Oe=1,!Le.isStatic&&!Fe.isStatic&&(Oe=.5),Fe.isStatic&&(Oe=0),Se.moveTo(Fe.position.x,Fe.position.y),Se.lineTo(Fe.position.x+De.penetration.x*Oe,Fe.position.y+De.penetration.y*Oe)}Ce.wireframes?Se.strokeStyle="rgba(255,165,0,0.5)":Se.strokeStyle="orange",Se.stroke()},ie.inspector=function(ye,we){ye.engine;var be=ye.selected,Se=ye.render,Ce=Se.options,Te;if(Ce.hasBounds){var De=Se.bounds.max.x-Se.bounds.min.x,Fe=Se.bounds.max.y-Se.bounds.min.y,Le=De/Se.options.width,Ie=Fe/Se.options.height;we.scale(1/Le,1/Ie),we.translate(-Se.bounds.min.x,-Se.bounds.min.y)}for(var Oe=0;Oe<be.length;Oe++){var ke=be[Oe].data;switch(we.translate(.5,.5),we.lineWidth=1,we.strokeStyle="rgba(255,165,0,0.9)",we.setLineDash([1,2]),ke.type){case"body":Te=ke.bounds,we.beginPath(),we.rect(Math.floor(Te.min.x-3),Math.floor(Te.min.y-3),Math.floor(Te.max.x-Te.min.x+6),Math.floor(Te.max.y-Te.min.y+6)),we.closePath(),we.stroke();break;case"constraint":var Pe=ke.pointA;ke.bodyA&&(Pe=ke.pointB),we.beginPath(),we.arc(Pe.x,Pe.y,10,0,2*Math.PI),we.closePath(),we.stroke();break}we.setLineDash([]),we.translate(-.5,-.5)}ye.selectStart!==null&&(we.translate(.5,.5),we.lineWidth=1,we.strokeStyle="rgba(255,165,0,0.6)",we.fillStyle="rgba(255,165,0,0.1)",Te=ye.selectBounds,we.beginPath(),we.rect(Math.floor(Te.min.x),Math.floor(Te.min.y),Math.floor(Te.max.x-Te.min.x),Math.floor(Te.max.y-Te.min.y)),we.closePath(),we.stroke(),we.fill(),we.translate(-.5,-.5)),Ce.hasBounds&&we.setTransform(1,0,0,1,0,0)};var me=function(ye,we){var be=ye.engine,Se=ye.timing,Ce=Se.historySize,Te=be.timing.timestamp;Se.delta=we-Se.lastTime||ie._goodDelta,Se.lastTime=we,Se.timestampElapsed=Te-Se.lastTimestamp||0,Se.lastTimestamp=Te,Se.deltaHistory.unshift(Se.delta),Se.deltaHistory.length=Math.min(Se.deltaHistory.length,Ce),Se.engineDeltaHistory.unshift(be.timing.lastDelta),Se.engineDeltaHistory.length=Math.min(Se.engineDeltaHistory.length,Ce),Se.timestampElapsedHistory.unshift(Se.timestampElapsed),Se.timestampElapsedHistory.length=Math.min(Se.timestampElapsedHistory.length,Ce),Se.engineElapsedHistory.unshift(be.timing.lastElapsed),Se.engineElapsedHistory.length=Math.min(Se.engineElapsedHistory.length,Ce),Se.elapsedHistory.unshift(Se.lastElapsed),Se.elapsedHistory.length=Math.min(Se.elapsedHistory.length,Ce)},de=function(ye){for(var we=0,be=0;be<ye.length;be+=1)we+=ye[be];return we/ye.length||0},ve=function(ye,we){var be=document.createElement("canvas");return be.width=ye,be.height=we,be.oncontextmenu=function(){return!1},be.onselectstart=function(){return!1},be},ge=function(ye){var we=ye.getContext("2d"),be=window.devicePixelRatio||1,Se=we.webkitBackingStorePixelRatio||we.mozBackingStorePixelRatio||we.msBackingStorePixelRatio||we.oBackingStorePixelRatio||we.backingStorePixelRatio||1;return be/Se},xe=function(ye,we){var be=ye.textures[we];return be||(be=ye.textures[we]=new Image,be.src=we,be)},_e=function(ye,we){var be=we;/(jpg|gif|png)$/.test(we)&&(be="url("+we+")"),ye.canvas.style.background=be,ye.canvas.style.backgroundSize="contain",ye.currentBackground=we}})()},function(te,ee){var re={};te.exports=re,function(){re.create=function(ie){return{vertex:ie,normalImpulse:0,tangentImpulse:0}}}()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(7),oe=re(19),le=re(14),he=re(20),ue=re(4),pe=re(5),ce=re(10),fe=re(0),me=re(6);(function(){ie.create=function(de){de=de||{};var ve={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},ge=fe.extend(ve,de);return ge.world=de.world||pe.create({label:"World"}),ge.pairs=de.pairs||he.create(),ge.detector=de.detector||le.create(),ge.grid={buckets:[]},ge.world.gravity=ge.gravity,ge.broadphase=ge.grid,ge.metrics={},ge},ie.update=function(de,ve,ge){var xe=fe.now();ve=ve||1e3/60,ge=ge||1;var _e=de.world,ye=de.detector,we=de.pairs,be=de.timing,Se=be.timestamp,Ce;be.timestamp+=ve*be.timeScale,be.lastDelta=ve*be.timeScale;var Te={timestamp:be.timestamp};ue.trigger(de,"beforeUpdate",Te);var De=pe.allBodies(_e),Fe=pe.allConstraints(_e);for(_e.isModified&&le.setBodies(ye,De),_e.isModified&&pe.setModified(_e,!1,!1,!0),de.enableSleeping&&ae.update(De,be.timeScale),ie._bodiesApplyGravity(De,de.gravity),ie._bodiesUpdate(De,ve,be.timeScale,ge,_e.bounds),ce.preSolveAll(De),Ce=0;Ce<de.constraintIterations;Ce++)ce.solveAll(Fe,be.timeScale);ce.postSolveAll(De),ye.pairs=de.pairs;var Le=le.collisions(ye);for(he.update(we,Le,Se),de.enableSleeping&&ae.afterCollisions(we.list,be.timeScale),we.collisionStart.length>0&&ue.trigger(de,"collisionStart",{pairs:we.collisionStart}),oe.preSolvePosition(we.list),Ce=0;Ce<de.positionIterations;Ce++)oe.solvePosition(we.list,be.timeScale);for(oe.postSolvePosition(De),ce.preSolveAll(De),Ce=0;Ce<de.constraintIterations;Ce++)ce.solveAll(Fe,be.timeScale);for(ce.postSolveAll(De),oe.preSolveVelocity(we.list),Ce=0;Ce<de.velocityIterations;Ce++)oe.solveVelocity(we.list,be.timeScale);return we.collisionActive.length>0&&ue.trigger(de,"collisionActive",{pairs:we.collisionActive}),we.collisionEnd.length>0&&ue.trigger(de,"collisionEnd",{pairs:we.collisionEnd}),ie._bodiesClearForces(De),ue.trigger(de,"afterUpdate",Te),de.timing.lastElapsed=fe.now()-xe,de},ie.merge=function(de,ve){if(fe.extend(de,ve),ve.world){de.world=ve.world,ie.clear(de);for(var ge=pe.allBodies(de.world),xe=0;xe<ge.length;xe++){var _e=ge[xe];ae.set(_e,!1),_e.id=fe.nextId()}}},ie.clear=function(de){he.clear(de.pairs),le.clear(de.detector)},ie._bodiesClearForces=function(de){for(var ve=0;ve<de.length;ve++){var ge=de[ve];ge.force.x=0,ge.force.y=0,ge.torque=0}},ie._bodiesApplyGravity=function(de,ve){var ge=typeof ve.scale!="undefined"?ve.scale:.001;if(!(ve.x===0&&ve.y===0||ge===0))for(var xe=0;xe<de.length;xe++){var _e=de[xe];_e.isStatic||_e.isSleeping||(_e.force.y+=_e.mass*ve.y*ge,_e.force.x+=_e.mass*ve.x*ge)}},ie._bodiesUpdate=function(de,ve,ge,xe,_e){for(var ye=0;ye<de.length;ye++){var we=de[ye];we.isStatic||we.isSleeping||me.update(we,ve,ge,xe)}}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(3),oe=re(1);(function(){ie._restingThresh=4,ie._restingThreshTangent=6,ie._positionDampen=.9,ie._positionWarming=.8,ie._frictionNormalMultiplier=5,ie.preSolvePosition=function(le){var he,ue,pe,ce=le.length;for(he=0;he<ce;he++)ue=le[he],ue.isActive&&(pe=ue.activeContacts.length,ue.collision.parentA.totalContacts+=pe,ue.collision.parentB.totalContacts+=pe)},ie.solvePosition=function(le,he){var ue,pe,ce,fe,me,de,ve,ge,xe=ie._positionDampen,_e=le.length;for(ue=0;ue<_e;ue++)pe=le[ue],!(!pe.isActive||pe.isSensor)&&(ce=pe.collision,fe=ce.parentA,me=ce.parentB,de=ce.normal,pe.separation=de.x*(me.positionImpulse.x+ce.penetration.x-fe.positionImpulse.x)+de.y*(me.positionImpulse.y+ce.penetration.y-fe.positionImpulse.y));for(ue=0;ue<_e;ue++)pe=le[ue],!(!pe.isActive||pe.isSensor)&&(ce=pe.collision,fe=ce.parentA,me=ce.parentB,de=ce.normal,ge=(pe.separation-pe.slop)*he,(fe.isStatic||me.isStatic)&&(ge*=2),fe.isStatic||fe.isSleeping||(ve=xe/fe.totalContacts,fe.positionImpulse.x+=de.x*ge*ve,fe.positionImpulse.y+=de.y*ge*ve),me.isStatic||me.isSleeping||(ve=xe/me.totalContacts,me.positionImpulse.x-=de.x*ge*ve,me.positionImpulse.y-=de.y*ge*ve))},ie.postSolvePosition=function(le){for(var he=ie._positionWarming,ue=le.length,pe=ae.translate,ce=oe.update,fe=0;fe<ue;fe++){var me=le[fe],de=me.positionImpulse,ve=de.x,ge=de.y,xe=me.velocity;if(me.totalContacts=0,ve!==0||ge!==0){for(var _e=0;_e<me.parts.length;_e++){var ye=me.parts[_e];pe(ye.vertices,de),ce(ye.bounds,ye.vertices,xe),ye.position.x+=ve,ye.position.y+=ge}me.positionPrev.x+=ve,me.positionPrev.y+=ge,ve*xe.x+ge*xe.y<0?(de.x=0,de.y=0):(de.x*=he,de.y*=he)}}},ie.preSolveVelocity=function(le){var he=le.length,ue,pe;for(ue=0;ue<he;ue++){var ce=le[ue];if(!(!ce.isActive||ce.isSensor)){var fe=ce.activeContacts,me=fe.length,de=ce.collision,ve=de.parentA,ge=de.parentB,xe=de.normal,_e=de.tangent;for(pe=0;pe<me;pe++){var ye=fe[pe],we=ye.vertex,be=ye.normalImpulse,Se=ye.tangentImpulse;if(be!==0||Se!==0){var Ce=xe.x*be+_e.x*Se,Te=xe.y*be+_e.y*Se;ve.isStatic||ve.isSleeping||(ve.positionPrev.x+=Ce*ve.inverseMass,ve.positionPrev.y+=Te*ve.inverseMass,ve.anglePrev+=ve.inverseInertia*((we.x-ve.position.x)*Te-(we.y-ve.position.y)*Ce)),ge.isStatic||ge.isSleeping||(ge.positionPrev.x-=Ce*ge.inverseMass,ge.positionPrev.y-=Te*ge.inverseMass,ge.anglePrev-=ge.inverseInertia*((we.x-ge.position.x)*Te-(we.y-ge.position.y)*Ce))}}}}},ie.solveVelocity=function(le,he){var ue=he*he,pe=ie._restingThresh*ue,ce=ie._frictionNormalMultiplier,fe=ie._restingThreshTangent*ue,me=Number.MAX_VALUE,de=le.length,ve,ge,xe,_e;for(xe=0;xe<de;xe++){var ye=le[xe];if(!(!ye.isActive||ye.isSensor)){var we=ye.collision,be=we.parentA,Se=we.parentB,Ce=be.velocity,Te=Se.velocity,De=we.normal.x,Fe=we.normal.y,Le=we.tangent.x,Ie=we.tangent.y,Oe=ye.activeContacts,ke=Oe.length,Pe=1/ke,Me=be.inverseMass+Se.inverseMass,Ee=ye.friction*ye.frictionStatic*ce*ue;for(Ce.x=be.position.x-be.positionPrev.x,Ce.y=be.position.y-be.positionPrev.y,Te.x=Se.position.x-Se.positionPrev.x,Te.y=Se.position.y-Se.positionPrev.y,be.angularVelocity=be.angle-be.anglePrev,Se.angularVelocity=Se.angle-Se.anglePrev,_e=0;_e<ke;_e++){var Ae=Oe[_e],Re=Ae.vertex,Be=Re.x-be.position.x,ze=Re.y-be.position.y,je=Re.x-Se.position.x,$e=Re.y-Se.position.y,We=Ce.x-ze*be.angularVelocity,Ge=Ce.y+Be*be.angularVelocity,He=Te.x-$e*Se.angularVelocity,Ze=Te.y+je*Se.angularVelocity,Ye=We-He,Qe=Ge-Ze,Je=De*Ye+Fe*Qe,Ne=Le*Ye+Ie*Qe,Ke=ye.separation+Je,ht=Math.min(Ke,1);ht=Ke<0?0:ht;var _t=ht*Ee;Ne>_t||-Ne>_t?(ge=Ne>0?Ne:-Ne,ve=ye.friction*(Ne>0?1:-1)*ue,ve<-ge?ve=-ge:ve>ge&&(ve=ge)):(ve=Ne,ge=me);var pt=Be*Fe-ze*De,qe=je*Fe-$e*De,Dt=Pe/(Me+be.inverseInertia*pt*pt+Se.inverseInertia*qe*qe),wt=(1+ye.restitution)*Je*Dt;if(ve*=Dt,Je*Je>pe&&Je<0)Ae.normalImpulse=0;else{var vt=Ae.normalImpulse;Ae.normalImpulse+=wt,Ae.normalImpulse=Math.min(Ae.normalImpulse,0),wt=Ae.normalImpulse-vt}if(Ne*Ne>fe)Ae.tangentImpulse=0;else{var gt=Ae.tangentImpulse;Ae.tangentImpulse+=ve,Ae.tangentImpulse<-ge&&(Ae.tangentImpulse=-ge),Ae.tangentImpulse>ge&&(Ae.tangentImpulse=ge),ve=Ae.tangentImpulse-gt}var Ft=De*wt+Le*ve,Tt=Fe*wt+Ie*ve;be.isStatic||be.isSleeping||(be.positionPrev.x+=Ft*be.inverseMass,be.positionPrev.y+=Tt*be.inverseMass,be.anglePrev+=(Be*Tt-ze*Ft)*be.inverseInertia),Se.isStatic||Se.isSleeping||(Se.positionPrev.x-=Ft*Se.inverseMass,Se.positionPrev.y-=Tt*Se.inverseMass,Se.anglePrev-=(je*Tt-$e*Ft)*Se.inverseInertia)}}}}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(9),oe=re(0);(function(){ie.create=function(le){return oe.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},le)},ie.update=function(le,he,ue){var pe=le.list,ce=pe.length,fe=le.table,me=he.length,de=le.collisionStart,ve=le.collisionEnd,ge=le.collisionActive,xe,_e,ye,we;for(de.length=0,ve.length=0,ge.length=0,we=0;we<ce;we++)pe[we].confirmedActive=!1;for(we=0;we<me;we++)xe=he[we],ye=xe.pair,ye?(ye.isActive?ge.push(ye):de.push(ye),ae.update(ye,xe,ue),ye.confirmedActive=!0):(ye=ae.create(xe,ue),fe[ye.id]=ye,de.push(ye),pe.push(ye));var be=[];for(ce=pe.length,we=0;we<ce;we++)ye=pe[we],ye.confirmedActive||(ae.setActive(ye,!1,ue),ve.push(ye),!ye.collision.bodyA.isSleeping&&!ye.collision.bodyB.isSleeping&&be.push(we));for(we=0;we<be.length;we++)_e=be[we]-we,ye=pe[_e],pe.splice(_e,1),delete fe[ye.id]},ie.clear=function(le){return le.table={},le.list.length=0,le.collisionStart.length=0,le.collisionActive.length=0,le.collisionEnd.length=0,le}})()},function(te,ee,re){var ie=te.exports=re(22);ie.Axes=re(11),ie.Bodies=re(12),ie.Body=re(6),ie.Bounds=re(1),ie.Collision=re(8),ie.Common=re(0),ie.Composite=re(5),ie.Composites=re(23),ie.Constraint=re(10),ie.Contact=re(17),ie.Detector=re(14),ie.Engine=re(18),ie.Events=re(4),ie.Grid=re(24),ie.Mouse=re(13),ie.MouseConstraint=re(25),ie.Pair=re(9),ie.Pairs=re(20),ie.Plugin=re(15),ie.Query=re(26),ie.Render=re(16),ie.Resolver=re(19),ie.Runner=re(27),ie.SAT=re(28),ie.Sleeping=re(7),ie.Svg=re(29),ie.Vector=re(2),ie.Vertices=re(3),ie.World=re(30),ie.Engine.run=ie.Runner.run,ie.Common.deprecated(ie.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(te,ee,re){var ie={};te.exports=ie;var ae=re(15),oe=re(0);(function(){ie.name="matter-js",ie.version="0.18.0",ie.uses=[],ie.used=[],ie.use=function(){ae.use(ie,Array.prototype.slice.call(arguments))},ie.before=function(le,he){return le=le.replace(/^Matter./,""),oe.chainPathBefore(ie,le,he)},ie.after=function(le,he){return le=le.replace(/^Matter./,""),oe.chainPathAfter(ie,le,he)}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(5),oe=re(10),le=re(0),he=re(6),ue=re(12),pe=le.deprecated;(function(){ie.stack=function(ce,fe,me,de,ve,ge,xe){for(var _e=ae.create({label:"Stack"}),ye=ce,we=fe,be,Se=0,Ce=0;Ce<de;Ce++){for(var Te=0,De=0;De<me;De++){var Fe=xe(ye,we,De,Ce,be,Se);if(Fe){var Le=Fe.bounds.max.y-Fe.bounds.min.y,Ie=Fe.bounds.max.x-Fe.bounds.min.x;Le>Te&&(Te=Le),he.translate(Fe,{x:Ie*.5,y:Le*.5}),ye=Fe.bounds.max.x+ve,ae.addBody(_e,Fe),be=Fe,Se+=1}else ye+=ve}we+=Te+ge,ye=ce}return _e},ie.chain=function(ce,fe,me,de,ve,ge){for(var xe=ce.bodies,_e=1;_e<xe.length;_e++){var ye=xe[_e-1],we=xe[_e],be=ye.bounds.max.y-ye.bounds.min.y,Se=ye.bounds.max.x-ye.bounds.min.x,Ce=we.bounds.max.y-we.bounds.min.y,Te=we.bounds.max.x-we.bounds.min.x,De={bodyA:ye,pointA:{x:Se*fe,y:be*me},bodyB:we,pointB:{x:Te*de,y:Ce*ve}},Fe=le.extend(De,ge);ae.addConstraint(ce,oe.create(Fe))}return ce.label+=" Chain",ce},ie.mesh=function(ce,fe,me,de,ve){var ge=ce.bodies,xe,_e,ye,we,be;for(xe=0;xe<me;xe++){for(_e=1;_e<fe;_e++)ye=ge[_e-1+xe*fe],we=ge[_e+xe*fe],ae.addConstraint(ce,oe.create(le.extend({bodyA:ye,bodyB:we},ve)));if(xe>0)for(_e=0;_e<fe;_e++)ye=ge[_e+(xe-1)*fe],we=ge[_e+xe*fe],ae.addConstraint(ce,oe.create(le.extend({bodyA:ye,bodyB:we},ve))),de&&_e>0&&(be=ge[_e-1+(xe-1)*fe],ae.addConstraint(ce,oe.create(le.extend({bodyA:be,bodyB:we},ve)))),de&&_e<fe-1&&(be=ge[_e+1+(xe-1)*fe],ae.addConstraint(ce,oe.create(le.extend({bodyA:be,bodyB:we},ve))))}return ce.label+=" Mesh",ce},ie.pyramid=function(ce,fe,me,de,ve,ge,xe){return ie.stack(ce,fe,me,de,ve,ge,function(_e,ye,we,be,Se,Ce){var Te=Math.min(de,Math.ceil(me/2)),De=Se?Se.bounds.max.x-Se.bounds.min.x:0;if(!(be>Te)){be=Te-be;var Fe=be,Le=me-1-be;if(!(we<Fe||we>Le)){Ce===1&&he.translate(Se,{x:(we+(me%2===1?1:-1))*De,y:0});var Ie=Se?we*De:0;return xe(ce+Ie+we*ve,ye,we,be,Se,Ce)}}})},ie.newtonsCradle=function(ce,fe,me,de,ve){for(var ge=ae.create({label:"Newtons Cradle"}),xe=0;xe<me;xe++){var _e=1.9,ye=ue.circle(ce+xe*(de*_e),fe+ve,de,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),we=oe.create({pointA:{x:ce+xe*(de*_e),y:fe},bodyB:ye});ae.addBody(ge,ye),ae.addConstraint(ge,we)}return ge},pe(ie,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),ie.car=function(ce,fe,me,de,ve){var ge=he.nextGroup(!0),xe=20,_e=-me*.5+xe,ye=me*.5-xe,we=0,be=ae.create({label:"Car"}),Se=ue.rectangle(ce,fe,me,de,{collisionFilter:{group:ge},chamfer:{radius:de*.5},density:2e-4}),Ce=ue.circle(ce+_e,fe+we,ve,{collisionFilter:{group:ge},friction:.8}),Te=ue.circle(ce+ye,fe+we,ve,{collisionFilter:{group:ge},friction:.8}),De=oe.create({bodyB:Se,pointB:{x:_e,y:we},bodyA:Ce,stiffness:1,length:0}),Fe=oe.create({bodyB:Se,pointB:{x:ye,y:we},bodyA:Te,stiffness:1,length:0});return ae.addBody(be,Se),ae.addBody(be,Ce),ae.addBody(be,Te),ae.addConstraint(be,De),ae.addConstraint(be,Fe),be},pe(ie,"car","Composites.car \u27A4 moved to car example"),ie.softBody=function(ce,fe,me,de,ve,ge,xe,_e,ye,we){ye=le.extend({inertia:1/0},ye),we=le.extend({stiffness:.2,render:{type:"line",anchors:!1}},we);var be=ie.stack(ce,fe,me,de,ve,ge,function(Se,Ce){return ue.circle(Se,Ce,_e,ye)});return ie.mesh(be,me,de,xe,we),be.label="Soft Body",be},pe(ie,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(9),oe=re(0),le=oe.deprecated;(function(){ie.create=function(he){var ue={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return oe.extend(ue,he)},ie.update=function(he,ue,pe,ce){var fe,me,de,ve=pe.world,ge=he.buckets,xe,_e,ye=!1;for(fe=0;fe<ue.length;fe++){var we=ue[fe];if(!(we.isSleeping&&!ce)&&!(ve.bounds&&(we.bounds.max.x<ve.bounds.min.x||we.bounds.min.x>ve.bounds.max.x||we.bounds.max.y<ve.bounds.min.y||we.bounds.min.y>ve.bounds.max.y))){var be=ie._getRegion(he,we);if(!we.region||be.id!==we.region.id||ce){(!we.region||ce)&&(we.region=be);var Se=ie._regionUnion(be,we.region);for(me=Se.startCol;me<=Se.endCol;me++)for(de=Se.startRow;de<=Se.endRow;de++){_e=ie._getBucketId(me,de),xe=ge[_e];var Ce=me>=be.startCol&&me<=be.endCol&&de>=be.startRow&&de<=be.endRow,Te=me>=we.region.startCol&&me<=we.region.endCol&&de>=we.region.startRow&&de<=we.region.endRow;!Ce&&Te&&Te&&xe&&ie._bucketRemoveBody(he,xe,we),(we.region===be||Ce&&!Te||ce)&&(xe||(xe=ie._createBucket(ge,_e)),ie._bucketAddBody(he,xe,we))}we.region=be,ye=!0}}}ye&&(he.pairsList=ie._createActivePairsList(he))},le(ie,"update","Grid.update \u27A4 replaced by Matter.Detector"),ie.clear=function(he){he.buckets={},he.pairs={},he.pairsList=[]},le(ie,"clear","Grid.clear \u27A4 replaced by Matter.Detector"),ie._regionUnion=function(he,ue){var pe=Math.min(he.startCol,ue.startCol),ce=Math.max(he.endCol,ue.endCol),fe=Math.min(he.startRow,ue.startRow),me=Math.max(he.endRow,ue.endRow);return ie._createRegion(pe,ce,fe,me)},ie._getRegion=function(he,ue){var pe=ue.bounds,ce=Math.floor(pe.min.x/he.bucketWidth),fe=Math.floor(pe.max.x/he.bucketWidth),me=Math.floor(pe.min.y/he.bucketHeight),de=Math.floor(pe.max.y/he.bucketHeight);return ie._createRegion(ce,fe,me,de)},ie._createRegion=function(he,ue,pe,ce){return{id:he+","+ue+","+pe+","+ce,startCol:he,endCol:ue,startRow:pe,endRow:ce}},ie._getBucketId=function(he,ue){return"C"+he+"R"+ue},ie._createBucket=function(he,ue){var pe=he[ue]=[];return pe},ie._bucketAddBody=function(he,ue,pe){var ce=he.pairs,fe=ae.id,me=ue.length,de;for(de=0;de<me;de++){var ve=ue[de];if(!(pe.id===ve.id||pe.isStatic&&ve.isStatic)){var ge=fe(pe,ve),xe=ce[ge];xe?xe[2]+=1:ce[ge]=[pe,ve,1]}}ue.push(pe)},ie._bucketRemoveBody=function(he,ue,pe){var ce=he.pairs,fe=ae.id,me;ue.splice(oe.indexOf(ue,pe),1);var de=ue.length;for(me=0;me<de;me++){var ve=ce[fe(pe,ue[me])];ve&&(ve[2]-=1)}},ie._createActivePairsList=function(he){var ue,pe=he.pairs,ce=oe.keys(pe),fe=ce.length,me=[],de;for(de=0;de<fe;de++)ue=pe[ce[de]],ue[2]>0?me.push(ue):delete pe[ce[de]];return me}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(3),oe=re(7),le=re(13),he=re(4),ue=re(14),pe=re(10),ce=re(5),fe=re(0),me=re(1);(function(){ie.create=function(de,ve){var ge=(de?de.mouse:null)||(ve?ve.mouse:null);ge||(de&&de.render&&de.render.canvas?ge=le.create(de.render.canvas):ve&&ve.element?ge=le.create(ve.element):(ge=le.create(),fe.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var xe=pe.create({label:"Mouse Constraint",pointA:ge.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),_e={type:"mouseConstraint",mouse:ge,element:null,body:null,constraint:xe,collisionFilter:{category:1,mask:4294967295,group:0}},ye=fe.extend(_e,ve);return he.on(de,"beforeUpdate",function(){var we=ce.allBodies(de.world);ie.update(ye,we),ie._triggerEvents(ye)}),ye},ie.update=function(de,ve){var ge=de.mouse,xe=de.constraint,_e=de.body;if(ge.button===0){if(xe.bodyB)oe.set(xe.bodyB,!1),xe.pointA=ge.position;else for(var ye=0;ye<ve.length;ye++)if(_e=ve[ye],me.contains(_e.bounds,ge.position)&&ue.canCollide(_e.collisionFilter,de.collisionFilter))for(var we=_e.parts.length>1?1:0;we<_e.parts.length;we++){var be=_e.parts[we];if(ae.contains(be.vertices,ge.position)){xe.pointA=ge.position,xe.bodyB=de.body=_e,xe.pointB={x:ge.position.x-_e.position.x,y:ge.position.y-_e.position.y},xe.angleB=_e.angle,oe.set(_e,!1),he.trigger(de,"startdrag",{mouse:ge,body:_e});break}}}else xe.bodyB=de.body=null,xe.pointB=null,_e&&he.trigger(de,"enddrag",{mouse:ge,body:_e})},ie._triggerEvents=function(de){var ve=de.mouse,ge=ve.sourceEvents;ge.mousemove&&he.trigger(de,"mousemove",{mouse:ve}),ge.mousedown&&he.trigger(de,"mousedown",{mouse:ve}),ge.mouseup&&he.trigger(de,"mouseup",{mouse:ve}),le.clearSourceEvents(ve)}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(2),oe=re(8),le=re(1),he=re(12),ue=re(3);(function(){ie.collides=function(pe,ce){for(var fe=[],me=ce.length,de=pe.bounds,ve=oe.collides,ge=le.overlaps,xe=0;xe<me;xe++){var _e=ce[xe],ye=_e.parts.length,we=ye===1?0:1;if(ge(_e.bounds,de))for(var be=we;be<ye;be++){var Se=_e.parts[be];if(ge(Se.bounds,de)){var Ce=ve(Se,pe);if(Ce){fe.push(Ce);break}}}}return fe},ie.ray=function(pe,ce,fe,me){me=me||1e-100;for(var de=ae.angle(ce,fe),ve=ae.magnitude(ae.sub(ce,fe)),ge=(fe.x+ce.x)*.5,xe=(fe.y+ce.y)*.5,_e=he.rectangle(ge,xe,ve,me,{angle:de}),ye=ie.collides(_e,pe),we=0;we<ye.length;we+=1){var be=ye[we];be.body=be.bodyB=be.bodyA}return ye},ie.region=function(pe,ce,fe){for(var me=[],de=0;de<pe.length;de++){var ve=pe[de],ge=le.overlaps(ve.bounds,ce);(ge&&!fe||!ge&&fe)&&me.push(ve)}return me},ie.point=function(pe,ce){for(var fe=[],me=0;me<pe.length;me++){var de=pe[me];if(le.contains(de.bounds,ce))for(var ve=de.parts.length===1?0:1;ve<de.parts.length;ve++){var ge=de.parts[ve];if(le.contains(ge.bounds,ce)&&ue.contains(ge.vertices,ce)){fe.push(de);break}}}return fe}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(4),oe=re(18),le=re(0);(function(){var he,ue;if(typeof window!="undefined"&&(he=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,ue=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!he){var pe;he=function(ce){pe=setTimeout(function(){ce(le.now())},1e3/60)},ue=function(){clearTimeout(pe)}}ie.create=function(ce){var fe={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},me=le.extend(fe,ce);return me.delta=me.delta||1e3/me.fps,me.deltaMin=me.deltaMin||1e3/me.fps,me.deltaMax=me.deltaMax||1e3/(me.fps*.5),me.fps=1e3/me.delta,me},ie.run=function(ce,fe){return typeof ce.positionIterations!="undefined"&&(fe=ce,ce=ie.create()),function me(de){ce.frameRequestId=he(me),de&&ce.enabled&&ie.tick(ce,fe,de)}(),ce},ie.tick=function(ce,fe,me){var de=fe.timing,ve=1,ge,xe={timestamp:de.timestamp};ae.trigger(ce,"beforeTick",xe),ce.isFixed?ge=ce.delta:(ge=me-ce.timePrev||ce.delta,ce.timePrev=me,ce.deltaHistory.push(ge),ce.deltaHistory=ce.deltaHistory.slice(-ce.deltaSampleSize),ge=Math.min.apply(null,ce.deltaHistory),ge=ge<ce.deltaMin?ce.deltaMin:ge,ge=ge>ce.deltaMax?ce.deltaMax:ge,ve=ge/ce.delta,ce.delta=ge),ce.timeScalePrev!==0&&(ve*=de.timeScale/ce.timeScalePrev),de.timeScale===0&&(ve=0),ce.timeScalePrev=de.timeScale,ce.correction=ve,ce.frameCounter+=1,me-ce.counterTimestamp>=1e3&&(ce.fps=ce.frameCounter*((me-ce.counterTimestamp)/1e3),ce.counterTimestamp=me,ce.frameCounter=0),ae.trigger(ce,"tick",xe),ae.trigger(ce,"beforeUpdate",xe),oe.update(fe,ge,ve),ae.trigger(ce,"afterUpdate",xe),ae.trigger(ce,"afterTick",xe)},ie.stop=function(ce){ue(ce.frameRequestId)},ie.start=function(ce,fe){ie.run(ce,fe)}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(8),oe=re(0),le=oe.deprecated;(function(){ie.collides=function(he,ue){return ae.collides(he,ue)},le(ie,"collides","SAT.collides \u27A4 replaced by Collision.collides")})()},function(te,ee,re){var ie={};te.exports=ie,re(1);var ae=re(0);(function(){ie.pathToVertices=function(oe,le){typeof window!="undefined"&&!("SVGPathSeg"in window)&&ae.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var he,ue,pe,ce,fe,me,de,ve,ge,xe,_e=[],ye,we,be=0,Se=0,Ce=0;le=le||15;var Te=function(Fe,Le,Ie){var Oe=Ie%2===1&&Ie>1;if(!ge||Fe!=ge.x||Le!=ge.y){ge&&Oe?(ye=ge.x,we=ge.y):(ye=0,we=0);var ke={x:ye+Fe,y:we+Le};(Oe||!ge)&&(ge=ke),_e.push(ke),Se=ye+Fe,Ce=we+Le}},De=function(Fe){var Le=Fe.pathSegTypeAsLetter.toUpperCase();if(Le!=="Z"){switch(Le){case"M":case"L":case"T":case"C":case"S":case"Q":Se=Fe.x,Ce=Fe.y;break;case"H":Se=Fe.x;break;case"V":Ce=Fe.y;break}Te(Se,Ce,Fe.pathSegType)}};for(ie._svgPathToAbsolute(oe),pe=oe.getTotalLength(),me=[],he=0;he<oe.pathSegList.numberOfItems;he+=1)me.push(oe.pathSegList.getItem(he));for(de=me.concat();be<pe;){if(xe=oe.getPathSegAtLength(be),fe=me[xe],fe!=ve){for(;de.length&&de[0]!=fe;)De(de.shift());ve=fe}switch(fe.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":ce=oe.getPointAtLength(be),Te(ce.x,ce.y,0);break}be+=le}for(he=0,ue=de.length;he<ue;++he)De(de[he]);return _e},ie._svgPathToAbsolute=function(oe){for(var le,he,ue,pe,ce,fe,me=oe.pathSegList,de=0,ve=0,ge=me.numberOfItems,xe=0;xe<ge;++xe){var _e=me.getItem(xe),ye=_e.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(ye))"x"in _e&&(de=_e.x),"y"in _e&&(ve=_e.y);else switch("x1"in _e&&(ue=de+_e.x1),"x2"in _e&&(ce=de+_e.x2),"y1"in _e&&(pe=ve+_e.y1),"y2"in _e&&(fe=ve+_e.y2),"x"in _e&&(de+=_e.x),"y"in _e&&(ve+=_e.y),ye){case"m":me.replaceItem(oe.createSVGPathSegMovetoAbs(de,ve),xe);break;case"l":me.replaceItem(oe.createSVGPathSegLinetoAbs(de,ve),xe);break;case"h":me.replaceItem(oe.createSVGPathSegLinetoHorizontalAbs(de),xe);break;case"v":me.replaceItem(oe.createSVGPathSegLinetoVerticalAbs(ve),xe);break;case"c":me.replaceItem(oe.createSVGPathSegCurvetoCubicAbs(de,ve,ue,pe,ce,fe),xe);break;case"s":me.replaceItem(oe.createSVGPathSegCurvetoCubicSmoothAbs(de,ve,ce,fe),xe);break;case"q":me.replaceItem(oe.createSVGPathSegCurvetoQuadraticAbs(de,ve,ue,pe),xe);break;case"t":me.replaceItem(oe.createSVGPathSegCurvetoQuadraticSmoothAbs(de,ve),xe);break;case"a":me.replaceItem(oe.createSVGPathSegArcAbs(de,ve,_e.r1,_e.r2,_e.angle,_e.largeArcFlag,_e.sweepFlag),xe);break;case"z":case"Z":de=le,ve=he;break}(ye=="M"||ye=="m")&&(le=de,he=ve)}}})()},function(te,ee,re){var ie={};te.exports=ie;var ae=re(5);re(0),function(){ie.create=ae.create,ie.add=ae.add,ie.remove=ae.remove,ie.clear=ae.clear,ie.addComposite=ae.addComposite,ie.addBody=ae.addBody,ie.addConstraint=ae.addConstraint}()}])})})(matter);var Matter=getDefaultExportFromCjs(matter.exports);(function(){typeof window!="undefined"&&("SVGPathSeg"in window||(window.SVGPathSeg=function(se,ne,te){this.pathSegType=se,this.pathSegTypeAsLetter=ne,this._owningPathSegList=te},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(se){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",se)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(se,ne,te){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",se),this._x=ne,this._y=te},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(se,ne,te){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",se),this._x=ne,this._y=te},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(se,ne,te){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",se),this._x=ne,this._y=te},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(se,ne,te){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",se),this._x=ne,this._y=te},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(se,ne,te,ee,re,ie,ae){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",se),this._x=ne,this._y=te,this._x1=ee,this._y1=re,this._x2=ie,this._y2=ae},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(se){this._x1=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(se){this._y1=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(se){this._x2=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(se){this._y2=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(se,ne,te,ee,re,ie,ae){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",se),this._x=ne,this._y=te,this._x1=ee,this._y1=re,this._x2=ie,this._y2=ae},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(se){this._x1=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(se){this._y1=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(se){this._x2=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(se){this._y2=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(se,ne,te,ee,re){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",se),this._x=ne,this._y=te,this._x1=ee,this._y1=re},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(se){this._x1=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(se){this._y1=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(se,ne,te,ee,re){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",se),this._x=ne,this._y=te,this._x1=ee,this._y1=re},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(se){this._x1=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(se){this._y1=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(se,ne,te,ee,re,ie,ae,oe){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",se),this._x=ne,this._y=te,this._r1=ee,this._r2=re,this._angle=ie,this._largeArcFlag=ae,this._sweepFlag=oe},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(se){this._r1=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(se){this._r2=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(se){this._angle=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(se){this._largeArcFlag=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(se){this._sweepFlag=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(se,ne,te,ee,re,ie,ae,oe){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",se),this._x=ne,this._y=te,this._r1=ee,this._r2=re,this._angle=ie,this._largeArcFlag=ae,this._sweepFlag=oe},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(se){this._r1=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(se){this._r2=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(se){this._angle=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(se){this._largeArcFlag=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(se){this._sweepFlag=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(se,ne){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",se),this._x=ne},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(se,ne){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",se),this._x=ne},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(se,ne){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",se),this._y=ne},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(se,ne){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",se),this._y=ne},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(se,ne,te,ee,re){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",se),this._x=ne,this._y=te,this._x2=ee,this._y2=re},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(se){this._x2=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(se){this._y2=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(se,ne,te,ee,re){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",se),this._x=ne,this._y=te,this._x2=ee,this._y2=re},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(se){this._x2=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(se){this._y2=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(se,ne,te){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",se),this._x=ne,this._y=te},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(se,ne,te){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",se),this._x=ne,this._y=te},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(se){this._x=se,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(se){this._y=se,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(se,ne){return new window.SVGPathSegMovetoAbs(void 0,se,ne)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(se,ne){return new window.SVGPathSegMovetoRel(void 0,se,ne)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(se,ne){return new window.SVGPathSegLinetoAbs(void 0,se,ne)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(se,ne){return new window.SVGPathSegLinetoRel(void 0,se,ne)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(se,ne,te,ee,re,ie){return new window.SVGPathSegCurvetoCubicAbs(void 0,se,ne,te,ee,re,ie)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(se,ne,te,ee,re,ie){return new window.SVGPathSegCurvetoCubicRel(void 0,se,ne,te,ee,re,ie)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(se,ne,te,ee){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,se,ne,te,ee)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(se,ne,te,ee){return new window.SVGPathSegCurvetoQuadraticRel(void 0,se,ne,te,ee)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(se,ne,te,ee,re,ie,ae){return new window.SVGPathSegArcAbs(void 0,se,ne,te,ee,re,ie,ae)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(se,ne,te,ee,re,ie,ae){return new window.SVGPathSegArcRel(void 0,se,ne,te,ee,re,ie,ae)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(se){return new window.SVGPathSegLinetoHorizontalAbs(void 0,se)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(se){return new window.SVGPathSegLinetoHorizontalRel(void 0,se)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(se){return new window.SVGPathSegLinetoVerticalAbs(void 0,se)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(se){return new window.SVGPathSegLinetoVerticalRel(void 0,se)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(se,ne,te,ee){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,se,ne,te,ee)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(se,ne,te,ee){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,se,ne,te,ee)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(se,ne){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,se,ne)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(se,ne){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,se,ne)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(se){if(se===void 0||!isFinite(se))throw"Invalid arguments.";var ne=document.createElementNS("http://www.w3.org/2000/svg","path");ne.setAttribute("d",this.getAttribute("d"));var te=ne.pathSegList.numberOfItems-1;if(te<=0)return 0;do{if(ne.pathSegList.removeItem(te),se>ne.getTotalLength())break;te--}while(te>0);return te})),(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype))&&(window.SVGPathSegList=function(se){this._pathElement=se,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(se){if(!!this._pathElement){var ne=!1;se.forEach(function(te){te.attributeName=="d"&&(ne=!0)}),ne&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(se){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(se){se._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(se){return this._checkPathSynchronizedToList(),this._list=[se],se._owningPathSegList=this,this._writeListToPath(),se},window.SVGPathSegList.prototype._checkValidIndex=function(se){if(isNaN(se)||se<0||se>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(se){return this._checkPathSynchronizedToList(),this._checkValidIndex(se),this._list[se]},window.SVGPathSegList.prototype.insertItemBefore=function(se,ne){return this._checkPathSynchronizedToList(),ne>this.numberOfItems&&(ne=this.numberOfItems),se._owningPathSegList&&(se=se.clone()),this._list.splice(ne,0,se),se._owningPathSegList=this,this._writeListToPath(),se},window.SVGPathSegList.prototype.replaceItem=function(se,ne){return this._checkPathSynchronizedToList(),se._owningPathSegList&&(se=se.clone()),this._checkValidIndex(ne),this._list[ne]=se,se._owningPathSegList=this,this._writeListToPath(),se},window.SVGPathSegList.prototype.removeItem=function(se){this._checkPathSynchronizedToList(),this._checkValidIndex(se);var ne=this._list[se];return this._list.splice(se,1),this._writeListToPath(),ne},window.SVGPathSegList.prototype.appendItem=function(se){return this._checkPathSynchronizedToList(),se._owningPathSegList&&(se=se.clone()),this._list.push(se),se._owningPathSegList=this,this._writeListToPath(),se},window.SVGPathSegList._pathSegArrayAsString=function(se){var ne="",te=!0;return se.forEach(function(ee){te?(te=!1,ne+=ee._asPathString()):ne+=" "+ee._asPathString()}),ne},window.SVGPathSegList.prototype._parsePath=function(se){if(!se||se.length==0)return[];var ne=this,te=function(){this.pathSegList=[]};te.prototype.appendSegment=function(oe){this.pathSegList.push(oe)};var ee=function(oe){this._string=oe,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};ee.prototype._isCurrentSpace=function(){var oe=this._string[this._currentIndex];return oe<=" "&&(oe==" "||oe==`
`||oe=="	"||oe=="\r"||oe=="\f")},ee.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},ee.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},ee.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},ee.prototype.peekSegmentType=function(){var oe=this._string[this._currentIndex];return this._pathSegTypeFromChar(oe)},ee.prototype._pathSegTypeFromChar=function(oe){switch(oe){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},ee.prototype._nextCommandHelper=function(oe,le){return(oe=="+"||oe=="-"||oe=="."||oe>="0"&&oe<="9")&&le!=window.SVGPathSeg.PATHSEG_CLOSEPATH?le==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:le==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:le:window.SVGPathSeg.PATHSEG_UNKNOWN},ee.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var oe=this.peekSegmentType();return oe==window.SVGPathSeg.PATHSEG_MOVETO_ABS||oe==window.SVGPathSeg.PATHSEG_MOVETO_REL},ee.prototype._parseNumber=function(){var oe=0,le=0,he=1,ue=0,pe=1,ce=1,fe=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,pe=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var me=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=me)for(var de=this._currentIndex-1,ve=1;de>=me;)le+=ve*(this._string.charAt(de--)-"0"),ve*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)he*=10,ue+=(this._string.charAt(this._currentIndex)-"0")/he,this._currentIndex+=1}if(this._currentIndex!=fe&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,ce=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)oe*=10,oe+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var ge=le+ue;if(ge*=pe,oe&&(ge*=Math.pow(10,ce*oe)),fe!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),ge}},ee.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var oe=!1,le=this._string.charAt(this._currentIndex++);if(le=="0")oe=!1;else if(le=="1")oe=!0;else return;return this._skipOptionalSpacesOrDelimiter(),oe}},ee.prototype.parseSegment=function(){var oe=this._string[this._currentIndex],le=this._pathSegTypeFromChar(oe);if(le==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(le=this._nextCommandHelper(oe,this._previousCommand),le==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=le,le){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(ne,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(ne,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(ne,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(ne,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(ne,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(ne,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(ne,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(ne,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(ne);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var he={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(ne,he.x,he.y,he.x1,he.y1,he.x2,he.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var he={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(ne,he.x,he.y,he.x1,he.y1,he.x2,he.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var he={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(ne,he.x,he.y,he.x2,he.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var he={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(ne,he.x,he.y,he.x2,he.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var he={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(ne,he.x,he.y,he.x1,he.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var he={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(ne,he.x,he.y,he.x1,he.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(ne,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(ne,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var he={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(ne,he.x,he.y,he.x1,he.y1,he.arcAngle,he.arcLarge,he.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var he={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(ne,he.x,he.y,he.x1,he.y1,he.arcAngle,he.arcLarge,he.arcSweep);default:throw"Unknown path seg type."}};var re=new te,ie=new ee(se);if(!ie.initialCommandIsMoveTo())return[];for(;ie.hasMoreData();){var ae=ie.parseSegment();if(!ae)return[];re.appendSegment(ae)}return re.pathSegList}))})(),gsapWithCSS.registerPlugin(ScrollTrigger);class _Contact{constructor(){let ne=gsapWithCSS.matchMedia(),te="(max-width: 991px)";const ee=20,re=".svg-letter";let ie=300,ae=.5,oe=100,le=100;ne.add(te,()=>{ae=.17,ie=200,oe=10,le=20});const he=document.querySelector(".home-contact__canvas"),ue=Matter.Engine,pe=Matter.Render,ce=Matter.Runner,fe=Matter.Bodies,me=Matter.Composite,de=Matter.Body,ve=Matter.Svg,ge=Matter.Vector,xe=Matter.Vertices;let _e=ue.create(),ye=pe.create({element:he,engine:_e,options:{width:he.offsetWidth,height:he.offsetHeight,wireframes:!1,background:"transparent",showAngleIndicator:!1}});Fe();let we=fe.rectangle(he.clientWidth/2,he.clientHeight+ee/2,27184,ee,{isStatic:!0,render:{fillStyle:"transparent"}}),be=fe.rectangle(0-ee/2,he.clientHeight/2,ee,he.clientHeight*5,{isStatic:!0,render:{fillStyle:"transparent"}}),Se=fe.rectangle(he.clientWidth+ee/2,he.clientHeight/2,ee,he.clientHeight*5,{isStatic:!0,render:{fillStyle:"transparent"}});me.add(_e.world,[we,be,Se]);let Ce=Matter.Mouse.create(ye.canvas),Te=Matter.MouseConstraint.create(_e,{mouse:Ce,constraint:{stiffness:.2,render:{visible:!1}}});me.add(_e.world,Te),Te.mouse.element.removeEventListener("mousewheel",Te.mouse.mousewheel),Te.mouse.element.removeEventListener("DOMMouseScroll",Te.mouse.mousewheel),Te.mouse.element.removeEventListener("touchmove",Te.mouse.mousemove),Te.mouse.element.removeEventListener("touchstart",Te.mouse.mousedown),Te.mouse.element.removeEventListener("touchend",Te.mouse.mouseup),pe.run(ye);let De=ce.create();ce.run(De,_e);function Fe(){document.querySelectorAll(re).forEach((Oe,ke)=>{let Pe=ve.pathToVertices(Oe),Me=he.clientHeight*ae/ie;Pe=xe.scale(Pe,Me,Me);let Ee=fe.fromVertices(oe+ke*le,0,[Pe],{friction:.6,frictionAir:.01,restitution:.5,render:{fillStyle:"#DCFF7D",strokeStyle:"#DCFF7D",lineWidth:1}});me.add(_e.world,Ee),ScrollTrigger.create({trigger:he,start:"top 99%",end:"bottom bottom",onEnter:()=>de.translate(Ee,{x:0,y:-he.clientHeight-ke*500})})})}const Le=()=>{ye.canvas.width=he.offsetWidth,ye.canvas.height=he.offsetHeight,de.setPosition(we,ge.create(he.offsetWidth/2,he.offsetHeight+ee/2)),de.setPosition(be,ge.create(0-ee/2,he.offsetHeight/2)),de.setPosition(Se,ge.create(he.offsetWidth+ee/2,he.offsetHeight/2))};window.addEventListener("resize",Le)}}gsapWithCSS.registerPlugin(ScrollTrigger);class Footer{constructor(ne){const te=()=>{let ae=ne.find(".footer"),oe=ae.outerHeight()-20,le=ae.find(".f"),he=$(".border"),ue=$(".nav"),pe=0;window.innerWidth>991?pe=40:pe=20,gsapWithCSS.set([he,ue],{y:0},.1);let ce=new SplitText(le,{type:"chars, words"});gsapWithCSS.utils.shuffle(ce.chars);let fe=gsapWithCSS.timeline({paused:!0,defaults:{duration:.2,ease:"ease",stagger:{amount:1}}});fe.from(ce.chars,{opacity:0,duration:.1}),ScrollTrigger.create({trigger:ae,start:"top bottom",end:"bottom bottom",onEnter:()=>fe.play()}),gsapWithCSS.timeline({scrollTrigger:{trigger:ae,start:"top bottom",end:"bottom bottom",scrub:!0,onLeaveBack:()=>gsapWithCSS.set(he,{height:`calc(100dvh - ${pe}px)`})}}).to(ue,{y:0-oe,ease:"none"}).to(he,{height:`calc(100dvh - ${pe}px - ${oe+"px"})`,ease:"none"},0)};let ee=gsapWithCSS.matchMedia(),re="(min-width: 480px)";new FontFaceObserver("Flexible").load().then(function(){ee.add(re,te)}).catch(function(){ee.add(re,te)})}}class Home{constructor(){const ne=$('[data-barba-namespace="home"]');this.services=new _Services,this.about=new _About,this.process=new _Process,this.awards=new _Awards$1,this.footer=new Footer(ne),this.contact=new _Contact}}class _Radios{constructor(){$(".form__step").each((te,ee)=>{let ie=$(ee).find(".form__radio");ie.length>0&&(ie.each((ae,oe)=>{$(oe).find(".f-64").wrap('<div class="form__radio--text"></div>')}),this.change(ie))})}change(ne){ne.each((te,ee)=>{let re=$(ee);re.find("input").on("change",()=>{ne.removeClass("active"),re.addClass("active")})})}}class ChangeDelay{constructor(ne,te,ee){let re=.3,ie=.4,ae=ee.eq(ne),oe=ae.find(".form__char");gsapWithCSS.utils.shuffle(oe);let le=oe.length;oe.each((me,de)=>{let ve=me/(le-1)*re;$(de).css("transition-delay",`${ve}s`)});let he=ee.eq(ne+te),ue=he.find(".form__char");gsapWithCSS.utils.shuffle(ue);let pe=ue.length;ue.each((me,de)=>{let ve=me/(pe-1)*re+ie;$(de).css("transition-delay",`${ve}s`)});let ce=ae.find(".form__radio"),fe=he.find(".form__radio");if(ne<2&&(ce.each((me,de)=>{let ve=me/(ce.length-1)*re;$(de).css("transition-delay",`${ve}s`)}),fe.each((me,de)=>{let ve=me/(fe.length-1)*re+ie;$(de).css("transition-delay",`${ve}s`)})),ne>=1){let me=ae.find(".form__input"),de=he.find(".form__input");me.each((ve,ge)=>{let xe=re;$(ge).css("transition-delay",`${xe}s`)}),de.each((ve,ge)=>{let xe=re+ie;$(ge).css("transition-delay",`${xe}s`)})}}}gsapWithCSS.registerPlugin(SplitText);class SetDelay{constructor(ne){ne.each((te,ee)=>{let re=$(ee),ie=re.find(".form__title").find(".f-96"),ae=new SplitText(ie,{type:"chars, lines",charsClass:"form__char"}),oe=re.find(".form__char"),le=oe.length;gsapWithCSS.utils.shuffle(ae.chars),oe.each((he,ue)=>{let pe=he/(le-1)*.3;$(ue).css("transition-delay",`${pe}s`)})})}}class HideBack{constructor(ne){let te=$(".contact__next--parent");ne>0?te.addClass("show-back"):te.removeClass("show-back");let ee=$(".contact__back"),re=ee.outerWidth();te.css("--back-width",re+"px"),window.addEventListener("resize",()=>{let ie=ee.outerWidth();te.css("--back-width",ie+"px")})}}class ChangeProgress{constructor(ne){let te=100/($(".form__step").length-1),ee=$(".nav__progress");ee.css("transition","width 0.4s cubic-bezier(0.25, 1, 0.5, 1)"),ee.css("width",`${ne*te}%`),$(".step-index").text(ne+1)}}class TextAreaPosition{constructor(){$(".form__input--wrapper").each((te,ee)=>{let re=$(ee),ie=re.find(".form__label"),ae=ie.position().left,oe=ie.height();re.css("--left",`${ae}px`),re.css("--top",`${oe}px`),window.addEventListener("resize",()=>{ae=ie.position().left,oe=ie.height(),re.css("--left",`${ae}px`),re.css("--top",`${oe}px`)})})}}gsapWithCSS.registerPlugin(SplitText);class RadiosHover{constructor(){let ne=$(".form__radio"),te=ne.find(".f-64");new SplitText(te,{type:"chars",charsClass:"radio__char"});let ee=1e3;gsapWithCSS.set(".radio__char",{duration:.4,"font-variation-settings":`"wdth" 200, "HGHT" ${ee}`}),ne.each((re,ie)=>{let ae=$(ie),oe=ae.find(".radio__char");ae.on("mousemove",le=>{oe.each((he,ue)=>{let pe=$(ue),ce=pe[0].getBoundingClientRect(),fe=ce.left+ce.width/2,me=ce.top+ce.height/2,de=Math.sqrt(Math.pow(le.pageX-fe,2)+Math.pow(le.pageY-me,2)),ve=ee-800*(1-de/100);ve>1e3&&(ve=1e3),gsapWithCSS.to(pe,{duration:.3,"font-variation-settings":`"wdth" 200, "HGHT" ${ve}`})})}),ae.on("mouseleave",le=>{gsapWithCSS.to(oe,{duration:.4,"font-variation-settings":`"wdth" 200, "HGHT" ${ee}`})})})}}class StartType{constructor(){$(".form__input--wrapper").each((te,ee)=>{let re=$(ee),ie=re.find(".form__label");re.find(".form__input--parent");let ae=re.find(".form__input");re.find(".form__input--line"),$(document).on("click",oe=>{!re.is(oe.target)&&re.has(oe.target).length===0&&(re.removeClass("active"),ae.removeClass("active"))}),re.on("click",()=>{re.hasClass("active")||(re.addClass("active"),ae.css("transition-delay","0s"),ae.val()==""&&ie.addClass("still-active")),ae.focus()}),ae.on("keyup",()=>{ae.val()==""?(ie.addClass("still-active"),re.removeClass("filled")):(ie.removeClass("still-active"),re.addClass("filled")),gsapWithCSS.set(ae,{clearProps:"opacity"})}),ae.on("focus",()=>{ae.val()==""?(setTimeout(()=>{ae.css("opacity","1")},300),ae.css("transition-delay","0s"),ie.addClass("still-active"),re.removeClass("filled")):(ie.removeClass("still-active"),re.addClass("filled"))})})}}class CheckValidation{constructor(ne){this.notValid;let te=$(".form__step").eq(ne),ee=$(".contact__next"),re=te.find(".form__radio");re.length>0&&(te.find(".form__radio.active").length<1?(ee.addClass("error"),re.addClass("error"),this.notValid=!0):(ee.removeClass("error"),re.removeClass("error"),this.notValid=!1)),re.on("click",()=>{ee.removeClass("error"),re.removeClass("error")})}}class Submit{constructor(ne){const te="abcdefghijklmnopqrstuvwxyz";let ee=$(".contact__next--parent"),re=$(".contact__next");re.find(".button"),re.find(".form__submit");let ie=re.find("[text-target]");if(ne===$(".form__step").length-1){ee.addClass("last"),ie.text("Submit"),ie.attr("data-value","submit");let ae=null,oe=re[0].querySelector("[text-target]"),le=oe.dataset.value.split(""),he;le.length<10?he=40:he=10,re[0].onmouseenter=ue=>{let pe=0;clearInterval(ae),ae=setInterval(()=>{oe.innerText=oe.innerText.split("").map((ce,fe)=>fe<pe?oe.dataset.value[fe]:te[Math.floor(Math.random()*26)]).join(""),pe>=oe.dataset.value.length&&clearInterval(ae),pe+=1/5},he)}}else ee.removeClass("last"),ie.text("Next"),ie.attr("data-value","next")}}class CheckTextFields{constructor(){let ne=$(".form__submit"),te=$(".form__step").last().find(".form__input"),ee=$(".form__step").last().find(".form__input--wrapper");te.each((re,ie)=>{let ae=$(ie);ae.on("keyup",()=>{ae.hasClass("error")?ee.eq(re).addClass("error"):ee.eq(re).removeClass("error")})}),ne.on("click",()=>{setTimeout(()=>{te.each((re,ie)=>{$(ie).hasClass("error")?ee.eq(re).addClass("error"):ee.eq(re).removeClass("error")})},300)})}}class Success{constructor(){let ne=gsapWithCSS.matchMedia(),te="(min-width: 991px)";new CreateGrid(document.querySelector(".contact__bg"),"contact__tile");let ee=$(".contact__tile");gsapWithCSS.utils.shuffle(ee),ee.each(function(le,he){$(he).css("transition-delay",le/(ee.length-1)*.3+"s")}),ne.add(te,()=>{$(".form__success").height($("form").height())});let re;const ie=()=>{$(".form__success").css("display")=="block"&&(clearInterval(re),$("main").addClass("success"),$("body").addClass("grey-tile"))};let ae=$(".form__step").last();$(".form__submit").on("click",()=>{ae.find("input.valid").length==2&&(re=setInterval(ie,30))})}}class InputFocus{constructor(ne){let te=$(".form__step").eq(ne);ne>=2?(te.find(".form__input").eq(0).focus(),$(".form__subtitle--span").addClass("hide")):$(".form__subtitle--span").removeClass("hide")}}class SetSize{constructor(ne){let te=gsapWithCSS.matchMedia(),ee="(max-width: 991px)";te.add(ee,()=>{let re=$(".form__step--list"),ae=re.find(".form__step").eq(ne).outerHeight();re.css("--height",`${ae}px`)})}}gsapWithCSS.registerPlugin(SplitText);class _Steps{constructor(){const ne=()=>{let ee=gsapWithCSS.matchMedia(),re="(max-width: 991px)",ie=$(".form__step"),ae=$(".contact__next"),oe=$(".contact__back"),le=ie.length,he=0;ie.removeClass("active"),ie.eq(he).addClass("active"),$('input[type="radio"]'),$(".nav__progress").css("width","0%"),new SetDelay(ie),new HideBack(he),new TextAreaPosition,new RadiosHover,new StartType,new CheckTextFields,new Success,new SetSize(he),ae.on("click",async()=>{if(he<le-1){if((await new CheckValidation(he)).notValid==!0)return!1;await new ChangeDelay(he,1,ie),he++,ie.removeClass("active"),ie.eq(he).addClass("active"),new HideBack(he),new InputFocus(he),new ChangeProgress(he),new Submit(he),new SetSize(he),ee.add(re,()=>{window.scrollTo({top:0,behavior:"smooth"})})}}),oe.on("click",()=>{he>0&&(new ChangeDelay(he,-1,ie),he--,ie.removeClass("active"),ie.eq(he).addClass("active"),new HideBack(he),new InputFocus(he),new ChangeProgress(he),new Submit(he),new SetSize(he),ee.add(re,()=>{window.scrollTo({top:0,behavior:"smooth"})}))})};new FontFaceObserver("Flexible").load().then(function(){ne()}).catch(function(){ne()})}}class Contact{constructor(){this.radios=new _Radios,this.steps=new _Steps}}class Spacing{constructor(ne){let te=0,ee=1,re=2,ie=0,ae=1;$(ne).each((oe,le)=>{let he=$(le),ue,pe,ce;oe==te&&(ue=he,te+=3,ue.addClass("column1")),oe==ee&&(pe=he,ee+=3,pe.addClass("column2")),oe==re&&(ce=he,re+=3,ce.addClass("column3"))}),$(ne).each((oe,le)=>{let he=$(le),ue,pe;oe==ie&&(ue=he,ie+=2,ue.addClass("small-column1")),oe==ae&&(pe=he,ae+=2,pe.addClass("small-column2"))})}}gsapWithCSS.registerPlugin(ScrollTrigger);class AddClear{constructor(){const ne=()=>{let te=$(".playground__categories").find(".categories__list"),ee=`
            <div text-link class="categories__item categories__clear">
                <div text-target data-value="all" class="f">all</div>
            </div>`;te.append(ee);let re=$(".categories__clear");(()=>{const ae="abcdefghijklmnopqrstuvwxyz";let oe=null,le=document.querySelector(".categories__clear"),he=le.querySelector("[text-target]"),ue=he.dataset.value.split(""),pe;ue.length<10?pe=40:pe=10,le.onmouseenter=ce=>{let fe=0;clearInterval(oe),oe=setInterval(()=>{he.innerText=he.innerText.split("").map((me,de)=>de<fe?he.dataset.value[de]:ae[Math.floor(Math.random()*26)]).join(""),fe>=he.dataset.value.length&&clearInterval(oe),fe+=1/5},pe)}})(),re.on("click",()=>{let ae=$(".playground__item");ae.addClass("active"),ae.removeClass("column1"),ae.removeClass("column2"),ae.removeClass("column3"),ae.removeClass("small-column2"),ae.removeClass("small-column1"),new Spacing(ae),re.remove(),$(".categories__item").removeClass("active"),ScrollTrigger.refresh()})};if($(".categories__clear").length==0)ne();else return}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Filter{constructor(){$(".playground__wrapper");let ne=$(".playground__categories").find(".categories__item"),te=$(".playground__item"),ee=te.find("[filter]");new Spacing(te),te.addClass("active"),ne.on("click",re=>{let ie=$(re.currentTarget);const ae=()=>{let le=ie.find(".f").attr("data-value").toLowerCase();ne.removeClass("active"),ie.addClass("active");let he=[];ee.map((ue,pe)=>{let ce=$(pe),fe=ce.attr("filter").toLowerCase();if(le==fe){let me=ce.parents(".playground__item");he.push(me)}}),te.removeClass("active"),te.removeClass("column1"),te.removeClass("column2"),te.removeClass("column3"),te.removeClass("small-column2"),te.removeClass("small-column1"),he.map((ue,pe)=>{$(ue).addClass("active")}),new Spacing(he),new AddClear},oe=()=>{ie.removeClass("active"),te.addClass("active"),te.removeClass("column1"),te.removeClass("column2"),te.removeClass("column3"),te.removeClass("small-column2"),te.removeClass("small-column1"),new Spacing(te),$(".categories__clear").remove()};ie.hasClass("active")?oe():ae(),ScrollTrigger.refresh()})}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Scroll{constructor(){$(".playground__item").each((te,ee)=>{let re=$(ee),ie=re.find(".playground__img"),ae=ie.find("img");gsapWithCSS.timeline({scrollTrigger:{trigger:ae,start:"top bottom",end:"bottom top",scrub:!0}}).fromTo(ae,{yPercent:-5},{yPercent:5}),gsapWithCSS.timeline({scrollTrigger:{trigger:re,start:"top 90%",end:"top 60%",scrub:!0}}).fromTo(ie,{opacity:.3},{opacity:1})})}}class _Dropdown{constructor(){let ne=gsapWithCSS.matchMedia(),te="(max-width: 479px)";const ee=()=>{let re=$(".playground__categories"),ie=re.find(".categories__item"),ae=re.find(".categories__list"),oe=re.find(".playground__categories--title"),le=re.find(".playground__categories--title").outerHeight(),he=ie.length;re.css("--static-height",`${le}px`),$(document).on("click",ue=>{!re.is(ue.target)&&re.has(ue.target).length===0&&re.removeClass("active")}),oe.on("click",()=>{re.hasClass("active")?(re.removeClass("active"),re.css("--height",`${le}px`)):(ae.find(".categories__item").length>he?re.css("--height",`${(he+1)*le}px`):re.css("--height",`${he*le}px`),re.addClass("active"))}),ie.on("click",ue=>{$(ue.currentTarget).hasClass("active")?re.css("--height",`${(he+1)*le}px`):re.css("--height",`${he*le}px`)})};ne.add(te,ee)}}class Playground{constructor(){this.scroll=new _Scroll,this.filter=new _Filter,this.dropdown=new _Dropdown}}var jquery_validate={exports:{}};/*!*/(function(se){(function(ne){se.exports?se.exports=ne(require$$0__default.default):ne(jQuery)})(function(ne){ne.extend(ne.fn,{validate:function(ie){if(!this.length){ie&&ie.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var ae=ne.data(this[0],"validator");return ae||(this.attr("novalidate","novalidate"),ae=new ne.validator(ie,this[0]),ne.data(this[0],"validator",ae),ae.settings.onsubmit&&(this.on("click.validate",":submit",function(oe){ae.submitButton=oe.currentTarget,ne(this).hasClass("cancel")&&(ae.cancelSubmit=!0),ne(this).attr("formnovalidate")!==void 0&&(ae.cancelSubmit=!0)}),this.on("submit.validate",function(oe){ae.settings.debug&&oe.preventDefault();function le(){var he,ue;return ae.submitButton&&(ae.settings.submitHandler||ae.formSubmitted)&&(he=ne("<input type='hidden'/>").attr("name",ae.submitButton.name).val(ne(ae.submitButton).val()).appendTo(ae.currentForm)),ae.settings.submitHandler&&!ae.settings.debug?(ue=ae.settings.submitHandler.call(ae,ae.currentForm,oe),he&&he.remove(),ue!==void 0?ue:!1):!0}return ae.cancelSubmit?(ae.cancelSubmit=!1,le()):ae.form()?ae.pendingRequest?(ae.formSubmitted=!0,!1):le():(ae.focusInvalid(),!1)})),ae)},valid:function(){var ie,ae,oe;return ne(this[0]).is("form")?ie=this.validate().form():(oe=[],ie=!0,ae=ne(this[0].form).validate(),this.each(function(){ie=ae.element(this)&&ie,ie||(oe=oe.concat(ae.errorList))}),ae.errorList=oe),ie},rules:function(ie,ae){var oe=this[0],le=typeof this.attr("contenteditable")!="undefined"&&this.attr("contenteditable")!=="false",he,ue,pe,ce,fe,me;if(oe!=null&&(!oe.form&&le&&(oe.form=this.closest("form")[0],oe.name=this.attr("name")),oe.form!=null)){if(ie)switch(he=ne.data(oe.form,"validator").settings,ue=he.rules,pe=ne.validator.staticRules(oe),ie){case"add":ne.extend(pe,ne.validator.normalizeRule(ae)),delete pe.messages,ue[oe.name]=pe,ae.messages&&(he.messages[oe.name]=ne.extend(he.messages[oe.name],ae.messages));break;case"remove":return ae?(me={},ne.each(ae.split(/\s/),function(de,ve){me[ve]=pe[ve],delete pe[ve]}),me):(delete ue[oe.name],pe)}return ce=ne.validator.normalizeRules(ne.extend({},ne.validator.classRules(oe),ne.validator.attributeRules(oe),ne.validator.dataRules(oe),ne.validator.staticRules(oe)),oe),ce.required&&(fe=ce.required,delete ce.required,ce=ne.extend({required:fe},ce)),ce.remote&&(fe=ce.remote,delete ce.remote,ce=ne.extend(ce,{remote:fe})),ce}}});var te=function(ie){return ie.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};ne.extend(ne.expr.pseudos||ne.expr[":"],{blank:function(ie){return!te(""+ne(ie).val())},filled:function(ie){var ae=ne(ie).val();return ae!==null&&!!te(""+ae)},unchecked:function(ie){return!ne(ie).prop("checked")}}),ne.validator=function(ie,ae){this.settings=ne.extend(!0,{},ne.validator.defaults,ie),this.currentForm=ae,this.init()},ne.validator.format=function(ie,ae){return arguments.length===1?function(){var oe=ne.makeArray(arguments);return oe.unshift(ie),ne.validator.format.apply(this,oe)}:(ae===void 0||(arguments.length>2&&ae.constructor!==Array&&(ae=ne.makeArray(arguments).slice(1)),ae.constructor!==Array&&(ae=[ae]),ne.each(ae,function(oe,le){ie=ie.replace(new RegExp("\\{"+oe+"\\}","g"),function(){return le})})),ie)},ne.extend(ne.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:ne([]),errorLabelContainer:ne([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(ie){this.lastActive=ie,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,ie,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(ie)))},onfocusout:function(ie){!this.checkable(ie)&&(ie.name in this.submitted||!this.optional(ie))&&this.element(ie)},onkeyup:function(ie,ae){var oe=[16,17,18,20,35,36,37,38,39,40,45,144,225];ae.which===9&&this.elementValue(ie)===""||ne.inArray(ae.keyCode,oe)!==-1||(ie.name in this.submitted||ie.name in this.invalid)&&this.element(ie)},onclick:function(ie){ie.name in this.submitted?this.element(ie):ie.parentNode.name in this.submitted&&this.element(ie.parentNode)},highlight:function(ie,ae,oe){ie.type==="radio"?this.findByName(ie.name).addClass(ae).removeClass(oe):ne(ie).addClass(ae).removeClass(oe)},unhighlight:function(ie,ae,oe){ie.type==="radio"?this.findByName(ie.name).removeClass(ae).addClass(oe):ne(ie).removeClass(ae).addClass(oe)}},setDefaults:function(ie){ne.extend(ne.validator.defaults,ie)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:ne.validator.format("Please enter no more than {0} characters."),minlength:ne.validator.format("Please enter at least {0} characters."),rangelength:ne.validator.format("Please enter a value between {0} and {1} characters long."),range:ne.validator.format("Please enter a value between {0} and {1}."),max:ne.validator.format("Please enter a value less than or equal to {0}."),min:ne.validator.format("Please enter a value greater than or equal to {0}."),step:ne.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=ne(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||ne(this.currentForm),this.containers=ne(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var ie=this.currentForm,ae=this.groups={},oe;ne.each(this.settings.groups,function(he,ue){typeof ue=="string"&&(ue=ue.split(/\s/)),ne.each(ue,function(pe,ce){ae[ce]=he})}),oe=this.settings.rules,ne.each(oe,function(he,ue){oe[he]=ne.validator.normalizeRule(ue)});function le(he){var ue=typeof ne(this).attr("contenteditable")!="undefined"&&ne(this).attr("contenteditable")!=="false";if(!this.form&&ue&&(this.form=ne(this).closest("form")[0],this.name=ne(this).attr("name")),ie===this.form){var pe=ne.data(this.form,"validator"),ce="on"+he.type.replace(/^validate/,""),fe=pe.settings;fe[ce]&&!ne(this).is(fe.ignore)&&fe[ce].call(pe,this,he)}}ne(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",le).on("click.validate","select, option, [type='radio'], [type='checkbox']",le),this.settings.invalidHandler&&ne(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),ne.extend(this.submitted,this.errorMap),this.invalid=ne.extend({},this.errorMap),this.valid()||ne(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var ie=0,ae=this.currentElements=this.elements();ae[ie];ie++)this.check(ae[ie]);return this.valid()},element:function(ie){var ae=this.clean(ie),oe=this.validationTargetFor(ae),le=this,he=!0,ue,pe;return oe===void 0?delete this.invalid[ae.name]:(this.prepareElement(oe),this.currentElements=ne(oe),pe=this.groups[oe.name],pe&&ne.each(this.groups,function(ce,fe){fe===pe&&ce!==oe.name&&(ae=le.validationTargetFor(le.clean(le.findByName(ce))),ae&&ae.name in le.invalid&&(le.currentElements.push(ae),he=le.check(ae)&&he))}),ue=this.check(oe)!==!1,he=he&&ue,ue?this.invalid[oe.name]=!1:this.invalid[oe.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),ne(ie).attr("aria-invalid",!ue)),he},showErrors:function(ie){if(ie){var ae=this;ne.extend(this.errorMap,ie),this.errorList=ne.map(this.errorMap,function(oe,le){return{message:oe,element:ae.findByName(le)[0]}}),this.successList=ne.grep(this.successList,function(oe){return!(oe.name in ie)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){ne.fn.resetForm&&ne(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var ie=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(ie)},resetElements:function(ie){var ae;if(this.settings.unhighlight)for(ae=0;ie[ae];ae++)this.settings.unhighlight.call(this,ie[ae],this.settings.errorClass,""),this.findByName(ie[ae].name).removeClass(this.settings.validClass);else ie.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(ie){var ae=0,oe;for(oe in ie)ie[oe]!==void 0&&ie[oe]!==null&&ie[oe]!==!1&&ae++;return ae},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(ie){ie.not(this.containers).text(""),this.addWrapper(ie).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{ne(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch{}},findLastActive:function(){var ie=this.lastActive;return ie&&ne.grep(this.errorList,function(ae){return ae.element.name===ie.name}).length===1&&ie},elements:function(){var ie=this,ae={};return ne(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var oe=this.name||ne(this).attr("name"),le=typeof ne(this).attr("contenteditable")!="undefined"&&ne(this).attr("contenteditable")!=="false";return!oe&&ie.settings.debug&&window.console&&console.error("%o has no name assigned",this),le&&(this.form=ne(this).closest("form")[0],this.name=oe),this.form!==ie.currentForm||oe in ae||!ie.objectLength(ne(this).rules())?!1:(ae[oe]=!0,!0)})},clean:function(ie){return ne(ie)[0]},errors:function(){var ie=this.settings.errorClass.split(" ").join(".");return ne(this.settings.errorElement+"."+ie,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=ne([]),this.toHide=ne([])},reset:function(){this.resetInternals(),this.currentElements=ne([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(ie){this.reset(),this.toHide=this.errorsFor(ie)},elementValue:function(ie){var ae=ne(ie),oe=ie.type,le=typeof ae.attr("contenteditable")!="undefined"&&ae.attr("contenteditable")!=="false",he,ue;return oe==="radio"||oe==="checkbox"?this.findByName(ie.name).filter(":checked").val():oe==="number"&&typeof ie.validity!="undefined"?ie.validity.badInput?"NaN":ae.val():(le?he=ae.text():he=ae.val(),oe==="file"?he.substr(0,12)==="C:\\fakepath\\"?he.substr(12):(ue=he.lastIndexOf("/"),ue>=0||(ue=he.lastIndexOf("\\"),ue>=0)?he.substr(ue+1):he):typeof he=="string"?he.replace(/\r/g,""):he)},check:function(ie){ie=this.validationTargetFor(this.clean(ie));var ae=ne(ie).rules(),oe=ne.map(ae,function(me,de){return de}).length,le=!1,he=this.elementValue(ie),ue,pe,ce,fe;typeof ae.normalizer=="function"?fe=ae.normalizer:typeof this.settings.normalizer=="function"&&(fe=this.settings.normalizer),fe&&(he=fe.call(ie,he),delete ae.normalizer);for(pe in ae){ce={method:pe,parameters:ae[pe]};try{if(ue=ne.validator.methods[pe].call(this,he,ie,ce.parameters),ue==="dependency-mismatch"&&oe===1){le=!0;continue}if(le=!1,ue==="pending"){this.toHide=this.toHide.not(this.errorsFor(ie));return}if(!ue)return this.formatAndAdd(ie,ce),!1}catch(me){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+ie.id+", check the '"+ce.method+"' method.",me),me instanceof TypeError&&(me.message+=".  Exception occurred when checking element "+ie.id+", check the '"+ce.method+"' method."),me}}if(!le)return this.objectLength(ae)&&this.successList.push(ie),!0},customDataMessage:function(ie,ae){return ne(ie).data("msg"+ae.charAt(0).toUpperCase()+ae.substring(1).toLowerCase())||ne(ie).data("msg")},customMessage:function(ie,ae){var oe=this.settings.messages[ie];return oe&&(oe.constructor===String?oe:oe[ae])},findDefined:function(){for(var ie=0;ie<arguments.length;ie++)if(arguments[ie]!==void 0)return arguments[ie]},defaultMessage:function(ie,ae){typeof ae=="string"&&(ae={method:ae});var oe=this.findDefined(this.customMessage(ie.name,ae.method),this.customDataMessage(ie,ae.method),!this.settings.ignoreTitle&&ie.title||void 0,ne.validator.messages[ae.method],"<strong>Warning: No message defined for "+ie.name+"</strong>"),le=/\$?\{(\d+)\}/g;return typeof oe=="function"?oe=oe.call(this,ae.parameters,ie):le.test(oe)&&(oe=ne.validator.format(oe.replace(le,"{$1}"),ae.parameters)),oe},formatAndAdd:function(ie,ae){var oe=this.defaultMessage(ie,ae);this.errorList.push({message:oe,element:ie,method:ae.method}),this.errorMap[ie.name]=oe,this.submitted[ie.name]=oe},addWrapper:function(ie){return this.settings.wrapper&&(ie=ie.add(ie.parent(this.settings.wrapper))),ie},defaultShowErrors:function(){var ie,ae,oe;for(ie=0;this.errorList[ie];ie++)oe=this.errorList[ie],this.settings.highlight&&this.settings.highlight.call(this,oe.element,this.settings.errorClass,this.settings.validClass),this.showLabel(oe.element,oe.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(ie=0;this.successList[ie];ie++)this.showLabel(this.successList[ie]);if(this.settings.unhighlight)for(ie=0,ae=this.validElements();ae[ie];ie++)this.settings.unhighlight.call(this,ae[ie],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return ne(this.errorList).map(function(){return this.element})},showLabel:function(ie,ae){var oe,le,he,ue,pe=this.errorsFor(ie),ce=this.idOrName(ie),fe=ne(ie).attr("aria-describedby");pe.length?(pe.removeClass(this.settings.validClass).addClass(this.settings.errorClass),pe.html(ae)):(pe=ne("<"+this.settings.errorElement+">").attr("id",ce+"-error").addClass(this.settings.errorClass).html(ae||""),oe=pe,this.settings.wrapper&&(oe=pe.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(oe):this.settings.errorPlacement?this.settings.errorPlacement.call(this,oe,ne(ie)):oe.insertAfter(ie),pe.is("label")?pe.attr("for",ce):pe.parents("label[for='"+this.escapeCssMeta(ce)+"']").length===0&&(he=pe.attr("id"),fe?fe.match(new RegExp("\\b"+this.escapeCssMeta(he)+"\\b"))||(fe+=" "+he):fe=he,ne(ie).attr("aria-describedby",fe),le=this.groups[ie.name],le&&(ue=this,ne.each(ue.groups,function(me,de){de===le&&ne("[name='"+ue.escapeCssMeta(me)+"']",ue.currentForm).attr("aria-describedby",pe.attr("id"))})))),!ae&&this.settings.success&&(pe.text(""),typeof this.settings.success=="string"?pe.addClass(this.settings.success):this.settings.success(pe,ie)),this.toShow=this.toShow.add(pe)},errorsFor:function(ie){var ae=this.escapeCssMeta(this.idOrName(ie)),oe=ne(ie).attr("aria-describedby"),le="label[for='"+ae+"'], label[for='"+ae+"'] *";return oe&&(le=le+", #"+this.escapeCssMeta(oe).replace(/\s+/g,", #")),this.errors().filter(le)},escapeCssMeta:function(ie){return ie===void 0?"":ie.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(ie){return this.groups[ie.name]||(this.checkable(ie)?ie.name:ie.id||ie.name)},validationTargetFor:function(ie){return this.checkable(ie)&&(ie=this.findByName(ie.name)),ne(ie).not(this.settings.ignore)[0]},checkable:function(ie){return/radio|checkbox/i.test(ie.type)},findByName:function(ie){return ne(this.currentForm).find("[name='"+this.escapeCssMeta(ie)+"']")},getLength:function(ie,ae){switch(ae.nodeName.toLowerCase()){case"select":return ne("option:selected",ae).length;case"input":if(this.checkable(ae))return this.findByName(ae.name).filter(":checked").length}return ie.length},depend:function(ie,ae){return this.dependTypes[typeof ie]?this.dependTypes[typeof ie](ie,ae):!0},dependTypes:{boolean:function(ie){return ie},string:function(ie,ae){return!!ne(ie,ae.form).length},function:function(ie,ae){return ie(ae)}},optional:function(ie){var ae=this.elementValue(ie);return!ne.validator.methods.required.call(this,ae,ie)&&"dependency-mismatch"},startRequest:function(ie){this.pending[ie.name]||(this.pendingRequest++,ne(ie).addClass(this.settings.pendingClass),this.pending[ie.name]=!0)},stopRequest:function(ie,ae){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[ie.name],ne(ie).removeClass(this.settings.pendingClass),ae&&this.pendingRequest===0&&this.formSubmitted&&this.form()&&this.pendingRequest===0?(ne(this.currentForm).trigger("submit"),this.submitButton&&ne("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!ae&&this.pendingRequest===0&&this.formSubmitted&&(ne(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(ie,ae){return ae=typeof ae=="string"&&ae||"remote",ne.data(ie,"previousValue")||ne.data(ie,"previousValue",{old:null,valid:!0,message:this.defaultMessage(ie,{method:ae})})},destroy:function(){this.resetForm(),ne(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(ie,ae){ie.constructor===String?this.classRuleSettings[ie]=ae:ne.extend(this.classRuleSettings,ie)},classRules:function(ie){var ae={},oe=ne(ie).attr("class");return oe&&ne.each(oe.split(" "),function(){this in ne.validator.classRuleSettings&&ne.extend(ae,ne.validator.classRuleSettings[this])}),ae},normalizeAttributeRule:function(ie,ae,oe,le){/min|max|step/.test(oe)&&(ae===null||/number|range|text/.test(ae))&&(le=Number(le),isNaN(le)&&(le=void 0)),le||le===0?ie[oe]=le:ae===oe&&ae!=="range"&&(ie[ae==="date"?"dateISO":oe]=!0)},attributeRules:function(ie){var ae={},oe=ne(ie),le=ie.getAttribute("type"),he,ue;for(he in ne.validator.methods)he==="required"?(ue=ie.getAttribute(he),ue===""&&(ue=!0),ue=!!ue):ue=oe.attr(he),this.normalizeAttributeRule(ae,le,he,ue);return ae.maxlength&&/-1|2147483647|524288/.test(ae.maxlength)&&delete ae.maxlength,ae},dataRules:function(ie){var ae={},oe=ne(ie),le=ie.getAttribute("type"),he,ue;for(he in ne.validator.methods)ue=oe.data("rule"+he.charAt(0).toUpperCase()+he.substring(1).toLowerCase()),ue===""&&(ue=!0),this.normalizeAttributeRule(ae,le,he,ue);return ae},staticRules:function(ie){var ae={},oe=ne.data(ie.form,"validator");return oe.settings.rules&&(ae=ne.validator.normalizeRule(oe.settings.rules[ie.name])||{}),ae},normalizeRules:function(ie,ae){return ne.each(ie,function(oe,le){if(le===!1){delete ie[oe];return}if(le.param||le.depends){var he=!0;switch(typeof le.depends){case"string":he=!!ne(le.depends,ae.form).length;break;case"function":he=le.depends.call(ae,ae);break}he?ie[oe]=le.param!==void 0?le.param:!0:(ne.data(ae.form,"validator").resetElements(ne(ae)),delete ie[oe])}}),ne.each(ie,function(oe,le){ie[oe]=typeof le=="function"&&oe!=="normalizer"?le(ae):le}),ne.each(["minlength","maxlength"],function(){ie[this]&&(ie[this]=Number(ie[this]))}),ne.each(["rangelength","range"],function(){var oe;ie[this]&&(Array.isArray(ie[this])?ie[this]=[Number(ie[this][0]),Number(ie[this][1])]:typeof ie[this]=="string"&&(oe=ie[this].replace(/[\[\]]/g,"").split(/[\s,]+/),ie[this]=[Number(oe[0]),Number(oe[1])]))}),ne.validator.autoCreateRanges&&(ie.min!=null&&ie.max!=null&&(ie.range=[ie.min,ie.max],delete ie.min,delete ie.max),ie.minlength!=null&&ie.maxlength!=null&&(ie.rangelength=[ie.minlength,ie.maxlength],delete ie.minlength,delete ie.maxlength)),ie},normalizeRule:function(ie){if(typeof ie=="string"){var ae={};ne.each(ie.split(/\s/),function(){ae[this]=!0}),ie=ae}return ie},addMethod:function(ie,ae,oe){ne.validator.methods[ie]=ae,ne.validator.messages[ie]=oe!==void 0?oe:ne.validator.messages[ie],ae.length<3&&ne.validator.addClassRules(ie,ne.validator.normalizeRule(ie))},methods:{required:function(ie,ae,oe){if(!this.depend(oe,ae))return"dependency-mismatch";if(ae.nodeName.toLowerCase()==="select"){var le=ne(ae).val();return le&&le.length>0}return this.checkable(ae)?this.getLength(ie,ae)>0:ie!=null&&ie.length>0},email:function(ie,ae){return this.optional(ae)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(ie)},url:function(ie,ae){return this.optional(ae)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(ie)},date:function(){var ie=!1;return function(ae,oe){return ie||(ie=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(oe)||!/Invalid|NaN/.test(new Date(ae).toString())}}(),dateISO:function(ie,ae){return this.optional(ae)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(ie)},number:function(ie,ae){return this.optional(ae)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(ie)},digits:function(ie,ae){return this.optional(ae)||/^\d+$/.test(ie)},minlength:function(ie,ae,oe){var le=Array.isArray(ie)?ie.length:this.getLength(ie,ae);return this.optional(ae)||le>=oe},maxlength:function(ie,ae,oe){var le=Array.isArray(ie)?ie.length:this.getLength(ie,ae);return this.optional(ae)||le<=oe},rangelength:function(ie,ae,oe){var le=Array.isArray(ie)?ie.length:this.getLength(ie,ae);return this.optional(ae)||le>=oe[0]&&le<=oe[1]},min:function(ie,ae,oe){return this.optional(ae)||ie>=oe},max:function(ie,ae,oe){return this.optional(ae)||ie<=oe},range:function(ie,ae,oe){return this.optional(ae)||ie>=oe[0]&&ie<=oe[1]},step:function(ie,ae,oe){var le=ne(ae).attr("type"),he="Step attribute on input type "+le+" is not supported.",ue=["text","number","range"],pe=new RegExp("\\b"+le+"\\b"),ce=le&&!pe.test(ue.join()),fe=function(ge){var xe=(""+ge).match(/(?:\.(\d+))?$/);return xe&&xe[1]?xe[1].length:0},me=function(ge){return Math.round(ge*Math.pow(10,ve))},de=!0,ve;if(ce)throw new Error(he);return ve=fe(oe),(fe(ie)>ve||me(ie)%me(oe)!==0)&&(de=!1),this.optional(ae)||de},equalTo:function(ie,ae,oe){var le=ne(oe);return this.settings.onfocusout&&le.not(".validate-equalTo-blur").length&&le.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){ne(ae).valid()}),ie===le.val()},remote:function(ie,ae,oe,le){if(this.optional(ae))return"dependency-mismatch";le=typeof le=="string"&&le||"remote";var he=this.previousValue(ae,le),ue,pe,ce;return this.settings.messages[ae.name]||(this.settings.messages[ae.name]={}),he.originalMessage=he.originalMessage||this.settings.messages[ae.name][le],this.settings.messages[ae.name][le]=he.message,oe=typeof oe=="string"&&{url:oe}||oe,ce=ne.param(ne.extend({data:ie},oe.data)),he.old===ce?he.valid:(he.old=ce,ue=this,this.startRequest(ae),pe={},pe[ae.name]=ie,ne.ajax(ne.extend(!0,{mode:"abort",port:"validate"+ae.name,dataType:"json",data:pe,context:ue.currentForm,success:function(fe){var me=fe===!0||fe==="true",de,ve,ge;ue.settings.messages[ae.name][le]=he.originalMessage,me?(ge=ue.formSubmitted,ue.resetInternals(),ue.toHide=ue.errorsFor(ae),ue.formSubmitted=ge,ue.successList.push(ae),ue.invalid[ae.name]=!1,ue.showErrors()):(de={},ve=fe||ue.defaultMessage(ae,{method:le,parameters:ie}),de[ae.name]=he.message=ve,ue.invalid[ae.name]=!0,ue.showErrors(de)),he.valid=me,ue.stopRequest(ae,me)}},oe)),"pending")}}});var ee={},re;return ne.ajaxPrefilter?ne.ajaxPrefilter(function(ie,ae,oe){var le=ie.port;ie.mode==="abort"&&(ee[le]&&ee[le].abort(),ee[le]=oe)}):(re=ne.ajax,ne.ajax=function(ie){var ae=("mode"in ie?ie:ne.ajaxSettings).mode,oe=("port"in ie?ie:ne.ajaxSettings).port;return ae==="abort"?(ee[oe]&&ee[oe].abort(),ee[oe]=re.apply(this,arguments),ee[oe]):re.apply(this,arguments)}),ne})})(jquery_validate);class FormValidation{constructor(){$("form").each(function(){let ne=$(this);$(ne).validate({rules:{name:{required:!0,minlength:2}}})})}}gsapWithCSS.registerPlugin(ScrollTrigger);class BgTiles{constructor(){new CreateGrid(document.querySelector(".inner-case__bg"),"inner-case__bg-tile");let ne=$(".inner-case__bg-tile");gsapWithCSS.utils.shuffle(ne),ne.each(function(ie,ae){$(ae).css("transition-delay",ie*(.4/ne.length)+"s")});let te=$("[bg-filled]");te.length>=1&&this.scroll(te);const ee=()=>{setTimeout(()=>{ne=$(".inner-case__bg-tile"),gsapWithCSS.utils.shuffle(ne),ne.each(function(ie,ae){$(ae).css("transition-delay",ie*(.4/ne.length)+"s")})},10)};function re(ie){let ae;return function(oe){ae&&clearTimeout(ae),ae=setTimeout(ie,300,oe)}}window.addEventListener("resize",re(function(ie){ee()}))}scroll(ne){let te=ne.attr("bg-filled"),ee=$(".inner-case__bg");ScrollTrigger.create({trigger:ne,start:"top 50%",end:"bottom 50%",onToggle:({self:re,isActive:ie})=>{ie?(ee.addClass("filled"),ee.addClass(te)):(ee.removeClass("filled"),ee.removeClass(te))}})}}gsapWithCSS.registerPlugin(ScrollTrigger);class ImgParallax{constructor(){$("main").find("img").removeAttr("srcset"),$("[scroll-from]").each((re,ie)=>{let ae=$(ie),oe=ae.attr("scroll-from");gsapWithCSS.timeline({scrollTrigger:{trigger:ae,start:"top bottom",end:"bottom top",scrub:1}}).fromTo(ae,{yPercent:oe},{yPercent:0,ease:"none"},0)}),$("[scroll-to]").each((re,ie)=>{let ae=$(ie),oe=ae.attr("scroll-to");gsapWithCSS.timeline({scrollTrigger:{trigger:ae,start:"top bottom",end:"bottom top",scrub:1}}).fromTo(ae,{yPercent:0},{yPercent:oe,ease:"none"},0)}),$("[scroll-from-to]").each((re,ie)=>{let ae=$(ie),oe=ae.attr("scroll-from-to");gsapWithCSS.timeline({scrollTrigger:{trigger:ae,start:"top bottom",end:"bottom top",scrub:1}}).fromTo(ae,{yPercent:0-oe},{yPercent:oe,ease:"none"},0)})}}gsapWithCSS.registerPlugin(SplitText);class OrderHover{constructor(){let ne=$(".order__current"),te=ne.find(".f-96");new SplitText(te,{type:"chars",charsClass:"order__char"});let ee=1e3;gsapWithCSS.set(".order__char",{duration:.4,"font-variation-settings":`"wdth" 200, "HGHT" ${ee}`});let re=ne.find(".order__char");ne.on("mousemove",ie=>{re.each((ae,oe)=>{let le=$(oe),he=le[0].getBoundingClientRect(),ue=he.left+he.width/2,pe=he.top+he.height/2,ce=Math.sqrt(Math.pow(ie.clientX-ue,2)+Math.pow(ie.clientY-pe,2)),fe=ee-800*(1-ce/(ne.width()/2));fe>1e3&&(fe=1e3),gsapWithCSS.to(le,{duration:.3,"font-variation-settings":`"wdth" 200, "HGHT" ${fe}`})})}),ne.on("mouseleave",ie=>{gsapWithCSS.to(re,{duration:.4,"font-variation-settings":`"wdth" 200, "HGHT" ${ee}`})})}}gsapWithCSS.registerPlugin(ScrollTrigger,SplitText);class ShowNext{constructor(){let ne=$(".order");ScrollTrigger.create({trigger:ne,start:"top 100",end:"top top",onUpdate:({self:oe,progress:le})=>{le>0?($("main").addClass("show-next"),$("body").addClass("grey-tile")):($("main").removeClass("show-next"),$("body").removeClass("grey-tile"))}});let te=$(".next__btn"),ee=te.find(".f-96");new SplitText(ee,{type:"chars",charsClass:"next__char"});let re=1e3;gsapWithCSS.set(".next__char",{duration:.4,"font-variation-settings":`"wdth" 200, "HGHT" ${re}`});let ie=te.find(".next__char");te.on("mousemove",oe=>{ie.each((le,he)=>{let ue=$(he),pe=ue[0].getBoundingClientRect(),ce=pe.left+pe.width/2,fe=pe.top+pe.height/2,me=Math.sqrt(Math.pow(oe.clientX-ce,2)+Math.pow(oe.clientY-fe,2)),de=re-800*(1-me/(te.width()/2));de>1e3&&(de=1e3),gsapWithCSS.to(ue,{duration:.3,"font-variation-settings":`"wdth" 200, "HGHT" ${de}`})})}),te.on("mouseleave",oe=>{gsapWithCSS.to(ie,{duration:.4,"font-variation-settings":`"wdth" 200, "HGHT" ${re}`})});let ae=$(".next").find("[copy-mail]");new SplitText(ae,{type:"chars, words"})}}/*!

*/var CharSet=function(){function se(te){this.chars=emojiSafeSplit(te),this.sets=[],this.length=50;for(var ee=0;ee<20;ee++)this.sets[ee]=_scrambleText(80,this.chars)}var ne=se.prototype;return ne.grow=function(ee){for(var re=0;re<20;re++)this.sets[re]+=_scrambleText(ee-this.length,this.chars);this.length=ee},se}(),gsap,_coreInitted,_getGSAP=function(){return gsap||typeof window!="undefined"&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_bonusValidated=1,_spacesExp=/\s+/g,_scrambleText=function(ne,te){for(var ee=te.length,re="";--ne>-1;)re+=te[~~(Math.random()*ee)];return re},_upper="ABCDEFGHIJKLMNOPQRSTUVWXYZ",_lower=_upper.toLowerCase(),_charsLookup={upperCase:new CharSet(_upper),lowerCase:new CharSet(_lower),upperAndLowerCase:new CharSet(_upper+_lower)},_initCore=function(){_coreInitted=gsap=_getGSAP()},ScrambleTextPlugin={version:"3.11.4",name:"scrambleText",register:function(ne,te,ee){gsap=ne,_initCore()},init:function(ne,te,ee,re,ie){if(_coreInitted||_initCore(),this.prop="innerHTML"in ne?"innerHTML":"textContent"in ne?"textContent":0,!!this.prop){this.target=ne,typeof te!="object"&&(te={text:te});var ae=te.text||te.value||"",oe=te.trim!==!1,le=this,he,ue,pe,ce;return le.delimiter=he=te.delimiter||"",le.original=emojiSafeSplit(getText(ne).replace(_spacesExp," ").split("&nbsp;").join(""),he,oe),(ae==="{original}"||ae===!0||ae==null)&&(ae=le.original.join(he)),le.text=emojiSafeSplit((ae||"").replace(_spacesExp," "),he,oe),le.hasClass=!!(te.newClass||te.oldClass),le.newClass=te.newClass,le.oldClass=te.oldClass,ce=he==="",le.textHasEmoji=ce&&!!le.text.emoji,le.charsHaveEmoji=!!te.chars&&!!emojiSafeSplit(te.chars).emoji,le.length=ce?le.original.length:le.original.join(he).length,le.lengthDif=(ce?le.text.length:le.text.join(he).length)-le.length,le.fillChar=te.fillChar||te.chars&&~te.chars.indexOf(" ")?"&nbsp;":"",le.charSet=pe=_charsLookup[te.chars||"upperCase"]||new CharSet(te.chars),le.speed=.05/(te.speed||1),le.prevScrambleTime=0,le.setIndex=Math.random()*20|0,ue=le.length+Math.max(le.lengthDif,0),ue>pe.length&&pe.grow(ue),le.chars=pe.sets[le.setIndex],le.revealDelay=te.revealDelay||0,le.tweenLength=te.tweenLength!==!1,le.tween=ee,le.rightToLeft=!!te.rightToLeft,le._props.push("scrambleText","text"),_bonusValidated}},render:function(ne,te){var ee=te.target,re=te.prop,ie=te.text,ae=te.delimiter,oe=te.tween,le=te.prevScrambleTime,he=te.revealDelay,ue=te.setIndex,pe=te.chars,ce=te.charSet,fe=te.length,me=te.textHasEmoji,de=te.charsHaveEmoji,ve=te.lengthDif,ge=te.tweenLength,xe=te.oldClass,_e=te.newClass,ye=te.rightToLeft,we=te.fillChar,be=te.speed,Se=te.original,Ce=te.hasClass,Te=ie.length,De=oe._time,Fe=De-le,Le,Ie,Oe,ke,Pe,Me,Ee,Ae,Re,Be,ze;he&&(oe._from&&(De=oe._dur-De),ne=De===0?0:De<he?1e-6:De===oe._dur?1:oe._ease((De-he)/(oe._dur-he))),ne<0?ne=0:ne>1&&(ne=1),ye&&(ne=1-ne),Le=~~(ne*Te+.5),ne?((Fe>be||Fe<-be)&&(te.setIndex=ue=(ue+(Math.random()*19|0))%20,te.chars=ce.sets[ue],te.prevScrambleTime+=Fe),ke=pe):ke=Se.join(ae),ze=oe._from?ne:1-ne,Be=fe+(ge?oe._from?ze*ze*ze:1-ze*ze*ze:1)*ve,ye?ne===1&&(oe._from||oe.data==="isFromStart")?(Oe="",ke=Se.join(ae)):(Ee=ie.slice(Le).join(ae),de?Oe=emojiSafeSplit(ke).slice(0,Be-(me?emojiSafeSplit(Ee):Ee).length+.5|0).join(""):Oe=ke.substr(0,Be-(me?emojiSafeSplit(Ee):Ee).length+.5|0),ke=Ee):(Oe=ie.slice(0,Le).join(ae),Ie=(me?emojiSafeSplit(Oe):Oe).length,de?ke=emojiSafeSplit(ke).slice(Ie,Be+.5|0).join(""):ke=ke.substr(Ie,Be-Ie+.5|0)),Ce?(Ae=ye?xe:_e,Re=ye?_e:xe,Pe=Ae&&Le!==0,Me=Re&&Le!==Te,Ee=(Pe?"<span class='"+Ae+"'>":"")+Oe+(Pe?"</span>":"")+(Me?"<span class='"+Re+"'>":"")+ae+ke+(Me?"</span>":"")):Ee=Oe+ae+ke,ee[re]=we==="&nbsp;"&&~Ee.indexOf("  ")?Ee.split("  ").join("&nbsp;&nbsp;"):Ee}};ScrambleTextPlugin.emojiSafeSplit=emojiSafeSplit,ScrambleTextPlugin.getText=getText,_getGSAP()&&gsap.registerPlugin(ScrambleTextPlugin),gsapWithCSS.registerPlugin(ScrollTrigger,SplitText,ScrambleTextPlugin);class _Hero{constructor(){gsapWithCSS.matchMedia();const ne="abcdefghijklnopqrstuvxyz";let te=$(".aaron__lines"),ee=$(".aaron__columns"),re=te.find(".aaron__line"),ie=$(".aaron__line"),ae=ee.find(".aaron__item"),oe=ee.find(".aaron__item").eq(0),le=ee.find(".aaron__item").eq(1),he=ee.find(".aaron__item").eq(2),ue=ae.eq(0).find(".aron-font").text();ae.append(`<p class="aron-font absolute col-grey">${ue}</p>`);let pe=oe.find(".aron-font").eq(0),ce=le.find(".aron-font").eq(0),fe=he.find(".aron-font").eq(0),me=oe.find(".aron-font").eq(1),de=le.find(".aron-font").eq(1),ve=he.find(".aron-font").eq(1),ge=new SplitText(pe,{type:"chars, lines"}),xe=new SplitText(ce,{type:"chars, lines"}),_e=new SplitText(fe,{type:"chars, lines"}),ye=new SplitText(me,{type:"chars, lines"}),we=new SplitText(de,{type:"chars, lines"}),be=new SplitText(ve,{type:"chars, lines"});gsapWithCSS.set(ie,{scaleY:1.02}),gsapWithCSS.timeline({defaults:{duration:.8,ease:"power3"},repeat:-1}).from(ge.lines,{yPercent:-40,ease:"power1",duration:1.2}).from(xe.lines,{yPercent:-40,ease:"power1",duration:1.2},"<").from(_e.lines,{yPercent:-40,ease:"power1",duration:1.2},"<").from(ge.chars,{opacity:0,stagger:.04,duration:1},"<").from(ge.chars,{stagger:.04,duration:.1,scrambleText:{text:"{original}",chars:ne}},"<").from(xe.chars,{stagger:.04,duration:.1,scrambleText:{text:"{original}",chars:ne}},"<").from(_e.chars,{stagger:.04,duration:.1,scrambleText:{text:"{original}",chars:ne}},"<").from(xe.chars,{opacity:0,stagger:.04,duration:1},"<").from(_e.chars,{opacity:0,stagger:.04,duration:1},"<").to(ge.lines,{xPercent:-110,stagger:{from:"start",each:.08},ease:"power3.In",duration:.4},">20%").to(xe.lines,{xPercent:-110,stagger:{from:"start",each:.08},ease:"power3.In",duration:.4},"<").to(_e.lines,{xPercent:-110,stagger:{from:"start",each:.08},ease:"power3.In",duration:.4},"<").from(re,{transformOrigin:"right",scaleX:0,stagger:.2},"<").from([me,de,ve],{yPercent:-10,ease:"power1",duration:1.2},"<50%").from(ye.chars,{opacity:0,stagger:.04,duration:1},"<").from(ye.chars,{stagger:.04,duration:.1,scrambleText:{text:"{original}",chars:ne}},"<").from(we.chars,{stagger:.04,duration:.1,scrambleText:{text:"{original}",chars:ne}},"<").from(be.chars,{stagger:.04,duration:.1,scrambleText:{text:"{original}",chars:ne}},"<").from(we.chars,{opacity:0,stagger:.04,duration:1},"<").from(be.chars,{opacity:0,stagger:.04,duration:1},"<").to(ye.lines,{xPercent:-110,stagger:{from:"start",each:.08},ease:"power3.In",duration:.4},">20%").to(we.lines,{xPercent:-110,stagger:{from:"start",each:.08},ease:"power3.In",duration:.4},"<").to(be.lines,{xPercent:-110,stagger:{from:"start",each:.08},ease:"power3.In",duration:.4},"<").to(re,{transformOrigin:"left",scaleX:0,stagger:.2},"<");let Ce=ge.lines[0],Te=$(Ce).height();$(ye.lines).height(Te),$(we.lines).height(Te),$(be.lines).height(Te)}}var lottie={exports:{}};(function(module,exports){typeof navigator!="undefined"&&function(se,ne){module.exports=ne()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(ne){_useWebWorker=!!ne},getWebWorker=function(){return _useWebWorker},setLocationHref=function(ne){locationHref=ne},getLocationHref=function(){return locationHref};function createTag(se){return document.createElement(se)}function extendPrototype(se,ne){var te,ee=se.length,re;for(te=0;te<ee;te+=1){re=se[te].prototype;for(var ie in re)Object.prototype.hasOwnProperty.call(re,ie)&&(ne.prototype[ie]=re[ie])}}function getDescriptor(se,ne){return Object.getOwnPropertyDescriptor(se,ne)}function createProxyFunction(se){function ne(){}return ne.prototype=se,ne}var audioControllerFactory=function(){function se(ne){this.audios=[],this.audioFactory=ne,this._volume=1,this._isMuted=!1}return se.prototype={addAudio:function(te){this.audios.push(te)},pause:function(){var te,ee=this.audios.length;for(te=0;te<ee;te+=1)this.audios[te].pause()},resume:function(){var te,ee=this.audios.length;for(te=0;te<ee;te+=1)this.audios[te].resume()},setRate:function(te){var ee,re=this.audios.length;for(ee=0;ee<re;ee+=1)this.audios[ee].setRate(te)},createAudio:function(te){return this.audioFactory?this.audioFactory(te):window.Howl?new window.Howl({src:[te]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(te){this.audioFactory=te},setVolume:function(te){this._volume=te,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var te,ee=this.audios.length;for(te=0;te<ee;te+=1)this.audios[te].volume(this._volume*(this._isMuted?0:1))}},function(){return new se}}(),createTypedArray=function(){function se(te,ee){var re=0,ie=[],ae;switch(te){case"int16":case"uint8c":ae=1;break;default:ae=1.1;break}for(re=0;re<ee;re+=1)ie.push(ae);return ie}function ne(te,ee){return te==="float32"?new Float32Array(ee):te==="int16"?new Int16Array(ee):te==="uint8c"?new Uint8ClampedArray(ee):se(te,ee)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?ne:se}();function createSizedArray(se){return Array.apply(null,{length:se})}function _typeof$6(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(te){return typeof te}:_typeof$6=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$6(se)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var se=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],ne,te=se.length;for(ne=0;ne<te;ne+=1)BMMath[se[ne]]=Math[se[ne]]})(),BMMath.random=Math.random,BMMath.abs=function(se){var ne=_typeof$6(se);if(ne==="object"&&se.length){var te=createSizedArray(se.length),ee,re=se.length;for(ee=0;ee<re;ee+=1)te[ee]=Math.abs(se[ee]);return te}return Math.abs(se)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(se){se.style.position="absolute",se.style.top=0,se.style.left=0,se.style.display="block",se.style.transformOrigin="0 0",se.style.webkitTransformOrigin="0 0",se.style.backfaceVisibility="visible",se.style.webkitBackfaceVisibility="visible",se.style.transformStyle="preserve-3d",se.style.webkitTransformStyle="preserve-3d",se.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(se,ne,te,ee){this.type=se,this.currentTime=ne,this.totalTime=te,this.direction=ee<0?-1:1}function BMCompleteEvent(se,ne){this.type=se,this.direction=ne<0?-1:1}function BMCompleteLoopEvent(se,ne,te,ee){this.type=se,this.currentLoop=te,this.totalLoops=ne,this.direction=ee<0?-1:1}function BMSegmentStartEvent(se,ne,te){this.type=se,this.firstFrame=ne,this.totalFrames=te}function BMDestroyEvent(se,ne){this.type=se,this.target=ne}function BMRenderFrameErrorEvent(se,ne){this.type="renderFrameError",this.nativeError=se,this.currentTime=ne}function BMConfigErrorEvent(se){this.type="configError",this.nativeError=se}var createElementID=function(){var se=0;return function(){return se+=1,idPrefix$1+"__lottie_element_"+se}}();function HSVtoRGB(se,ne,te){var ee,re,ie,ae,oe,le,he,ue;switch(ae=Math.floor(se*6),oe=se*6-ae,le=te*(1-ne),he=te*(1-oe*ne),ue=te*(1-(1-oe)*ne),ae%6){case 0:ee=te,re=ue,ie=le;break;case 1:ee=he,re=te,ie=le;break;case 2:ee=le,re=te,ie=ue;break;case 3:ee=le,re=he,ie=te;break;case 4:ee=ue,re=le,ie=te;break;case 5:ee=te,re=le,ie=he;break}return[ee,re,ie]}function RGBtoHSV(se,ne,te){var ee=Math.max(se,ne,te),re=Math.min(se,ne,te),ie=ee-re,ae,oe=ee===0?0:ie/ee,le=ee/255;switch(ee){case re:ae=0;break;case se:ae=ne-te+ie*(ne<te?6:0),ae/=6*ie;break;case ne:ae=te-se+ie*2,ae/=6*ie;break;case te:ae=se-ne+ie*4,ae/=6*ie;break}return[ae,oe,le]}function addSaturationToRGB(se,ne){var te=RGBtoHSV(se[0]*255,se[1]*255,se[2]*255);return te[1]+=ne,te[1]>1?te[1]=1:te[1]<=0&&(te[1]=0),HSVtoRGB(te[0],te[1],te[2])}function addBrightnessToRGB(se,ne){var te=RGBtoHSV(se[0]*255,se[1]*255,se[2]*255);return te[2]+=ne,te[2]>1?te[2]=1:te[2]<0&&(te[2]=0),HSVtoRGB(te[0],te[1],te[2])}function addHueToRGB(se,ne){var te=RGBtoHSV(se[0]*255,se[1]*255,se[2]*255);return te[0]+=ne/360,te[0]>1?te[0]-=1:te[0]<0&&(te[0]+=1),HSVtoRGB(te[0],te[1],te[2])}var rgbToHex=function(){var se=[],ne,te;for(ne=0;ne<256;ne+=1)te=ne.toString(16),se[ne]=te.length===1?"0"+te:te;return function(ee,re,ie){return ee<0&&(ee=0),re<0&&(re=0),ie<0&&(ie=0),"#"+se[ee]+se[re]+se[ie]}}(),setSubframeEnabled=function(ne){subframeEnabled=!!ne},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(ne){expressionsPlugin=ne},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(ne){expressionsInterfaces=ne},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(ne){defaultCurveSegments=ne},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(ne){idPrefix$1=ne};function createNS(se){return document.createElementNS(svgNS,se)}function _typeof$5(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(te){return typeof te}:_typeof$5=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$5(se)}var dataManager=function(){var se=1,ne=[],te,ee,re={onmessage:function(){},postMessage:function(fe){te({data:fe})}},ie={postMessage:function(fe){re.onmessage({data:fe})}};function ae(ce){if(window.Worker&&window.Blob&&getWebWorker()){var fe=new Blob(["var _workerSelf = self; self.onmessage = ",ce.toString()],{type:"text/javascript"}),me=URL.createObjectURL(fe);return new Worker(me)}return te=ce,re}function oe(){ee||(ee=ae(function(fe){function me(){function ve(ke,Pe){var Me,Ee,Ae=ke.length,Re,Be,ze,je;for(Ee=0;Ee<Ae;Ee+=1)if(Me=ke[Ee],"ks"in Me&&!Me.completed){if(Me.completed=!0,Me.hasMask){var $e=Me.masksProperties;for(Be=$e.length,Re=0;Re<Be;Re+=1)if($e[Re].pt.k.i)we($e[Re].pt.k);else for(je=$e[Re].pt.k.length,ze=0;ze<je;ze+=1)$e[Re].pt.k[ze].s&&we($e[Re].pt.k[ze].s[0]),$e[Re].pt.k[ze].e&&we($e[Re].pt.k[ze].e[0])}Me.ty===0?(Me.layers=_e(Me.refId,Pe),ve(Me.layers,Pe)):Me.ty===4?ye(Me.shapes):Me.ty===5&&Ie(Me)}}function ge(ke,Pe){if(ke){var Me=0,Ee=ke.length;for(Me=0;Me<Ee;Me+=1)ke[Me].t===1&&(ke[Me].data.layers=_e(ke[Me].data.refId,Pe),ve(ke[Me].data.layers,Pe))}}function xe(ke,Pe){for(var Me=0,Ee=Pe.length;Me<Ee;){if(Pe[Me].id===ke)return Pe[Me];Me+=1}return null}function _e(ke,Pe){var Me=xe(ke,Pe);return Me?Me.layers.__used?JSON.parse(JSON.stringify(Me.layers)):(Me.layers.__used=!0,Me.layers):null}function ye(ke){var Pe,Me=ke.length,Ee,Ae;for(Pe=Me-1;Pe>=0;Pe-=1)if(ke[Pe].ty==="sh")if(ke[Pe].ks.k.i)we(ke[Pe].ks.k);else for(Ae=ke[Pe].ks.k.length,Ee=0;Ee<Ae;Ee+=1)ke[Pe].ks.k[Ee].s&&we(ke[Pe].ks.k[Ee].s[0]),ke[Pe].ks.k[Ee].e&&we(ke[Pe].ks.k[Ee].e[0]);else ke[Pe].ty==="gr"&&ye(ke[Pe].it)}function we(ke){var Pe,Me=ke.i.length;for(Pe=0;Pe<Me;Pe+=1)ke.i[Pe][0]+=ke.v[Pe][0],ke.i[Pe][1]+=ke.v[Pe][1],ke.o[Pe][0]+=ke.v[Pe][0],ke.o[Pe][1]+=ke.v[Pe][1]}function be(ke,Pe){var Me=Pe?Pe.split("."):[100,100,100];return ke[0]>Me[0]?!0:Me[0]>ke[0]?!1:ke[1]>Me[1]?!0:Me[1]>ke[1]?!1:ke[2]>Me[2]?!0:Me[2]>ke[2]?!1:null}var Se=function(){var ke=[4,4,14];function Pe(Ee){var Ae=Ee.t.d;Ee.t.d={k:[{s:Ae,t:0}]}}function Me(Ee){var Ae,Re=Ee.length;for(Ae=0;Ae<Re;Ae+=1)Ee[Ae].ty===5&&Pe(Ee[Ae])}return function(Ee){if(be(ke,Ee.v)&&(Me(Ee.layers),Ee.assets)){var Ae,Re=Ee.assets.length;for(Ae=0;Ae<Re;Ae+=1)Ee.assets[Ae].layers&&Me(Ee.assets[Ae].layers)}}}(),Ce=function(){var ke=[4,7,99];return function(Pe){if(Pe.chars&&!be(ke,Pe.v)){var Me,Ee=Pe.chars.length;for(Me=0;Me<Ee;Me+=1){var Ae=Pe.chars[Me];Ae.data&&Ae.data.shapes&&(ye(Ae.data.shapes),Ae.data.ip=0,Ae.data.op=99999,Ae.data.st=0,Ae.data.sr=1,Ae.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Pe.chars[Me].t||(Ae.data.shapes.push({ty:"no"}),Ae.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Te=function(){var ke=[5,7,15];function Pe(Ee){var Ae=Ee.t.p;typeof Ae.a=="number"&&(Ae.a={a:0,k:Ae.a}),typeof Ae.p=="number"&&(Ae.p={a:0,k:Ae.p}),typeof Ae.r=="number"&&(Ae.r={a:0,k:Ae.r})}function Me(Ee){var Ae,Re=Ee.length;for(Ae=0;Ae<Re;Ae+=1)Ee[Ae].ty===5&&Pe(Ee[Ae])}return function(Ee){if(be(ke,Ee.v)&&(Me(Ee.layers),Ee.assets)){var Ae,Re=Ee.assets.length;for(Ae=0;Ae<Re;Ae+=1)Ee.assets[Ae].layers&&Me(Ee.assets[Ae].layers)}}}(),De=function(){var ke=[4,1,9];function Pe(Ee){var Ae,Re=Ee.length,Be,ze;for(Ae=0;Ae<Re;Ae+=1)if(Ee[Ae].ty==="gr")Pe(Ee[Ae].it);else if(Ee[Ae].ty==="fl"||Ee[Ae].ty==="st")if(Ee[Ae].c.k&&Ee[Ae].c.k[0].i)for(ze=Ee[Ae].c.k.length,Be=0;Be<ze;Be+=1)Ee[Ae].c.k[Be].s&&(Ee[Ae].c.k[Be].s[0]/=255,Ee[Ae].c.k[Be].s[1]/=255,Ee[Ae].c.k[Be].s[2]/=255,Ee[Ae].c.k[Be].s[3]/=255),Ee[Ae].c.k[Be].e&&(Ee[Ae].c.k[Be].e[0]/=255,Ee[Ae].c.k[Be].e[1]/=255,Ee[Ae].c.k[Be].e[2]/=255,Ee[Ae].c.k[Be].e[3]/=255);else Ee[Ae].c.k[0]/=255,Ee[Ae].c.k[1]/=255,Ee[Ae].c.k[2]/=255,Ee[Ae].c.k[3]/=255}function Me(Ee){var Ae,Re=Ee.length;for(Ae=0;Ae<Re;Ae+=1)Ee[Ae].ty===4&&Pe(Ee[Ae].shapes)}return function(Ee){if(be(ke,Ee.v)&&(Me(Ee.layers),Ee.assets)){var Ae,Re=Ee.assets.length;for(Ae=0;Ae<Re;Ae+=1)Ee.assets[Ae].layers&&Me(Ee.assets[Ae].layers)}}}(),Fe=function(){var ke=[4,4,18];function Pe(Ee){var Ae,Re=Ee.length,Be,ze;for(Ae=Re-1;Ae>=0;Ae-=1)if(Ee[Ae].ty==="sh")if(Ee[Ae].ks.k.i)Ee[Ae].ks.k.c=Ee[Ae].closed;else for(ze=Ee[Ae].ks.k.length,Be=0;Be<ze;Be+=1)Ee[Ae].ks.k[Be].s&&(Ee[Ae].ks.k[Be].s[0].c=Ee[Ae].closed),Ee[Ae].ks.k[Be].e&&(Ee[Ae].ks.k[Be].e[0].c=Ee[Ae].closed);else Ee[Ae].ty==="gr"&&Pe(Ee[Ae].it)}function Me(Ee){var Ae,Re,Be=Ee.length,ze,je,$e,We;for(Re=0;Re<Be;Re+=1){if(Ae=Ee[Re],Ae.hasMask){var Ge=Ae.masksProperties;for(je=Ge.length,ze=0;ze<je;ze+=1)if(Ge[ze].pt.k.i)Ge[ze].pt.k.c=Ge[ze].cl;else for(We=Ge[ze].pt.k.length,$e=0;$e<We;$e+=1)Ge[ze].pt.k[$e].s&&(Ge[ze].pt.k[$e].s[0].c=Ge[ze].cl),Ge[ze].pt.k[$e].e&&(Ge[ze].pt.k[$e].e[0].c=Ge[ze].cl)}Ae.ty===4&&Pe(Ae.shapes)}}return function(Ee){if(be(ke,Ee.v)&&(Me(Ee.layers),Ee.assets)){var Ae,Re=Ee.assets.length;for(Ae=0;Ae<Re;Ae+=1)Ee.assets[Ae].layers&&Me(Ee.assets[Ae].layers)}}}();function Le(ke){ke.__complete||(De(ke),Se(ke),Ce(ke),Te(ke),Fe(ke),ve(ke.layers,ke.assets),ge(ke.chars,ke.assets),ke.__complete=!0)}function Ie(ke){ke.t.a.length===0&&"m"in ke.t.p}var Oe={};return Oe.completeData=Le,Oe.checkColors=De,Oe.checkChars=Ce,Oe.checkPathProperties=Te,Oe.checkShapes=Fe,Oe.completeLayers=ve,Oe}if(ie.dataManager||(ie.dataManager=me()),ie.assetLoader||(ie.assetLoader=function(){function ve(xe){var _e=xe.getResponseHeader("content-type");return _e&&xe.responseType==="json"&&_e.indexOf("json")!==-1||xe.response&&_typeof$5(xe.response)==="object"?xe.response:xe.response&&typeof xe.response=="string"?JSON.parse(xe.response):xe.responseText?JSON.parse(xe.responseText):null}function ge(xe,_e,ye,we){var be,Se=new XMLHttpRequest;try{Se.responseType="json"}catch{}Se.onreadystatechange=function(){if(Se.readyState===4)if(Se.status===200)be=ve(Se),ye(be);else try{be=ve(Se),ye(be)}catch(Ce){we&&we(Ce)}};try{Se.open(["G","E","T"].join(""),xe,!0)}catch{Se.open(["G","E","T"].join(""),_e+"/"+xe,!0)}Se.send()}return{load:ge}}()),fe.data.type==="loadAnimation")ie.assetLoader.load(fe.data.path,fe.data.fullPath,function(ve){ie.dataManager.completeData(ve),ie.postMessage({id:fe.data.id,payload:ve,status:"success"})},function(){ie.postMessage({id:fe.data.id,status:"error"})});else if(fe.data.type==="complete"){var de=fe.data.animation;ie.dataManager.completeData(de),ie.postMessage({id:fe.data.id,payload:de,status:"success"})}else fe.data.type==="loadData"&&ie.assetLoader.load(fe.data.path,fe.data.fullPath,function(ve){ie.postMessage({id:fe.data.id,payload:ve,status:"success"})},function(){ie.postMessage({id:fe.data.id,status:"error"})})}),ee.onmessage=function(ce){var fe=ce.data,me=fe.id,de=ne[me];ne[me]=null,fe.status==="success"?de.onComplete(fe.payload):de.onError&&de.onError()})}function le(ce,fe){se+=1;var me="processId_"+se;return ne[me]={onComplete:ce,onError:fe},me}function he(ce,fe,me){oe();var de=le(fe,me);ee.postMessage({type:"loadAnimation",path:ce,fullPath:window.location.origin+window.location.pathname,id:de})}function ue(ce,fe,me){oe();var de=le(fe,me);ee.postMessage({type:"loadData",path:ce,fullPath:window.location.origin+window.location.pathname,id:de})}function pe(ce,fe,me){oe();var de=le(fe,me);ee.postMessage({type:"complete",animation:ce,id:de})}return{loadAnimation:he,loadData:ue,completeAnimation:pe}}(),ImagePreloader=function(){var se=function(){var ge=createTag("canvas");ge.width=1,ge.height=1;var xe=ge.getContext("2d");return xe.fillStyle="rgba(0,0,0,0)",xe.fillRect(0,0,1,1),ge}();function ne(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function te(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ee(ge,xe,_e){var ye="";if(ge.e)ye=ge.p;else if(xe){var we=ge.p;we.indexOf("images/")!==-1&&(we=we.split("/")[1]),ye=xe+we}else ye=_e,ye+=ge.u?ge.u:"",ye+=ge.p;return ye}function re(ge){var xe=0,_e=setInterval(function(){var ye=ge.getBBox();(ye.width||xe>500)&&(this._imageLoaded(),clearInterval(_e)),xe+=1}.bind(this),50)}function ie(ge){var xe=ee(ge,this.assetsPath,this.path),_e=createNS("image");isSafari?this.testImageLoaded(_e):_e.addEventListener("load",this._imageLoaded,!1),_e.addEventListener("error",function(){ye.img=se,this._imageLoaded()}.bind(this),!1),_e.setAttributeNS("http://www.w3.org/1999/xlink","href",xe),this._elementHelper.append?this._elementHelper.append(_e):this._elementHelper.appendChild(_e);var ye={img:_e,assetData:ge};return ye}function ae(ge){var xe=ee(ge,this.assetsPath,this.path),_e=createTag("img");_e.crossOrigin="anonymous",_e.addEventListener("load",this._imageLoaded,!1),_e.addEventListener("error",function(){ye.img=se,this._imageLoaded()}.bind(this),!1),_e.src=xe;var ye={img:_e,assetData:ge};return ye}function oe(ge){var xe={assetData:ge},_e=ee(ge,this.assetsPath,this.path);return dataManager.loadData(_e,function(ye){xe.img=ye,this._footageLoaded()}.bind(this),function(){xe.img={},this._footageLoaded()}.bind(this)),xe}function le(ge,xe){this.imagesLoadedCb=xe;var _e,ye=ge.length;for(_e=0;_e<ye;_e+=1)ge[_e].layers||(!ge[_e].t||ge[_e].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(ge[_e]))):ge[_e].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ge[_e]))))}function he(ge){this.path=ge||""}function ue(ge){this.assetsPath=ge||""}function pe(ge){for(var xe=0,_e=this.images.length;xe<_e;){if(this.images[xe].assetData===ge)return this.images[xe].img;xe+=1}return null}function ce(){this.imagesLoadedCb=null,this.images.length=0}function fe(){return this.totalImages===this.loadedAssets}function me(){return this.totalFootages===this.loadedFootagesCount}function de(ge,xe){ge==="svg"?(this._elementHelper=xe,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function ve(){this._imageLoaded=ne.bind(this),this._footageLoaded=te.bind(this),this.testImageLoaded=re.bind(this),this.createFootageData=oe.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ve.prototype={loadAssets:le,setAssetsPath:ue,setPath:he,loadedImages:fe,loadedFootages:me,destroy:ce,getAsset:pe,createImgData:ae,createImageData:ie,imageLoaded:ne,footageLoaded:te,setCacheType:de},ve}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(ne,te){if(this._cbs[ne])for(var ee=this._cbs[ne],re=0;re<ee.length;re+=1)ee[re](te)},addEventListener:function(ne,te){return this._cbs[ne]||(this._cbs[ne]=[]),this._cbs[ne].push(te),function(){this.removeEventListener(ne,te)}.bind(this)},removeEventListener:function(ne,te){if(!te)this._cbs[ne]=null;else if(this._cbs[ne]){for(var ee=0,re=this._cbs[ne].length;ee<re;)this._cbs[ne][ee]===te&&(this._cbs[ne].splice(ee,1),ee-=1,re-=1),ee+=1;this._cbs[ne].length||(this._cbs[ne]=null)}}};var markerParser=function(){function se(ne){for(var te=ne.split(`\r
`),ee={},re,ie=0,ae=0;ae<te.length;ae+=1)re=te[ae].split(":"),re.length===2&&(ee[re[0]]=re[1].trim(),ie+=1);if(ie===0)throw new Error;return ee}return function(ne){for(var te=[],ee=0;ee<ne.length;ee+=1){var re=ne[ee],ie={time:re.tm,duration:re.dr};try{ie.payload=JSON.parse(ne[ee].cm)}catch{try{ie.payload=se(ne[ee].cm)}catch{ie.payload={name:ne[ee].cm}}}te.push(ie)}return te}}(),ProjectInterface=function(){function se(ne){this.compositions.push(ne)}return function(){function ne(te){for(var ee=0,re=this.compositions.length;ee<re;){if(this.compositions[ee].data&&this.compositions[ee].data.nm===te)return this.compositions[ee].prepareFrame&&this.compositions[ee].data.xt&&this.compositions[ee].prepareFrame(this.currentFrame),this.compositions[ee].compInterface;ee+=1}return null}return ne.compositions=[],ne.currentFrame=0,ne.registerComposition=se,ne}}(),renderers={},registerRenderer=function(ne,te){renderers[ne]=te};function getRenderer(se){return renderers[se]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var se in renderers)if(renderers[se])return se;return""}function _typeof$4(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(te){return typeof te}:_typeof$4=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$4(se)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(se){(se.wrapper||se.container)&&(this.wrapper=se.wrapper||se.container);var ne="svg";se.animType?ne=se.animType:se.renderer&&(ne=se.renderer);var te=getRenderer(ne);this.renderer=new te(this,se.rendererSettings),this.imagePreloader.setCacheType(ne,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=ne,se.loop===""||se.loop===null||se.loop===void 0||se.loop===!0?this.loop=!0:se.loop===!1?this.loop=!1:this.loop=parseInt(se.loop,10),this.autoplay="autoplay"in se?se.autoplay:!0,this.name=se.name?se.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(se,"autoloadSegments")?se.autoloadSegments:!0,this.assetsPath=se.assetsPath,this.initialSegment=se.initialSegment,se.audioFactory&&this.audioController.setAudioFactory(se.audioFactory),se.animationData?this.setupAnimation(se.animationData):se.path&&(se.path.lastIndexOf("\\")!==-1?this.path=se.path.substr(0,se.path.lastIndexOf("\\")+1):this.path=se.path.substr(0,se.path.lastIndexOf("/")+1),this.fileName=se.path.substr(se.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(se.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(se){dataManager.completeAnimation(se,this.configAnimation)},AnimationItem.prototype.setData=function(se,ne){ne&&_typeof$4(ne)!=="object"&&(ne=JSON.parse(ne));var te={wrapper:se,animationData:ne},ee=se.attributes;te.path=ee.getNamedItem("data-animation-path")?ee.getNamedItem("data-animation-path").value:ee.getNamedItem("data-bm-path")?ee.getNamedItem("data-bm-path").value:ee.getNamedItem("bm-path")?ee.getNamedItem("bm-path").value:"",te.animType=ee.getNamedItem("data-anim-type")?ee.getNamedItem("data-anim-type").value:ee.getNamedItem("data-bm-type")?ee.getNamedItem("data-bm-type").value:ee.getNamedItem("bm-type")?ee.getNamedItem("bm-type").value:ee.getNamedItem("data-bm-renderer")?ee.getNamedItem("data-bm-renderer").value:ee.getNamedItem("bm-renderer")?ee.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var re=ee.getNamedItem("data-anim-loop")?ee.getNamedItem("data-anim-loop").value:ee.getNamedItem("data-bm-loop")?ee.getNamedItem("data-bm-loop").value:ee.getNamedItem("bm-loop")?ee.getNamedItem("bm-loop").value:"";re==="false"?te.loop=!1:re==="true"?te.loop=!0:re!==""&&(te.loop=parseInt(re,10));var ie=ee.getNamedItem("data-anim-autoplay")?ee.getNamedItem("data-anim-autoplay").value:ee.getNamedItem("data-bm-autoplay")?ee.getNamedItem("data-bm-autoplay").value:ee.getNamedItem("bm-autoplay")?ee.getNamedItem("bm-autoplay").value:!0;te.autoplay=ie!=="false",te.name=ee.getNamedItem("data-name")?ee.getNamedItem("data-name").value:ee.getNamedItem("data-bm-name")?ee.getNamedItem("data-bm-name").value:ee.getNamedItem("bm-name")?ee.getNamedItem("bm-name").value:"";var ae=ee.getNamedItem("data-anim-prerender")?ee.getNamedItem("data-anim-prerender").value:ee.getNamedItem("data-bm-prerender")?ee.getNamedItem("data-bm-prerender").value:ee.getNamedItem("bm-prerender")?ee.getNamedItem("bm-prerender").value:"";ae==="false"&&(te.prerender=!1),te.path?this.setParams(te):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(se){se.op>this.animationData.op&&(this.animationData.op=se.op,this.totalFrames=Math.floor(se.op-this.animationData.ip));var ne=this.animationData.layers,te,ee=ne.length,re=se.layers,ie,ae=re.length;for(ie=0;ie<ae;ie+=1)for(te=0;te<ee;){if(ne[te].id===re[ie].id){ne[te]=re[ie];break}te+=1}if((se.chars||se.fonts)&&(this.renderer.globalData.fontManager.addChars(se.chars),this.renderer.globalData.fontManager.addFonts(se.fonts,this.renderer.globalData.defs)),se.assets)for(ee=se.assets.length,te=0;te<ee;te+=1)this.animationData.assets.push(se.assets[te]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(se){this.animationData=se;var ne=getExpressionsPlugin();ne&&ne.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var se=this.animationData.segments;if(!se||se.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var ne=se.shift();this.timeCompleted=ne.time*this.frameRate;var te=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(te,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var se=this.animationData.segments;se||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(se){if(!!this.renderer)try{this.animationData=se,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(se),se.assets||(se.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(se.assets),this.markers=markerParser(se.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(ne){this.triggerConfigError(ne)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var se=getExpressionsPlugin();se&&se.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(se,ne){var te=typeof se=="number"?se:void 0,ee=typeof ne=="number"?ne:void 0;this.renderer.updateContainerSize(te,ee)},AnimationItem.prototype.setSubframe=function(se){this.isSubframeEnabled=!!se},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(se){this.triggerRenderFrameError(se)}},AnimationItem.prototype.play=function(se){se&&this.name!==se||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(se){se&&this.name!==se||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(se){se&&this.name!==se||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(se){se&&this.name!==se||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(se){for(var ne,te=0;te<this.markers.length;te+=1)if(ne=this.markers[te],ne.payload&&ne.payload.name===se)return ne;return null},AnimationItem.prototype.goToAndStop=function(se,ne,te){if(!(te&&this.name!==te)){var ee=Number(se);if(isNaN(ee)){var re=this.getMarkerData(se);re&&this.goToAndStop(re.time,!0)}else ne?this.setCurrentRawFrameValue(se):this.setCurrentRawFrameValue(se*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(se,ne,te){if(!(te&&this.name!==te)){var ee=Number(se);if(isNaN(ee)){var re=this.getMarkerData(se);re&&(re.duration?this.playSegments([re.time,re.time+re.duration],!0):this.goToAndStop(re.time,!0))}else this.goToAndStop(ee,ne,te);this.play()}},AnimationItem.prototype.advanceTime=function(se){if(!(this.isPaused===!0||this.isLoaded===!1)){var ne=this.currentRawFrame+se*this.frameModifier,te=!1;ne>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(ne>this.totalFrames?ne%this.totalFrames:0)||(te=!0,ne=this.totalFrames-1):ne>=this.totalFrames?(this.playCount+=1,this.checkSegments(ne%this.totalFrames)||(this.setCurrentRawFrameValue(ne%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(ne):ne<0?this.checkSegments(ne%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+ne%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(te=!0,ne=0)):this.setCurrentRawFrameValue(ne),te&&(this.setCurrentRawFrameValue(ne),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(se,ne){this.playCount=0,se[1]<se[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=se[0]-se[1],this.timeCompleted=this.totalFrames,this.firstFrame=se[1],this.setCurrentRawFrameValue(this.totalFrames-.001-ne)):se[1]>se[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=se[1]-se[0],this.timeCompleted=this.totalFrames,this.firstFrame=se[0],this.setCurrentRawFrameValue(.001+ne)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(se,ne){var te=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<se?te=se:this.currentRawFrame+this.firstFrame>ne&&(te=ne-se)),this.firstFrame=se,this.totalFrames=ne-se,this.timeCompleted=this.totalFrames,te!==-1&&this.goToAndStop(te,!0)},AnimationItem.prototype.playSegments=function(se,ne){if(ne&&(this.segments.length=0),_typeof$4(se[0])==="object"){var te,ee=se.length;for(te=0;te<ee;te+=1)this.segments.push(se[te])}else this.segments.push(se);this.segments.length&&ne&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(se){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),se&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(se){return this.segments.length?(this.adjustSegment(this.segments.shift(),se),!0):!1},AnimationItem.prototype.destroy=function(se){se&&this.name!==se||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(se){this.currentRawFrame=se,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(se){this.playSpeed=se,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(se){this.playDirection=se<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(se){this.loop=se},AnimationItem.prototype.setVolume=function(se,ne){ne&&this.name!==ne||this.audioController.setVolume(se)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(se){se&&this.name!==se||this.audioController.mute()},AnimationItem.prototype.unmute=function(se){se&&this.name!==se||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(se){var ne="";if(se.e)ne=se.p;else if(this.assetsPath){var te=se.p;te.indexOf("images/")!==-1&&(te=te.split("/")[1]),ne=this.assetsPath+te}else ne=this.path,ne+=se.u?se.u:"",ne+=se.p;return ne},AnimationItem.prototype.getAssetData=function(se){for(var ne=0,te=this.assets.length;ne<te;){if(se===this.assets[ne].id)return this.assets[ne];ne+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(se){return se?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(se,ne,te){try{var ee=this.renderer.getElementByPath(se);ee.updateDocumentData(ne,te)}catch{}},AnimationItem.prototype.trigger=function(se){if(this._cbs&&this._cbs[se])switch(se){case"enterFrame":this.triggerEvent(se,new BMEnterFrameEvent(se,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(se,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(se,new BMCompleteLoopEvent(se,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(se,new BMCompleteEvent(se,this.frameMult));break;case"segmentStart":this.triggerEvent(se,new BMSegmentStartEvent(se,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(se,new BMDestroyEvent(se,this));break;default:this.triggerEvent(se)}se==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(se,this.currentFrame,this.totalFrames,this.frameMult)),se==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(se,this.loop,this.playCount,this.frameMult)),se==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(se,this.frameMult)),se==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(se,this.firstFrame,this.totalFrames)),se==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(se,this))},AnimationItem.prototype.triggerRenderFrameError=function(se){var ne=new BMRenderFrameErrorEvent(se,this.currentFrame);this.triggerEvent("error",ne),this.onError&&this.onError.call(this,ne)},AnimationItem.prototype.triggerConfigError=function(se){var ne=new BMConfigErrorEvent(se,this.currentFrame);this.triggerEvent("error",ne),this.onError&&this.onError.call(this,ne)};var animationManager=function(){var se={},ne=[],te=0,ee=0,re=0,ie=!0,ae=!1;function oe(Pe){for(var Me=0,Ee=Pe.target;Me<ee;)ne[Me].animation===Ee&&(ne.splice(Me,1),Me-=1,ee-=1,Ee.isPaused||pe()),Me+=1}function le(Pe,Me){if(!Pe)return null;for(var Ee=0;Ee<ee;){if(ne[Ee].elem===Pe&&ne[Ee].elem!==null)return ne[Ee].animation;Ee+=1}var Ae=new AnimationItem;return ce(Ae,Pe),Ae.setData(Pe,Me),Ae}function he(){var Pe,Me=ne.length,Ee=[];for(Pe=0;Pe<Me;Pe+=1)Ee.push(ne[Pe].animation);return Ee}function ue(){re+=1,De()}function pe(){re-=1}function ce(Pe,Me){Pe.addEventListener("destroy",oe),Pe.addEventListener("_active",ue),Pe.addEventListener("_idle",pe),ne.push({elem:Me,animation:Pe}),ee+=1}function fe(Pe){var Me=new AnimationItem;return ce(Me,null),Me.setParams(Pe),Me}function me(Pe,Me){var Ee;for(Ee=0;Ee<ee;Ee+=1)ne[Ee].animation.setSpeed(Pe,Me)}function de(Pe,Me){var Ee;for(Ee=0;Ee<ee;Ee+=1)ne[Ee].animation.setDirection(Pe,Me)}function ve(Pe){var Me;for(Me=0;Me<ee;Me+=1)ne[Me].animation.play(Pe)}function ge(Pe){var Me=Pe-te,Ee;for(Ee=0;Ee<ee;Ee+=1)ne[Ee].animation.advanceTime(Me);te=Pe,re&&!ae?window.requestAnimationFrame(ge):ie=!0}function xe(Pe){te=Pe,window.requestAnimationFrame(ge)}function _e(Pe){var Me;for(Me=0;Me<ee;Me+=1)ne[Me].animation.pause(Pe)}function ye(Pe,Me,Ee){var Ae;for(Ae=0;Ae<ee;Ae+=1)ne[Ae].animation.goToAndStop(Pe,Me,Ee)}function we(Pe){var Me;for(Me=0;Me<ee;Me+=1)ne[Me].animation.stop(Pe)}function be(Pe){var Me;for(Me=0;Me<ee;Me+=1)ne[Me].animation.togglePause(Pe)}function Se(Pe){var Me;for(Me=ee-1;Me>=0;Me-=1)ne[Me].animation.destroy(Pe)}function Ce(Pe,Me,Ee){var Ae=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Re,Be=Ae.length;for(Re=0;Re<Be;Re+=1)Ee&&Ae[Re].setAttribute("data-bm-type",Ee),le(Ae[Re],Pe);if(Me&&Be===0){Ee||(Ee="svg");var ze=document.getElementsByTagName("body")[0];ze.innerText="";var je=createTag("div");je.style.width="100%",je.style.height="100%",je.setAttribute("data-bm-type",Ee),ze.appendChild(je),le(je,Pe)}}function Te(){var Pe;for(Pe=0;Pe<ee;Pe+=1)ne[Pe].animation.resize()}function De(){!ae&&re&&ie&&(window.requestAnimationFrame(xe),ie=!1)}function Fe(){ae=!0}function Le(){ae=!1,De()}function Ie(Pe,Me){var Ee;for(Ee=0;Ee<ee;Ee+=1)ne[Ee].animation.setVolume(Pe,Me)}function Oe(Pe){var Me;for(Me=0;Me<ee;Me+=1)ne[Me].animation.mute(Pe)}function ke(Pe){var Me;for(Me=0;Me<ee;Me+=1)ne[Me].animation.unmute(Pe)}return se.registerAnimation=le,se.loadAnimation=fe,se.setSpeed=me,se.setDirection=de,se.play=ve,se.pause=_e,se.stop=we,se.togglePause=be,se.searchAnimations=Ce,se.resize=Te,se.goToAndStop=ye,se.destroy=Se,se.freeze=Fe,se.unfreeze=Le,se.setVolume=Ie,se.mute=Oe,se.unmute=ke,se.getRegisteredAnimations=he,se}(),BezierFactory=function(){var se={};se.getBezierEasing=te;var ne={};function te(xe,_e,ye,we,be){var Se=be||("bez_"+xe+"_"+_e+"_"+ye+"_"+we).replace(/\./g,"p");if(ne[Se])return ne[Se];var Ce=new ge([xe,_e,ye,we]);return ne[Se]=Ce,Ce}var ee=4,re=.001,ie=1e-7,ae=10,oe=11,le=1/(oe-1),he=typeof Float32Array=="function";function ue(xe,_e){return 1-3*_e+3*xe}function pe(xe,_e){return 3*_e-6*xe}function ce(xe){return 3*xe}function fe(xe,_e,ye){return((ue(_e,ye)*xe+pe(_e,ye))*xe+ce(_e))*xe}function me(xe,_e,ye){return 3*ue(_e,ye)*xe*xe+2*pe(_e,ye)*xe+ce(_e)}function de(xe,_e,ye,we,be){var Se,Ce,Te=0;do Ce=_e+(ye-_e)/2,Se=fe(Ce,we,be)-xe,Se>0?ye=Ce:_e=Ce;while(Math.abs(Se)>ie&&++Te<ae);return Ce}function ve(xe,_e,ye,we){for(var be=0;be<ee;++be){var Se=me(_e,ye,we);if(Se===0)return _e;var Ce=fe(_e,ye,we)-xe;_e-=Ce/Se}return _e}function ge(xe){this._p=xe,this._mSampleValues=he?new Float32Array(oe):new Array(oe),this._precomputed=!1,this.get=this.get.bind(this)}return ge.prototype={get:function(_e){var ye=this._p[0],we=this._p[1],be=this._p[2],Se=this._p[3];return this._precomputed||this._precompute(),ye===we&&be===Se?_e:_e===0?0:_e===1?1:fe(this._getTForX(_e),we,Se)},_precompute:function(){var _e=this._p[0],ye=this._p[1],we=this._p[2],be=this._p[3];this._precomputed=!0,(_e!==ye||we!==be)&&this._calcSampleValues()},_calcSampleValues:function(){for(var _e=this._p[0],ye=this._p[2],we=0;we<oe;++we)this._mSampleValues[we]=fe(we*le,_e,ye)},_getTForX:function(_e){for(var ye=this._p[0],we=this._p[2],be=this._mSampleValues,Se=0,Ce=1,Te=oe-1;Ce!==Te&&be[Ce]<=_e;++Ce)Se+=le;--Ce;var De=(_e-be[Ce])/(be[Ce+1]-be[Ce]),Fe=Se+De*le,Le=me(Fe,ye,we);return Le>=re?ve(_e,Fe,ye,we):Le===0?Fe:de(_e,Se,Se+le,ye,we)}},se}(),pooling=function(){function se(ne){return ne.concat(createSizedArray(ne.length))}return{double:se}}(),poolFactory=function(){return function(se,ne,te){var ee=0,re=se,ie=createSizedArray(re),ae={newElement:oe,release:le};function oe(){var he;return ee?(ee-=1,he=ie[ee]):he=ne(),he}function le(he){ee===re&&(ie=pooling.double(ie),re*=2),te&&te(he),ie[ee]=he,ee+=1}return ae}}(),bezierLengthPool=function(){function se(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,se)}(),segmentsLengthPool=function(){function se(){return{lengths:[],totalLength:0}}function ne(te){var ee,re=te.lengths.length;for(ee=0;ee<re;ee+=1)bezierLengthPool.release(te.lengths[ee]);te.lengths.length=0}return poolFactory(8,se,ne)}();function bezFunction(){var se=Math;function ne(ce,fe,me,de,ve,ge){var xe=ce*de+fe*ve+me*ge-ve*de-ge*ce-me*fe;return xe>-.001&&xe<.001}function te(ce,fe,me,de,ve,ge,xe,_e,ye){if(me===0&&ge===0&&ye===0)return ne(ce,fe,de,ve,xe,_e);var we=se.sqrt(se.pow(de-ce,2)+se.pow(ve-fe,2)+se.pow(ge-me,2)),be=se.sqrt(se.pow(xe-ce,2)+se.pow(_e-fe,2)+se.pow(ye-me,2)),Se=se.sqrt(se.pow(xe-de,2)+se.pow(_e-ve,2)+se.pow(ye-ge,2)),Ce;return we>be?we>Se?Ce=we-be-Se:Ce=Se-be-we:Se>be?Ce=Se-be-we:Ce=be-we-Se,Ce>-1e-4&&Ce<1e-4}var ee=function(){return function(ce,fe,me,de){var ve=getDefaultCurveSegments(),ge,xe,_e,ye,we,be=0,Se,Ce=[],Te=[],De=bezierLengthPool.newElement();for(_e=me.length,ge=0;ge<ve;ge+=1){for(we=ge/(ve-1),Se=0,xe=0;xe<_e;xe+=1)ye=bmPow(1-we,3)*ce[xe]+3*bmPow(1-we,2)*we*me[xe]+3*(1-we)*bmPow(we,2)*de[xe]+bmPow(we,3)*fe[xe],Ce[xe]=ye,Te[xe]!==null&&(Se+=bmPow(Ce[xe]-Te[xe],2)),Te[xe]=Ce[xe];Se&&(Se=bmSqrt(Se),be+=Se),De.percents[ge]=we,De.lengths[ge]=be}return De.addedLength=be,De}}();function re(ce){var fe=segmentsLengthPool.newElement(),me=ce.c,de=ce.v,ve=ce.o,ge=ce.i,xe,_e=ce._length,ye=fe.lengths,we=0;for(xe=0;xe<_e-1;xe+=1)ye[xe]=ee(de[xe],de[xe+1],ve[xe],ge[xe+1]),we+=ye[xe].addedLength;return me&&_e&&(ye[xe]=ee(de[xe],de[0],ve[xe],ge[0]),we+=ye[xe].addedLength),fe.totalLength=we,fe}function ie(ce){this.segmentLength=0,this.points=new Array(ce)}function ae(ce,fe){this.partialLength=ce,this.point=fe}var oe=function(){var ce={};return function(fe,me,de,ve){var ge=(fe[0]+"_"+fe[1]+"_"+me[0]+"_"+me[1]+"_"+de[0]+"_"+de[1]+"_"+ve[0]+"_"+ve[1]).replace(/\./g,"p");if(!ce[ge]){var xe=getDefaultCurveSegments(),_e,ye,we,be,Se,Ce=0,Te,De,Fe=null;fe.length===2&&(fe[0]!==me[0]||fe[1]!==me[1])&&ne(fe[0],fe[1],me[0],me[1],fe[0]+de[0],fe[1]+de[1])&&ne(fe[0],fe[1],me[0],me[1],me[0]+ve[0],me[1]+ve[1])&&(xe=2);var Le=new ie(xe);for(we=de.length,_e=0;_e<xe;_e+=1){for(De=createSizedArray(we),Se=_e/(xe-1),Te=0,ye=0;ye<we;ye+=1)be=bmPow(1-Se,3)*fe[ye]+3*bmPow(1-Se,2)*Se*(fe[ye]+de[ye])+3*(1-Se)*bmPow(Se,2)*(me[ye]+ve[ye])+bmPow(Se,3)*me[ye],De[ye]=be,Fe!==null&&(Te+=bmPow(De[ye]-Fe[ye],2));Te=bmSqrt(Te),Ce+=Te,Le.points[_e]=new ae(Te,De),Fe=De}Le.segmentLength=Ce,ce[ge]=Le}return ce[ge]}}();function le(ce,fe){var me=fe.percents,de=fe.lengths,ve=me.length,ge=bmFloor((ve-1)*ce),xe=ce*fe.addedLength,_e=0;if(ge===ve-1||ge===0||xe===de[ge])return me[ge];for(var ye=de[ge]>xe?-1:1,we=!0;we;)if(de[ge]<=xe&&de[ge+1]>xe?(_e=(xe-de[ge])/(de[ge+1]-de[ge]),we=!1):ge+=ye,ge<0||ge>=ve-1){if(ge===ve-1)return me[ge];we=!1}return me[ge]+(me[ge+1]-me[ge])*_e}function he(ce,fe,me,de,ve,ge){var xe=le(ve,ge),_e=1-xe,ye=se.round((_e*_e*_e*ce[0]+(xe*_e*_e+_e*xe*_e+_e*_e*xe)*me[0]+(xe*xe*_e+_e*xe*xe+xe*_e*xe)*de[0]+xe*xe*xe*fe[0])*1e3)/1e3,we=se.round((_e*_e*_e*ce[1]+(xe*_e*_e+_e*xe*_e+_e*_e*xe)*me[1]+(xe*xe*_e+_e*xe*xe+xe*_e*xe)*de[1]+xe*xe*xe*fe[1])*1e3)/1e3;return[ye,we]}var ue=createTypedArray("float32",8);function pe(ce,fe,me,de,ve,ge,xe){ve<0?ve=0:ve>1&&(ve=1);var _e=le(ve,xe);ge=ge>1?1:ge;var ye=le(ge,xe),we,be=ce.length,Se=1-_e,Ce=1-ye,Te=Se*Se*Se,De=_e*Se*Se*3,Fe=_e*_e*Se*3,Le=_e*_e*_e,Ie=Se*Se*Ce,Oe=_e*Se*Ce+Se*_e*Ce+Se*Se*ye,ke=_e*_e*Ce+Se*_e*ye+_e*Se*ye,Pe=_e*_e*ye,Me=Se*Ce*Ce,Ee=_e*Ce*Ce+Se*ye*Ce+Se*Ce*ye,Ae=_e*ye*Ce+Se*ye*ye+_e*Ce*ye,Re=_e*ye*ye,Be=Ce*Ce*Ce,ze=ye*Ce*Ce+Ce*ye*Ce+Ce*Ce*ye,je=ye*ye*Ce+Ce*ye*ye+ye*Ce*ye,$e=ye*ye*ye;for(we=0;we<be;we+=1)ue[we*4]=se.round((Te*ce[we]+De*me[we]+Fe*de[we]+Le*fe[we])*1e3)/1e3,ue[we*4+1]=se.round((Ie*ce[we]+Oe*me[we]+ke*de[we]+Pe*fe[we])*1e3)/1e3,ue[we*4+2]=se.round((Me*ce[we]+Ee*me[we]+Ae*de[we]+Re*fe[we])*1e3)/1e3,ue[we*4+3]=se.round((Be*ce[we]+ze*me[we]+je*de[we]+$e*fe[we])*1e3)/1e3;return ue}return{getSegmentsLength:re,getNewSegment:pe,getPointInSegment:he,buildBezierData:oe,pointOnLine2D:ne,pointOnLine3D:te}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(se,ne){var te=this.offsetTime,ee;this.propType==="multidimensional"&&(ee=createTypedArray("float32",this.pv.length));for(var re=ne.lastIndex,ie=re,ae=this.keyframes.length-1,oe=!0,le,he,ue;oe;){if(le=this.keyframes[ie],he=this.keyframes[ie+1],ie===ae-1&&se>=he.t-te){le.h&&(le=he),re=0;break}if(he.t-te>se){re=ie;break}ie<ae-1?ie+=1:(re=0,oe=!1)}ue=this.keyframesMetadata[ie]||{};var pe,ce,fe,me,de,ve,ge=he.t-te,xe=le.t-te,_e;if(le.to){ue.bezierData||(ue.bezierData=bez.buildBezierData(le.s,he.s||le.e,le.to,le.ti));var ye=ue.bezierData;if(se>=ge||se<xe){var we=se>=ge?ye.points.length-1:0;for(ce=ye.points[we].point.length,pe=0;pe<ce;pe+=1)ee[pe]=ye.points[we].point[pe]}else{ue.__fnct?ve=ue.__fnct:(ve=BezierFactory.getBezierEasing(le.o.x,le.o.y,le.i.x,le.i.y,le.n).get,ue.__fnct=ve),fe=ve((se-xe)/(ge-xe));var be=ye.segmentLength*fe,Se,Ce=ne.lastFrame<se&&ne._lastKeyframeIndex===ie?ne._lastAddedLength:0;for(de=ne.lastFrame<se&&ne._lastKeyframeIndex===ie?ne._lastPoint:0,oe=!0,me=ye.points.length;oe;){if(Ce+=ye.points[de].partialLength,be===0||fe===0||de===ye.points.length-1){for(ce=ye.points[de].point.length,pe=0;pe<ce;pe+=1)ee[pe]=ye.points[de].point[pe];break}else if(be>=Ce&&be<Ce+ye.points[de+1].partialLength){for(Se=(be-Ce)/ye.points[de+1].partialLength,ce=ye.points[de].point.length,pe=0;pe<ce;pe+=1)ee[pe]=ye.points[de].point[pe]+(ye.points[de+1].point[pe]-ye.points[de].point[pe])*Se;break}de<me-1?de+=1:oe=!1}ne._lastPoint=de,ne._lastAddedLength=Ce-ye.points[de].partialLength,ne._lastKeyframeIndex=ie}}else{var Te,De,Fe,Le,Ie;if(ae=le.s.length,_e=he.s||le.e,this.sh&&le.h!==1)if(se>=ge)ee[0]=_e[0],ee[1]=_e[1],ee[2]=_e[2];else if(se<=xe)ee[0]=le.s[0],ee[1]=le.s[1],ee[2]=le.s[2];else{var Oe=createQuaternion(le.s),ke=createQuaternion(_e),Pe=(se-xe)/(ge-xe);quaternionToEuler(ee,slerp(Oe,ke,Pe))}else for(ie=0;ie<ae;ie+=1)le.h!==1&&(se>=ge?fe=1:se<xe?fe=0:(le.o.x.constructor===Array?(ue.__fnct||(ue.__fnct=[]),ue.__fnct[ie]?ve=ue.__fnct[ie]:(Te=le.o.x[ie]===void 0?le.o.x[0]:le.o.x[ie],De=le.o.y[ie]===void 0?le.o.y[0]:le.o.y[ie],Fe=le.i.x[ie]===void 0?le.i.x[0]:le.i.x[ie],Le=le.i.y[ie]===void 0?le.i.y[0]:le.i.y[ie],ve=BezierFactory.getBezierEasing(Te,De,Fe,Le).get,ue.__fnct[ie]=ve)):ue.__fnct?ve=ue.__fnct:(Te=le.o.x,De=le.o.y,Fe=le.i.x,Le=le.i.y,ve=BezierFactory.getBezierEasing(Te,De,Fe,Le).get,le.keyframeMetadata=ve),fe=ve((se-xe)/(ge-xe)))),_e=he.s||le.e,Ie=le.h===1?le.s[ie]:le.s[ie]+(_e[ie]-le.s[ie])*fe,this.propType==="multidimensional"?ee[ie]=Ie:ee=Ie}return ne.lastIndex=re,ee}function slerp(se,ne,te){var ee=[],re=se[0],ie=se[1],ae=se[2],oe=se[3],le=ne[0],he=ne[1],ue=ne[2],pe=ne[3],ce,fe,me,de,ve;return fe=re*le+ie*he+ae*ue+oe*pe,fe<0&&(fe=-fe,le=-le,he=-he,ue=-ue,pe=-pe),1-fe>1e-6?(ce=Math.acos(fe),me=Math.sin(ce),de=Math.sin((1-te)*ce)/me,ve=Math.sin(te*ce)/me):(de=1-te,ve=te),ee[0]=de*re+ve*le,ee[1]=de*ie+ve*he,ee[2]=de*ae+ve*ue,ee[3]=de*oe+ve*pe,ee}function quaternionToEuler(se,ne){var te=ne[0],ee=ne[1],re=ne[2],ie=ne[3],ae=Math.atan2(2*ee*ie-2*te*re,1-2*ee*ee-2*re*re),oe=Math.asin(2*te*ee+2*re*ie),le=Math.atan2(2*te*ie-2*ee*re,1-2*te*te-2*re*re);se[0]=ae/degToRads,se[1]=oe/degToRads,se[2]=le/degToRads}function createQuaternion(se){var ne=se[0]*degToRads,te=se[1]*degToRads,ee=se[2]*degToRads,re=Math.cos(ne/2),ie=Math.cos(te/2),ae=Math.cos(ee/2),oe=Math.sin(ne/2),le=Math.sin(te/2),he=Math.sin(ee/2),ue=re*ie*ae-oe*le*he,pe=oe*le*ae+re*ie*he,ce=oe*ie*ae+re*le*he,fe=re*le*ae-oe*ie*he;return[pe,ce,fe,ue]}function getValueAtCurrentTime(){var se=this.comp.renderedFrame-this.offsetTime,ne=this.keyframes[0].t-this.offsetTime,te=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(se===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=te&&se>=te||this._caching.lastFrame<ne&&se<ne))){this._caching.lastFrame>=se&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var ee=this.interpolateValue(se,this._caching);this.pv=ee}return this._caching.lastFrame=se,this.pv}function setVValue(se){var ne;if(this.propType==="unidimensional")ne=se*this.mult,mathAbs(this.v-ne)>1e-5&&(this.v=ne,this._mdf=!0);else for(var te=0,ee=this.v.length;te<ee;)ne=se[te]*this.mult,mathAbs(this.v[te]-ne)>1e-5&&(this.v[te]=ne,this._mdf=!0),te+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var se,ne=this.effectsSequence.length,te=this.kf?this.pv:this.data.k;for(se=0;se<ne;se+=1)te=this.effectsSequence[se](te);this.setVValue(te),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(se){this.effectsSequence.push(se),this.container.addDynamicProperty(this)}function ValueProperty(se,ne,te,ee){this.propType="unidimensional",this.mult=te||1,this.data=ne,this.v=te?ne.k*te:ne.k,this.pv=ne.k,this._mdf=!1,this.elem=se,this.container=ee,this.comp=se.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(se,ne,te,ee){this.propType="multidimensional",this.mult=te||1,this.data=ne,this._mdf=!1,this.elem=se,this.container=ee,this.comp=se.comp,this.k=!1,this.kf=!1,this.frameId=-1;var re,ie=ne.k.length;for(this.v=createTypedArray("float32",ie),this.pv=createTypedArray("float32",ie),this.vel=createTypedArray("float32",ie),re=0;re<ie;re+=1)this.v[re]=ne.k[re]*this.mult,this.pv[re]=ne.k[re];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(se,ne,te,ee){this.propType="unidimensional",this.keyframes=ne.k,this.keyframesMetadata=[],this.offsetTime=se.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=ne,this.mult=te||1,this.elem=se,this.container=ee,this.comp=se.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(se,ne,te,ee){this.propType="multidimensional";var re,ie=ne.k.length,ae,oe,le,he;for(re=0;re<ie-1;re+=1)ne.k[re].to&&ne.k[re].s&&ne.k[re+1]&&ne.k[re+1].s&&(ae=ne.k[re].s,oe=ne.k[re+1].s,le=ne.k[re].to,he=ne.k[re].ti,(ae.length===2&&!(ae[0]===oe[0]&&ae[1]===oe[1])&&bez.pointOnLine2D(ae[0],ae[1],oe[0],oe[1],ae[0]+le[0],ae[1]+le[1])&&bez.pointOnLine2D(ae[0],ae[1],oe[0],oe[1],oe[0]+he[0],oe[1]+he[1])||ae.length===3&&!(ae[0]===oe[0]&&ae[1]===oe[1]&&ae[2]===oe[2])&&bez.pointOnLine3D(ae[0],ae[1],ae[2],oe[0],oe[1],oe[2],ae[0]+le[0],ae[1]+le[1],ae[2]+le[2])&&bez.pointOnLine3D(ae[0],ae[1],ae[2],oe[0],oe[1],oe[2],oe[0]+he[0],oe[1]+he[1],oe[2]+he[2]))&&(ne.k[re].to=null,ne.k[re].ti=null),ae[0]===oe[0]&&ae[1]===oe[1]&&le[0]===0&&le[1]===0&&he[0]===0&&he[1]===0&&(ae.length===2||ae[2]===oe[2]&&le[2]===0&&he[2]===0)&&(ne.k[re].to=null,ne.k[re].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=ne,this.keyframes=ne.k,this.keyframesMetadata=[],this.offsetTime=se.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=te||1,this.elem=se,this.container=ee,this.comp=se.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ue=ne.k[0].s.length;for(this.v=createTypedArray("float32",ue),this.pv=createTypedArray("float32",ue),re=0;re<ue;re+=1)this.v[re]=initFrame,this.pv[re]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ue)},this.addEffect=addEffect}var PropertyFactory=function(){function se(te,ee,re,ie,ae){ee.sid&&(ee=te.globalData.slotManager.getProp(ee));var oe;if(!ee.k.length)oe=new ValueProperty(te,ee,ie,ae);else if(typeof ee.k[0]=="number")oe=new MultiDimensionalProperty(te,ee,ie,ae);else switch(re){case 0:oe=new KeyframedValueProperty(te,ee,ie,ae);break;case 1:oe=new KeyframedMultidimensionalProperty(te,ee,ie,ae);break}return oe.effectsSequence.length&&ae.addDynamicProperty(oe),oe}var ne={getProp:se};return ne}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(ne){this.dynamicProperties.indexOf(ne)===-1&&(this.dynamicProperties.push(ne),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var ne,te=this.dynamicProperties.length;for(ne=0;ne<te;ne+=1)this.dynamicProperties[ne].getValue(),this.dynamicProperties[ne]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(ne){this.container=ne,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function se(){return createTypedArray("float32",2)}return poolFactory(8,se)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(se,ne){this.c=se,this.setLength(ne);for(var te=0;te<ne;)this.v[te]=pointPool.newElement(),this.o[te]=pointPool.newElement(),this.i[te]=pointPool.newElement(),te+=1},ShapePath.prototype.setLength=function(se){for(;this._maxLength<se;)this.doubleArrayLength();this._length=se},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(se,ne,te,ee,re){var ie;switch(this._length=Math.max(this._length,ee+1),this._length>=this._maxLength&&this.doubleArrayLength(),te){case"v":ie=this.v;break;case"i":ie=this.i;break;case"o":ie=this.o;break;default:ie=[];break}(!ie[ee]||ie[ee]&&!re)&&(ie[ee]=pointPool.newElement()),ie[ee][0]=se,ie[ee][1]=ne},ShapePath.prototype.setTripleAt=function(se,ne,te,ee,re,ie,ae,oe){this.setXYAt(se,ne,"v",ae,oe),this.setXYAt(te,ee,"o",ae,oe),this.setXYAt(re,ie,"i",ae,oe)},ShapePath.prototype.reverse=function(){var se=new ShapePath;se.setPathData(this.c,this._length);var ne=this.v,te=this.o,ee=this.i,re=0;this.c&&(se.setTripleAt(ne[0][0],ne[0][1],ee[0][0],ee[0][1],te[0][0],te[0][1],0,!1),re=1);var ie=this._length-1,ae=this._length,oe;for(oe=re;oe<ae;oe+=1)se.setTripleAt(ne[ie][0],ne[ie][1],ee[ie][0],ee[ie][1],te[ie][0],te[ie][1],oe,!1),ie-=1;return se},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function se(){return new ShapePath}function ne(re){var ie=re._length,ae;for(ae=0;ae<ie;ae+=1)pointPool.release(re.v[ae]),pointPool.release(re.i[ae]),pointPool.release(re.o[ae]),re.v[ae]=null,re.i[ae]=null,re.o[ae]=null;re._length=0,re.c=!1}function te(re){var ie=ee.newElement(),ae,oe=re._length===void 0?re.v.length:re._length;for(ie.setLength(oe),ie.c=re.c,ae=0;ae<oe;ae+=1)ie.setTripleAt(re.v[ae][0],re.v[ae][1],re.o[ae][0],re.o[ae][1],re.i[ae][0],re.i[ae][1],ae);return ie}var ee=poolFactory(4,se,ne);return ee.clone=te,ee}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(se){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=se,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var se;for(se=0;se<this._length;se+=1)shapePool.release(this.shapes[se]);this._length=0};var shapeCollectionPool=function(){var se={newShapeCollection:re,release:ie},ne=0,te=4,ee=createSizedArray(te);function re(){var ae;return ne?(ne-=1,ae=ee[ne]):ae=new ShapeCollection,ae}function ie(ae){var oe,le=ae._length;for(oe=0;oe<le;oe+=1)shapePool.release(ae.shapes[oe]);ae._length=0,ne===te&&(ee=pooling.double(ee),te*=2),ee[ne]=ae,ne+=1}return se}(),ShapePropertyFactory=function(){var se=-999999;function ne(ge,xe,_e){var ye=_e.lastIndex,we,be,Se,Ce,Te,De,Fe,Le,Ie,Oe=this.keyframes;if(ge<Oe[0].t-this.offsetTime)we=Oe[0].s[0],Se=!0,ye=0;else if(ge>=Oe[Oe.length-1].t-this.offsetTime)we=Oe[Oe.length-1].s?Oe[Oe.length-1].s[0]:Oe[Oe.length-2].e[0],Se=!0;else{for(var ke=ye,Pe=Oe.length-1,Me=!0,Ee,Ae,Re;Me&&(Ee=Oe[ke],Ae=Oe[ke+1],!(Ae.t-this.offsetTime>ge));)ke<Pe-1?ke+=1:Me=!1;if(Re=this.keyframesMetadata[ke]||{},Se=Ee.h===1,ye=ke,!Se){if(ge>=Ae.t-this.offsetTime)Le=1;else if(ge<Ee.t-this.offsetTime)Le=0;else{var Be;Re.__fnct?Be=Re.__fnct:(Be=BezierFactory.getBezierEasing(Ee.o.x,Ee.o.y,Ee.i.x,Ee.i.y).get,Re.__fnct=Be),Le=Be((ge-(Ee.t-this.offsetTime))/(Ae.t-this.offsetTime-(Ee.t-this.offsetTime)))}be=Ae.s?Ae.s[0]:Ee.e[0]}we=Ee.s[0]}for(De=xe._length,Fe=we.i[0].length,_e.lastIndex=ye,Ce=0;Ce<De;Ce+=1)for(Te=0;Te<Fe;Te+=1)Ie=Se?we.i[Ce][Te]:we.i[Ce][Te]+(be.i[Ce][Te]-we.i[Ce][Te])*Le,xe.i[Ce][Te]=Ie,Ie=Se?we.o[Ce][Te]:we.o[Ce][Te]+(be.o[Ce][Te]-we.o[Ce][Te])*Le,xe.o[Ce][Te]=Ie,Ie=Se?we.v[Ce][Te]:we.v[Ce][Te]+(be.v[Ce][Te]-we.v[Ce][Te])*Le,xe.v[Ce][Te]=Ie}function te(){var ge=this.comp.renderedFrame-this.offsetTime,xe=this.keyframes[0].t-this.offsetTime,_e=this.keyframes[this.keyframes.length-1].t-this.offsetTime,ye=this._caching.lastFrame;return ye!==se&&(ye<xe&&ge<xe||ye>_e&&ge>_e)||(this._caching.lastIndex=ye<ge?this._caching.lastIndex:0,this.interpolateShape(ge,this.pv,this._caching)),this._caching.lastFrame=ge,this.pv}function ee(){this.paths=this.localShapeCollection}function re(ge,xe){if(ge._length!==xe._length||ge.c!==xe.c)return!1;var _e,ye=ge._length;for(_e=0;_e<ye;_e+=1)if(ge.v[_e][0]!==xe.v[_e][0]||ge.v[_e][1]!==xe.v[_e][1]||ge.o[_e][0]!==xe.o[_e][0]||ge.o[_e][1]!==xe.o[_e][1]||ge.i[_e][0]!==xe.i[_e][0]||ge.i[_e][1]!==xe.i[_e][1])return!1;return!0}function ie(ge){re(this.v,ge)||(this.v=shapePool.clone(ge),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ae(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var ge;this.kf?ge=this.pv:this.data.ks?ge=this.data.ks.k:ge=this.data.pt.k;var xe,_e=this.effectsSequence.length;for(xe=0;xe<_e;xe+=1)ge=this.effectsSequence[xe](ge);this.setVValue(ge),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function oe(ge,xe,_e){this.propType="shape",this.comp=ge.comp,this.container=ge,this.elem=ge,this.data=xe,this.k=!1,this.kf=!1,this._mdf=!1;var ye=_e===3?xe.pt.k:xe.ks.k;this.v=shapePool.clone(ye),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=ee,this.effectsSequence=[]}function le(ge){this.effectsSequence.push(ge),this.container.addDynamicProperty(this)}oe.prototype.interpolateShape=ne,oe.prototype.getValue=ae,oe.prototype.setVValue=ie,oe.prototype.addEffect=le;function he(ge,xe,_e){this.propType="shape",this.comp=ge.comp,this.elem=ge,this.container=ge,this.offsetTime=ge.data.st,this.keyframes=_e===3?xe.pt.k:xe.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var ye=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,ye),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=se,this.reset=ee,this._caching={lastFrame:se,lastIndex:0},this.effectsSequence=[te.bind(this)]}he.prototype.getValue=ae,he.prototype.interpolateShape=ne,he.prototype.setVValue=ie,he.prototype.addEffect=le;var ue=function(){var ge=roundCorner;function xe(_e,ye){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=ye.d,this.elem=_e,this.comp=_e.comp,this.frameId=-1,this.initDynamicPropertyContainer(_e),this.p=PropertyFactory.getProp(_e,ye.p,1,0,this),this.s=PropertyFactory.getProp(_e,ye.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return xe.prototype={reset:ee,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var ye=this.p.v[0],we=this.p.v[1],be=this.s.v[0]/2,Se=this.s.v[1]/2,Ce=this.d!==3,Te=this.v;Te.v[0][0]=ye,Te.v[0][1]=we-Se,Te.v[1][0]=Ce?ye+be:ye-be,Te.v[1][1]=we,Te.v[2][0]=ye,Te.v[2][1]=we+Se,Te.v[3][0]=Ce?ye-be:ye+be,Te.v[3][1]=we,Te.i[0][0]=Ce?ye-be*ge:ye+be*ge,Te.i[0][1]=we-Se,Te.i[1][0]=Ce?ye+be:ye-be,Te.i[1][1]=we-Se*ge,Te.i[2][0]=Ce?ye+be*ge:ye-be*ge,Te.i[2][1]=we+Se,Te.i[3][0]=Ce?ye-be:ye+be,Te.i[3][1]=we+Se*ge,Te.o[0][0]=Ce?ye+be*ge:ye-be*ge,Te.o[0][1]=we-Se,Te.o[1][0]=Ce?ye+be:ye-be,Te.o[1][1]=we+Se*ge,Te.o[2][0]=Ce?ye-be*ge:ye+be*ge,Te.o[2][1]=we+Se,Te.o[3][0]=Ce?ye-be:ye+be,Te.o[3][1]=we-Se*ge}},extendPrototype([DynamicPropertyContainer],xe),xe}(),pe=function(){function ge(xe,_e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=xe,this.comp=xe.comp,this.data=_e,this.frameId=-1,this.d=_e.d,this.initDynamicPropertyContainer(xe),_e.sy===1?(this.ir=PropertyFactory.getProp(xe,_e.ir,0,0,this),this.is=PropertyFactory.getProp(xe,_e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(xe,_e.pt,0,0,this),this.p=PropertyFactory.getProp(xe,_e.p,1,0,this),this.r=PropertyFactory.getProp(xe,_e.r,0,degToRads,this),this.or=PropertyFactory.getProp(xe,_e.or,0,0,this),this.os=PropertyFactory.getProp(xe,_e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return ge.prototype={reset:ee,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var _e=Math.floor(this.pt.v)*2,ye=Math.PI*2/_e,we=!0,be=this.or.v,Se=this.ir.v,Ce=this.os.v,Te=this.is.v,De=2*Math.PI*be/(_e*2),Fe=2*Math.PI*Se/(_e*2),Le,Ie,Oe,ke,Pe=-Math.PI/2;Pe+=this.r.v;var Me=this.data.d===3?-1:1;for(this.v._length=0,Le=0;Le<_e;Le+=1){Ie=we?be:Se,Oe=we?Ce:Te,ke=we?De:Fe;var Ee=Ie*Math.cos(Pe),Ae=Ie*Math.sin(Pe),Re=Ee===0&&Ae===0?0:Ae/Math.sqrt(Ee*Ee+Ae*Ae),Be=Ee===0&&Ae===0?0:-Ee/Math.sqrt(Ee*Ee+Ae*Ae);Ee+=+this.p.v[0],Ae+=+this.p.v[1],this.v.setTripleAt(Ee,Ae,Ee-Re*ke*Oe*Me,Ae-Be*ke*Oe*Me,Ee+Re*ke*Oe*Me,Ae+Be*ke*Oe*Me,Le,!0),we=!we,Pe+=ye*Me}},convertPolygonToPath:function(){var _e=Math.floor(this.pt.v),ye=Math.PI*2/_e,we=this.or.v,be=this.os.v,Se=2*Math.PI*we/(_e*4),Ce,Te=-Math.PI*.5,De=this.data.d===3?-1:1;for(Te+=this.r.v,this.v._length=0,Ce=0;Ce<_e;Ce+=1){var Fe=we*Math.cos(Te),Le=we*Math.sin(Te),Ie=Fe===0&&Le===0?0:Le/Math.sqrt(Fe*Fe+Le*Le),Oe=Fe===0&&Le===0?0:-Fe/Math.sqrt(Fe*Fe+Le*Le);Fe+=+this.p.v[0],Le+=+this.p.v[1],this.v.setTripleAt(Fe,Le,Fe-Ie*Se*be*De,Le-Oe*Se*be*De,Fe+Ie*Se*be*De,Le+Oe*Se*be*De,Ce,!0),Te+=ye*De}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],ge),ge}(),ce=function(){function ge(xe,_e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=xe,this.comp=xe.comp,this.frameId=-1,this.d=_e.d,this.initDynamicPropertyContainer(xe),this.p=PropertyFactory.getProp(xe,_e.p,1,0,this),this.s=PropertyFactory.getProp(xe,_e.s,1,0,this),this.r=PropertyFactory.getProp(xe,_e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return ge.prototype={convertRectToPath:function(){var _e=this.p.v[0],ye=this.p.v[1],we=this.s.v[0]/2,be=this.s.v[1]/2,Se=bmMin(we,be,this.r.v),Ce=Se*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(_e+we,ye-be+Se,_e+we,ye-be+Se,_e+we,ye-be+Ce,0,!0),this.v.setTripleAt(_e+we,ye+be-Se,_e+we,ye+be-Ce,_e+we,ye+be-Se,1,!0),Se!==0?(this.v.setTripleAt(_e+we-Se,ye+be,_e+we-Se,ye+be,_e+we-Ce,ye+be,2,!0),this.v.setTripleAt(_e-we+Se,ye+be,_e-we+Ce,ye+be,_e-we+Se,ye+be,3,!0),this.v.setTripleAt(_e-we,ye+be-Se,_e-we,ye+be-Se,_e-we,ye+be-Ce,4,!0),this.v.setTripleAt(_e-we,ye-be+Se,_e-we,ye-be+Ce,_e-we,ye-be+Se,5,!0),this.v.setTripleAt(_e-we+Se,ye-be,_e-we+Se,ye-be,_e-we+Ce,ye-be,6,!0),this.v.setTripleAt(_e+we-Se,ye-be,_e+we-Ce,ye-be,_e+we-Se,ye-be,7,!0)):(this.v.setTripleAt(_e-we,ye+be,_e-we+Ce,ye+be,_e-we,ye+be,2),this.v.setTripleAt(_e-we,ye-be,_e-we,ye-be+Ce,_e-we,ye-be,3))):(this.v.setTripleAt(_e+we,ye-be+Se,_e+we,ye-be+Ce,_e+we,ye-be+Se,0,!0),Se!==0?(this.v.setTripleAt(_e+we-Se,ye-be,_e+we-Se,ye-be,_e+we-Ce,ye-be,1,!0),this.v.setTripleAt(_e-we+Se,ye-be,_e-we+Ce,ye-be,_e-we+Se,ye-be,2,!0),this.v.setTripleAt(_e-we,ye-be+Se,_e-we,ye-be+Se,_e-we,ye-be+Ce,3,!0),this.v.setTripleAt(_e-we,ye+be-Se,_e-we,ye+be-Ce,_e-we,ye+be-Se,4,!0),this.v.setTripleAt(_e-we+Se,ye+be,_e-we+Se,ye+be,_e-we+Ce,ye+be,5,!0),this.v.setTripleAt(_e+we-Se,ye+be,_e+we-Ce,ye+be,_e+we-Se,ye+be,6,!0),this.v.setTripleAt(_e+we,ye+be-Se,_e+we,ye+be-Se,_e+we,ye+be-Ce,7,!0)):(this.v.setTripleAt(_e-we,ye-be,_e-we+Ce,ye-be,_e-we,ye-be,1,!0),this.v.setTripleAt(_e-we,ye+be,_e-we,ye+be-Ce,_e-we,ye+be,2,!0),this.v.setTripleAt(_e+we,ye+be,_e+we-Ce,ye+be,_e+we,ye+be,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:ee},extendPrototype([DynamicPropertyContainer],ge),ge}();function fe(ge,xe,_e){var ye;if(_e===3||_e===4){var we=_e===3?xe.pt:xe.ks,be=we.k;be.length?ye=new he(ge,xe,_e):ye=new oe(ge,xe,_e)}else _e===5?ye=new ce(ge,xe):_e===6?ye=new ue(ge,xe):_e===7&&(ye=new pe(ge,xe));return ye.k&&ge.addDynamicProperty(ye),ye}function me(){return oe}function de(){return he}var ve={};return ve.getShapeProp=fe,ve.getConstructorFunction=me,ve.getKeyframedConstructorFunction=de,ve}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var se=Math.cos,ne=Math.sin,te=Math.tan,ee=Math.round;function re(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function ie(Me){if(Me===0)return this;var Ee=se(Me),Ae=ne(Me);return this._t(Ee,-Ae,0,0,Ae,Ee,0,0,0,0,1,0,0,0,0,1)}function ae(Me){if(Me===0)return this;var Ee=se(Me),Ae=ne(Me);return this._t(1,0,0,0,0,Ee,-Ae,0,0,Ae,Ee,0,0,0,0,1)}function oe(Me){if(Me===0)return this;var Ee=se(Me),Ae=ne(Me);return this._t(Ee,0,Ae,0,0,1,0,0,-Ae,0,Ee,0,0,0,0,1)}function le(Me){if(Me===0)return this;var Ee=se(Me),Ae=ne(Me);return this._t(Ee,-Ae,0,0,Ae,Ee,0,0,0,0,1,0,0,0,0,1)}function he(Me,Ee){return this._t(1,Ee,Me,1,0,0)}function ue(Me,Ee){return this.shear(te(Me),te(Ee))}function pe(Me,Ee){var Ae=se(Ee),Re=ne(Ee);return this._t(Ae,Re,0,0,-Re,Ae,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,te(Me),1,0,0,0,0,1,0,0,0,0,1)._t(Ae,-Re,0,0,Re,Ae,0,0,0,0,1,0,0,0,0,1)}function ce(Me,Ee,Ae){return!Ae&&Ae!==0&&(Ae=1),Me===1&&Ee===1&&Ae===1?this:this._t(Me,0,0,0,0,Ee,0,0,0,0,Ae,0,0,0,0,1)}function fe(Me,Ee,Ae,Re,Be,ze,je,$e,We,Ge,He,Ze,Ye,Qe,Je,Ne){return this.props[0]=Me,this.props[1]=Ee,this.props[2]=Ae,this.props[3]=Re,this.props[4]=Be,this.props[5]=ze,this.props[6]=je,this.props[7]=$e,this.props[8]=We,this.props[9]=Ge,this.props[10]=He,this.props[11]=Ze,this.props[12]=Ye,this.props[13]=Qe,this.props[14]=Je,this.props[15]=Ne,this}function me(Me,Ee,Ae){return Ae=Ae||0,Me!==0||Ee!==0||Ae!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Me,Ee,Ae,1):this}function de(Me,Ee,Ae,Re,Be,ze,je,$e,We,Ge,He,Ze,Ye,Qe,Je,Ne){var Ke=this.props;if(Me===1&&Ee===0&&Ae===0&&Re===0&&Be===0&&ze===1&&je===0&&$e===0&&We===0&&Ge===0&&He===1&&Ze===0)return Ke[12]=Ke[12]*Me+Ke[15]*Ye,Ke[13]=Ke[13]*ze+Ke[15]*Qe,Ke[14]=Ke[14]*He+Ke[15]*Je,Ke[15]*=Ne,this._identityCalculated=!1,this;var ht=Ke[0],_t=Ke[1],pt=Ke[2],qe=Ke[3],Dt=Ke[4],wt=Ke[5],vt=Ke[6],gt=Ke[7],Ft=Ke[8],Tt=Ke[9],Bt=Ke[10],zt=Ke[11],St=Ke[12],kt=Ke[13],Rt=Ke[14],Ut=Ke[15];return Ke[0]=ht*Me+_t*Be+pt*We+qe*Ye,Ke[1]=ht*Ee+_t*ze+pt*Ge+qe*Qe,Ke[2]=ht*Ae+_t*je+pt*He+qe*Je,Ke[3]=ht*Re+_t*$e+pt*Ze+qe*Ne,Ke[4]=Dt*Me+wt*Be+vt*We+gt*Ye,Ke[5]=Dt*Ee+wt*ze+vt*Ge+gt*Qe,Ke[6]=Dt*Ae+wt*je+vt*He+gt*Je,Ke[7]=Dt*Re+wt*$e+vt*Ze+gt*Ne,Ke[8]=Ft*Me+Tt*Be+Bt*We+zt*Ye,Ke[9]=Ft*Ee+Tt*ze+Bt*Ge+zt*Qe,Ke[10]=Ft*Ae+Tt*je+Bt*He+zt*Je,Ke[11]=Ft*Re+Tt*$e+Bt*Ze+zt*Ne,Ke[12]=St*Me+kt*Be+Rt*We+Ut*Ye,Ke[13]=St*Ee+kt*ze+Rt*Ge+Ut*Qe,Ke[14]=St*Ae+kt*je+Rt*He+Ut*Je,Ke[15]=St*Re+kt*$e+Rt*Ze+Ut*Ne,this._identityCalculated=!1,this}function ve(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function ge(Me){for(var Ee=0;Ee<16;){if(Me.props[Ee]!==this.props[Ee])return!1;Ee+=1}return!0}function xe(Me){var Ee;for(Ee=0;Ee<16;Ee+=1)Me.props[Ee]=this.props[Ee];return Me}function _e(Me){var Ee;for(Ee=0;Ee<16;Ee+=1)this.props[Ee]=Me[Ee]}function ye(Me,Ee,Ae){return{x:Me*this.props[0]+Ee*this.props[4]+Ae*this.props[8]+this.props[12],y:Me*this.props[1]+Ee*this.props[5]+Ae*this.props[9]+this.props[13],z:Me*this.props[2]+Ee*this.props[6]+Ae*this.props[10]+this.props[14]}}function we(Me,Ee,Ae){return Me*this.props[0]+Ee*this.props[4]+Ae*this.props[8]+this.props[12]}function be(Me,Ee,Ae){return Me*this.props[1]+Ee*this.props[5]+Ae*this.props[9]+this.props[13]}function Se(Me,Ee,Ae){return Me*this.props[2]+Ee*this.props[6]+Ae*this.props[10]+this.props[14]}function Ce(){var Me=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ee=this.props[5]/Me,Ae=-this.props[1]/Me,Re=-this.props[4]/Me,Be=this.props[0]/Me,ze=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Me,je=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Me,$e=new Matrix;return $e.props[0]=Ee,$e.props[1]=Ae,$e.props[4]=Re,$e.props[5]=Be,$e.props[12]=ze,$e.props[13]=je,$e}function Te(Me){var Ee=this.getInverseMatrix();return Ee.applyToPointArray(Me[0],Me[1],Me[2]||0)}function De(Me){var Ee,Ae=Me.length,Re=[];for(Ee=0;Ee<Ae;Ee+=1)Re[Ee]=Te(Me[Ee]);return Re}function Fe(Me,Ee,Ae){var Re=createTypedArray("float32",6);if(this.isIdentity())Re[0]=Me[0],Re[1]=Me[1],Re[2]=Ee[0],Re[3]=Ee[1],Re[4]=Ae[0],Re[5]=Ae[1];else{var Be=this.props[0],ze=this.props[1],je=this.props[4],$e=this.props[5],We=this.props[12],Ge=this.props[13];Re[0]=Me[0]*Be+Me[1]*je+We,Re[1]=Me[0]*ze+Me[1]*$e+Ge,Re[2]=Ee[0]*Be+Ee[1]*je+We,Re[3]=Ee[0]*ze+Ee[1]*$e+Ge,Re[4]=Ae[0]*Be+Ae[1]*je+We,Re[5]=Ae[0]*ze+Ae[1]*$e+Ge}return Re}function Le(Me,Ee,Ae){var Re;return this.isIdentity()?Re=[Me,Ee,Ae]:Re=[Me*this.props[0]+Ee*this.props[4]+Ae*this.props[8]+this.props[12],Me*this.props[1]+Ee*this.props[5]+Ae*this.props[9]+this.props[13],Me*this.props[2]+Ee*this.props[6]+Ae*this.props[10]+this.props[14]],Re}function Ie(Me,Ee){if(this.isIdentity())return Me+","+Ee;var Ae=this.props;return Math.round((Me*Ae[0]+Ee*Ae[4]+Ae[12])*100)/100+","+Math.round((Me*Ae[1]+Ee*Ae[5]+Ae[13])*100)/100}function Oe(){for(var Me=0,Ee=this.props,Ae="matrix3d(",Re=1e4;Me<16;)Ae+=ee(Ee[Me]*Re)/Re,Ae+=Me===15?")":",",Me+=1;return Ae}function ke(Me){var Ee=1e4;return Me<1e-6&&Me>0||Me>-1e-6&&Me<0?ee(Me*Ee)/Ee:Me}function Pe(){var Me=this.props,Ee=ke(Me[0]),Ae=ke(Me[1]),Re=ke(Me[4]),Be=ke(Me[5]),ze=ke(Me[12]),je=ke(Me[13]);return"matrix("+Ee+","+Ae+","+Re+","+Be+","+ze+","+je+")"}return function(){this.reset=re,this.rotate=ie,this.rotateX=ae,this.rotateY=oe,this.rotateZ=le,this.skew=ue,this.skewFromAxis=pe,this.shear=he,this.scale=ce,this.setTransform=fe,this.translate=me,this.transform=de,this.applyToPoint=ye,this.applyToX=we,this.applyToY=be,this.applyToZ=Se,this.applyToPointArray=Le,this.applyToTriplePoints=Fe,this.applyToPointStringified=Ie,this.toCSS=Oe,this.to2dCSS=Pe,this.clone=xe,this.cloneFromProps=_e,this.equals=ge,this.inversePoints=De,this.inversePoint=Te,this.getInverseMatrix=Ce,this._t=this.transform,this.isIdentity=ve,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(te){return typeof te}:_typeof$3=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$3(se)}var lottie={};function setLocation(se){setLocationHref(se)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(se){setSubframeEnabled(se)}function setPrefix(se){setIdPrefix(se)}function loadAnimation(se){return animationManager.loadAnimation(se)}function setQuality(se){if(typeof se=="string")switch(se){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(se)&&se>1&&setDefaultCurveSegments(se)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(se,ne){se==="expressions"&&setExpressionsPlugin(ne)}function getFactory(se){switch(se){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.11.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(se){for(var ne=queryString.split("&"),te=0;te<ne.length;te+=1){var ee=ne[te].split("=");if(decodeURIComponent(ee[0])==se)return decodeURIComponent(ee[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(se){}var ShapeModifiers=function(){var se={},ne={};se.registerModifier=te,se.getModifier=ee;function te(re,ie){ne[re]||(ne[re]=ie)}function ee(re,ie,ae){return new ne[re](ie,ae)}return se}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(se){if(!this.closed){se.sh.container.addDynamicProperty(se.sh);var ne={shape:se.sh,data:se,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(ne),this.addShapeToModifier(ne),this._isAnimated&&se.setAsAnimated()}},ShapeModifier.prototype.init=function(se,ne){this.shapes=[],this.elem=se,this.initDynamicPropertyContainer(se),this.initModifierProperties(se,ne),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(se,ne){this.s=PropertyFactory.getProp(se,ne.s,0,.01,this),this.e=PropertyFactory.getProp(se,ne.e,0,.01,this),this.o=PropertyFactory.getProp(se,ne.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=ne.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(se){se.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(se,ne,te,ee,re){var ie=[];ne<=1?ie.push({s:se,e:ne}):se>=1?ie.push({s:se-1,e:ne-1}):(ie.push({s:se,e:1}),ie.push({s:0,e:ne-1}));var ae=[],oe,le=ie.length,he;for(oe=0;oe<le;oe+=1)if(he=ie[oe],!(he.e*re<ee||he.s*re>ee+te)){var ue,pe;he.s*re<=ee?ue=0:ue=(he.s*re-ee)/te,he.e*re>=ee+te?pe=1:pe=(he.e*re-ee)/te,ae.push([ue,pe])}return ae.length||ae.push([0,0]),ae},TrimModifier.prototype.releasePathsData=function(se){var ne,te=se.length;for(ne=0;ne<te;ne+=1)segmentsLengthPool.release(se[ne]);return se.length=0,se},TrimModifier.prototype.processShapes=function(se){var ne,te;if(this._mdf||se){var ee=this.o.v%360/360;if(ee<0&&(ee+=1),this.s.v>1?ne=1+ee:this.s.v<0?ne=0+ee:ne=this.s.v+ee,this.e.v>1?te=1+ee:this.e.v<0?te=0+ee:te=this.e.v+ee,ne>te){var re=ne;ne=te,te=re}ne=Math.round(ne*1e4)*1e-4,te=Math.round(te*1e4)*1e-4,this.sValue=ne,this.eValue=te}else ne=this.sValue,te=this.eValue;var ie,ae,oe=this.shapes.length,le,he,ue,pe,ce,fe=0;if(te===ne)for(ae=0;ae<oe;ae+=1)this.shapes[ae].localShapeCollection.releaseShapes(),this.shapes[ae].shape._mdf=!0,this.shapes[ae].shape.paths=this.shapes[ae].localShapeCollection,this._mdf&&(this.shapes[ae].pathsData.length=0);else if(te===1&&ne===0||te===0&&ne===1){if(this._mdf)for(ae=0;ae<oe;ae+=1)this.shapes[ae].pathsData.length=0,this.shapes[ae].shape._mdf=!0}else{var me=[],de,ve;for(ae=0;ae<oe;ae+=1)if(de=this.shapes[ae],!de.shape._mdf&&!this._mdf&&!se&&this.m!==2)de.shape.paths=de.localShapeCollection;else{if(ie=de.shape.paths,he=ie._length,ce=0,!de.shape._mdf&&de.pathsData.length)ce=de.totalShapeLength;else{for(ue=this.releasePathsData(de.pathsData),le=0;le<he;le+=1)pe=bez.getSegmentsLength(ie.shapes[le]),ue.push(pe),ce+=pe.totalLength;de.totalShapeLength=ce,de.pathsData=ue}fe+=ce,de.shape._mdf=!0}var ge=ne,xe=te,_e=0,ye;for(ae=oe-1;ae>=0;ae-=1)if(de=this.shapes[ae],de.shape._mdf){for(ve=de.localShapeCollection,ve.releaseShapes(),this.m===2&&oe>1?(ye=this.calculateShapeEdges(ne,te,de.totalShapeLength,_e,fe),_e+=de.totalShapeLength):ye=[[ge,xe]],he=ye.length,le=0;le<he;le+=1){ge=ye[le][0],xe=ye[le][1],me.length=0,xe<=1?me.push({s:de.totalShapeLength*ge,e:de.totalShapeLength*xe}):ge>=1?me.push({s:de.totalShapeLength*(ge-1),e:de.totalShapeLength*(xe-1)}):(me.push({s:de.totalShapeLength*ge,e:de.totalShapeLength}),me.push({s:0,e:de.totalShapeLength*(xe-1)}));var we=this.addShapes(de,me[0]);if(me[0].s!==me[0].e){if(me.length>1){var be=de.shape.paths.shapes[de.shape.paths._length-1];if(be.c){var Se=we.pop();this.addPaths(we,ve),we=this.addShapes(de,me[1],Se)}else this.addPaths(we,ve),we=this.addShapes(de,me[1])}this.addPaths(we,ve)}}de.shape.paths=ve}}},TrimModifier.prototype.addPaths=function(se,ne){var te,ee=se.length;for(te=0;te<ee;te+=1)ne.addShape(se[te])},TrimModifier.prototype.addSegment=function(se,ne,te,ee,re,ie,ae){re.setXYAt(ne[0],ne[1],"o",ie),re.setXYAt(te[0],te[1],"i",ie+1),ae&&re.setXYAt(se[0],se[1],"v",ie),re.setXYAt(ee[0],ee[1],"v",ie+1)},TrimModifier.prototype.addSegmentFromArray=function(se,ne,te,ee){ne.setXYAt(se[1],se[5],"o",te),ne.setXYAt(se[2],se[6],"i",te+1),ee&&ne.setXYAt(se[0],se[4],"v",te),ne.setXYAt(se[3],se[7],"v",te+1)},TrimModifier.prototype.addShapes=function(se,ne,te){var ee=se.pathsData,re=se.shape.paths.shapes,ie,ae=se.shape.paths._length,oe,le,he=0,ue,pe,ce,fe,me=[],de,ve=!0;for(te?(pe=te._length,de=te._length):(te=shapePool.newElement(),pe=0,de=0),me.push(te),ie=0;ie<ae;ie+=1){for(ce=ee[ie].lengths,te.c=re[ie].c,le=re[ie].c?ce.length:ce.length+1,oe=1;oe<le;oe+=1)if(ue=ce[oe-1],he+ue.addedLength<ne.s)he+=ue.addedLength,te.c=!1;else if(he>ne.e){te.c=!1;break}else ne.s<=he&&ne.e>=he+ue.addedLength?(this.addSegment(re[ie].v[oe-1],re[ie].o[oe-1],re[ie].i[oe],re[ie].v[oe],te,pe,ve),ve=!1):(fe=bez.getNewSegment(re[ie].v[oe-1],re[ie].v[oe],re[ie].o[oe-1],re[ie].i[oe],(ne.s-he)/ue.addedLength,(ne.e-he)/ue.addedLength,ce[oe-1]),this.addSegmentFromArray(fe,te,pe,ve),ve=!1,te.c=!1),he+=ue.addedLength,pe+=1;if(re[ie].c&&ce.length){if(ue=ce[oe-1],he<=ne.e){var ge=ce[oe-1].addedLength;ne.s<=he&&ne.e>=he+ge?(this.addSegment(re[ie].v[oe-1],re[ie].o[oe-1],re[ie].i[0],re[ie].v[0],te,pe,ve),ve=!1):(fe=bez.getNewSegment(re[ie].v[oe-1],re[ie].v[0],re[ie].o[oe-1],re[ie].i[0],(ne.s-he)/ge,(ne.e-he)/ge,ce[oe-1]),this.addSegmentFromArray(fe,te,pe,ve),ve=!1,te.c=!1)}else te.c=!1;he+=ue.addedLength,pe+=1}if(te._length&&(te.setXYAt(te.v[de][0],te.v[de][1],"i",de),te.setXYAt(te.v[te._length-1][0],te.v[te._length-1][1],"o",te._length-1)),he>ne.e)break;ie<ae-1&&(te=shapePool.newElement(),ve=!0,me.push(te),pe=0)}return me};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(se,ne){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(se,ne.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(se,ne){var te=ne/100,ee=[0,0],re=se._length,ie=0;for(ie=0;ie<re;ie+=1)ee[0]+=se.v[ie][0],ee[1]+=se.v[ie][1];ee[0]/=re,ee[1]/=re;var ae=shapePool.newElement();ae.c=se.c;var oe,le,he,ue,pe,ce;for(ie=0;ie<re;ie+=1)oe=se.v[ie][0]+(ee[0]-se.v[ie][0])*te,le=se.v[ie][1]+(ee[1]-se.v[ie][1])*te,he=se.o[ie][0]+(ee[0]-se.o[ie][0])*-te,ue=se.o[ie][1]+(ee[1]-se.o[ie][1])*-te,pe=se.i[ie][0]+(ee[0]-se.i[ie][0])*-te,ce=se.i[ie][1]+(ee[1]-se.i[ie][1])*-te,ae.setTripleAt(oe,le,he,ue,pe,ce,ie);return ae},PuckerAndBloatModifier.prototype.processShapes=function(se){var ne,te,ee=this.shapes.length,re,ie,ae=this.amount.v;if(ae!==0){var oe,le;for(te=0;te<ee;te+=1){if(oe=this.shapes[te],le=oe.localShapeCollection,!(!oe.shape._mdf&&!this._mdf&&!se))for(le.releaseShapes(),oe.shape._mdf=!0,ne=oe.shape.paths.shapes,ie=oe.shape.paths._length,re=0;re<ie;re+=1)le.addShape(this.processPath(ne[re],ae));oe.shape.paths=oe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var se=[0,0];function ne(le){var he=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||he,this.a&&le.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&le.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&le.skewFromAxis(-this.sk.v,this.sa.v),this.r?le.rotate(-this.r.v):le.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?le.translate(this.px.v,this.py.v,-this.pz.v):le.translate(this.px.v,this.py.v,0):le.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function te(le){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||le){var he;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ue,pe;if(he=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ue=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/he,0),pe=this.p.getValueAtTime(this.p.keyframes[0].t/he,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ue=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/he,0),pe=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/he,0)):(ue=this.p.pv,pe=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/he,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ue=[],pe=[];var ce=this.px,fe=this.py;ce._caching.lastFrame+ce.offsetTime<=ce.keyframes[0].t?(ue[0]=ce.getValueAtTime((ce.keyframes[0].t+.01)/he,0),ue[1]=fe.getValueAtTime((fe.keyframes[0].t+.01)/he,0),pe[0]=ce.getValueAtTime(ce.keyframes[0].t/he,0),pe[1]=fe.getValueAtTime(fe.keyframes[0].t/he,0)):ce._caching.lastFrame+ce.offsetTime>=ce.keyframes[ce.keyframes.length-1].t?(ue[0]=ce.getValueAtTime(ce.keyframes[ce.keyframes.length-1].t/he,0),ue[1]=fe.getValueAtTime(fe.keyframes[fe.keyframes.length-1].t/he,0),pe[0]=ce.getValueAtTime((ce.keyframes[ce.keyframes.length-1].t-.01)/he,0),pe[1]=fe.getValueAtTime((fe.keyframes[fe.keyframes.length-1].t-.01)/he,0)):(ue=[ce.pv,fe.pv],pe[0]=ce.getValueAtTime((ce._caching.lastFrame+ce.offsetTime-.01)/he,ce.offsetTime),pe[1]=fe.getValueAtTime((fe._caching.lastFrame+fe.offsetTime-.01)/he,fe.offsetTime))}else pe=se,ue=pe;this.v.rotate(-Math.atan2(ue[1]-pe[1],ue[0]-pe[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function ee(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function re(){}function ie(le){this._addDynamicProperty(le),this.elem.addDynamicProperty(le),this._isDirty=!0}function ae(le,he,ue){if(this.elem=le,this.frameId=-1,this.propType="transform",this.data=he,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ue||le),he.p&&he.p.s?(this.px=PropertyFactory.getProp(le,he.p.x,0,0,this),this.py=PropertyFactory.getProp(le,he.p.y,0,0,this),he.p.z&&(this.pz=PropertyFactory.getProp(le,he.p.z,0,0,this))):this.p=PropertyFactory.getProp(le,he.p||{k:[0,0,0]},1,0,this),he.rx){if(this.rx=PropertyFactory.getProp(le,he.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(le,he.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(le,he.rz,0,degToRads,this),he.or.k[0].ti){var pe,ce=he.or.k.length;for(pe=0;pe<ce;pe+=1)he.or.k[pe].to=null,he.or.k[pe].ti=null}this.or=PropertyFactory.getProp(le,he.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(le,he.r||{k:0},0,degToRads,this);he.sk&&(this.sk=PropertyFactory.getProp(le,he.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(le,he.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(le,he.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(le,he.s||{k:[100,100,100]},1,.01,this),he.o?this.o=PropertyFactory.getProp(le,he.o,0,.01,le):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ae.prototype={applyToMatrix:ne,getValue:te,precalculateMatrix:ee,autoOrient:re},extendPrototype([DynamicPropertyContainer],ae),ae.prototype.addDynamicProperty=ie,ae.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function oe(le,he,ue){return new ae(le,he,ue)}return{getTransformProperty:oe}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(se,ne){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(se,ne.c,0,null,this),this.o=PropertyFactory.getProp(se,ne.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(se,ne.tr,this),this.so=PropertyFactory.getProp(se,ne.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(se,ne.tr.eo,0,.01,this),this.data=ne,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(se,ne,te,ee,re,ie){var ae=ie?-1:1,oe=ee.s.v[0]+(1-ee.s.v[0])*(1-re),le=ee.s.v[1]+(1-ee.s.v[1])*(1-re);se.translate(ee.p.v[0]*ae*re,ee.p.v[1]*ae*re,ee.p.v[2]),ne.translate(-ee.a.v[0],-ee.a.v[1],ee.a.v[2]),ne.rotate(-ee.r.v*ae*re),ne.translate(ee.a.v[0],ee.a.v[1],ee.a.v[2]),te.translate(-ee.a.v[0],-ee.a.v[1],ee.a.v[2]),te.scale(ie?1/oe:oe,ie?1/le:le),te.translate(ee.a.v[0],ee.a.v[1],ee.a.v[2])},RepeaterModifier.prototype.init=function(se,ne,te,ee){for(this.elem=se,this.arr=ne,this.pos=te,this.elemsData=ee,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(se),this.initModifierProperties(se,ne[te]);te>0;)te-=1,this._elements.unshift(ne[te]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(se){var ne,te=se.length;for(ne=0;ne<te;ne+=1)se[ne]._processed=!1,se[ne].ty==="gr"&&this.resetElements(se[ne].it)},RepeaterModifier.prototype.cloneElements=function(se){var ne=JSON.parse(JSON.stringify(se));return this.resetElements(ne),ne},RepeaterModifier.prototype.changeGroupRender=function(se,ne){var te,ee=se.length;for(te=0;te<ee;te+=1)se[te]._render=ne,se[te].ty==="gr"&&this.changeGroupRender(se[te].it,ne)},RepeaterModifier.prototype.processShapes=function(se){var ne,te,ee,re,ie,ae=!1;if(this._mdf||se){var oe=Math.ceil(this.c.v);if(this._groups.length<oe){for(;this._groups.length<oe;){var le={it:this.cloneElements(this._elements),ty:"gr"};le.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,le),this._groups.splice(0,0,le),this._currentCopies+=1}this.elem.reloadShapes(),ae=!0}ie=0;var he;for(ee=0;ee<=this._groups.length-1;ee+=1){if(he=ie<oe,this._groups[ee]._render=he,this.changeGroupRender(this._groups[ee].it,he),!he){var ue=this.elemsData[ee].it,pe=ue[ue.length-1];pe.transform.op.v!==0?(pe.transform.op._mdf=!0,pe.transform.op.v=0):pe.transform.op._mdf=!1}ie+=1}this._currentCopies=oe;var ce=this.o.v,fe=ce%1,me=ce>0?Math.floor(ce):Math.ceil(ce),de=this.pMatrix.props,ve=this.rMatrix.props,ge=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var xe=0;if(ce>0){for(;xe<me;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),xe+=1;fe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,fe,!1),xe+=fe)}else if(ce<0){for(;xe>me;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),xe-=1;fe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-fe,!0),xe-=fe)}ee=this.data.m===1?0:this._currentCopies-1,re=this.data.m===1?1:-1,ie=this._currentCopies;for(var _e,ye;ie;){if(ne=this.elemsData[ee].it,te=ne[ne.length-1].transform.mProps.v.props,ye=te.length,ne[ne.length-1].transform.mProps._mdf=!0,ne[ne.length-1].transform.op._mdf=!0,ne[ne.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(ee/(this._currentCopies-1)),xe!==0){for((ee!==0&&re===1||ee!==this._currentCopies-1&&re===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ve[0],ve[1],ve[2],ve[3],ve[4],ve[5],ve[6],ve[7],ve[8],ve[9],ve[10],ve[11],ve[12],ve[13],ve[14],ve[15]),this.matrix.transform(ge[0],ge[1],ge[2],ge[3],ge[4],ge[5],ge[6],ge[7],ge[8],ge[9],ge[10],ge[11],ge[12],ge[13],ge[14],ge[15]),this.matrix.transform(de[0],de[1],de[2],de[3],de[4],de[5],de[6],de[7],de[8],de[9],de[10],de[11],de[12],de[13],de[14],de[15]),_e=0;_e<ye;_e+=1)te[_e]=this.matrix.props[_e];this.matrix.reset()}else for(this.matrix.reset(),_e=0;_e<ye;_e+=1)te[_e]=this.matrix.props[_e];xe+=1,ie-=1,ee+=re}}else for(ie=this._currentCopies,ee=0,re=1;ie;)ne=this.elemsData[ee].it,te=ne[ne.length-1].transform.mProps.v.props,ne[ne.length-1].transform.mProps._mdf=!1,ne[ne.length-1].transform.op._mdf=!1,ie-=1,ee+=re;return ae},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(se,ne){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(se,ne.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(se,ne){var te=shapePool.newElement();te.c=se.c;var ee,re=se._length,ie,ae,oe,le,he,ue,pe=0,ce,fe,me,de,ve,ge;for(ee=0;ee<re;ee+=1)ie=se.v[ee],oe=se.o[ee],ae=se.i[ee],ie[0]===oe[0]&&ie[1]===oe[1]&&ie[0]===ae[0]&&ie[1]===ae[1]?(ee===0||ee===re-1)&&!se.c?(te.setTripleAt(ie[0],ie[1],oe[0],oe[1],ae[0],ae[1],pe),pe+=1):(ee===0?le=se.v[re-1]:le=se.v[ee-1],he=Math.sqrt(Math.pow(ie[0]-le[0],2)+Math.pow(ie[1]-le[1],2)),ue=he?Math.min(he/2,ne)/he:0,ve=ie[0]+(le[0]-ie[0])*ue,ce=ve,ge=ie[1]-(ie[1]-le[1])*ue,fe=ge,me=ce-(ce-ie[0])*roundCorner,de=fe-(fe-ie[1])*roundCorner,te.setTripleAt(ce,fe,me,de,ve,ge,pe),pe+=1,ee===re-1?le=se.v[0]:le=se.v[ee+1],he=Math.sqrt(Math.pow(ie[0]-le[0],2)+Math.pow(ie[1]-le[1],2)),ue=he?Math.min(he/2,ne)/he:0,me=ie[0]+(le[0]-ie[0])*ue,ce=me,de=ie[1]+(le[1]-ie[1])*ue,fe=de,ve=ce-(ce-ie[0])*roundCorner,ge=fe-(fe-ie[1])*roundCorner,te.setTripleAt(ce,fe,me,de,ve,ge,pe),pe+=1):(te.setTripleAt(se.v[ee][0],se.v[ee][1],se.o[ee][0],se.o[ee][1],se.i[ee][0],se.i[ee][1],pe),pe+=1);return te},RoundCornersModifier.prototype.processShapes=function(se){var ne,te,ee=this.shapes.length,re,ie,ae=this.rd.v;if(ae!==0){var oe,le;for(te=0;te<ee;te+=1){if(oe=this.shapes[te],le=oe.localShapeCollection,!(!oe.shape._mdf&&!this._mdf&&!se))for(le.releaseShapes(),oe.shape._mdf=!0,ne=oe.shape.paths.shapes,ie=oe.shape.paths._length,re=0;re<ie;re+=1)le.addShape(this.processPath(ne[re],ae));oe.shape.paths=oe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(se,ne){return Math.abs(se-ne)*1e5<=Math.min(Math.abs(se),Math.abs(ne))}function floatZero(se){return Math.abs(se)<=1e-5}function lerp(se,ne,te){return se*(1-te)+ne*te}function lerpPoint(se,ne,te){return[lerp(se[0],ne[0],te),lerp(se[1],ne[1],te)]}function quadRoots(se,ne,te){if(se===0)return[];var ee=ne*ne-4*se*te;if(ee<0)return[];var re=-ne/(2*se);if(ee===0)return[re];var ie=Math.sqrt(ee)/(2*se);return[re-ie,re+ie]}function polynomialCoefficients(se,ne,te,ee){return[-se+3*ne-3*te+ee,3*se-6*ne+3*te,-3*se+3*ne,se]}function singlePoint(se){return new PolynomialBezier(se,se,se,se,!1)}function PolynomialBezier(se,ne,te,ee,re){re&&pointEqual(se,ne)&&(ne=lerpPoint(se,ee,1/3)),re&&pointEqual(te,ee)&&(te=lerpPoint(se,ee,2/3));var ie=polynomialCoefficients(se[0],ne[0],te[0],ee[0]),ae=polynomialCoefficients(se[1],ne[1],te[1],ee[1]);this.a=[ie[0],ae[0]],this.b=[ie[1],ae[1]],this.c=[ie[2],ae[2]],this.d=[ie[3],ae[3]],this.points=[se,ne,te,ee]}PolynomialBezier.prototype.point=function(se){return[((this.a[0]*se+this.b[0])*se+this.c[0])*se+this.d[0],((this.a[1]*se+this.b[1])*se+this.c[1])*se+this.d[1]]},PolynomialBezier.prototype.derivative=function(se){return[(3*se*this.a[0]+2*this.b[0])*se+this.c[0],(3*se*this.a[1]+2*this.b[1])*se+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(se){var ne=this.derivative(se);return Math.atan2(ne[1],ne[0])},PolynomialBezier.prototype.normalAngle=function(se){var ne=this.derivative(se);return Math.atan2(ne[0],ne[1])},PolynomialBezier.prototype.inflectionPoints=function(){var se=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(se))return[];var ne=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/se,te=ne*ne-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/se;if(te<0)return[];var ee=Math.sqrt(te);return floatZero(ee)?ee>0&&ee<1?[ne]:[]:[ne-ee,ne+ee].filter(function(re){return re>0&&re<1})},PolynomialBezier.prototype.split=function(se){if(se<=0)return[singlePoint(this.points[0]),this];if(se>=1)return[this,singlePoint(this.points[this.points.length-1])];var ne=lerpPoint(this.points[0],this.points[1],se),te=lerpPoint(this.points[1],this.points[2],se),ee=lerpPoint(this.points[2],this.points[3],se),re=lerpPoint(ne,te,se),ie=lerpPoint(te,ee,se),ae=lerpPoint(re,ie,se);return[new PolynomialBezier(this.points[0],ne,re,ae,!0),new PolynomialBezier(ae,ie,ee,this.points[3],!0)]};function extrema(se,ne){var te=se.points[0][ne],ee=se.points[se.points.length-1][ne];if(te>ee){var re=ee;ee=te,te=re}for(var ie=quadRoots(3*se.a[ne],2*se.b[ne],se.c[ne]),ae=0;ae<ie.length;ae+=1)if(ie[ae]>0&&ie[ae]<1){var oe=se.point(ie[ae])[ne];oe<te?te=oe:oe>ee&&(ee=oe)}return{min:te,max:ee}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var se=this.bounds();return{left:se.x.min,right:se.x.max,top:se.y.min,bottom:se.y.max,width:se.x.max-se.x.min,height:se.y.max-se.y.min,cx:(se.x.max+se.x.min)/2,cy:(se.y.max+se.y.min)/2}};function intersectData(se,ne,te){var ee=se.boundingBox();return{cx:ee.cx,cy:ee.cy,width:ee.width,height:ee.height,bez:se,t:(ne+te)/2,t1:ne,t2:te}}function splitData(se){var ne=se.bez.split(.5);return[intersectData(ne[0],se.t1,se.t),intersectData(ne[1],se.t,se.t2)]}function boxIntersect(se,ne){return Math.abs(se.cx-ne.cx)*2<se.width+ne.width&&Math.abs(se.cy-ne.cy)*2<se.height+ne.height}function intersectsImpl(se,ne,te,ee,re,ie){if(!!boxIntersect(se,ne)){if(te>=ie||se.width<=ee&&se.height<=ee&&ne.width<=ee&&ne.height<=ee){re.push([se.t,ne.t]);return}var ae=splitData(se),oe=splitData(ne);intersectsImpl(ae[0],oe[0],te+1,ee,re,ie),intersectsImpl(ae[0],oe[1],te+1,ee,re,ie),intersectsImpl(ae[1],oe[0],te+1,ee,re,ie),intersectsImpl(ae[1],oe[1],te+1,ee,re,ie)}}PolynomialBezier.prototype.intersections=function(se,ne,te){ne===void 0&&(ne=2),te===void 0&&(te=7);var ee=[];return intersectsImpl(intersectData(this,0,1),intersectData(se,0,1),0,ne,ee,te),ee},PolynomialBezier.shapeSegment=function(se,ne){var te=(ne+1)%se.length();return new PolynomialBezier(se.v[ne],se.o[ne],se.i[te],se.v[te],!0)},PolynomialBezier.shapeSegmentInverted=function(se,ne){var te=(ne+1)%se.length();return new PolynomialBezier(se.v[te],se.i[te],se.o[ne],se.v[ne],!0)};function crossProduct(se,ne){return[se[1]*ne[2]-se[2]*ne[1],se[2]*ne[0]-se[0]*ne[2],se[0]*ne[1]-se[1]*ne[0]]}function lineIntersection(se,ne,te,ee){var re=[se[0],se[1],1],ie=[ne[0],ne[1],1],ae=[te[0],te[1],1],oe=[ee[0],ee[1],1],le=crossProduct(crossProduct(re,ie),crossProduct(ae,oe));return floatZero(le[2])?null:[le[0]/le[2],le[1]/le[2]]}function polarOffset(se,ne,te){return[se[0]+Math.cos(ne)*te,se[1]-Math.sin(ne)*te]}function pointDistance(se,ne){return Math.hypot(se[0]-ne[0],se[1]-ne[1])}function pointEqual(se,ne){return floatEqual(se[0],ne[0])&&floatEqual(se[1],ne[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(se,ne){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(se,ne.s,0,null,this),this.frequency=PropertyFactory.getProp(se,ne.r,0,null,this),this.pointsType=PropertyFactory.getProp(se,ne.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(se,ne,te,ee,re,ie,ae){var oe=te-Math.PI/2,le=te+Math.PI/2,he=ne[0]+Math.cos(te)*ee*re,ue=ne[1]-Math.sin(te)*ee*re;se.setTripleAt(he,ue,he+Math.cos(oe)*ie,ue-Math.sin(oe)*ie,he+Math.cos(le)*ae,ue-Math.sin(le)*ae,se.length())}function getPerpendicularVector(se,ne){var te=[ne[0]-se[0],ne[1]-se[1]],ee=-Math.PI*.5,re=[Math.cos(ee)*te[0]-Math.sin(ee)*te[1],Math.sin(ee)*te[0]+Math.cos(ee)*te[1]];return re}function getProjectingAngle(se,ne){var te=ne===0?se.length()-1:ne-1,ee=(ne+1)%se.length(),re=se.v[te],ie=se.v[ee],ae=getPerpendicularVector(re,ie);return Math.atan2(0,1)-Math.atan2(ae[1],ae[0])}function zigZagCorner(se,ne,te,ee,re,ie,ae){var oe=getProjectingAngle(ne,te),le=ne.v[te%ne._length],he=ne.v[te===0?ne._length-1:te-1],ue=ne.v[(te+1)%ne._length],pe=ie===2?Math.sqrt(Math.pow(le[0]-he[0],2)+Math.pow(le[1]-he[1],2)):0,ce=ie===2?Math.sqrt(Math.pow(le[0]-ue[0],2)+Math.pow(le[1]-ue[1],2)):0;setPoint(se,ne.v[te%ne._length],oe,ae,ee,ce/((re+1)*2),pe/((re+1)*2))}function zigZagSegment(se,ne,te,ee,re,ie){for(var ae=0;ae<ee;ae+=1){var oe=(ae+1)/(ee+1),le=re===2?Math.sqrt(Math.pow(ne.points[3][0]-ne.points[0][0],2)+Math.pow(ne.points[3][1]-ne.points[0][1],2)):0,he=ne.normalAngle(oe),ue=ne.point(oe);setPoint(se,ue,he,ie,te,le/((ee+1)*2),le/((ee+1)*2)),ie=-ie}return ie}ZigZagModifier.prototype.processPath=function(se,ne,te,ee){var re=se._length,ie=shapePool.newElement();if(ie.c=se.c,se.c||(re-=1),re===0)return ie;var ae=-1,oe=PolynomialBezier.shapeSegment(se,0);zigZagCorner(ie,se,0,ne,te,ee,ae);for(var le=0;le<re;le+=1)ae=zigZagSegment(ie,oe,ne,te,ee,-ae),le===re-1&&!se.c?oe=null:oe=PolynomialBezier.shapeSegment(se,(le+1)%re),zigZagCorner(ie,se,le+1,ne,te,ee,ae);return ie},ZigZagModifier.prototype.processShapes=function(se){var ne,te,ee=this.shapes.length,re,ie,ae=this.amplitude.v,oe=Math.max(0,Math.round(this.frequency.v)),le=this.pointsType.v;if(ae!==0){var he,ue;for(te=0;te<ee;te+=1){if(he=this.shapes[te],ue=he.localShapeCollection,!(!he.shape._mdf&&!this._mdf&&!se))for(ue.releaseShapes(),he.shape._mdf=!0,ne=he.shape.paths.shapes,ie=he.shape.paths._length,re=0;re<ie;re+=1)ue.addShape(this.processPath(ne[re],ae,oe,le));he.shape.paths=he.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(se,ne,te){var ee=Math.atan2(ne[0]-se[0],ne[1]-se[1]);return[polarOffset(se,ee,te),polarOffset(ne,ee,te)]}function offsetSegment(se,ne){var te,ee,re,ie,ae,oe,le;le=linearOffset(se.points[0],se.points[1],ne),te=le[0],ee=le[1],le=linearOffset(se.points[1],se.points[2],ne),re=le[0],ie=le[1],le=linearOffset(se.points[2],se.points[3],ne),ae=le[0],oe=le[1];var he=lineIntersection(te,ee,re,ie);he===null&&(he=ee);var ue=lineIntersection(ae,oe,re,ie);return ue===null&&(ue=ae),new PolynomialBezier(te,he,ue,oe)}function joinLines(se,ne,te,ee,re){var ie=ne.points[3],ae=te.points[0];if(ee===3||pointEqual(ie,ae))return ie;if(ee===2){var oe=-ne.tangentAngle(1),le=-te.tangentAngle(0)+Math.PI,he=lineIntersection(ie,polarOffset(ie,oe+Math.PI/2,100),ae,polarOffset(ae,oe+Math.PI/2,100)),ue=he?pointDistance(he,ie):pointDistance(ie,ae)/2,pe=polarOffset(ie,oe,2*ue*roundCorner);return se.setXYAt(pe[0],pe[1],"o",se.length()-1),pe=polarOffset(ae,le,2*ue*roundCorner),se.setTripleAt(ae[0],ae[1],ae[0],ae[1],pe[0],pe[1],se.length()),ae}var ce=pointEqual(ie,ne.points[2])?ne.points[0]:ne.points[2],fe=pointEqual(ae,te.points[1])?te.points[3]:te.points[1],me=lineIntersection(ce,ie,ae,fe);return me&&pointDistance(me,ie)<re?(se.setTripleAt(me[0],me[1],me[0],me[1],me[0],me[1],se.length()),me):ie}function getIntersection(se,ne){var te=se.intersections(ne);return te.length&&floatEqual(te[0][0],1)&&te.shift(),te.length?te[0]:null}function pruneSegmentIntersection(se,ne){var te=se.slice(),ee=ne.slice(),re=getIntersection(se[se.length-1],ne[0]);return re&&(te[se.length-1]=se[se.length-1].split(re[0])[0],ee[0]=ne[0].split(re[1])[1]),se.length>1&&ne.length>1&&(re=getIntersection(se[0],ne[ne.length-1]),re)?[[se[0].split(re[0])[0]],[ne[ne.length-1].split(re[1])[1]]]:[te,ee]}function pruneIntersections(se){for(var ne,te=1;te<se.length;te+=1)ne=pruneSegmentIntersection(se[te-1],se[te]),se[te-1]=ne[0],se[te]=ne[1];return se.length>1&&(ne=pruneSegmentIntersection(se[se.length-1],se[0]),se[se.length-1]=ne[0],se[0]=ne[1]),se}function offsetSegmentSplit(se,ne){var te=se.inflectionPoints(),ee,re,ie,ae;if(te.length===0)return[offsetSegment(se,ne)];if(te.length===1||floatEqual(te[1],1))return ie=se.split(te[0]),ee=ie[0],re=ie[1],[offsetSegment(ee,ne),offsetSegment(re,ne)];ie=se.split(te[0]),ee=ie[0];var oe=(te[1]-te[0])/(1-te[0]);return ie=ie[1].split(oe),ae=ie[0],re=ie[1],[offsetSegment(ee,ne),offsetSegment(ae,ne),offsetSegment(re,ne)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(se,ne){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(se,ne.a,0,null,this),this.miterLimit=PropertyFactory.getProp(se,ne.ml,0,null,this),this.lineJoin=ne.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(se,ne,te,ee){var re=shapePool.newElement();re.c=se.c;var ie=se.length();se.c||(ie-=1);var ae,oe,le,he=[];for(ae=0;ae<ie;ae+=1)le=PolynomialBezier.shapeSegment(se,ae),he.push(offsetSegmentSplit(le,ne));if(!se.c)for(ae=ie-1;ae>=0;ae-=1)le=PolynomialBezier.shapeSegmentInverted(se,ae),he.push(offsetSegmentSplit(le,ne));he=pruneIntersections(he);var ue=null,pe=null;for(ae=0;ae<he.length;ae+=1){var ce=he[ae];for(pe&&(ue=joinLines(re,pe,ce[0],te,ee)),pe=ce[ce.length-1],oe=0;oe<ce.length;oe+=1)le=ce[oe],ue&&pointEqual(le.points[0],ue)?re.setXYAt(le.points[1][0],le.points[1][1],"o",re.length()-1):re.setTripleAt(le.points[0][0],le.points[0][1],le.points[1][0],le.points[1][1],le.points[0][0],le.points[0][1],re.length()),re.setTripleAt(le.points[3][0],le.points[3][1],le.points[3][0],le.points[3][1],le.points[2][0],le.points[2][1],re.length()),ue=le.points[3]}return he.length&&joinLines(re,pe,he[0][0],te,ee),re},OffsetPathModifier.prototype.processShapes=function(se){var ne,te,ee=this.shapes.length,re,ie,ae=this.amount.v,oe=this.miterLimit.v,le=this.lineJoin;if(ae!==0){var he,ue;for(te=0;te<ee;te+=1){if(he=this.shapes[te],ue=he.localShapeCollection,!(!he.shape._mdf&&!this._mdf&&!se))for(ue.releaseShapes(),he.shape._mdf=!0,ne=he.shape.paths.shapes,ie=he.shape.paths._length,re=0;re<ie;re+=1)ue.addShape(this.processPath(ne[re],ae,le,oe));he.shape.paths=he.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(se){for(var ne=se.fStyle?se.fStyle.split(" "):[],te="normal",ee="normal",re=ne.length,ie,ae=0;ae<re;ae+=1)switch(ie=ne[ae].toLowerCase(),ie){case"italic":ee="italic";break;case"bold":te="700";break;case"black":te="900";break;case"medium":te="500";break;case"regular":case"normal":te="400";break;case"light":case"thin":te="200";break}return{style:ee,weight:se.fWeight||te}}var FontManager=function(){var se=5e3,ne={w:0,size:0,shapes:[],data:{shapes:[]}},te=[];te=te.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var ee=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],re=[65039,8205];function ie(ye){var we=ye.split(","),be,Se=we.length,Ce=[];for(be=0;be<Se;be+=1)we[be]!=="sans-serif"&&we[be]!=="monospace"&&Ce.push(we[be]);return Ce.join(",")}function ae(ye,we){var be=createTag("span");be.setAttribute("aria-hidden",!0),be.style.fontFamily=we;var Se=createTag("span");Se.innerText="giItT1WQy@!-/#",be.style.position="absolute",be.style.left="-10000px",be.style.top="-10000px",be.style.fontSize="300px",be.style.fontVariant="normal",be.style.fontStyle="normal",be.style.fontWeight="normal",be.style.letterSpacing="0",be.appendChild(Se),document.body.appendChild(be);var Ce=Se.offsetWidth;return Se.style.fontFamily=ie(ye)+", "+we,{node:Se,w:Ce,parent:be}}function oe(){var ye,we=this.fonts.length,be,Se,Ce=we;for(ye=0;ye<we;ye+=1)this.fonts[ye].loaded?Ce-=1:this.fonts[ye].fOrigin==="n"||this.fonts[ye].origin===0?this.fonts[ye].loaded=!0:(be=this.fonts[ye].monoCase.node,Se=this.fonts[ye].monoCase.w,be.offsetWidth!==Se?(Ce-=1,this.fonts[ye].loaded=!0):(be=this.fonts[ye].sansCase.node,Se=this.fonts[ye].sansCase.w,be.offsetWidth!==Se&&(Ce-=1,this.fonts[ye].loaded=!0)),this.fonts[ye].loaded&&(this.fonts[ye].sansCase.parent.parentNode.removeChild(this.fonts[ye].sansCase.parent),this.fonts[ye].monoCase.parent.parentNode.removeChild(this.fonts[ye].monoCase.parent)));Ce!==0&&Date.now()-this.initTime<se?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function le(ye,we){var be=document.body&&we?"svg":"canvas",Se,Ce=getFontProperties(ye);if(be==="svg"){var Te=createNS("text");Te.style.fontSize="100px",Te.setAttribute("font-family",ye.fFamily),Te.setAttribute("font-style",Ce.style),Te.setAttribute("font-weight",Ce.weight),Te.textContent="1",ye.fClass?(Te.style.fontFamily="inherit",Te.setAttribute("class",ye.fClass)):Te.style.fontFamily=ye.fFamily,we.appendChild(Te),Se=Te}else{var De=new OffscreenCanvas(500,500).getContext("2d");De.font=Ce.style+" "+Ce.weight+" 100px "+ye.fFamily,Se=De}function Fe(Le){return be==="svg"?(Se.textContent=Le,Se.getComputedTextLength()):Se.measureText(Le).width}return{measureText:Fe}}function he(ye,we){if(!ye){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=ye.list;return}if(!document.body){this.isLoaded=!0,ye.list.forEach(function(Pe){Pe.helper=le(Pe),Pe.cache={}}),this.fonts=ye.list;return}var be=ye.list,Se,Ce=be.length,Te=Ce;for(Se=0;Se<Ce;Se+=1){var De=!0,Fe,Le;if(be[Se].loaded=!1,be[Se].monoCase=ae(be[Se].fFamily,"monospace"),be[Se].sansCase=ae(be[Se].fFamily,"sans-serif"),!be[Se].fPath)be[Se].loaded=!0,Te-=1;else if(be[Se].fOrigin==="p"||be[Se].origin===3){if(Fe=document.querySelectorAll('style[f-forigin="p"][f-family="'+be[Se].fFamily+'"], style[f-origin="3"][f-family="'+be[Se].fFamily+'"]'),Fe.length>0&&(De=!1),De){var Ie=createTag("style");Ie.setAttribute("f-forigin",be[Se].fOrigin),Ie.setAttribute("f-origin",be[Se].origin),Ie.setAttribute("f-family",be[Se].fFamily),Ie.type="text/css",Ie.innerText="@font-face {font-family: "+be[Se].fFamily+"; font-style: normal; src: url('"+be[Se].fPath+"');}",we.appendChild(Ie)}}else if(be[Se].fOrigin==="g"||be[Se].origin===1){for(Fe=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Le=0;Le<Fe.length;Le+=1)Fe[Le].href.indexOf(be[Se].fPath)!==-1&&(De=!1);if(De){var Oe=createTag("link");Oe.setAttribute("f-forigin",be[Se].fOrigin),Oe.setAttribute("f-origin",be[Se].origin),Oe.type="text/css",Oe.rel="stylesheet",Oe.href=be[Se].fPath,document.body.appendChild(Oe)}}else if(be[Se].fOrigin==="t"||be[Se].origin===2){for(Fe=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Le=0;Le<Fe.length;Le+=1)be[Se].fPath===Fe[Le].src&&(De=!1);if(De){var ke=createTag("link");ke.setAttribute("f-forigin",be[Se].fOrigin),ke.setAttribute("f-origin",be[Se].origin),ke.setAttribute("rel","stylesheet"),ke.setAttribute("href",be[Se].fPath),we.appendChild(ke)}}be[Se].helper=le(be[Se],we),be[Se].cache={},this.fonts.push(be[Se])}Te===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ue(ye){if(!!ye){this.chars||(this.chars=[]);var we,be=ye.length,Se,Ce=this.chars.length,Te;for(we=0;we<be;we+=1){for(Se=0,Te=!1;Se<Ce;)this.chars[Se].style===ye[we].style&&this.chars[Se].fFamily===ye[we].fFamily&&this.chars[Se].ch===ye[we].ch&&(Te=!0),Se+=1;Te||(this.chars.push(ye[we]),Ce+=1)}}}function pe(ye,we,be){for(var Se=0,Ce=this.chars.length;Se<Ce;){if(this.chars[Se].ch===ye&&this.chars[Se].style===we&&this.chars[Se].fFamily===be)return this.chars[Se];Se+=1}return(typeof ye=="string"&&ye.charCodeAt(0)!==13||!ye)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ye,we,be)),ne}function ce(ye,we,be){var Se=this.getFontByName(we),Ce=ye.charCodeAt(0);if(!Se.cache[Ce+1]){var Te=Se.helper;if(ye===" "){var De=Te.measureText("|"+ye+"|"),Fe=Te.measureText("||");Se.cache[Ce+1]=(De-Fe)/100}else Se.cache[Ce+1]=Te.measureText(ye)/100}return Se.cache[Ce+1]*be}function fe(ye){for(var we=0,be=this.fonts.length;we<be;){if(this.fonts[we].fName===ye)return this.fonts[we];we+=1}return this.fonts[0]}function me(ye,we){var be=ye.toString(16)+we.toString(16);return ee.indexOf(be)!==-1}function de(ye,we){return we?ye===re[0]&&we===re[1]:ye===re[1]}function ve(ye){return te.indexOf(ye)!==-1}function ge(){this.isLoaded=!0}var xe=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};xe.isModifier=me,xe.isZeroWidthJoiner=de,xe.isCombinedCharacter=ve;var _e={addChars:ue,addFonts:he,getCharData:pe,getFontByName:fe,measureText:ce,checkLoadedFonts:oe,setIsLoaded:ge};return xe.prototype=_e,xe}();function SlotManager(se){this.animationData=se}SlotManager.prototype.getProp=function(se){return this.animationData.slots&&this.animationData.slots[se.sid]?Object.assign(se,this.animationData.slots[se.sid].p):se};function slotFactory(se){return new SlotManager(se)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(ne){this.renderableComponents.indexOf(ne)===-1&&this.renderableComponents.push(ne)},removeRenderableComponent:function(ne){this.renderableComponents.indexOf(ne)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(ne),1)},prepareRenderableFrame:function(ne){this.checkLayerLimits(ne)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(ne){this.data.ip-this.data.st<=ne&&this.data.op-this.data.st>ne?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var ne,te=this.renderableComponents.length;for(ne=0;ne<te;ne+=1)this.renderableComponents[ne].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var se={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(ne){return se[ne]||""}}();function SliderEffect(se,ne,te){this.p=PropertyFactory.getProp(ne,se.v,0,0,te)}function AngleEffect(se,ne,te){this.p=PropertyFactory.getProp(ne,se.v,0,0,te)}function ColorEffect(se,ne,te){this.p=PropertyFactory.getProp(ne,se.v,1,0,te)}function PointEffect(se,ne,te){this.p=PropertyFactory.getProp(ne,se.v,1,0,te)}function LayerIndexEffect(se,ne,te){this.p=PropertyFactory.getProp(ne,se.v,0,0,te)}function MaskIndexEffect(se,ne,te){this.p=PropertyFactory.getProp(ne,se.v,0,0,te)}function CheckboxEffect(se,ne,te){this.p=PropertyFactory.getProp(ne,se.v,0,0,te)}function NoValueEffect(){this.p={}}function EffectsManager(se,ne){var te=se.ef||[];this.effectElements=[];var ee,re=te.length,ie;for(ee=0;ee<re;ee+=1)ie=new GroupEffect(te[ee],ne),this.effectElements.push(ie)}function GroupEffect(se,ne){this.init(se,ne)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(se,ne){this.data=se,this.effectElements=[],this.initDynamicPropertyContainer(ne);var te,ee=this.data.ef.length,re,ie=this.data.ef;for(te=0;te<ee;te+=1){switch(re=null,ie[te].ty){case 0:re=new SliderEffect(ie[te],ne,this);break;case 1:re=new AngleEffect(ie[te],ne,this);break;case 2:re=new ColorEffect(ie[te],ne,this);break;case 3:re=new PointEffect(ie[te],ne,this);break;case 4:case 7:re=new CheckboxEffect(ie[te],ne,this);break;case 10:re=new LayerIndexEffect(ie[te],ne,this);break;case 11:re=new MaskIndexEffect(ie[te],ne,this);break;case 5:re=new EffectsManager(ie[te],ne);break;default:re=new NoValueEffect(ie[te]);break}re&&this.effectElements.push(re)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var ne=0,te=this.data.masksProperties.length;ne<te;){if(this.data.masksProperties[ne].mode!=="n"&&this.data.masksProperties[ne].cl!==!1)return!0;ne+=1}return!1},initExpressions:function(){var ne=getExpressionInterfaces();if(!!ne){var te=ne("layer"),ee=ne("effects"),re=ne("shape"),ie=ne("text"),ae=ne("comp");this.layerInterface=te(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var oe=ee.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(oe),this.data.ty===0||this.data.xt?this.compInterface=ae(this):this.data.ty===4?(this.layerInterface.shapeInterface=re(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=ie(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var ne=getBlendMode(this.data.bm),te=this.baseElement||this.layerElement;te.style["mix-blend-mode"]=ne},initBaseData:function(ne,te,ee){this.globalData=te,this.comp=ee,this.data=ne,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(ne,te){var ee,re=this.dynamicProperties.length;for(ee=0;ee<re;ee+=1)(te||this._isParent&&this.dynamicProperties[ee].propType==="transform")&&(this.dynamicProperties[ee].getValue(),this.dynamicProperties[ee]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(ne){this.dynamicProperties.indexOf(ne)===-1&&this.dynamicProperties.push(ne)}};function FootageElement(se,ne,te){this.initFrame(),this.initRenderable(),this.assetData=ne.getAssetData(se.refId),this.footageData=ne.imageLoader.getAsset(this.assetData),this.initBaseData(se,ne,te)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var se=getExpressionInterfaces();if(!!se){var ne=se("footage");this.layerInterface=ne(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(se,ne,te){this.initFrame(),this.initRenderable(),this.assetData=ne.getAssetData(se.refId),this.initBaseData(se,ne,te),this._isPlaying=!1,this._canPlay=!1;var ee=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(ee),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=se.tm?PropertyFactory.getProp(this,se.tm,0,ne.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,se.au&&se.au.lv?se.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(se){if(this.prepareRenderableFrame(se,!0),this.prepareProperties(se,!0),this.tm._placeholder)this._currentTime=se/this.data.sr;else{var ne=this.tm.v;this._currentTime=ne}this._volume=this.lv.v[0];var te=this._volume*this._volumeMultiplier;this._previousVolume!==te&&(this._previousVolume=te,this.audio.volume(te))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(se){this.audio.rate(se)},AudioElement.prototype.volume=function(se){this._volumeMultiplier=se,this._previousVolume=se*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(se){var ne,te=this.layers.length,ee;for(this.completeLayers=!0,ne=te-1;ne>=0;ne-=1)this.elements[ne]||(ee=this.layers[ne],ee.ip-ee.st<=se-this.layers[ne].st&&ee.op-ee.st>se-this.layers[ne].st&&this.buildItem(ne)),this.completeLayers=this.elements[ne]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(se){switch(se.ty){case 2:return this.createImage(se);case 0:return this.createComp(se);case 1:return this.createSolid(se);case 3:return this.createNull(se);case 4:return this.createShape(se);case 5:return this.createText(se);case 6:return this.createAudio(se);case 13:return this.createCamera(se);case 15:return this.createFootage(se);default:return this.createNull(se)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(se){return new AudioElement(se,this.globalData,this)},BaseRenderer.prototype.createFootage=function(se){return new FootageElement(se,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var se,ne=this.layers.length;for(se=0;se<ne;se+=1)this.buildItem(se);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(se){this.completeLayers=!1;var ne,te=se.length,ee,re=this.layers.length;for(ne=0;ne<te;ne+=1)for(ee=0;ee<re;){if(this.layers[ee].id===se[ne].id){this.layers[ee]=se[ne];break}ee+=1}},BaseRenderer.prototype.setProjectInterface=function(se){this.globalData.projectInterface=se},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(se,ne,te){for(var ee=this.elements,re=this.layers,ie=0,ae=re.length;ie<ae;)re[ie].ind==ne&&(!ee[ie]||ee[ie]===!0?(this.buildItem(ie),this.addPendingElement(se)):(te.push(ee[ie]),ee[ie].setAsParent(),re[ie].parent!==void 0?this.buildElementParenting(se,re[ie].parent,te):se.setHierarchy(te))),ie+=1},BaseRenderer.prototype.addPendingElement=function(se){this.pendingElements.push(se)},BaseRenderer.prototype.searchExtraCompositions=function(se){var ne,te=se.length;for(ne=0;ne<te;ne+=1)if(se[ne].xt){var ee=this.createComp(se[ne]);ee.initExpressions(),this.globalData.projectInterface.registerComposition(ee)}},BaseRenderer.prototype.getElementById=function(se){var ne,te=this.elements.length;for(ne=0;ne<te;ne+=1)if(this.elements[ne].data.ind===se)return this.elements[ne];return null},BaseRenderer.prototype.getElementByPath=function(se){var ne=se.shift(),te;if(typeof ne=="number")te=this.elements[ne];else{var ee,re=this.elements.length;for(ee=0;ee<re;ee+=1)if(this.elements[ee].data.nm===ne){te=this.elements[ee];break}}return se.length===0?te:te.getElementByPath(se)},BaseRenderer.prototype.setupGlobalData=function(se,ne){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(se),this.globalData.fontManager.addChars(se.chars),this.globalData.fontManager.addFonts(se.fonts,ne),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=se.fr,this.globalData.nm=se.nm,this.globalData.compSize={w:se.w,h:se.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var ne,te=this.finalTransform.mat,ee=0,re=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;ee<re;){if(this.hierarchy[ee].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}ee+=1}if(this.finalTransform._matMdf)for(ne=this.finalTransform.mProp.v.props,te.cloneFromProps(ne),ee=0;ee<re;ee+=1)ne=this.hierarchy[ee].finalTransform.mProp.v.props,te.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5],ne[6],ne[7],ne[8],ne[9],ne[10],ne[11],ne[12],ne[13],ne[14],ne[15])}},globalToLocal:function(ne){var te=[];te.push(this.finalTransform);for(var ee=!0,re=this.comp;ee;)re.finalTransform?(re.data.hasMask&&te.splice(0,0,re.finalTransform),re=re.comp):ee=!1;var ie,ae=te.length,oe;for(ie=0;ie<ae;ie+=1)oe=te[ie].mat.applyToPointArray(0,0,0),ne=[ne[0]-oe[0],ne[1]-oe[1],0];return ne},mHelper:new Matrix};function MaskElement(se,ne,te){this.data=se,this.element=ne,this.globalData=te,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var ee=this.globalData.defs,re,ie=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(ie),this.solidPath="";var ae,oe=this.masksProperties,le=0,he=[],ue,pe,ce=createElementID(),fe,me,de,ve,ge="clipPath",xe="clip-path";for(re=0;re<ie;re+=1)if((oe[re].mode!=="a"&&oe[re].mode!=="n"||oe[re].inv||oe[re].o.k!==100||oe[re].o.x)&&(ge="mask",xe="mask"),(oe[re].mode==="s"||oe[re].mode==="i")&&le===0?(fe=createNS("rect"),fe.setAttribute("fill","#ffffff"),fe.setAttribute("width",this.element.comp.data.w||0),fe.setAttribute("height",this.element.comp.data.h||0),he.push(fe)):fe=null,ae=createNS("path"),oe[re].mode==="n")this.viewData[re]={op:PropertyFactory.getProp(this.element,oe[re].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,oe[re],3),elem:ae,lastPath:""},ee.appendChild(ae);else{le+=1,ae.setAttribute("fill",oe[re].mode==="s"?"#000000":"#ffffff"),ae.setAttribute("clip-rule","nonzero");var _e;if(oe[re].x.k!==0?(ge="mask",xe="mask",ve=PropertyFactory.getProp(this.element,oe[re].x,0,null,this.element),_e=createElementID(),me=createNS("filter"),me.setAttribute("id",_e),de=createNS("feMorphology"),de.setAttribute("operator","erode"),de.setAttribute("in","SourceGraphic"),de.setAttribute("radius","0"),me.appendChild(de),ee.appendChild(me),ae.setAttribute("stroke",oe[re].mode==="s"?"#000000":"#ffffff")):(de=null,ve=null),this.storedData[re]={elem:ae,x:ve,expan:de,lastPath:"",lastOperator:"",filterId:_e,lastRadius:0},oe[re].mode==="i"){pe=he.length;var ye=createNS("g");for(ue=0;ue<pe;ue+=1)ye.appendChild(he[ue]);var we=createNS("mask");we.setAttribute("mask-type","alpha"),we.setAttribute("id",ce+"_"+le),we.appendChild(ae),ee.appendChild(we),ye.setAttribute("mask","url("+getLocationHref()+"#"+ce+"_"+le+")"),he.length=0,he.push(ye)}else he.push(ae);oe[re].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[re]={elem:ae,lastPath:"",op:PropertyFactory.getProp(this.element,oe[re].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,oe[re],3),invRect:fe},this.viewData[re].prop.k||this.drawPath(oe[re],this.viewData[re].prop.v,this.viewData[re])}for(this.maskElement=createNS(ge),ie=he.length,re=0;re<ie;re+=1)this.maskElement.appendChild(he[re]);le>0&&(this.maskElement.setAttribute("id",ce),this.element.maskedElement.setAttribute(xe,"url("+getLocationHref()+"#"+ce+")"),ee.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(se){return this.viewData[se].prop},MaskElement.prototype.renderFrame=function(se){var ne=this.element.finalTransform.mat,te,ee=this.masksProperties.length;for(te=0;te<ee;te+=1)if((this.viewData[te].prop._mdf||se)&&this.drawPath(this.masksProperties[te],this.viewData[te].prop.v,this.viewData[te]),(this.viewData[te].op._mdf||se)&&this.viewData[te].elem.setAttribute("fill-opacity",this.viewData[te].op.v),this.masksProperties[te].mode!=="n"&&(this.viewData[te].invRect&&(this.element.finalTransform.mProp._mdf||se)&&this.viewData[te].invRect.setAttribute("transform",ne.getInverseMatrix().to2dCSS()),this.storedData[te].x&&(this.storedData[te].x._mdf||se))){var re=this.storedData[te].expan;this.storedData[te].x.v<0?(this.storedData[te].lastOperator!=="erode"&&(this.storedData[te].lastOperator="erode",this.storedData[te].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[te].filterId+")")),re.setAttribute("radius",-this.storedData[te].x.v)):(this.storedData[te].lastOperator!=="dilate"&&(this.storedData[te].lastOperator="dilate",this.storedData[te].elem.setAttribute("filter",null)),this.storedData[te].elem.setAttribute("stroke-width",this.storedData[te].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var se="M0,0 ";return se+=" h"+this.globalData.compSize.w,se+=" v"+this.globalData.compSize.h,se+=" h-"+this.globalData.compSize.w,se+=" v-"+this.globalData.compSize.h+" ",se},MaskElement.prototype.drawPath=function(se,ne,te){var ee=" M"+ne.v[0][0]+","+ne.v[0][1],re,ie;for(ie=ne._length,re=1;re<ie;re+=1)ee+=" C"+ne.o[re-1][0]+","+ne.o[re-1][1]+" "+ne.i[re][0]+","+ne.i[re][1]+" "+ne.v[re][0]+","+ne.v[re][1];if(ne.c&&ie>1&&(ee+=" C"+ne.o[re-1][0]+","+ne.o[re-1][1]+" "+ne.i[0][0]+","+ne.i[0][1]+" "+ne.v[0][0]+","+ne.v[0][1]),te.lastPath!==ee){var ae="";te.elem&&(ne.c&&(ae=se.inv?this.solidPath+ee:ee),te.elem.setAttribute("d",ae)),te.lastPath=ee}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var se={};se.createFilter=ne,se.createAlphaToLuminanceFilter=te;function ne(ee,re){var ie=createNS("filter");return ie.setAttribute("id",ee),re!==!0&&(ie.setAttribute("filterUnits","objectBoundingBox"),ie.setAttribute("x","0%"),ie.setAttribute("y","0%"),ie.setAttribute("width","100%"),ie.setAttribute("height","100%")),ie}function te(){var ee=createNS("feColorMatrix");return ee.setAttribute("type","matrix"),ee.setAttribute("color-interpolation-filters","sRGB"),ee.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),ee}return se}(),featureSupport=function(){var se={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas!="undefined"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(se.maskType=!1),/firefox/i.test(navigator.userAgent)&&(se.svgLumaHidden=!1),se}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(se){var ne,te="SourceGraphic",ee=se.data.ef?se.data.ef.length:0,re=createElementID(),ie=filtersFactory.createFilter(re,!0),ae=0;this.filters=[];var oe;for(ne=0;ne<ee;ne+=1){oe=null;var le=se.data.ef[ne].ty;if(registeredEffects[le]){var he=registeredEffects[le].effect;oe=new he(ie,se.effectsManager.effectElements[ne],se,idPrefix+ae,te),te=idPrefix+ae,registeredEffects[le].countsAsEffect&&(ae+=1)}oe&&this.filters.push(oe)}ae&&(se.globalData.defs.appendChild(ie),se.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+re+")")),this.filters.length&&se.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(se){var ne,te=this.filters.length;for(ne=0;ne<te;ne+=1)this.filters[ne].renderFrame(se)};function registerEffect(se,ne,te){registeredEffects[se]={effect:ne,countsAsEffect:te}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var ne=null;if(this.data.td){this.matteMasks={};var te=createNS("g");te.setAttribute("id",this.layerId),te.appendChild(this.layerElement),ne=te,this.globalData.defs.appendChild(te)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),ne=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var ee=createNS("clipPath"),re=createNS("path");re.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var ie=createElementID();if(ee.setAttribute("id",ie),ee.appendChild(re),this.globalData.defs.appendChild(ee),this.checkMasks()){var ae=createNS("g");ae.setAttribute("clip-path","url("+getLocationHref()+"#"+ie+")"),ae.appendChild(this.layerElement),this.transformedElement=ae,ne?ne.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ie+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(ne){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[ne]){var te=this.layerId+"_"+ne,ee,re,ie,ae;if(ne===1||ne===3){var oe=createNS("mask");oe.setAttribute("id",te),oe.setAttribute("mask-type",ne===3?"luminance":"alpha"),ie=createNS("use"),ie.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),oe.appendChild(ie),this.globalData.defs.appendChild(oe),!featureSupport.maskType&&ne===1&&(oe.setAttribute("mask-type","luminance"),ee=createElementID(),re=filtersFactory.createFilter(ee),this.globalData.defs.appendChild(re),re.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ae=createNS("g"),ae.appendChild(ie),oe.appendChild(ae),ae.setAttribute("filter","url("+getLocationHref()+"#"+ee+")"))}else if(ne===2){var le=createNS("mask");le.setAttribute("id",te),le.setAttribute("mask-type","alpha");var he=createNS("g");le.appendChild(he),ee=createElementID(),re=filtersFactory.createFilter(ee);var ue=createNS("feComponentTransfer");ue.setAttribute("in","SourceGraphic"),re.appendChild(ue);var pe=createNS("feFuncA");pe.setAttribute("type","table"),pe.setAttribute("tableValues","1.0 0.0"),ue.appendChild(pe),this.globalData.defs.appendChild(re);var ce=createNS("rect");ce.setAttribute("width",this.comp.data.w),ce.setAttribute("height",this.comp.data.h),ce.setAttribute("x","0"),ce.setAttribute("y","0"),ce.setAttribute("fill","#ffffff"),ce.setAttribute("opacity","0"),he.setAttribute("filter","url("+getLocationHref()+"#"+ee+")"),he.appendChild(ce),ie=createNS("use"),ie.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),he.appendChild(ie),featureSupport.maskType||(le.setAttribute("mask-type","luminance"),re.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ae=createNS("g"),he.appendChild(ce),ae.appendChild(this.layerElement),he.appendChild(ae)),this.globalData.defs.appendChild(le)}this.matteMasks[ne]=te}return this.matteMasks[ne]},setMatte:function(ne){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+ne+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(ne){this.hierarchy=ne},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var se={initElement:function(te,ee,re){this.initFrame(),this.initBaseData(te,ee,re),this.initTransform(te,ee,re),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var te=this.baseElement||this.layerElement;te.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var te=this.baseElement||this.layerElement;te.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(te){this._mdf=!1,this.prepareRenderableFrame(te),this.prepareProperties(te,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(se)],RenderableDOMElement)})();function IImageElement(se,ne,te){this.assetData=ne.getAssetData(se.refId),this.assetData&&this.assetData.sid&&(this.assetData=ne.slotManager.getProp(this.assetData)),this.initElement(se,ne,te),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var se=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",se),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(se,ne){this.elem=se,this.pos=ne}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(ne){var te,ee=this.shapeModifiers.length;for(te=0;te<ee;te+=1)this.shapeModifiers[te].addShape(ne)},isShapeInAnimatedModifiers:function(ne){for(var te=0,ee=this.shapeModifiers.length;te<ee;)if(this.shapeModifiers[te].isAnimatedWithShape(ne))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var ne,te=this.shapes.length;for(ne=0;ne<te;ne+=1)this.shapes[ne].sh.reset();te=this.shapeModifiers.length;var ee;for(ne=te-1;ne>=0&&(ee=this.shapeModifiers[ne].processShapes(this._isFirstFrame),!ee);ne-=1);}},searchProcessedElement:function(ne){for(var te=this.processedElements,ee=0,re=te.length;ee<re;){if(te[ee].elem===ne)return te[ee].pos;ee+=1}return 0},addProcessedElement:function(ne,te){for(var ee=this.processedElements,re=ee.length;re;)if(re-=1,ee[re].elem===ne){ee[re].pos=te;return}ee.push(new ProcessedElement(ne,te))},prepareFrame:function(ne){this.prepareRenderableFrame(ne),this.prepareProperties(ne,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(se,ne,te){this.caches=[],this.styles=[],this.transformers=se,this.lStr="",this.sh=te,this.lvl=ne,this._isAnimated=!!te.k;for(var ee=0,re=se.length;ee<re;){if(se[ee].mProps.dynamicProperties.length){this._isAnimated=!0;break}ee+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(se,ne){this.data=se,this.type=se.ty,this.d="",this.lvl=ne,this._mdf=!1,this.closed=se.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(se,ne,te,ee){this.elem=se,this.frameId=-1,this.dataProps=createSizedArray(ne.length),this.renderer=te,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",ne.length?ne.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(ee);var re,ie=ne.length||0,ae;for(re=0;re<ie;re+=1)ae=PropertyFactory.getProp(se,ne[re].v,0,0,this),this.k=ae.k||this.k,this.dataProps[re]={n:ne[re].n,p:ae};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(se){if(!(this.elem.globalData.frameId===this.frameId&&!se)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||se,this._mdf)){var ne=0,te=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),ne=0;ne<te;ne+=1)this.dataProps[ne].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[ne].p.v:this.dashArray[ne]=this.dataProps[ne].p.v:this.dashoffset[0]=this.dataProps[ne].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(se,ne,te){this.initDynamicPropertyContainer(se),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(se,ne.o,0,.01,this),this.w=PropertyFactory.getProp(se,ne.w,0,null,this),this.d=new DashProperty(se,ne.d||{},"svg",this),this.c=PropertyFactory.getProp(se,ne.c,1,255,this),this.style=te,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(se,ne,te){this.initDynamicPropertyContainer(se),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(se,ne.o,0,.01,this),this.c=PropertyFactory.getProp(se,ne.c,1,255,this),this.style=te}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(se,ne,te){this.initDynamicPropertyContainer(se),this.getValue=this.iterateDynamicProperties,this.style=te}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(se,ne,te){this.data=ne,this.c=createTypedArray("uint8c",ne.p*4);var ee=ne.k.k[0].s?ne.k.k[0].s.length-ne.p*4:ne.k.k.length-ne.p*4;this.o=createTypedArray("float32",ee),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=ee,this.initDynamicPropertyContainer(te),this.prop=PropertyFactory.getProp(se,ne.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(se,ne){for(var te=0,ee=this.o.length/2,re;te<ee;){if(re=Math.abs(se[te*4]-se[ne*4+te*2]),re>.01)return!1;te+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var se=0,ne=this.data.k.k.length;se<ne;){if(!this.comparePoints(this.data.k.k[se].s,this.data.p))return!1;se+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(se){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||se){var ne,te=this.data.p*4,ee,re;for(ne=0;ne<te;ne+=1)ee=ne%4===0?100:255,re=Math.round(this.prop.v[ne]*ee),this.c[ne]!==re&&(this.c[ne]=re,this._cmdf=!se);if(this.o.length)for(te=this.prop.v.length,ne=this.data.p*4;ne<te;ne+=1)ee=ne%2===0?100:1,re=ne%2===0?Math.round(this.prop.v[ne]*100):this.prop.v[ne],this.o[ne-this.data.p*4]!==re&&(this.o[ne-this.data.p*4]=re,this._omdf=!se);this._mdf=!se}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(se,ne,te){this.initDynamicPropertyContainer(se),this.getValue=this.iterateDynamicProperties,this.initGradientData(se,ne,te)}SVGGradientFillStyleData.prototype.initGradientData=function(se,ne,te){this.o=PropertyFactory.getProp(se,ne.o,0,.01,this),this.s=PropertyFactory.getProp(se,ne.s,1,null,this),this.e=PropertyFactory.getProp(se,ne.e,1,null,this),this.h=PropertyFactory.getProp(se,ne.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(se,ne.a||{k:0},0,degToRads,this),this.g=new GradientProperty(se,ne.g,this),this.style=te,this.stops=[],this.setGradientData(te.pElem,ne),this.setGradientOpacity(ne,te),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(se,ne){var te=createElementID(),ee=createNS(ne.t===1?"linearGradient":"radialGradient");ee.setAttribute("id",te),ee.setAttribute("spreadMethod","pad"),ee.setAttribute("gradientUnits","userSpaceOnUse");var re=[],ie,ae,oe;for(oe=ne.g.p*4,ae=0;ae<oe;ae+=4)ie=createNS("stop"),ee.appendChild(ie),re.push(ie);se.setAttribute(ne.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+te+")"),this.gf=ee,this.cst=re},SVGGradientFillStyleData.prototype.setGradientOpacity=function(se,ne){if(this.g._hasOpacity&&!this.g._collapsable){var te,ee,re,ie=createNS("mask"),ae=createNS("path");ie.appendChild(ae);var oe=createElementID(),le=createElementID();ie.setAttribute("id",le);var he=createNS(se.t===1?"linearGradient":"radialGradient");he.setAttribute("id",oe),he.setAttribute("spreadMethod","pad"),he.setAttribute("gradientUnits","userSpaceOnUse"),re=se.g.k.k[0].s?se.g.k.k[0].s.length:se.g.k.k.length;var ue=this.stops;for(ee=se.g.p*4;ee<re;ee+=2)te=createNS("stop"),te.setAttribute("stop-color","rgb(255,255,255)"),he.appendChild(te),ue.push(te);ae.setAttribute(se.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+oe+")"),se.ty==="gs"&&(ae.setAttribute("stroke-linecap",lineCapEnum[se.lc||2]),ae.setAttribute("stroke-linejoin",lineJoinEnum[se.lj||2]),se.lj===1&&ae.setAttribute("stroke-miterlimit",se.ml)),this.of=he,this.ms=ie,this.ost=ue,this.maskId=le,ne.msElem=ae}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(se,ne,te){this.initDynamicPropertyContainer(se),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(se,ne.w,0,null,this),this.d=new DashProperty(se,ne.d||{},"svg",this),this.initGradientData(se,ne,te),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(se,ne,te){this.transform={mProps:se,op:ne,container:te},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(ne,te,ee,re){if(te===0)return"";var ie=ne.o,ae=ne.i,oe=ne.v,le,he=" M"+re.applyToPointStringified(oe[0][0],oe[0][1]);for(le=1;le<te;le+=1)he+=" C"+re.applyToPointStringified(ie[le-1][0],ie[le-1][1])+" "+re.applyToPointStringified(ae[le][0],ae[le][1])+" "+re.applyToPointStringified(oe[le][0],oe[le][1]);return ee&&te&&(he+=" C"+re.applyToPointStringified(ie[le-1][0],ie[le-1][1])+" "+re.applyToPointStringified(ae[0][0],ae[0][1])+" "+re.applyToPointStringified(oe[0][0],oe[0][1]),he+="z"),he},SVGElementsRenderer=function(){var se=new Matrix,ne=new Matrix,te={createRenderFunction:ee};function ee(pe){switch(pe.ty){case"fl":return oe;case"gf":return he;case"gs":return le;case"st":return ue;case"sh":case"el":case"rc":case"sr":return ae;case"tr":return re;case"no":return ie;default:return null}}function re(pe,ce,fe){(fe||ce.transform.op._mdf)&&ce.transform.container.setAttribute("opacity",ce.transform.op.v),(fe||ce.transform.mProps._mdf)&&ce.transform.container.setAttribute("transform",ce.transform.mProps.v.to2dCSS())}function ie(){}function ae(pe,ce,fe){var me,de,ve,ge,xe,_e,ye=ce.styles.length,we=ce.lvl,be,Se,Ce,Te,De;for(_e=0;_e<ye;_e+=1){if(ge=ce.sh._mdf||fe,ce.styles[_e].lvl<we){for(Se=ne.reset(),Te=we-ce.styles[_e].lvl,De=ce.transformers.length-1;!ge&&Te>0;)ge=ce.transformers[De].mProps._mdf||ge,Te-=1,De-=1;if(ge)for(Te=we-ce.styles[_e].lvl,De=ce.transformers.length-1;Te>0;)Ce=ce.transformers[De].mProps.v.props,Se.transform(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7],Ce[8],Ce[9],Ce[10],Ce[11],Ce[12],Ce[13],Ce[14],Ce[15]),Te-=1,De-=1}else Se=se;if(be=ce.sh.paths,de=be._length,ge){for(ve="",me=0;me<de;me+=1)xe=be.shapes[me],xe&&xe._length&&(ve+=buildShapeString(xe,xe._length,xe.c,Se));ce.caches[_e]=ve}else ve=ce.caches[_e];ce.styles[_e].d+=pe.hd===!0?"":ve,ce.styles[_e]._mdf=ge||ce.styles[_e]._mdf}}function oe(pe,ce,fe){var me=ce.style;(ce.c._mdf||fe)&&me.pElem.setAttribute("fill","rgb("+bmFloor(ce.c.v[0])+","+bmFloor(ce.c.v[1])+","+bmFloor(ce.c.v[2])+")"),(ce.o._mdf||fe)&&me.pElem.setAttribute("fill-opacity",ce.o.v)}function le(pe,ce,fe){he(pe,ce,fe),ue(pe,ce,fe)}function he(pe,ce,fe){var me=ce.gf,de=ce.g._hasOpacity,ve=ce.s.v,ge=ce.e.v;if(ce.o._mdf||fe){var xe=pe.ty==="gf"?"fill-opacity":"stroke-opacity";ce.style.pElem.setAttribute(xe,ce.o.v)}if(ce.s._mdf||fe){var _e=pe.t===1?"x1":"cx",ye=_e==="x1"?"y1":"cy";me.setAttribute(_e,ve[0]),me.setAttribute(ye,ve[1]),de&&!ce.g._collapsable&&(ce.of.setAttribute(_e,ve[0]),ce.of.setAttribute(ye,ve[1]))}var we,be,Se,Ce;if(ce.g._cmdf||fe){we=ce.cst;var Te=ce.g.c;for(Se=we.length,be=0;be<Se;be+=1)Ce=we[be],Ce.setAttribute("offset",Te[be*4]+"%"),Ce.setAttribute("stop-color","rgb("+Te[be*4+1]+","+Te[be*4+2]+","+Te[be*4+3]+")")}if(de&&(ce.g._omdf||fe)){var De=ce.g.o;for(ce.g._collapsable?we=ce.cst:we=ce.ost,Se=we.length,be=0;be<Se;be+=1)Ce=we[be],ce.g._collapsable||Ce.setAttribute("offset",De[be*2]+"%"),Ce.setAttribute("stop-opacity",De[be*2+1])}if(pe.t===1)(ce.e._mdf||fe)&&(me.setAttribute("x2",ge[0]),me.setAttribute("y2",ge[1]),de&&!ce.g._collapsable&&(ce.of.setAttribute("x2",ge[0]),ce.of.setAttribute("y2",ge[1])));else{var Fe;if((ce.s._mdf||ce.e._mdf||fe)&&(Fe=Math.sqrt(Math.pow(ve[0]-ge[0],2)+Math.pow(ve[1]-ge[1],2)),me.setAttribute("r",Fe),de&&!ce.g._collapsable&&ce.of.setAttribute("r",Fe)),ce.e._mdf||ce.h._mdf||ce.a._mdf||fe){Fe||(Fe=Math.sqrt(Math.pow(ve[0]-ge[0],2)+Math.pow(ve[1]-ge[1],2)));var Le=Math.atan2(ge[1]-ve[1],ge[0]-ve[0]),Ie=ce.h.v;Ie>=1?Ie=.99:Ie<=-1&&(Ie=-.99);var Oe=Fe*Ie,ke=Math.cos(Le+ce.a.v)*Oe+ve[0],Pe=Math.sin(Le+ce.a.v)*Oe+ve[1];me.setAttribute("fx",ke),me.setAttribute("fy",Pe),de&&!ce.g._collapsable&&(ce.of.setAttribute("fx",ke),ce.of.setAttribute("fy",Pe))}}}function ue(pe,ce,fe){var me=ce.style,de=ce.d;de&&(de._mdf||fe)&&de.dashStr&&(me.pElem.setAttribute("stroke-dasharray",de.dashStr),me.pElem.setAttribute("stroke-dashoffset",de.dashoffset[0])),ce.c&&(ce.c._mdf||fe)&&me.pElem.setAttribute("stroke","rgb("+bmFloor(ce.c.v[0])+","+bmFloor(ce.c.v[1])+","+bmFloor(ce.c.v[2])+")"),(ce.o._mdf||fe)&&me.pElem.setAttribute("stroke-opacity",ce.o.v),(ce.w._mdf||fe)&&(me.pElem.setAttribute("stroke-width",ce.w.v),me.msElem&&me.msElem.setAttribute("stroke-width",ce.w.v))}return te}();function SVGShapeElement(se,ne,te){this.shapes=[],this.shapesData=se.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(se,ne,te),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var se,ne=this.shapes.length,te,ee,re=this.stylesList.length,ie,ae=[],oe=!1;for(ee=0;ee<re;ee+=1){for(ie=this.stylesList[ee],oe=!1,ae.length=0,se=0;se<ne;se+=1)te=this.shapes[se],te.styles.indexOf(ie)!==-1&&(ae.push(te),oe=te._isAnimated||oe);ae.length>1&&oe&&this.setShapesAsAnimated(ae)}},SVGShapeElement.prototype.setShapesAsAnimated=function(se){var ne,te=se.length;for(ne=0;ne<te;ne+=1)se[ne].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(se,ne){var te,ee=new SVGStyleData(se,ne),re=ee.pElem;if(se.ty==="st")te=new SVGStrokeStyleData(this,se,ee);else if(se.ty==="fl")te=new SVGFillStyleData(this,se,ee);else if(se.ty==="gf"||se.ty==="gs"){var ie=se.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;te=new ie(this,se,ee),this.globalData.defs.appendChild(te.gf),te.maskId&&(this.globalData.defs.appendChild(te.ms),this.globalData.defs.appendChild(te.of),re.setAttribute("mask","url("+getLocationHref()+"#"+te.maskId+")"))}else se.ty==="no"&&(te=new SVGNoStyleData(this,se,ee));return(se.ty==="st"||se.ty==="gs")&&(re.setAttribute("stroke-linecap",lineCapEnum[se.lc||2]),re.setAttribute("stroke-linejoin",lineJoinEnum[se.lj||2]),re.setAttribute("fill-opacity","0"),se.lj===1&&re.setAttribute("stroke-miterlimit",se.ml)),se.r===2&&re.setAttribute("fill-rule","evenodd"),se.ln&&re.setAttribute("id",se.ln),se.cl&&re.setAttribute("class",se.cl),se.bm&&(re.style["mix-blend-mode"]=getBlendMode(se.bm)),this.stylesList.push(ee),this.addToAnimatedContents(se,te),te},SVGShapeElement.prototype.createGroupElement=function(se){var ne=new ShapeGroupData;return se.ln&&ne.gr.setAttribute("id",se.ln),se.cl&&ne.gr.setAttribute("class",se.cl),se.bm&&(ne.gr.style["mix-blend-mode"]=getBlendMode(se.bm)),ne},SVGShapeElement.prototype.createTransformElement=function(se,ne){var te=TransformPropertyFactory.getTransformProperty(this,se,this),ee=new SVGTransformData(te,te.o,ne);return this.addToAnimatedContents(se,ee),ee},SVGShapeElement.prototype.createShapeElement=function(se,ne,te){var ee=4;se.ty==="rc"?ee=5:se.ty==="el"?ee=6:se.ty==="sr"&&(ee=7);var re=ShapePropertyFactory.getShapeProp(this,se,ee,this),ie=new SVGShapeData(ne,te,re);return this.shapes.push(ie),this.addShapeToModifiers(ie),this.addToAnimatedContents(se,ie),ie},SVGShapeElement.prototype.addToAnimatedContents=function(se,ne){for(var te=0,ee=this.animatedContents.length;te<ee;){if(this.animatedContents[te].element===ne)return;te+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(se),element:ne,data:se})},SVGShapeElement.prototype.setElementStyles=function(se){var ne=se.styles,te,ee=this.stylesList.length;for(te=0;te<ee;te+=1)this.stylesList[te].closed||ne.push(this.stylesList[te])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var se,ne=this.itemsData.length;for(se=0;se<ne;se+=1)this.prevViewData[se]=this.itemsData[se];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),ne=this.dynamicProperties.length,se=0;se<ne;se+=1)this.dynamicProperties[se].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(se,ne,te,ee,re,ie,ae){var oe=[].concat(ie),le,he=se.length-1,ue,pe,ce=[],fe=[],me,de,ve;for(le=he;le>=0;le-=1){if(ve=this.searchProcessedElement(se[le]),ve?ne[le]=te[ve-1]:se[le]._render=ae,se[le].ty==="fl"||se[le].ty==="st"||se[le].ty==="gf"||se[le].ty==="gs"||se[le].ty==="no")ve?ne[le].style.closed=!1:ne[le]=this.createStyleElement(se[le],re),se[le]._render&&ne[le].style.pElem.parentNode!==ee&&ee.appendChild(ne[le].style.pElem),ce.push(ne[le].style);else if(se[le].ty==="gr"){if(!ve)ne[le]=this.createGroupElement(se[le]);else for(pe=ne[le].it.length,ue=0;ue<pe;ue+=1)ne[le].prevViewData[ue]=ne[le].it[ue];this.searchShapes(se[le].it,ne[le].it,ne[le].prevViewData,ne[le].gr,re+1,oe,ae),se[le]._render&&ne[le].gr.parentNode!==ee&&ee.appendChild(ne[le].gr)}else se[le].ty==="tr"?(ve||(ne[le]=this.createTransformElement(se[le],ee)),me=ne[le].transform,oe.push(me)):se[le].ty==="sh"||se[le].ty==="rc"||se[le].ty==="el"||se[le].ty==="sr"?(ve||(ne[le]=this.createShapeElement(se[le],oe,re)),this.setElementStyles(ne[le])):se[le].ty==="tm"||se[le].ty==="rd"||se[le].ty==="ms"||se[le].ty==="pb"||se[le].ty==="zz"||se[le].ty==="op"?(ve?(de=ne[le],de.closed=!1):(de=ShapeModifiers.getModifier(se[le].ty),de.init(this,se[le]),ne[le]=de,this.shapeModifiers.push(de)),fe.push(de)):se[le].ty==="rp"&&(ve?(de=ne[le],de.closed=!0):(de=ShapeModifiers.getModifier(se[le].ty),ne[le]=de,de.init(this,se,le,ne),this.shapeModifiers.push(de),ae=!1),fe.push(de));this.addProcessedElement(se[le],le+1)}for(he=ce.length,le=0;le<he;le+=1)ce[le].closed=!0;for(he=fe.length,le=0;le<he;le+=1)fe[le].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var se,ne=this.stylesList.length;for(se=0;se<ne;se+=1)this.stylesList[se].reset();for(this.renderShape(),se=0;se<ne;se+=1)(this.stylesList[se]._mdf||this._isFirstFrame)&&(this.stylesList[se].msElem&&(this.stylesList[se].msElem.setAttribute("d",this.stylesList[se].d),this.stylesList[se].d="M0 0"+this.stylesList[se].d),this.stylesList[se].pElem.setAttribute("d",this.stylesList[se].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var se,ne=this.animatedContents.length,te;for(se=0;se<ne;se+=1)te=this.animatedContents[se],(this._isFirstFrame||te.element._isAnimated)&&te.data!==!0&&te.fn(te.data,te.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(se,ne,te,ee,re,ie){this.o=se,this.sw=ne,this.sc=te,this.fc=ee,this.m=re,this.p=ie,this._mdf={o:!0,sw:!!ne,sc:!!te,fc:!!ee,m:!0,p:!0}}LetterProps.prototype.update=function(se,ne,te,ee,re,ie){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ae=!1;return this.o!==se&&(this.o=se,this._mdf.o=!0,ae=!0),this.sw!==ne&&(this.sw=ne,this._mdf.sw=!0,ae=!0),this.sc!==te&&(this.sc=te,this._mdf.sc=!0,ae=!0),this.fc!==ee&&(this.fc=ee,this._mdf.fc=!0,ae=!0),this.m!==re&&(this.m=re,this._mdf.m=!0,ae=!0),ie.length&&(this.p[0]!==ie[0]||this.p[1]!==ie[1]||this.p[4]!==ie[4]||this.p[5]!==ie[5]||this.p[12]!==ie[12]||this.p[13]!==ie[13])&&(this.p=ie,this._mdf.p=!0,ae=!0),ae};function TextProperty(se,ne){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,ne.d&&ne.d.sid&&(ne.d=se.globalData.slotManager.getProp(ne.d)),this.data=ne,this.elem=se,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(se,ne){for(var te in ne)Object.prototype.hasOwnProperty.call(ne,te)&&(se[te]=ne[te]);return se},TextProperty.prototype.setCurrentData=function(se){se.__complete||this.completeTextData(se),this.currentData=se,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(se){this.effectsSequence.push(se),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(se){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!se)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var ne=this.currentData,te=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var ee,re=this.effectsSequence.length,ie=se||this.data.d.k[this.keysIndex].s;for(ee=0;ee<re;ee+=1)te!==this.keysIndex?ie=this.effectsSequence[ee](ie,ie.t):ie=this.effectsSequence[ee](this.currentData,ie.t);ne!==ie&&this.setCurrentData(ie),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var se=this.data.d.k,ne=this.elem.comp.renderedFrame,te=0,ee=se.length;te<=ee-1&&!(te===ee-1||se[te+1].t>ne);)te+=1;return this.keysIndex!==te&&(this.keysIndex=te),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(se){for(var ne=[],te=0,ee=se.length,re,ie,ae=!1;te<ee;)re=se.charCodeAt(te),FontManager.isCombinedCharacter(re)?ne[ne.length-1]+=se.charAt(te):re>=55296&&re<=56319?(ie=se.charCodeAt(te+1),ie>=56320&&ie<=57343?(ae||FontManager.isModifier(re,ie)?(ne[ne.length-1]+=se.substr(te,2),ae=!1):ne.push(se.substr(te,2)),te+=1):ne.push(se.charAt(te))):re>56319?(ie=se.charCodeAt(te+1),FontManager.isZeroWidthJoiner(re,ie)?(ae=!0,ne[ne.length-1]+=se.substr(te,2),te+=1):ne.push(se.charAt(te))):FontManager.isZeroWidthJoiner(re)?(ne[ne.length-1]+=se.charAt(te),ae=!0):ne.push(se.charAt(te)),te+=1;return ne},TextProperty.prototype.completeTextData=function(se){se.__complete=!0;var ne=this.elem.globalData.fontManager,te=this.data,ee=[],re,ie,ae,oe=0,le,he=te.m.g,ue=0,pe=0,ce=0,fe=[],me=0,de=0,ve,ge,xe=ne.getFontByName(se.f),_e,ye=0,we=getFontProperties(xe);se.fWeight=we.weight,se.fStyle=we.style,se.finalSize=se.s,se.finalText=this.buildFinalText(se.t),ie=se.finalText.length,se.finalLineHeight=se.lh;var be=se.tr/1e3*se.finalSize,Se;if(se.sz)for(var Ce=!0,Te=se.sz[0],De=se.sz[1],Fe,Le;Ce;){Le=this.buildFinalText(se.t),Fe=0,me=0,ie=Le.length,be=se.tr/1e3*se.finalSize;var Ie=-1;for(re=0;re<ie;re+=1)Se=Le[re].charCodeAt(0),ae=!1,Le[re]===" "?Ie=re:(Se===13||Se===3)&&(me=0,ae=!0,Fe+=se.finalLineHeight||se.finalSize*1.2),ne.chars?(_e=ne.getCharData(Le[re],xe.fStyle,xe.fFamily),ye=ae?0:_e.w*se.finalSize/100):ye=ne.measureText(Le[re],se.f,se.finalSize),me+ye>Te&&Le[re]!==" "?(Ie===-1?ie+=1:re=Ie,Fe+=se.finalLineHeight||se.finalSize*1.2,Le.splice(re,Ie===re?1:0,"\r"),Ie=-1,me=0):(me+=ye,me+=be);Fe+=xe.ascent*se.finalSize/100,this.canResize&&se.finalSize>this.minimumFontSize&&De<Fe?(se.finalSize-=1,se.finalLineHeight=se.finalSize*se.lh/se.s):(se.finalText=Le,ie=se.finalText.length,Ce=!1)}me=-be,ye=0;var Oe=0,ke;for(re=0;re<ie;re+=1)if(ae=!1,ke=se.finalText[re],Se=ke.charCodeAt(0),Se===13||Se===3?(Oe=0,fe.push(me),de=me>de?me:de,me=-2*be,le="",ae=!0,ce+=1):le=ke,ne.chars?(_e=ne.getCharData(ke,xe.fStyle,ne.getFontByName(se.f).fFamily),ye=ae?0:_e.w*se.finalSize/100):ye=ne.measureText(le,se.f,se.finalSize),ke===" "?Oe+=ye+be:(me+=ye+be+Oe,Oe=0),ee.push({l:ye,an:ye,add:ue,n:ae,anIndexes:[],val:le,line:ce,animatorJustifyOffset:0}),he==2){if(ue+=ye,le===""||le===" "||re===ie-1){for((le===""||le===" ")&&(ue-=ye);pe<=re;)ee[pe].an=ue,ee[pe].ind=oe,ee[pe].extra=ye,pe+=1;oe+=1,ue=0}}else if(he==3){if(ue+=ye,le===""||re===ie-1){for(le===""&&(ue-=ye);pe<=re;)ee[pe].an=ue,ee[pe].ind=oe,ee[pe].extra=ye,pe+=1;ue=0,oe+=1}}else ee[oe].ind=oe,ee[oe].extra=0,oe+=1;if(se.l=ee,de=me>de?me:de,fe.push(me),se.sz)se.boxWidth=se.sz[0],se.justifyOffset=0;else switch(se.boxWidth=de,se.j){case 1:se.justifyOffset=-se.boxWidth;break;case 2:se.justifyOffset=-se.boxWidth/2;break;default:se.justifyOffset=0}se.lineWidths=fe;var Pe=te.a,Me,Ee;ge=Pe.length;var Ae,Re,Be=[];for(ve=0;ve<ge;ve+=1){for(Me=Pe[ve],Me.a.sc&&(se.strokeColorAnim=!0),Me.a.sw&&(se.strokeWidthAnim=!0),(Me.a.fc||Me.a.fh||Me.a.fs||Me.a.fb)&&(se.fillColorAnim=!0),Re=0,Ae=Me.s.b,re=0;re<ie;re+=1)Ee=ee[re],Ee.anIndexes[ve]=Re,(Ae==1&&Ee.val!==""||Ae==2&&Ee.val!==""&&Ee.val!==" "||Ae==3&&(Ee.n||Ee.val==" "||re==ie-1)||Ae==4&&(Ee.n||re==ie-1))&&(Me.s.rn===1&&Be.push(Re),Re+=1);te.a[ve].s.totalChars=Re;var ze=-1,je;if(Me.s.rn===1)for(re=0;re<ie;re+=1)Ee=ee[re],ze!=Ee.anIndexes[ve]&&(ze=Ee.anIndexes[ve],je=Be.splice(Math.floor(Math.random()*Be.length),1)[0]),Ee.anIndexes[ve]=je}se.yOffset=se.finalLineHeight||se.finalSize*1.2,se.ls=se.ls||0,se.ascent=xe.ascent*se.finalSize/100},TextProperty.prototype.updateDocumentData=function(se,ne){ne=ne===void 0?this.keysIndex:ne;var te=this.copyData({},this.data.d.k[ne].s);te=this.copyData(te,se),this.data.d.k[ne].s=te,this.recalculate(ne),this.setCurrentData(te),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(se){var ne=this.data.d.k[se].s;ne.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(ne)},TextProperty.prototype.canResizeFont=function(se){this.canResize=se,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(se){this.minimumFontSize=Math.floor(se)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var se=Math.max,ne=Math.min,te=Math.floor;function ee(ie,ae){this._currentTextLength=-1,this.k=!1,this.data=ae,this.elem=ie,this.comp=ie.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(ie),this.s=PropertyFactory.getProp(ie,ae.s||{k:0},0,0,this),"e"in ae?this.e=PropertyFactory.getProp(ie,ae.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(ie,ae.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(ie,ae.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(ie,ae.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(ie,ae.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(ie,ae.a,0,.01,this),this.dynamicProperties.length||this.getValue()}ee.prototype={getMult:function(ae){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var oe=0,le=0,he=1,ue=1;this.ne.v>0?oe=this.ne.v/100:le=-this.ne.v/100,this.xe.v>0?he=1-this.xe.v/100:ue=1+this.xe.v/100;var pe=BezierFactory.getBezierEasing(oe,le,he,ue).get,ce=0,fe=this.finalS,me=this.finalE,de=this.data.sh;if(de===2)me===fe?ce=ae>=me?1:0:ce=se(0,ne(.5/(me-fe)+(ae-fe)/(me-fe),1)),ce=pe(ce);else if(de===3)me===fe?ce=ae>=me?0:1:ce=1-se(0,ne(.5/(me-fe)+(ae-fe)/(me-fe),1)),ce=pe(ce);else if(de===4)me===fe?ce=0:(ce=se(0,ne(.5/(me-fe)+(ae-fe)/(me-fe),1)),ce<.5?ce*=2:ce=1-2*(ce-.5)),ce=pe(ce);else if(de===5){if(me===fe)ce=0;else{var ve=me-fe;ae=ne(se(0,ae+.5-fe),me-fe);var ge=-ve/2+ae,xe=ve/2;ce=Math.sqrt(1-ge*ge/(xe*xe))}ce=pe(ce)}else de===6?(me===fe?ce=0:(ae=ne(se(0,ae+.5-fe),me-fe),ce=(1+Math.cos(Math.PI+Math.PI*2*ae/(me-fe)))/2),ce=pe(ce)):(ae>=te(fe)&&(ae-fe<0?ce=se(0,ne(ne(me,1)-(fe-ae),1)):ce=se(0,ne(me-ae,1))),ce=pe(ce));if(this.sm.v!==100){var _e=this.sm.v*.01;_e===0&&(_e=1e-8);var ye=.5-_e*.5;ce<ye?ce=0:(ce=(ce-ye)/_e,ce>1&&(ce=1))}return ce*this.a.v},getValue:function(ae){this.iterateDynamicProperties(),this._mdf=ae||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ae&&this.data.r===2&&(this.e.v=this._currentTextLength);var oe=this.data.r===2?1:100/this.data.totalChars,le=this.o.v/oe,he=this.s.v/oe+le,ue=this.e.v/oe+le;if(he>ue){var pe=he;he=ue,ue=pe}this.finalS=he,this.finalE=ue}},extendPrototype([DynamicPropertyContainer],ee);function re(ie,ae,oe){return new ee(ie,ae)}return{getTextSelectorProp:re}}();function TextAnimatorDataProperty(se,ne,te){var ee={propType:!1},re=PropertyFactory.getProp,ie=ne.a;this.a={r:ie.r?re(se,ie.r,0,degToRads,te):ee,rx:ie.rx?re(se,ie.rx,0,degToRads,te):ee,ry:ie.ry?re(se,ie.ry,0,degToRads,te):ee,sk:ie.sk?re(se,ie.sk,0,degToRads,te):ee,sa:ie.sa?re(se,ie.sa,0,degToRads,te):ee,s:ie.s?re(se,ie.s,1,.01,te):ee,a:ie.a?re(se,ie.a,1,0,te):ee,o:ie.o?re(se,ie.o,0,.01,te):ee,p:ie.p?re(se,ie.p,1,0,te):ee,sw:ie.sw?re(se,ie.sw,0,0,te):ee,sc:ie.sc?re(se,ie.sc,1,0,te):ee,fc:ie.fc?re(se,ie.fc,1,0,te):ee,fh:ie.fh?re(se,ie.fh,0,0,te):ee,fs:ie.fs?re(se,ie.fs,0,.01,te):ee,fb:ie.fb?re(se,ie.fb,0,.01,te):ee,t:ie.t?re(se,ie.t,0,0,te):ee},this.s=TextSelectorProp.getTextSelectorProp(se,ne.s,te),this.s.t=ne.s.t}function TextAnimatorProperty(se,ne,te){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=se,this._renderType=ne,this._elem=te,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(te)}TextAnimatorProperty.prototype.searchProperties=function(){var se,ne=this._textData.a.length,te,ee=PropertyFactory.getProp;for(se=0;se<ne;se+=1)te=this._textData.a[se],this._animatorsData[se]=new TextAnimatorDataProperty(this._elem,te,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:ee(this._elem,this._textData.p.a,0,0,this),f:ee(this._elem,this._textData.p.f,0,0,this),l:ee(this._elem,this._textData.p.l,0,0,this),r:ee(this._elem,this._textData.p.r,0,0,this),p:ee(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=ee(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(se,ne){if(this.lettersChangedFlag=ne,!(!this._mdf&&!this._isFirstFrame&&!ne&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var te=this._moreOptions.alignment.v,ee=this._animatorsData,re=this._textData,ie=this.mHelper,ae=this._renderType,oe=this.renderedLetters.length,le,he,ue,pe,ce=se.l,fe,me,de,ve,ge,xe,_e,ye,we,be,Se,Ce,Te,De,Fe;if(this._hasMaskedPath){if(Fe=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Le=Fe.v;this._pathData.r.v&&(Le=Le.reverse()),fe={tLength:0,segments:[]},pe=Le._length-1;var Ie;for(Ce=0,ue=0;ue<pe;ue+=1)Ie=bez.buildBezierData(Le.v[ue],Le.v[ue+1],[Le.o[ue][0]-Le.v[ue][0],Le.o[ue][1]-Le.v[ue][1]],[Le.i[ue+1][0]-Le.v[ue+1][0],Le.i[ue+1][1]-Le.v[ue+1][1]]),fe.tLength+=Ie.segmentLength,fe.segments.push(Ie),Ce+=Ie.segmentLength;ue=pe,Fe.v.c&&(Ie=bez.buildBezierData(Le.v[ue],Le.v[0],[Le.o[ue][0]-Le.v[ue][0],Le.o[ue][1]-Le.v[ue][1]],[Le.i[0][0]-Le.v[0][0],Le.i[0][1]-Le.v[0][1]]),fe.tLength+=Ie.segmentLength,fe.segments.push(Ie),Ce+=Ie.segmentLength),this._pathData.pi=fe}if(fe=this._pathData.pi,me=this._pathData.f.v,_e=0,xe=1,ve=0,ge=!0,be=fe.segments,me<0&&Fe.v.c)for(fe.tLength<Math.abs(me)&&(me=-Math.abs(me)%fe.tLength),_e=be.length-1,we=be[_e].points,xe=we.length-1;me<0;)me+=we[xe].partialLength,xe-=1,xe<0&&(_e-=1,we=be[_e].points,xe=we.length-1);we=be[_e].points,ye=we[xe-1],de=we[xe],Se=de.partialLength}pe=ce.length,le=0,he=0;var Oe=se.finalSize*1.2*.714,ke=!0,Pe,Me,Ee,Ae,Re;Ae=ee.length;var Be,ze=-1,je,$e,We,Ge=me,He=_e,Ze=xe,Ye=-1,Qe,Je,Ne,Ke,ht,_t,pt,qe,Dt="",wt=this.defaultPropsArray,vt;if(se.j===2||se.j===1){var gt=0,Ft=0,Tt=se.j===2?-.5:-1,Bt=0,zt=!0;for(ue=0;ue<pe;ue+=1)if(ce[ue].n){for(gt&&(gt+=Ft);Bt<ue;)ce[Bt].animatorJustifyOffset=gt,Bt+=1;gt=0,zt=!0}else{for(Ee=0;Ee<Ae;Ee+=1)Pe=ee[Ee].a,Pe.t.propType&&(zt&&se.j===2&&(Ft+=Pe.t.v*Tt),Me=ee[Ee].s,Be=Me.getMult(ce[ue].anIndexes[Ee],re.a[Ee].s.totalChars),Be.length?gt+=Pe.t.v*Be[0]*Tt:gt+=Pe.t.v*Be*Tt);zt=!1}for(gt&&(gt+=Ft);Bt<ue;)ce[Bt].animatorJustifyOffset=gt,Bt+=1}for(ue=0;ue<pe;ue+=1){if(ie.reset(),Qe=1,ce[ue].n)le=0,he+=se.yOffset,he+=ke?1:0,me=Ge,ke=!1,this._hasMaskedPath&&(_e=He,xe=Ze,we=be[_e].points,ye=we[xe-1],de=we[xe],Se=de.partialLength,ve=0),Dt="",qe="",_t="",vt="",wt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ye!==ce[ue].line){switch(se.j){case 1:me+=Ce-se.lineWidths[ce[ue].line];break;case 2:me+=(Ce-se.lineWidths[ce[ue].line])/2;break}Ye=ce[ue].line}ze!==ce[ue].ind&&(ce[ze]&&(me+=ce[ze].extra),me+=ce[ue].an/2,ze=ce[ue].ind),me+=te[0]*ce[ue].an*.005;var St=0;for(Ee=0;Ee<Ae;Ee+=1)Pe=ee[Ee].a,Pe.p.propType&&(Me=ee[Ee].s,Be=Me.getMult(ce[ue].anIndexes[Ee],re.a[Ee].s.totalChars),Be.length?St+=Pe.p.v[0]*Be[0]:St+=Pe.p.v[0]*Be),Pe.a.propType&&(Me=ee[Ee].s,Be=Me.getMult(ce[ue].anIndexes[Ee],re.a[Ee].s.totalChars),Be.length?St+=Pe.a.v[0]*Be[0]:St+=Pe.a.v[0]*Be);for(ge=!0,this._pathData.a.v&&(me=ce[0].an*.5+(Ce-this._pathData.f.v-ce[0].an*.5-ce[ce.length-1].an*.5)*ze/(pe-1),me+=this._pathData.f.v);ge;)ve+Se>=me+St||!we?(Te=(me+St-ve)/de.partialLength,$e=ye.point[0]+(de.point[0]-ye.point[0])*Te,We=ye.point[1]+(de.point[1]-ye.point[1])*Te,ie.translate(-te[0]*ce[ue].an*.005,-(te[1]*Oe)*.01),ge=!1):we&&(ve+=de.partialLength,xe+=1,xe>=we.length&&(xe=0,_e+=1,be[_e]?we=be[_e].points:Fe.v.c?(xe=0,_e=0,we=be[_e].points):(ve-=de.partialLength,we=null)),we&&(ye=de,de=we[xe],Se=de.partialLength));je=ce[ue].an/2-ce[ue].add,ie.translate(-je,0,0)}else je=ce[ue].an/2-ce[ue].add,ie.translate(-je,0,0),ie.translate(-te[0]*ce[ue].an*.005,-te[1]*Oe*.01,0);for(Ee=0;Ee<Ae;Ee+=1)Pe=ee[Ee].a,Pe.t.propType&&(Me=ee[Ee].s,Be=Me.getMult(ce[ue].anIndexes[Ee],re.a[Ee].s.totalChars),(le!==0||se.j!==0)&&(this._hasMaskedPath?Be.length?me+=Pe.t.v*Be[0]:me+=Pe.t.v*Be:Be.length?le+=Pe.t.v*Be[0]:le+=Pe.t.v*Be));for(se.strokeWidthAnim&&(Ne=se.sw||0),se.strokeColorAnim&&(se.sc?Je=[se.sc[0],se.sc[1],se.sc[2]]:Je=[0,0,0]),se.fillColorAnim&&se.fc&&(Ke=[se.fc[0],se.fc[1],se.fc[2]]),Ee=0;Ee<Ae;Ee+=1)Pe=ee[Ee].a,Pe.a.propType&&(Me=ee[Ee].s,Be=Me.getMult(ce[ue].anIndexes[Ee],re.a[Ee].s.totalChars),Be.length?ie.translate(-Pe.a.v[0]*Be[0],-Pe.a.v[1]*Be[1],Pe.a.v[2]*Be[2]):ie.translate(-Pe.a.v[0]*Be,-Pe.a.v[1]*Be,Pe.a.v[2]*Be));for(Ee=0;Ee<Ae;Ee+=1)Pe=ee[Ee].a,Pe.s.propType&&(Me=ee[Ee].s,Be=Me.getMult(ce[ue].anIndexes[Ee],re.a[Ee].s.totalChars),Be.length?ie.scale(1+(Pe.s.v[0]-1)*Be[0],1+(Pe.s.v[1]-1)*Be[1],1):ie.scale(1+(Pe.s.v[0]-1)*Be,1+(Pe.s.v[1]-1)*Be,1));for(Ee=0;Ee<Ae;Ee+=1){if(Pe=ee[Ee].a,Me=ee[Ee].s,Be=Me.getMult(ce[ue].anIndexes[Ee],re.a[Ee].s.totalChars),Pe.sk.propType&&(Be.length?ie.skewFromAxis(-Pe.sk.v*Be[0],Pe.sa.v*Be[1]):ie.skewFromAxis(-Pe.sk.v*Be,Pe.sa.v*Be)),Pe.r.propType&&(Be.length?ie.rotateZ(-Pe.r.v*Be[2]):ie.rotateZ(-Pe.r.v*Be)),Pe.ry.propType&&(Be.length?ie.rotateY(Pe.ry.v*Be[1]):ie.rotateY(Pe.ry.v*Be)),Pe.rx.propType&&(Be.length?ie.rotateX(Pe.rx.v*Be[0]):ie.rotateX(Pe.rx.v*Be)),Pe.o.propType&&(Be.length?Qe+=(Pe.o.v*Be[0]-Qe)*Be[0]:Qe+=(Pe.o.v*Be-Qe)*Be),se.strokeWidthAnim&&Pe.sw.propType&&(Be.length?Ne+=Pe.sw.v*Be[0]:Ne+=Pe.sw.v*Be),se.strokeColorAnim&&Pe.sc.propType)for(ht=0;ht<3;ht+=1)Be.length?Je[ht]+=(Pe.sc.v[ht]-Je[ht])*Be[0]:Je[ht]+=(Pe.sc.v[ht]-Je[ht])*Be;if(se.fillColorAnim&&se.fc){if(Pe.fc.propType)for(ht=0;ht<3;ht+=1)Be.length?Ke[ht]+=(Pe.fc.v[ht]-Ke[ht])*Be[0]:Ke[ht]+=(Pe.fc.v[ht]-Ke[ht])*Be;Pe.fh.propType&&(Be.length?Ke=addHueToRGB(Ke,Pe.fh.v*Be[0]):Ke=addHueToRGB(Ke,Pe.fh.v*Be)),Pe.fs.propType&&(Be.length?Ke=addSaturationToRGB(Ke,Pe.fs.v*Be[0]):Ke=addSaturationToRGB(Ke,Pe.fs.v*Be)),Pe.fb.propType&&(Be.length?Ke=addBrightnessToRGB(Ke,Pe.fb.v*Be[0]):Ke=addBrightnessToRGB(Ke,Pe.fb.v*Be))}}for(Ee=0;Ee<Ae;Ee+=1)Pe=ee[Ee].a,Pe.p.propType&&(Me=ee[Ee].s,Be=Me.getMult(ce[ue].anIndexes[Ee],re.a[Ee].s.totalChars),this._hasMaskedPath?Be.length?ie.translate(0,Pe.p.v[1]*Be[0],-Pe.p.v[2]*Be[1]):ie.translate(0,Pe.p.v[1]*Be,-Pe.p.v[2]*Be):Be.length?ie.translate(Pe.p.v[0]*Be[0],Pe.p.v[1]*Be[1],-Pe.p.v[2]*Be[2]):ie.translate(Pe.p.v[0]*Be,Pe.p.v[1]*Be,-Pe.p.v[2]*Be));if(se.strokeWidthAnim&&(_t=Ne<0?0:Ne),se.strokeColorAnim&&(pt="rgb("+Math.round(Je[0]*255)+","+Math.round(Je[1]*255)+","+Math.round(Je[2]*255)+")"),se.fillColorAnim&&se.fc&&(qe="rgb("+Math.round(Ke[0]*255)+","+Math.round(Ke[1]*255)+","+Math.round(Ke[2]*255)+")"),this._hasMaskedPath){if(ie.translate(0,-se.ls),ie.translate(0,te[1]*Oe*.01+he,0),this._pathData.p.v){De=(de.point[1]-ye.point[1])/(de.point[0]-ye.point[0]);var kt=Math.atan(De)*180/Math.PI;de.point[0]<ye.point[0]&&(kt+=180),ie.rotate(-kt*Math.PI/180)}ie.translate($e,We,0),me-=te[0]*ce[ue].an*.005,ce[ue+1]&&ze!==ce[ue+1].ind&&(me+=ce[ue].an/2,me+=se.tr*.001*se.finalSize)}else{switch(ie.translate(le,he,0),se.ps&&ie.translate(se.ps[0],se.ps[1]+se.ascent,0),se.j){case 1:ie.translate(ce[ue].animatorJustifyOffset+se.justifyOffset+(se.boxWidth-se.lineWidths[ce[ue].line]),0,0);break;case 2:ie.translate(ce[ue].animatorJustifyOffset+se.justifyOffset+(se.boxWidth-se.lineWidths[ce[ue].line])/2,0,0);break}ie.translate(0,-se.ls),ie.translate(je,0,0),ie.translate(te[0]*ce[ue].an*.005,te[1]*Oe*.01,0),le+=ce[ue].l+se.tr*.001*se.finalSize}ae==="html"?Dt=ie.toCSS():ae==="svg"?Dt=ie.to2dCSS():wt=[ie.props[0],ie.props[1],ie.props[2],ie.props[3],ie.props[4],ie.props[5],ie.props[6],ie.props[7],ie.props[8],ie.props[9],ie.props[10],ie.props[11],ie.props[12],ie.props[13],ie.props[14],ie.props[15]],vt=Qe}oe<=ue?(Re=new LetterProps(vt,_t,pt,qe,Dt,wt),this.renderedLetters.push(Re),oe+=1,this.lettersChangedFlag=!0):(Re=this.renderedLetters[ue],this.lettersChangedFlag=Re.update(vt,_t,pt,qe,Dt,wt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(se,ne,te){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(se,ne,te),this.textProperty=new TextProperty(this,se.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(se.t,this.renderType,this),this.initTransform(se,ne,te),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(se){this._mdf=!1,this.prepareRenderableFrame(se),this.prepareProperties(se,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(se,ne){var te,ee=ne.length,re,ie="";for(te=0;te<ee;te+=1)ne[te].ty==="sh"&&(re=ne[te].ks.k,ie+=buildShapeString(re,re.i.length,!0,se));return ie},ITextElement.prototype.updateDocumentData=function(se,ne){this.textProperty.updateDocumentData(se,ne)},ITextElement.prototype.canResizeFont=function(se){this.textProperty.canResizeFont(se)},ITextElement.prototype.setMinimumFontSize=function(se){this.textProperty.setMinimumFontSize(se)},ITextElement.prototype.applyTextPropertiesToMatrix=function(se,ne,te,ee,re){switch(se.ps&&ne.translate(se.ps[0],se.ps[1]+se.ascent,0),ne.translate(0,-se.ls,0),se.j){case 1:ne.translate(se.justifyOffset+(se.boxWidth-se.lineWidths[te]),0,0);break;case 2:ne.translate(se.justifyOffset+(se.boxWidth-se.lineWidths[te])/2,0,0);break}ne.translate(ee,re,0)},ITextElement.prototype.buildColor=function(se){return"rgb("+Math.round(se[0]*255)+","+Math.round(se[1]*255)+","+Math.round(se[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(se,ne,te){this.textSpans=[],this.renderType="svg",this.initElement(se,ne,te)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(se){for(var ne=0,te=se.length,ee=[],re="";ne<te;)se[ne]===String.fromCharCode(13)||se[ne]===String.fromCharCode(3)?(ee.push(re),re=""):re+=se[ne],ne+=1;return ee.push(re),ee},SVGTextLottieElement.prototype.buildShapeData=function(se,ne){if(se.shapes&&se.shapes.length){var te=se.shapes[0];if(te.it){var ee=te.it[te.it.length-1];ee.s&&(ee.s.k[0]=ne,ee.s.k[1]=ne)}}return se},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var se,ne,te=this.textProperty.currentData;this.renderedLetters=createSizedArray(te?te.l.length:0),te.fc?this.layerElement.setAttribute("fill",this.buildColor(te.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),te.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(te.sc)),this.layerElement.setAttribute("stroke-width",te.sw)),this.layerElement.setAttribute("font-size",te.finalSize);var ee=this.globalData.fontManager.getFontByName(te.f);if(ee.fClass)this.layerElement.setAttribute("class",ee.fClass);else{this.layerElement.setAttribute("font-family",ee.fFamily);var re=te.fWeight,ie=te.fStyle;this.layerElement.setAttribute("font-style",ie),this.layerElement.setAttribute("font-weight",re)}this.layerElement.setAttribute("aria-label",te.t);var ae=te.l||[],oe=!!this.globalData.fontManager.chars;ne=ae.length;var le,he=this.mHelper,ue="",pe=this.data.singleShape,ce=0,fe=0,me=!0,de=te.tr*.001*te.finalSize;if(pe&&!oe&&!te.sz){var ve=this.textContainer,ge="start";switch(te.j){case 1:ge="end";break;case 2:ge="middle";break;default:ge="start";break}ve.setAttribute("text-anchor",ge),ve.setAttribute("letter-spacing",de);var xe=this.buildTextContents(te.finalText);for(ne=xe.length,fe=te.ps?te.ps[1]+te.ascent:0,se=0;se<ne;se+=1)le=this.textSpans[se].span||createNS("tspan"),le.textContent=xe[se],le.setAttribute("x",0),le.setAttribute("y",fe),le.style.display="inherit",ve.appendChild(le),this.textSpans[se]||(this.textSpans[se]={span:null,glyph:null}),this.textSpans[se].span=le,fe+=te.finalLineHeight;this.layerElement.appendChild(ve)}else{var _e=this.textSpans.length,ye;for(se=0;se<ne;se+=1){if(this.textSpans[se]||(this.textSpans[se]={span:null,childSpan:null,glyph:null}),!oe||!pe||se===0){if(le=_e>se?this.textSpans[se].span:createNS(oe?"g":"text"),_e<=se){if(le.setAttribute("stroke-linecap","butt"),le.setAttribute("stroke-linejoin","round"),le.setAttribute("stroke-miterlimit","4"),this.textSpans[se].span=le,oe){var we=createNS("g");le.appendChild(we),this.textSpans[se].childSpan=we}this.textSpans[se].span=le,this.layerElement.appendChild(le)}le.style.display="inherit"}if(he.reset(),pe&&(ae[se].n&&(ce=-de,fe+=te.yOffset,fe+=me?1:0,me=!1),this.applyTextPropertiesToMatrix(te,he,ae[se].line,ce,fe),ce+=ae[se].l||0,ce+=de),oe){ye=this.globalData.fontManager.getCharData(te.finalText[se],ee.fStyle,this.globalData.fontManager.getFontByName(te.f).fFamily);var be;if(ye.t===1)be=new SVGCompElement(ye.data,this.globalData,this);else{var Se=emptyShapeData;ye.data&&ye.data.shapes&&(Se=this.buildShapeData(ye.data,te.finalSize)),be=new SVGShapeElement(Se,this.globalData,this)}if(this.textSpans[se].glyph){var Ce=this.textSpans[se].glyph;this.textSpans[se].childSpan.removeChild(Ce.layerElement),Ce.destroy()}this.textSpans[se].glyph=be,be._debug=!0,be.prepareFrame(0),be.renderFrame(),this.textSpans[se].childSpan.appendChild(be.layerElement),ye.t===1&&this.textSpans[se].childSpan.setAttribute("transform","scale("+te.finalSize/100+","+te.finalSize/100+")")}else pe&&le.setAttribute("transform","translate("+he.props[12]+","+he.props[13]+")"),le.textContent=ae[se].val,le.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}pe&&le&&le.setAttribute("d",ue)}for(;se<this.textSpans.length;)this.textSpans[se].span.style.display="none",se+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var se=this.layerElement.getBBox();this.bbox={top:se.y,left:se.x,width:se.width,height:se.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var se,ne=this.textSpans.length,te;for(this.renderedFrame=this.comp.renderedFrame,se=0;se<ne;se+=1)te=this.textSpans[se].glyph,te&&(te.prepareFrame(this.comp.renderedFrame-this.data.st),te._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var se,ne,te=this.textAnimator.renderedLetters,ee=this.textProperty.currentData.l;ne=ee.length;var re,ie,ae;for(se=0;se<ne;se+=1)ee[se].n||(re=te[se],ie=this.textSpans[se].span,ae=this.textSpans[se].glyph,ae&&ae.renderFrame(),re._mdf.m&&ie.setAttribute("transform",re.m),re._mdf.o&&ie.setAttribute("opacity",re.o),re._mdf.sw&&ie.setAttribute("stroke-width",re.sw),re._mdf.sc&&ie.setAttribute("stroke",re.sc),re._mdf.fc&&ie.setAttribute("fill",re.fc))}};function ISolidElement(se,ne,te){this.initElement(se,ne,te)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var se=createNS("rect");se.setAttribute("width",this.data.sw),se.setAttribute("height",this.data.sh),se.setAttribute("fill",this.data.sc),this.layerElement.appendChild(se)};function NullElement(se,ne,te){this.initFrame(),this.initBaseData(se,ne,te),this.initFrame(),this.initTransform(se,ne,te),this.initHierarchy()}NullElement.prototype.prepareFrame=function(se){this.prepareProperties(se,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(se){return new NullElement(se,this.globalData,this)},SVGRendererBase.prototype.createShape=function(se){return new SVGShapeElement(se,this.globalData,this)},SVGRendererBase.prototype.createText=function(se){return new SVGTextLottieElement(se,this.globalData,this)},SVGRendererBase.prototype.createImage=function(se){return new IImageElement(se,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(se){return new ISolidElement(se,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(se){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+se.w+" "+se.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",se.w),this.svgElement.setAttribute("height",se.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var ne=this.globalData.defs;this.setupGlobalData(se,ne),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=se;var te=createNS("clipPath"),ee=createNS("rect");ee.setAttribute("width",se.w),ee.setAttribute("height",se.h),ee.setAttribute("x",0),ee.setAttribute("y",0);var re=createElementID();te.setAttribute("id",re),te.appendChild(ee),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+re+")"),ne.appendChild(te),this.layers=se.layers,this.elements=createSizedArray(se.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var se,ne=this.layers?this.layers.length:0;for(se=0;se<ne;se+=1)this.elements[se]&&this.elements[se].destroy&&this.elements[se].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(se){var ne=0,te=this.layers.length;for(ne=0;ne<te;ne+=1)if(this.layers[ne].ind===se)return ne;return-1},SVGRendererBase.prototype.buildItem=function(se){var ne=this.elements;if(!(ne[se]||this.layers[se].ty===99)){ne[se]=!0;var te=this.createItem(this.layers[se]);if(ne[se]=te,getExpressionsPlugin()&&(this.layers[se].ty===0&&this.globalData.projectInterface.registerComposition(te),te.initExpressions()),this.appendElementInPos(te,se),this.layers[se].tt){var ee="tp"in this.layers[se]?this.findIndexByInd(this.layers[se].tp):se-1;if(ee===-1)return;if(!this.elements[ee]||this.elements[ee]===!0)this.buildItem(ee),this.addPendingElement(te);else{var re=ne[ee],ie=re.getMatte(this.layers[se].tt);te.setMatte(ie)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var se=this.pendingElements.pop();if(se.checkParenting(),se.data.tt)for(var ne=0,te=this.elements.length;ne<te;){if(this.elements[ne]===se){var ee="tp"in se.data?this.findIndexByInd(se.data.tp):ne-1,re=this.elements[ee],ie=re.getMatte(this.layers[ne].tt);se.setMatte(ie);break}ne+=1}}},SVGRendererBase.prototype.renderFrame=function(se){if(!(this.renderedFrame===se||this.destroyed)){se===null?se=this.renderedFrame:this.renderedFrame=se,this.globalData.frameNum=se,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=se,this.globalData._mdf=!1;var ne,te=this.layers.length;for(this.completeLayers||this.checkLayers(se),ne=te-1;ne>=0;ne-=1)(this.completeLayers||this.elements[ne])&&this.elements[ne].prepareFrame(se-this.layers[ne].st);if(this.globalData._mdf)for(ne=0;ne<te;ne+=1)(this.completeLayers||this.elements[ne])&&this.elements[ne].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(se,ne){var te=se.getBaseElement();if(!!te){for(var ee=0,re;ee<ne;)this.elements[ee]&&this.elements[ee]!==!0&&this.elements[ee].getBaseElement()&&(re=this.elements[ee].getBaseElement()),ee+=1;re?this.layerElement.insertBefore(te,re):this.layerElement.appendChild(te)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(se,ne,te){this.initFrame(),this.initBaseData(se,ne,te),this.initTransform(se,ne,te),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!ne.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(se){if(this._mdf=!1,this.prepareRenderableFrame(se),this.prepareProperties(se,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=se/this.data.sr;else{var ne=this.tm.v;ne===this.data.op&&(ne=this.data.op-1),this.renderedFrame=ne}var te,ee=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),te=ee-1;te>=0;te-=1)(this.completeLayers||this.elements[te])&&(this.elements[te].prepareFrame(this.renderedFrame-this.layers[te].st),this.elements[te]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var se,ne=this.layers.length;for(se=0;se<ne;se+=1)(this.completeLayers||this.elements[se])&&this.elements[se].renderFrame()},ICompElement.prototype.setElements=function(se){this.elements=se},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var se,ne=this.layers.length;for(se=0;se<ne;se+=1)this.elements[se]&&this.elements[se].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(se,ne,te){this.layers=se.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(se,ne,te),this.tm=se.tm?PropertyFactory.getProp(this,se.tm,0,ne.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(se){return new SVGCompElement(se,this.globalData,this)};function SVGRenderer(se,ne){this.animationItem=se,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var te="";if(ne&&ne.title){var ee=createNS("title"),re=createElementID();ee.setAttribute("id",re),ee.textContent=ne.title,this.svgElement.appendChild(ee),te+=re}if(ne&&ne.description){var ie=createNS("desc"),ae=createElementID();ie.setAttribute("id",ae),ie.textContent=ne.description,this.svgElement.appendChild(ie),te+=" "+ae}te&&this.svgElement.setAttribute("aria-labelledby",te);var oe=createNS("defs");this.svgElement.appendChild(oe);var le=createNS("g");this.svgElement.appendChild(le),this.layerElement=le,this.renderConfig={preserveAspectRatio:ne&&ne.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ne&&ne.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ne&&ne.contentVisibility||"visible",progressiveLoad:ne&&ne.progressiveLoad||!1,hideOnTransparent:!(ne&&ne.hideOnTransparent===!1),viewBoxOnly:ne&&ne.viewBoxOnly||!1,viewBoxSize:ne&&ne.viewBoxSize||!1,className:ne&&ne.className||"",id:ne&&ne.id||"",focusable:ne&&ne.focusable,filterSize:{width:ne&&ne.filterSize&&ne.filterSize.width||"100%",height:ne&&ne.filterSize&&ne.filterSize.height||"100%",x:ne&&ne.filterSize&&ne.filterSize.x||"0%",y:ne&&ne.filterSize&&ne.filterSize.y||"0%"},width:ne&&ne.width,height:ne&&ne.height,runExpressions:!ne||ne.runExpressions===void 0||ne.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:oe,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(se){return new SVGCompElement(se,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var se,ne=15;for(this.savedOp=createTypedArray("float32",ne),se=0;se<ne;se+=1)this.saved[se]=createTypedArray("float32",16);this._length=ne}CVContextData.prototype.duplicate=function(){var se=this._length*2,ne=this.savedOp;this.savedOp=createTypedArray("float32",se),this.savedOp.set(ne);var te=0;for(te=this._length;te<se;te+=1)this.saved[te]=createTypedArray("float32",16);this._length=se},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var se=this.saved[this.cArrPos],ne,te=this.cTr.props;for(ne=0;ne<16;ne+=1)te[ne]=se[ne];return se},CVContextData.prototype.popOpacity=function(){var se=this.savedOp[this.cArrPos];return this.cO=se,se},CVContextData.prototype.pop=function(){this.cArrPos-=1;var se=this.popTransform(),ne=this.popOpacity();return{transform:se,opacity:ne}},CVContextData.prototype.push=function(){var se=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var ne,te=this.saved[this.cArrPos];for(ne=0;ne<16;ne+=1)te[ne]=se[ne];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(se){this.cO=se};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(ne){var te,ee=ne.length,re="_";for(te=0;te<ee;te+=1)re+=ne[te].transform.key+"_";var ie=this.sequences[re];return ie||(ie={transforms:[].concat(ne),finalTransform:new Matrix,_mdf:!1},this.sequences[re]=ie,this.sequenceList.push(ie)),ie},processSequence:function(ne,te){for(var ee=0,re=ne.transforms.length,ie=te;ee<re&&!te;){if(ne.transforms[ee].transform.mProps._mdf){ie=!0;break}ee+=1}if(ie){var ae;for(ne.finalTransform.reset(),ee=re-1;ee>=0;ee-=1)ae=ne.transforms[ee].transform.mProps.v.props,ne.finalTransform.transform(ae[0],ae[1],ae[2],ae[3],ae[4],ae[5],ae[6],ae[7],ae[8],ae[9],ae[10],ae[11],ae[12],ae[13],ae[14],ae[15])}ne._mdf=ie},processSequences:function(ne){var te,ee=this.sequenceList.length;for(te=0;te<ee;te+=1)this.processSequence(this.sequenceList[te],ne)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var ne="__lottie_element_luma_buffer",te=null,ee=null,re=null;function ie(){var le=createNS("svg"),he=createNS("filter"),ue=createNS("feColorMatrix");return he.setAttribute("id",ne),ue.setAttribute("type","matrix"),ue.setAttribute("color-interpolation-filters","sRGB"),ue.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),he.appendChild(ue),le.appendChild(he),le.setAttribute("id",ne+"_svg"),featureSupport.svgLumaHidden&&(le.style.display="none"),le}function ae(){te||(re=ie(),document.body.appendChild(re),te=createTag("canvas"),ee=te.getContext("2d"),ee.filter="url(#"+ne+")",ee.fillStyle="rgba(0,0,0,0)",ee.fillRect(0,0,1,1))}function oe(le){return te||ae(),te.width=le.width,te.height=le.height,ee.filter="url(#"+ne+")",te}return{load:ae,get:oe}};function createCanvas(se,ne){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(se,ne);var te=createTag("canvas");return te.width=se,te.height=ne,te}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}();function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(se,ne){this.data=se,this.element=ne,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var te,ee=this.masksProperties.length,re=!1;for(te=0;te<ee;te+=1)this.masksProperties[te].mode!=="n"&&(re=!0),this.viewData[te]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[te],3);this.hasMasks=re,re&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var se=this.element.finalTransform.mat,ne=this.element.canvasContext,te,ee=this.masksProperties.length,re,ie,ae;for(ne.beginPath(),te=0;te<ee;te+=1)if(this.masksProperties[te].mode!=="n"){this.masksProperties[te].inv&&(ne.moveTo(0,0),ne.lineTo(this.element.globalData.compSize.w,0),ne.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),ne.lineTo(0,this.element.globalData.compSize.h),ne.lineTo(0,0)),ae=this.viewData[te].v,re=se.applyToPointArray(ae.v[0][0],ae.v[0][1],0),ne.moveTo(re[0],re[1]);var oe,le=ae._length;for(oe=1;oe<le;oe+=1)ie=se.applyToTriplePoints(ae.o[oe-1],ae.i[oe],ae.v[oe]),ne.bezierCurveTo(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]);ie=se.applyToTriplePoints(ae.o[oe-1],ae.i[0],ae.v[0]),ne.bezierCurveTo(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5])}this.element.globalData.renderer.save(!0),ne.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var ne=this.globalData.canvasContext,te=assetLoader.createCanvas(ne.canvas.width,ne.canvas.height);this.buffers.push(te);var ee=assetLoader.createCanvas(ne.canvas.width,ne.canvas.height);this.buffers.push(ee),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var ne=this.globalData;if(ne.blendMode!==this.data.bm){ne.blendMode=this.data.bm;var te=getBlendMode(this.data.bm);ne.canvasContext.globalCompositeOperation=te}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(ne){ne.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var ne=this.buffers[0],te=ne.getContext("2d");this.clearCanvas(te),te.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var ne=this.buffers[1],te=ne.getContext("2d");this.clearCanvas(te),te.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var ee=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(ee.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var re=assetLoader.getLumaCanvas(this.canvasContext.canvas),ie=re.getContext("2d");ie.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(re,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(ne,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(ne){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!ne)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var te=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(te),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(te),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(se,ne,te,ee){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var re=4;ne.ty==="rc"?re=5:ne.ty==="el"?re=6:ne.ty==="sr"&&(re=7),this.sh=ShapePropertyFactory.getShapeProp(se,ne,re,se);var ie,ae=te.length,oe;for(ie=0;ie<ae;ie+=1)te[ie].closed||(oe={transforms:ee.addTransformSequence(te[ie].transforms),trNodes:[]},this.styledShapes.push(oe),te[ie].elements.push(oe))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(se,ne,te){this.shapes=[],this.shapesData=se.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(se,ne,te)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(se,ne){var te={data:se,type:se.ty,preTransforms:this.transformsManager.addTransformSequence(ne),transforms:[],elements:[],closed:se.hd===!0},ee={};if(se.ty==="fl"||se.ty==="st"?(ee.c=PropertyFactory.getProp(this,se.c,1,255,this),ee.c.k||(te.co="rgb("+bmFloor(ee.c.v[0])+","+bmFloor(ee.c.v[1])+","+bmFloor(ee.c.v[2])+")")):(se.ty==="gf"||se.ty==="gs")&&(ee.s=PropertyFactory.getProp(this,se.s,1,null,this),ee.e=PropertyFactory.getProp(this,se.e,1,null,this),ee.h=PropertyFactory.getProp(this,se.h||{k:0},0,.01,this),ee.a=PropertyFactory.getProp(this,se.a||{k:0},0,degToRads,this),ee.g=new GradientProperty(this,se.g,this)),ee.o=PropertyFactory.getProp(this,se.o,0,.01,this),se.ty==="st"||se.ty==="gs"){if(te.lc=lineCapEnum[se.lc||2],te.lj=lineJoinEnum[se.lj||2],se.lj==1&&(te.ml=se.ml),ee.w=PropertyFactory.getProp(this,se.w,0,null,this),ee.w.k||(te.wi=ee.w.v),se.d){var re=new DashProperty(this,se.d,"canvas",this);ee.d=re,ee.d.k||(te.da=ee.d.dashArray,te.do=ee.d.dashoffset[0])}}else te.r=se.r===2?"evenodd":"nonzero";return this.stylesList.push(te),ee.style=te,ee},CVShapeElement.prototype.createGroupElement=function(){var se={it:[],prevViewData:[]};return se},CVShapeElement.prototype.createTransformElement=function(se){var ne={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,se.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,se,this)}};return ne},CVShapeElement.prototype.createShapeElement=function(se){var ne=new CVShapeData(this,se,this.stylesList,this.transformsManager);return this.shapes.push(ne),this.addShapeToModifiers(ne),ne},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var se,ne=this.itemsData.length;for(se=0;se<ne;se+=1)this.prevViewData[se]=this.itemsData[se];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),ne=this.dynamicProperties.length,se=0;se<ne;se+=1)this.dynamicProperties[se].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(se){var ne,te=this.stylesList.length;for(ne=0;ne<te;ne+=1)this.stylesList[ne].closed||this.stylesList[ne].transforms.push(se)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var se,ne=this.stylesList.length;for(se=0;se<ne;se+=1)this.stylesList[se].closed||this.stylesList[se].transforms.pop()},CVShapeElement.prototype.closeStyles=function(se){var ne,te=se.length;for(ne=0;ne<te;ne+=1)se[ne].closed=!0},CVShapeElement.prototype.searchShapes=function(se,ne,te,ee,re){var ie,ae=se.length-1,oe,le,he=[],ue=[],pe,ce,fe,me=[].concat(re);for(ie=ae;ie>=0;ie-=1){if(pe=this.searchProcessedElement(se[ie]),pe?ne[ie]=te[pe-1]:se[ie]._shouldRender=ee,se[ie].ty==="fl"||se[ie].ty==="st"||se[ie].ty==="gf"||se[ie].ty==="gs")pe?ne[ie].style.closed=!1:ne[ie]=this.createStyleElement(se[ie],me),he.push(ne[ie].style);else if(se[ie].ty==="gr"){if(!pe)ne[ie]=this.createGroupElement(se[ie]);else for(le=ne[ie].it.length,oe=0;oe<le;oe+=1)ne[ie].prevViewData[oe]=ne[ie].it[oe];this.searchShapes(se[ie].it,ne[ie].it,ne[ie].prevViewData,ee,me)}else se[ie].ty==="tr"?(pe||(fe=this.createTransformElement(se[ie]),ne[ie]=fe),me.push(ne[ie]),this.addTransformToStyleList(ne[ie])):se[ie].ty==="sh"||se[ie].ty==="rc"||se[ie].ty==="el"||se[ie].ty==="sr"?pe||(ne[ie]=this.createShapeElement(se[ie])):se[ie].ty==="tm"||se[ie].ty==="rd"||se[ie].ty==="pb"||se[ie].ty==="zz"||se[ie].ty==="op"?(pe?(ce=ne[ie],ce.closed=!1):(ce=ShapeModifiers.getModifier(se[ie].ty),ce.init(this,se[ie]),ne[ie]=ce,this.shapeModifiers.push(ce)),ue.push(ce)):se[ie].ty==="rp"&&(pe?(ce=ne[ie],ce.closed=!0):(ce=ShapeModifiers.getModifier(se[ie].ty),ne[ie]=ce,ce.init(this,se,ie,ne),this.shapeModifiers.push(ce),ee=!1),ue.push(ce));this.addProcessedElement(se[ie],ie+1)}for(this.removeTransformFromStyleList(),this.closeStyles(he),ae=ue.length,ie=0;ie<ae;ie+=1)ue[ie].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(se,ne){(se._opMdf||ne.op._mdf||this._isFirstFrame)&&(ne.opacity=se.opacity,ne.opacity*=ne.op.v,ne._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var se,ne=this.stylesList.length,te,ee,re,ie,ae,oe,le=this.globalData.renderer,he=this.globalData.canvasContext,ue,pe;for(se=0;se<ne;se+=1)if(pe=this.stylesList[se],ue=pe.type,!((ue==="st"||ue==="gs")&&pe.wi===0||!pe.data._shouldRender||pe.coOp===0||this.globalData.currentGlobalAlpha===0)){for(le.save(),ae=pe.elements,ue==="st"||ue==="gs"?(he.strokeStyle=ue==="st"?pe.co:pe.grd,he.lineWidth=pe.wi,he.lineCap=pe.lc,he.lineJoin=pe.lj,he.miterLimit=pe.ml||0):he.fillStyle=ue==="fl"?pe.co:pe.grd,le.ctxOpacity(pe.coOp),ue!=="st"&&ue!=="gs"&&he.beginPath(),le.ctxTransform(pe.preTransforms.finalTransform.props),ee=ae.length,te=0;te<ee;te+=1){for((ue==="st"||ue==="gs")&&(he.beginPath(),pe.da&&(he.setLineDash(pe.da),he.lineDashOffset=pe.do)),oe=ae[te].trNodes,ie=oe.length,re=0;re<ie;re+=1)oe[re].t==="m"?he.moveTo(oe[re].p[0],oe[re].p[1]):oe[re].t==="c"?he.bezierCurveTo(oe[re].pts[0],oe[re].pts[1],oe[re].pts[2],oe[re].pts[3],oe[re].pts[4],oe[re].pts[5]):he.closePath();(ue==="st"||ue==="gs")&&(he.stroke(),pe.da&&he.setLineDash(this.dashResetter))}ue!=="st"&&ue!=="gs"&&he.fill(pe.r),le.restore()}},CVShapeElement.prototype.renderShape=function(se,ne,te,ee){var re,ie=ne.length-1,ae;for(ae=se,re=ie;re>=0;re-=1)ne[re].ty==="tr"?(ae=te[re].transform,this.renderShapeTransform(se,ae)):ne[re].ty==="sh"||ne[re].ty==="el"||ne[re].ty==="rc"||ne[re].ty==="sr"?this.renderPath(ne[re],te[re]):ne[re].ty==="fl"?this.renderFill(ne[re],te[re],ae):ne[re].ty==="st"?this.renderStroke(ne[re],te[re],ae):ne[re].ty==="gf"||ne[re].ty==="gs"?this.renderGradientFill(ne[re],te[re],ae):ne[re].ty==="gr"?this.renderShape(ae,ne[re].it,te[re].it):ne[re].ty;ee&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(se,ne){if(this._isFirstFrame||ne._mdf||se.transforms._mdf){var te=se.trNodes,ee=ne.paths,re,ie,ae,oe=ee._length;te.length=0;var le=se.transforms.finalTransform;for(ae=0;ae<oe;ae+=1){var he=ee.shapes[ae];if(he&&he.v){for(ie=he._length,re=1;re<ie;re+=1)re===1&&te.push({t:"m",p:le.applyToPointArray(he.v[0][0],he.v[0][1],0)}),te.push({t:"c",pts:le.applyToTriplePoints(he.o[re-1],he.i[re],he.v[re])});ie===1&&te.push({t:"m",p:le.applyToPointArray(he.v[0][0],he.v[0][1],0)}),he.c&&ie&&(te.push({t:"c",pts:le.applyToTriplePoints(he.o[re-1],he.i[0],he.v[0])}),te.push({t:"z"}))}}se.trNodes=te}},CVShapeElement.prototype.renderPath=function(se,ne){if(se.hd!==!0&&se._shouldRender){var te,ee=ne.styledShapes.length;for(te=0;te<ee;te+=1)this.renderStyledShape(ne.styledShapes[te],ne.sh)}},CVShapeElement.prototype.renderFill=function(se,ne,te){var ee=ne.style;(ne.c._mdf||this._isFirstFrame)&&(ee.co="rgb("+bmFloor(ne.c.v[0])+","+bmFloor(ne.c.v[1])+","+bmFloor(ne.c.v[2])+")"),(ne.o._mdf||te._opMdf||this._isFirstFrame)&&(ee.coOp=ne.o.v*te.opacity)},CVShapeElement.prototype.renderGradientFill=function(se,ne,te){var ee=ne.style,re;if(!ee.grd||ne.g._mdf||ne.s._mdf||ne.e._mdf||se.t!==1&&(ne.h._mdf||ne.a._mdf)){var ie=this.globalData.canvasContext,ae=ne.s.v,oe=ne.e.v;if(se.t===1)re=ie.createLinearGradient(ae[0],ae[1],oe[0],oe[1]);else{var le=Math.sqrt(Math.pow(ae[0]-oe[0],2)+Math.pow(ae[1]-oe[1],2)),he=Math.atan2(oe[1]-ae[1],oe[0]-ae[0]),ue=ne.h.v;ue>=1?ue=.99:ue<=-1&&(ue=-.99);var pe=le*ue,ce=Math.cos(he+ne.a.v)*pe+ae[0],fe=Math.sin(he+ne.a.v)*pe+ae[1];re=ie.createRadialGradient(ce,fe,0,ae[0],ae[1],le)}var me,de=se.g.p,ve=ne.g.c,ge=1;for(me=0;me<de;me+=1)ne.g._hasOpacity&&ne.g._collapsable&&(ge=ne.g.o[me*2+1]),re.addColorStop(ve[me*4]/100,"rgba("+ve[me*4+1]+","+ve[me*4+2]+","+ve[me*4+3]+","+ge+")");ee.grd=re}ee.coOp=ne.o.v*te.opacity},CVShapeElement.prototype.renderStroke=function(se,ne,te){var ee=ne.style,re=ne.d;re&&(re._mdf||this._isFirstFrame)&&(ee.da=re.dashArray,ee.do=re.dashoffset[0]),(ne.c._mdf||this._isFirstFrame)&&(ee.co="rgb("+bmFloor(ne.c.v[0])+","+bmFloor(ne.c.v[1])+","+bmFloor(ne.c.v[2])+")"),(ne.o._mdf||te._opMdf||this._isFirstFrame)&&(ee.coOp=ne.o.v*te.opacity),(ne.w._mdf||this._isFirstFrame)&&(ee.wi=ne.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(se,ne,te){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(se,ne,te)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var se=this.textProperty.currentData;this.renderedLetters=createSizedArray(se.l?se.l.length:0);var ne=!1;se.fc?(ne=!0,this.values.fill=this.buildColor(se.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=ne;var te=!1;se.sc&&(te=!0,this.values.stroke=this.buildColor(se.sc),this.values.sWidth=se.sw);var ee=this.globalData.fontManager.getFontByName(se.f),re,ie,ae=se.l,oe=this.mHelper;this.stroke=te,this.values.fValue=se.finalSize+"px "+this.globalData.fontManager.getFontByName(se.f).fFamily,ie=se.finalText.length;var le,he,ue,pe,ce,fe,me,de,ve,ge,xe=this.data.singleShape,_e=se.tr*.001*se.finalSize,ye=0,we=0,be=!0,Se=0;for(re=0;re<ie;re+=1){le=this.globalData.fontManager.getCharData(se.finalText[re],ee.fStyle,this.globalData.fontManager.getFontByName(se.f).fFamily),he=le&&le.data||{},oe.reset(),xe&&ae[re].n&&(ye=-_e,we+=se.yOffset,we+=be?1:0,be=!1),ce=he.shapes?he.shapes[0].it:[],me=ce.length,oe.scale(se.finalSize/100,se.finalSize/100),xe&&this.applyTextPropertiesToMatrix(se,oe,ae[re].line,ye,we),ve=createSizedArray(me-1);var Ce=0;for(fe=0;fe<me;fe+=1)if(ce[fe].ty==="sh"){for(pe=ce[fe].ks.k.i.length,de=ce[fe].ks.k,ge=[],ue=1;ue<pe;ue+=1)ue===1&&ge.push(oe.applyToX(de.v[0][0],de.v[0][1],0),oe.applyToY(de.v[0][0],de.v[0][1],0)),ge.push(oe.applyToX(de.o[ue-1][0],de.o[ue-1][1],0),oe.applyToY(de.o[ue-1][0],de.o[ue-1][1],0),oe.applyToX(de.i[ue][0],de.i[ue][1],0),oe.applyToY(de.i[ue][0],de.i[ue][1],0),oe.applyToX(de.v[ue][0],de.v[ue][1],0),oe.applyToY(de.v[ue][0],de.v[ue][1],0));ge.push(oe.applyToX(de.o[ue-1][0],de.o[ue-1][1],0),oe.applyToY(de.o[ue-1][0],de.o[ue-1][1],0),oe.applyToX(de.i[0][0],de.i[0][1],0),oe.applyToY(de.i[0][0],de.i[0][1],0),oe.applyToX(de.v[0][0],de.v[0][1],0),oe.applyToY(de.v[0][0],de.v[0][1],0)),ve[Ce]=ge,Ce+=1}xe&&(ye+=ae[re].l,ye+=_e),this.textSpans[Se]?this.textSpans[Se].elem=ve:this.textSpans[Se]={elem:ve},Se+=1}},CVTextElement.prototype.renderInnerContent=function(){var se=this.canvasContext;se.font=this.values.fValue,se.lineCap="butt",se.lineJoin="miter",se.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var ne,te,ee,re,ie,ae,oe=this.textAnimator.renderedLetters,le=this.textProperty.currentData.l;te=le.length;var he,ue=null,pe=null,ce=null,fe,me;for(ne=0;ne<te;ne+=1)if(!le[ne].n){if(he=oe[ne],he&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(he.p),this.globalData.renderer.ctxOpacity(he.o)),this.fill){for(he&&he.fc?ue!==he.fc&&(ue=he.fc,se.fillStyle=he.fc):ue!==this.values.fill&&(ue=this.values.fill,se.fillStyle=this.values.fill),fe=this.textSpans[ne].elem,re=fe.length,this.globalData.canvasContext.beginPath(),ee=0;ee<re;ee+=1)for(me=fe[ee],ae=me.length,this.globalData.canvasContext.moveTo(me[0],me[1]),ie=2;ie<ae;ie+=6)this.globalData.canvasContext.bezierCurveTo(me[ie],me[ie+1],me[ie+2],me[ie+3],me[ie+4],me[ie+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(he&&he.sw?ce!==he.sw&&(ce=he.sw,se.lineWidth=he.sw):ce!==this.values.sWidth&&(ce=this.values.sWidth,se.lineWidth=this.values.sWidth),he&&he.sc?pe!==he.sc&&(pe=he.sc,se.strokeStyle=he.sc):pe!==this.values.stroke&&(pe=this.values.stroke,se.strokeStyle=this.values.stroke),fe=this.textSpans[ne].elem,re=fe.length,this.globalData.canvasContext.beginPath(),ee=0;ee<re;ee+=1)for(me=fe[ee],ae=me.length,this.globalData.canvasContext.moveTo(me[0],me[1]),ie=2;ie<ae;ie+=6)this.globalData.canvasContext.bezierCurveTo(me[ie],me[ie+1],me[ie+2],me[ie+3],me[ie+4],me[ie+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}he&&this.globalData.renderer.restore()}};function CVImageElement(se,ne,te){this.assetData=ne.getAssetData(se.refId),this.img=ne.imageLoader.getAsset(this.assetData),this.initElement(se,ne,te)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var se=createTag("canvas");se.width=this.assetData.w,se.height=this.assetData.h;var ne=se.getContext("2d"),te=this.img.width,ee=this.img.height,re=te/ee,ie=this.assetData.w/this.assetData.h,ae,oe,le=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;re>ie&&le==="xMidYMid slice"||re<ie&&le!=="xMidYMid slice"?(oe=ee,ae=oe*ie):(ae=te,oe=ae/ie),ne.drawImage(this.img,(te-ae)/2,(ee-oe)/2,ae,oe,0,0,this.assetData.w,this.assetData.h),this.img=se}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(se,ne,te){this.initElement(se,ne,te)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var se=this.canvasContext;se.fillStyle=this.data.sc,se.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(se,ne){this.animationItem=se,this.renderConfig={clearCanvas:ne&&ne.clearCanvas!==void 0?ne.clearCanvas:!0,context:ne&&ne.context||null,progressiveLoad:ne&&ne.progressiveLoad||!1,preserveAspectRatio:ne&&ne.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ne&&ne.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ne&&ne.contentVisibility||"visible",className:ne&&ne.className||"",id:ne&&ne.id||""},this.renderConfig.dpr=ne&&ne.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=ne&&ne.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(se){return new CVShapeElement(se,this.globalData,this)},CanvasRendererBase.prototype.createText=function(se){return new CVTextElement(se,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(se){return new CVImageElement(se,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(se){return new CVSolidElement(se,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(se){if(!(se[0]===1&&se[1]===0&&se[4]===0&&se[5]===1&&se[12]===0&&se[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(se[0],se[1],se[4],se[5],se[12],se[13]);return}this.transformMat.cloneFromProps(se);var ne=this.contextData.getTransform(),te=ne.props;this.transformMat.transform(te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15]),ne.cloneFromProps(this.transformMat.props);var ee=ne.props;this.canvasContext.setTransform(ee[0],ee[1],ee[4],ee[5],ee[12],ee[13])}},CanvasRendererBase.prototype.ctxOpacity=function(se){var ne=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=se<0?0:se,this.globalData.currentGlobalAlpha=ne;return}ne*=se<0?0:se,this.contextData.setOpacity(ne),this.globalData.currentGlobalAlpha!==ne&&(this.canvasContext.globalAlpha=ne,this.globalData.currentGlobalAlpha=ne)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(se){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}se&&this.canvasContext.save(),this.contextData.push()},CanvasRendererBase.prototype.restore=function(se){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}se&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var ne=this.contextData.pop(),te=ne.transform,ee=ne.opacity;this.canvasContext.setTransform(te[0],te[1],te[4],te[5],te[12],te[13]),this.globalData.currentGlobalAlpha!==ee&&(this.canvasContext.globalAlpha=ee,this.globalData.currentGlobalAlpha=ee)},CanvasRendererBase.prototype.configAnimation=function(se){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var ne=this.animationItem.container.style;ne.width="100%",ne.height="100%";var te="0px 0px 0px";ne.transformOrigin=te,ne.mozTransformOrigin=te,ne.webkitTransformOrigin=te,ne["-webkit-transform"]=te,ne.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=se,this.layers=se.layers,this.transformCanvas={w:se.w,h:se.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(se,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(se.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(se,ne){this.reset();var te,ee;se?(te=se,ee=ne,this.canvasContext.canvas.width=te,this.canvasContext.canvas.height=ee):(this.animationItem.wrapper&&this.animationItem.container?(te=this.animationItem.wrapper.offsetWidth,ee=this.animationItem.wrapper.offsetHeight):(te=this.canvasContext.canvas.width,ee=this.canvasContext.canvas.height),this.canvasContext.canvas.width=te*this.renderConfig.dpr,this.canvasContext.canvas.height=ee*this.renderConfig.dpr);var re,ie;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ae=this.renderConfig.preserveAspectRatio.split(" "),oe=ae[1]||"meet",le=ae[0]||"xMidYMid",he=le.substr(0,4),ue=le.substr(4);re=te/ee,ie=this.transformCanvas.w/this.transformCanvas.h,ie>re&&oe==="meet"||ie<re&&oe==="slice"?(this.transformCanvas.sx=te/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=te/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=ee/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=ee/(this.transformCanvas.h/this.renderConfig.dpr)),he==="xMid"&&(ie<re&&oe==="meet"||ie>re&&oe==="slice")?this.transformCanvas.tx=(te-this.transformCanvas.w*(ee/this.transformCanvas.h))/2*this.renderConfig.dpr:he==="xMax"&&(ie<re&&oe==="meet"||ie>re&&oe==="slice")?this.transformCanvas.tx=(te-this.transformCanvas.w*(ee/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ue==="YMid"&&(ie>re&&oe==="meet"||ie<re&&oe==="slice")?this.transformCanvas.ty=(ee-this.transformCanvas.h*(te/this.transformCanvas.w))/2*this.renderConfig.dpr:ue==="YMax"&&(ie>re&&oe==="meet"||ie<re&&oe==="slice")?this.transformCanvas.ty=(ee-this.transformCanvas.h*(te/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=te/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=ee/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var se,ne=this.layers?this.layers.length:0;for(se=ne-1;se>=0;se-=1)this.elements[se]&&this.elements[se].destroy&&this.elements[se].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(se,ne){if(!(this.renderedFrame===se&&this.renderConfig.clearCanvas===!0&&!ne||this.destroyed||se===-1)){this.renderedFrame=se,this.globalData.frameNum=se-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||ne,this.globalData.projectInterface.currentFrame=se;var te,ee=this.layers.length;for(this.completeLayers||this.checkLayers(se),te=0;te<ee;te+=1)(this.completeLayers||this.elements[te])&&this.elements[te].prepareFrame(se-this.layers[te].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),te=ee-1;te>=0;te-=1)(this.completeLayers||this.elements[te])&&this.elements[te].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(se){var ne=this.elements;if(!(ne[se]||this.layers[se].ty===99)){var te=this.createItem(this.layers[se],this,this.globalData);ne[se]=te,te.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var se=this.pendingElements.pop();se.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(se,ne,te){this.completeLayers=!1,this.layers=se.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(se,ne,te),this.tm=se.tm?PropertyFactory.getProp(this,se.tm,0,ne.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var se=this.canvasContext;se.beginPath(),se.moveTo(0,0),se.lineTo(this.data.w,0),se.lineTo(this.data.w,this.data.h),se.lineTo(0,this.data.h),se.lineTo(0,0),se.clip();var ne,te=this.layers.length;for(ne=te-1;ne>=0;ne-=1)(this.completeLayers||this.elements[ne])&&this.elements[ne].renderFrame()},CVCompElement.prototype.destroy=function(){var se,ne=this.layers.length;for(se=ne-1;se>=0;se-=1)this.elements[se]&&this.elements[se].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(se){return new CVCompElement(se,this.globalData,this)};function CanvasRenderer(se,ne){this.animationItem=se,this.renderConfig={clearCanvas:ne&&ne.clearCanvas!==void 0?ne.clearCanvas:!0,context:ne&&ne.context||null,progressiveLoad:ne&&ne.progressiveLoad||!1,preserveAspectRatio:ne&&ne.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ne&&ne.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ne&&ne.contentVisibility||"visible",className:ne&&ne.className||"",id:ne&&ne.id||"",runExpressions:!ne||ne.runExpressions===void 0||ne.runExpressions},this.renderConfig.dpr=ne&&ne.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=ne&&ne.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(se){return new CVCompElement(se,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var ne=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var te=this.finalTransform.mat.toCSS();ne.transform=te,ne.webkitTransform=te}this.finalTransform._opMdf&&(ne.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(se,ne,te){this.initElement(se,ne,te)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var se;this.data.hasMask?(se=createNS("rect"),se.setAttribute("width",this.data.sw),se.setAttribute("height",this.data.sh),se.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(se=createTag("div"),se.style.width=this.data.sw+"px",se.style.height=this.data.sh+"px",se.style.backgroundColor=this.data.sc),this.layerElement.appendChild(se)};function HShapeElement(se,ne,te){this.shapes=[],this.shapesData=se.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(se,ne,te),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var se;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),se=this.svgElement;else{se=createNS("svg");var ne=this.comp.data?this.comp.data:this.globalData.compSize;se.setAttribute("width",ne.w),se.setAttribute("height",ne.h),se.appendChild(this.shapesContainer),this.layerElement.appendChild(se)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=se},HShapeElement.prototype.getTransformedPoint=function(se,ne){var te,ee=se.length;for(te=0;te<ee;te+=1)ne=se[te].mProps.v.applyToPointArray(ne[0],ne[1],0);return ne},HShapeElement.prototype.calculateShapeBoundingBox=function(se,ne){var te=se.sh.v,ee=se.transformers,re,ie=te._length,ae,oe,le,he;if(!(ie<=1)){for(re=0;re<ie-1;re+=1)ae=this.getTransformedPoint(ee,te.v[re]),oe=this.getTransformedPoint(ee,te.o[re]),le=this.getTransformedPoint(ee,te.i[re+1]),he=this.getTransformedPoint(ee,te.v[re+1]),this.checkBounds(ae,oe,le,he,ne);te.c&&(ae=this.getTransformedPoint(ee,te.v[re]),oe=this.getTransformedPoint(ee,te.o[re]),le=this.getTransformedPoint(ee,te.i[0]),he=this.getTransformedPoint(ee,te.v[0]),this.checkBounds(ae,oe,le,he,ne))}},HShapeElement.prototype.checkBounds=function(se,ne,te,ee,re){this.getBoundsOfCurve(se,ne,te,ee);var ie=this.shapeBoundingBox;re.x=bmMin(ie.left,re.x),re.xMax=bmMax(ie.right,re.xMax),re.y=bmMin(ie.top,re.y),re.yMax=bmMax(ie.bottom,re.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(se,ne,te,ee){for(var re=[[se[0],ee[0]],[se[1],ee[1]]],ie,ae,oe,le,he,ue,pe,ce=0;ce<2;++ce)ae=6*se[ce]-12*ne[ce]+6*te[ce],ie=-3*se[ce]+9*ne[ce]-9*te[ce]+3*ee[ce],oe=3*ne[ce]-3*se[ce],ae|=0,ie|=0,oe|=0,ie===0&&ae===0||(ie===0?(le=-oe/ae,le>0&&le<1&&re[ce].push(this.calculateF(le,se,ne,te,ee,ce))):(he=ae*ae-4*oe*ie,he>=0&&(ue=(-ae+bmSqrt(he))/(2*ie),ue>0&&ue<1&&re[ce].push(this.calculateF(ue,se,ne,te,ee,ce)),pe=(-ae-bmSqrt(he))/(2*ie),pe>0&&pe<1&&re[ce].push(this.calculateF(pe,se,ne,te,ee,ce)))));this.shapeBoundingBox.left=bmMin.apply(null,re[0]),this.shapeBoundingBox.top=bmMin.apply(null,re[1]),this.shapeBoundingBox.right=bmMax.apply(null,re[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,re[1])},HShapeElement.prototype.calculateF=function(se,ne,te,ee,re,ie){return bmPow(1-se,3)*ne[ie]+3*bmPow(1-se,2)*se*te[ie]+3*(1-se)*bmPow(se,2)*ee[ie]+bmPow(se,3)*re[ie]},HShapeElement.prototype.calculateBoundingBox=function(se,ne){var te,ee=se.length;for(te=0;te<ee;te+=1)se[te]&&se[te].sh?this.calculateShapeBoundingBox(se[te],ne):se[te]&&se[te].it?this.calculateBoundingBox(se[te].it,ne):se[te]&&se[te].style&&se[te].w&&this.expandStrokeBoundingBox(se[te].w,ne)},HShapeElement.prototype.expandStrokeBoundingBox=function(se,ne){var te=0;if(se.keyframes){for(var ee=0;ee<se.keyframes.length;ee+=1){var re=se.keyframes[ee].s;re>te&&(te=re)}te*=se.mult}else te=se.v*se.mult;ne.x-=te,ne.xMax+=te,ne.y-=te,ne.yMax+=te},HShapeElement.prototype.currentBoxContains=function(se){return this.currentBBox.x<=se.x&&this.currentBBox.y<=se.y&&this.currentBBox.width+this.currentBBox.x>=se.x+se.width&&this.currentBBox.height+this.currentBBox.y>=se.y+se.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var se=this.tempBoundingBox,ne=999999;if(se.x=ne,se.xMax=-ne,se.y=ne,se.yMax=-ne,this.calculateBoundingBox(this.itemsData,se),se.width=se.xMax<se.x?0:se.xMax-se.x,se.height=se.yMax<se.y?0:se.yMax-se.y,this.currentBoxContains(se))return;var te=!1;if(this.currentBBox.w!==se.width&&(this.currentBBox.w=se.width,this.shapeCont.setAttribute("width",se.width),te=!0),this.currentBBox.h!==se.height&&(this.currentBBox.h=se.height,this.shapeCont.setAttribute("height",se.height),te=!0),te||this.currentBBox.x!==se.x||this.currentBBox.y!==se.y){this.currentBBox.w=se.width,this.currentBBox.h=se.height,this.currentBBox.x=se.x,this.currentBBox.y=se.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var ee=this.shapeCont.style,re="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";ee.transform=re,ee.webkitTransform=re}}};function HTextElement(se,ne,te){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(se,ne,te)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var se=createNS("g");this.maskedElement.appendChild(se),this.innerElem=se}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var se=this.textProperty.currentData;this.renderedLetters=createSizedArray(se.l?se.l.length:0);var ne=this.innerElem.style,te=se.fc?this.buildColor(se.fc):"rgba(0,0,0,0)";ne.fill=te,ne.color=te,se.sc&&(ne.stroke=this.buildColor(se.sc),ne.strokeWidth=se.sw+"px");var ee=this.globalData.fontManager.getFontByName(se.f);if(!this.globalData.fontManager.chars)if(ne.fontSize=se.finalSize+"px",ne.lineHeight=se.finalSize+"px",ee.fClass)this.innerElem.className=ee.fClass;else{ne.fontFamily=ee.fFamily;var re=se.fWeight,ie=se.fStyle;ne.fontStyle=ie,ne.fontWeight=re}var ae,oe,le=se.l;oe=le.length;var he,ue,pe,ce=this.mHelper,fe,me="",de=0;for(ae=0;ae<oe;ae+=1){if(this.globalData.fontManager.chars?(this.textPaths[de]?he=this.textPaths[de]:(he=createNS("path"),he.setAttribute("stroke-linecap",lineCapEnum[1]),he.setAttribute("stroke-linejoin",lineJoinEnum[2]),he.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[de]?(ue=this.textSpans[de],pe=ue.children[0]):(ue=createTag("div"),ue.style.lineHeight=0,pe=createNS("svg"),pe.appendChild(he),styleDiv(ue)))):this.isMasked?he=this.textPaths[de]?this.textPaths[de]:createNS("text"):this.textSpans[de]?(ue=this.textSpans[de],he=this.textPaths[de]):(ue=createTag("span"),styleDiv(ue),he=createTag("span"),styleDiv(he),ue.appendChild(he)),this.globalData.fontManager.chars){var ve=this.globalData.fontManager.getCharData(se.finalText[ae],ee.fStyle,this.globalData.fontManager.getFontByName(se.f).fFamily),ge;if(ve?ge=ve.data:ge=null,ce.reset(),ge&&ge.shapes&&ge.shapes.length&&(fe=ge.shapes[0].it,ce.scale(se.finalSize/100,se.finalSize/100),me=this.createPathShape(ce,fe),he.setAttribute("d",me)),this.isMasked)this.innerElem.appendChild(he);else{if(this.innerElem.appendChild(ue),ge&&ge.shapes){document.body.appendChild(pe);var xe=pe.getBBox();pe.setAttribute("width",xe.width+2),pe.setAttribute("height",xe.height+2),pe.setAttribute("viewBox",xe.x-1+" "+(xe.y-1)+" "+(xe.width+2)+" "+(xe.height+2));var _e=pe.style,ye="translate("+(xe.x-1)+"px,"+(xe.y-1)+"px)";_e.transform=ye,_e.webkitTransform=ye,le[ae].yOffset=xe.y-1}else pe.setAttribute("width",1),pe.setAttribute("height",1);ue.appendChild(pe)}}else if(he.textContent=le[ae].val,he.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(he);else{this.innerElem.appendChild(ue);var we=he.style,be="translate3d(0,"+-se.finalSize/1.2+"px,0)";we.transform=be,we.webkitTransform=be}this.isMasked?this.textSpans[de]=he:this.textSpans[de]=ue,this.textSpans[de].style.display="block",this.textPaths[de]=he,de+=1}for(;de<this.textSpans.length;)this.textSpans[de].style.display="none",de+=1},HTextElement.prototype.renderInnerContent=function(){var se;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),se=this.svgElement.style;var ne="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";se.transform=ne,se.webkitTransform=ne}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var te,ee,re=0,ie=this.textAnimator.renderedLetters,ae=this.textProperty.currentData.l;ee=ae.length;var oe,le,he;for(te=0;te<ee;te+=1)ae[te].n?re+=1:(le=this.textSpans[te],he=this.textPaths[te],oe=ie[re],re+=1,oe._mdf.m&&(this.isMasked?le.setAttribute("transform",oe.m):(le.style.webkitTransform=oe.m,le.style.transform=oe.m)),le.style.opacity=oe.o,oe.sw&&oe._mdf.sw&&he.setAttribute("stroke-width",oe.sw),oe.sc&&oe._mdf.sc&&he.setAttribute("stroke",oe.sc),oe.fc&&oe._mdf.fc&&(he.setAttribute("fill",oe.fc),he.style.color=oe.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ue=this.innerElem.getBBox();this.currentBBox.w!==ue.width&&(this.currentBBox.w=ue.width,this.svgElement.setAttribute("width",ue.width)),this.currentBBox.h!==ue.height&&(this.currentBBox.h=ue.height,this.svgElement.setAttribute("height",ue.height));var pe=1;if(this.currentBBox.w!==ue.width+pe*2||this.currentBBox.h!==ue.height+pe*2||this.currentBBox.x!==ue.x-pe||this.currentBBox.y!==ue.y-pe){this.currentBBox.w=ue.width+pe*2,this.currentBBox.h=ue.height+pe*2,this.currentBBox.x=ue.x-pe,this.currentBBox.y=ue.y-pe,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),se=this.svgElement.style;var ce="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";se.transform=ce,se.webkitTransform=ce}}}};function HCameraElement(se,ne,te){this.initFrame(),this.initBaseData(se,ne,te),this.initHierarchy();var ee=PropertyFactory.getProp;if(this.pe=ee(this,se.pe,0,0,this),se.ks.p.s?(this.px=ee(this,se.ks.p.x,1,0,this),this.py=ee(this,se.ks.p.y,1,0,this),this.pz=ee(this,se.ks.p.z,1,0,this)):this.p=ee(this,se.ks.p,1,0,this),se.ks.a&&(this.a=ee(this,se.ks.a,1,0,this)),se.ks.or.k.length&&se.ks.or.k[0].to){var re,ie=se.ks.or.k.length;for(re=0;re<ie;re+=1)se.ks.or.k[re].to=null,se.ks.or.k[re].ti=null}this.or=ee(this,se.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=ee(this,se.ks.rx,0,degToRads,this),this.ry=ee(this,se.ks.ry,0,degToRads,this),this.rz=ee(this,se.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var se,ne=this.comp.threeDElements.length,te,ee,re;for(se=0;se<ne;se+=1)if(te=this.comp.threeDElements[se],te.type==="3d"){ee=te.perspectiveElem.style,re=te.container.style;var ie=this.pe.v+"px",ae="0px 0px 0px",oe="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";ee.perspective=ie,ee.webkitPerspective=ie,re.transformOrigin=ae,re.mozTransformOrigin=ae,re.webkitTransformOrigin=ae,ee.transform=oe,ee.webkitTransform=oe}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var se=this._isFirstFrame,ne,te;if(this.hierarchy)for(te=this.hierarchy.length,ne=0;ne<te;ne+=1)se=this.hierarchy[ne].finalTransform.mProp._mdf||se;if(se||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(te=this.hierarchy.length-1,ne=te;ne>=0;ne-=1){var ee=this.hierarchy[ne].finalTransform.mProp;this.mat.translate(-ee.p.v[0],-ee.p.v[1],ee.p.v[2]),this.mat.rotateX(-ee.or.v[0]).rotateY(-ee.or.v[1]).rotateZ(ee.or.v[2]),this.mat.rotateX(-ee.rx.v).rotateY(-ee.ry.v).rotateZ(ee.rz.v),this.mat.scale(1/ee.s.v[0],1/ee.s.v[1],1/ee.s.v[2]),this.mat.translate(ee.a.v[0],ee.a.v[1],ee.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var re;this.p?re=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:re=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var ie=Math.sqrt(Math.pow(re[0],2)+Math.pow(re[1],2)+Math.pow(re[2],2)),ae=[re[0]/ie,re[1]/ie,re[2]/ie],oe=Math.sqrt(ae[2]*ae[2]+ae[0]*ae[0]),le=Math.atan2(ae[1],oe),he=Math.atan2(ae[0],-ae[2]);this.mat.rotateY(he).rotateX(-le)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ue=!this._prevMat.equals(this.mat);if((ue||this.pe._mdf)&&this.comp.threeDElements){te=this.comp.threeDElements.length;var pe,ce,fe;for(ne=0;ne<te;ne+=1)if(pe=this.comp.threeDElements[ne],pe.type==="3d"){if(ue){var me=this.mat.toCSS();fe=pe.container.style,fe.transform=me,fe.webkitTransform=me}this.pe._mdf&&(ce=pe.perspectiveElem.style,ce.perspective=this.pe.v+"px",ce.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(se){this.prepareProperties(se,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(se,ne,te){this.assetData=ne.getAssetData(se.refId),this.initElement(se,ne,te)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var se=this.globalData.getAssetsPath(this.assetData),ne=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",se),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(ne),ne.crossOrigin="anonymous",ne.src=se,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(se,ne){this.animationItem=se,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:ne&&ne.className||"",imagePreserveAspectRatio:ne&&ne.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(ne&&ne.hideOnTransparent===!1),filterSize:{width:ne&&ne.filterSize&&ne.filterSize.width||"400%",height:ne&&ne.filterSize&&ne.filterSize.height||"400%",x:ne&&ne.filterSize&&ne.filterSize.x||"-100%",y:ne&&ne.filterSize&&ne.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var se=this.pendingElements.pop();se.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(se,ne){var te=se.getBaseElement();if(!!te){var ee=this.layers[ne];if(!ee.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(te,ne);else{for(var re=0,ie,ae,oe;re<ne;)this.elements[re]&&this.elements[re]!==!0&&this.elements[re].getBaseElement&&(ae=this.elements[re],oe=this.layers[re].ddd?this.getThreeDContainerByPos(re):ae.getBaseElement(),ie=oe||ie),re+=1;ie?(!ee.ddd||!this.supports3d)&&this.layerElement.insertBefore(te,ie):(!ee.ddd||!this.supports3d)&&this.layerElement.appendChild(te)}else this.addTo3dContainer(te,ne)}},HybridRendererBase.prototype.createShape=function(se){return this.supports3d?new HShapeElement(se,this.globalData,this):new SVGShapeElement(se,this.globalData,this)},HybridRendererBase.prototype.createText=function(se){return this.supports3d?new HTextElement(se,this.globalData,this):new SVGTextLottieElement(se,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(se){return this.camera=new HCameraElement(se,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(se){return this.supports3d?new HImageElement(se,this.globalData,this):new IImageElement(se,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(se){return this.supports3d?new HSolidElement(se,this.globalData,this):new ISolidElement(se,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(se){for(var ne=0,te=this.threeDElements.length;ne<te;){if(this.threeDElements[ne].startPos<=se&&this.threeDElements[ne].endPos>=se)return this.threeDElements[ne].perspectiveElem;ne+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(se,ne){var te=createTag("div"),ee,re;styleDiv(te);var ie=createTag("div");if(styleDiv(ie),ne==="3d"){ee=te.style,ee.width=this.globalData.compSize.w+"px",ee.height=this.globalData.compSize.h+"px";var ae="50% 50%";ee.webkitTransformOrigin=ae,ee.mozTransformOrigin=ae,ee.transformOrigin=ae,re=ie.style;var oe="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";re.transform=oe,re.webkitTransform=oe}te.appendChild(ie);var le={container:ie,perspectiveElem:te,startPos:se,endPos:se,type:ne};return this.threeDElements.push(le),le},HybridRendererBase.prototype.build3dContainers=function(){var se,ne=this.layers.length,te,ee="";for(se=0;se<ne;se+=1)this.layers[se].ddd&&this.layers[se].ty!==3?(ee!=="3d"&&(ee="3d",te=this.createThreeDContainer(se,"3d")),te.endPos=Math.max(te.endPos,se)):(ee!=="2d"&&(ee="2d",te=this.createThreeDContainer(se,"2d")),te.endPos=Math.max(te.endPos,se));for(ne=this.threeDElements.length,se=ne-1;se>=0;se-=1)this.resizerElem.appendChild(this.threeDElements[se].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(se,ne){for(var te=0,ee=this.threeDElements.length;te<ee;){if(ne<=this.threeDElements[te].endPos){for(var re=this.threeDElements[te].startPos,ie;re<ne;)this.elements[re]&&this.elements[re].getBaseElement&&(ie=this.elements[re].getBaseElement()),re+=1;ie?this.threeDElements[te].container.insertBefore(se,ie):this.threeDElements[te].container.appendChild(se);break}te+=1}},HybridRendererBase.prototype.configAnimation=function(se){var ne=createTag("div"),te=this.animationItem.wrapper,ee=ne.style;ee.width=se.w+"px",ee.height=se.h+"px",this.resizerElem=ne,styleDiv(ne),ee.transformStyle="flat",ee.mozTransformStyle="flat",ee.webkitTransformStyle="flat",this.renderConfig.className&&ne.setAttribute("class",this.renderConfig.className),te.appendChild(ne),ee.overflow="hidden";var re=createNS("svg");re.setAttribute("width","1"),re.setAttribute("height","1"),styleDiv(re),this.resizerElem.appendChild(re);var ie=createNS("defs");re.appendChild(ie),this.data=se,this.setupGlobalData(se,re),this.globalData.defs=ie,this.layers=se.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var se,ne=this.layers?this.layers.length:0;for(se=0;se<ne;se+=1)this.elements[se]&&this.elements[se].destroy&&this.elements[se].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var se=this.animationItem.wrapper.offsetWidth,ne=this.animationItem.wrapper.offsetHeight,te=se/ne,ee=this.globalData.compSize.w/this.globalData.compSize.h,re,ie,ae,oe;ee>te?(re=se/this.globalData.compSize.w,ie=se/this.globalData.compSize.w,ae=0,oe=(ne-this.globalData.compSize.h*(se/this.globalData.compSize.w))/2):(re=ne/this.globalData.compSize.h,ie=ne/this.globalData.compSize.h,ae=(se-this.globalData.compSize.w*(ne/this.globalData.compSize.h))/2,oe=0);var le=this.resizerElem.style;le.webkitTransform="matrix3d("+re+",0,0,0,0,"+ie+",0,0,0,0,1,0,"+ae+","+oe+",0,1)",le.transform=le.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var se=this.globalData.compSize.w,ne=this.globalData.compSize.h,te,ee=this.threeDElements.length;for(te=0;te<ee;te+=1){var re=this.threeDElements[te].perspectiveElem.style;re.webkitPerspective=Math.sqrt(Math.pow(se,2)+Math.pow(ne,2))+"px",re.perspective=re.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(se){var ne,te=se.length,ee=createTag("div");for(ne=0;ne<te;ne+=1)if(se[ne].xt){var re=this.createComp(se[ne],ee,this.globalData.comp,null);re.initExpressions(),this.globalData.projectInterface.registerComposition(re)}};function HCompElement(se,ne,te){this.layers=se.layers,this.supports3d=!se.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(se,ne,te),this.tm=se.tm?PropertyFactory.getProp(this,se.tm,0,ne.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(se,ne){for(var te=0,ee;te<ne;)this.elements[te]&&this.elements[te].getBaseElement&&(ee=this.elements[te].getBaseElement()),te+=1;ee?this.layerElement.insertBefore(se,ee):this.layerElement.appendChild(se)},HCompElement.prototype.createComp=function(se){return this.supports3d?new HCompElement(se,this.globalData,this):new SVGCompElement(se,this.globalData,this)};function HybridRenderer(se,ne){this.animationItem=se,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:ne&&ne.className||"",imagePreserveAspectRatio:ne&&ne.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(ne&&ne.hideOnTransparent===!1),filterSize:{width:ne&&ne.filterSize&&ne.filterSize.width||"400%",height:ne&&ne.filterSize&&ne.filterSize.height||"400%",x:ne&&ne.filterSize&&ne.filterSize.x||"-100%",y:ne&&ne.filterSize&&ne.filterSize.y||"-100%"},runExpressions:!ne||ne.runExpressions===void 0||ne.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(se){return this.supports3d?new HCompElement(se,this.globalData,this):new SVGCompElement(se,this.globalData,this)};var CompExpressionInterface=function(){return function(se){function ne(te){for(var ee=0,re=se.layers.length;ee<re;){if(se.layers[ee].nm===te||se.layers[ee].ind===te)return se.elements[ee].layerInterface;ee+=1}return null}return Object.defineProperty(ne,"_name",{value:se.data.nm}),ne.layer=ne,ne.pixelAspect=1,ne.height=se.data.h||se.globalData.compSize.h,ne.width=se.data.w||se.globalData.compSize.w,ne.pixelAspect=1,ne.frameDuration=1/se.globalData.frameRate,ne.displayStartTime=0,ne.numLayers=se.layers.length,ne}}(),Expressions=function(){var se={};se.initExpressions=ne;function ne(te){var ee=0,re=[];function ie(){ee+=1}function ae(){ee-=1,ee===0&&le()}function oe(he){re.indexOf(he)===-1&&re.push(he)}function le(){var he,ue=re.length;for(he=0;he<ue;he+=1)re[he].release();re.length=0}te.renderer.compInterface=CompExpressionInterface(te.renderer),te.renderer.globalData.projectInterface.registerComposition(te.renderer),te.renderer.globalData.pushExpression=ie,te.renderer.globalData.popExpression=ae,te.renderer.globalData.registerExpressionProperty=oe}return se}(),MaskManagerInterface=function(){function se(te,ee){this._mask=te,this._data=ee}Object.defineProperty(se.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(se.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var ne=function(ee){var re=createSizedArray(ee.viewData.length),ie,ae=ee.viewData.length;for(ie=0;ie<ae;ie+=1)re[ie]=new se(ee.viewData[ie],ee.masksProperties[ie]);var oe=function(he){for(ie=0;ie<ae;){if(ee.masksProperties[ie].nm===he)return re[ie];ie+=1}return null};return oe};return ne}(),ExpressionPropertyInterface=function(){var se={pv:0,v:0,mult:1},ne={pv:[0,0,0],v:[0,0,0],mult:1};function te(ae,oe,le){Object.defineProperty(ae,"velocity",{get:function(){return oe.getVelocityAtTime(oe.comp.currentFrame)}}),ae.numKeys=oe.keyframes?oe.keyframes.length:0,ae.key=function(he){if(!ae.numKeys)return 0;var ue="";"s"in oe.keyframes[he-1]?ue=oe.keyframes[he-1].s:"e"in oe.keyframes[he-2]?ue=oe.keyframes[he-2].e:ue=oe.keyframes[he-2].s;var pe=le==="unidimensional"?new Number(ue):Object.assign({},ue);return pe.time=oe.keyframes[he-1].t/oe.elem.comp.globalData.frameRate,pe.value=le==="unidimensional"?ue[0]:ue,pe},ae.valueAtTime=oe.getValueAtTime,ae.speedAtTime=oe.getSpeedAtTime,ae.velocityAtTime=oe.getVelocityAtTime,ae.propertyGroup=oe.propertyGroup}function ee(ae){(!ae||!("pv"in ae))&&(ae=se);var oe=1/ae.mult,le=ae.pv*oe,he=new Number(le);return he.value=le,te(he,ae,"unidimensional"),function(){return ae.k&&ae.getValue(),le=ae.v*oe,he.value!==le&&(he=new Number(le),he.value=le,te(he,ae,"unidimensional")),he}}function re(ae){(!ae||!("pv"in ae))&&(ae=ne);var oe=1/ae.mult,le=ae.data&&ae.data.l||ae.pv.length,he=createTypedArray("float32",le),ue=createTypedArray("float32",le);return he.value=ue,te(he,ae,"multidimensional"),function(){ae.k&&ae.getValue();for(var pe=0;pe<le;pe+=1)ue[pe]=ae.v[pe]*oe,he[pe]=ue[pe];return he}}function ie(){return se}return function(ae){return ae?ae.propType==="unidimensional"?ee(ae):re(ae):ie}}(),TransformExpressionInterface=function(){return function(se){function ne(ae){switch(ae){case"scale":case"Scale":case"ADBE Scale":case 6:return ne.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return ne.rotation;case"ADBE Rotate X":return ne.xRotation;case"ADBE Rotate Y":return ne.yRotation;case"position":case"Position":case"ADBE Position":case 2:return ne.position;case"ADBE Position_0":return ne.xPosition;case"ADBE Position_1":return ne.yPosition;case"ADBE Position_2":return ne.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return ne.anchorPoint;case"opacity":case"Opacity":case 11:return ne.opacity;default:return null}}Object.defineProperty(ne,"rotation",{get:ExpressionPropertyInterface(se.r||se.rz)}),Object.defineProperty(ne,"zRotation",{get:ExpressionPropertyInterface(se.rz||se.r)}),Object.defineProperty(ne,"xRotation",{get:ExpressionPropertyInterface(se.rx)}),Object.defineProperty(ne,"yRotation",{get:ExpressionPropertyInterface(se.ry)}),Object.defineProperty(ne,"scale",{get:ExpressionPropertyInterface(se.s)});var te,ee,re,ie;return se.p?ie=ExpressionPropertyInterface(se.p):(te=ExpressionPropertyInterface(se.px),ee=ExpressionPropertyInterface(se.py),se.pz&&(re=ExpressionPropertyInterface(se.pz))),Object.defineProperty(ne,"position",{get:function(){return se.p?ie():[te(),ee(),re?re():0]}}),Object.defineProperty(ne,"xPosition",{get:ExpressionPropertyInterface(se.px)}),Object.defineProperty(ne,"yPosition",{get:ExpressionPropertyInterface(se.py)}),Object.defineProperty(ne,"zPosition",{get:ExpressionPropertyInterface(se.pz)}),Object.defineProperty(ne,"anchorPoint",{get:ExpressionPropertyInterface(se.a)}),Object.defineProperty(ne,"opacity",{get:ExpressionPropertyInterface(se.o)}),Object.defineProperty(ne,"skew",{get:ExpressionPropertyInterface(se.sk)}),Object.defineProperty(ne,"skewAxis",{get:ExpressionPropertyInterface(se.sa)}),Object.defineProperty(ne,"orientation",{get:ExpressionPropertyInterface(se.or)}),ne}}(),LayerExpressionInterface=function(){function se(he){var ue=new Matrix;if(he!==void 0){var pe=this._elem.finalTransform.mProp.getValueAtTime(he);pe.clone(ue)}else{var ce=this._elem.finalTransform.mProp;ce.applyToMatrix(ue)}return ue}function ne(he,ue){var pe=this.getMatrix(ue);return pe.props[12]=0,pe.props[13]=0,pe.props[14]=0,this.applyPoint(pe,he)}function te(he,ue){var pe=this.getMatrix(ue);return this.applyPoint(pe,he)}function ee(he,ue){var pe=this.getMatrix(ue);return pe.props[12]=0,pe.props[13]=0,pe.props[14]=0,this.invertPoint(pe,he)}function re(he,ue){var pe=this.getMatrix(ue);return this.invertPoint(pe,he)}function ie(he,ue){if(this._elem.hierarchy&&this._elem.hierarchy.length){var pe,ce=this._elem.hierarchy.length;for(pe=0;pe<ce;pe+=1)this._elem.hierarchy[pe].finalTransform.mProp.applyToMatrix(he)}return he.applyToPointArray(ue[0],ue[1],ue[2]||0)}function ae(he,ue){if(this._elem.hierarchy&&this._elem.hierarchy.length){var pe,ce=this._elem.hierarchy.length;for(pe=0;pe<ce;pe+=1)this._elem.hierarchy[pe].finalTransform.mProp.applyToMatrix(he)}return he.inversePoint(ue)}function oe(he){var ue=new Matrix;if(ue.reset(),this._elem.finalTransform.mProp.applyToMatrix(ue),this._elem.hierarchy&&this._elem.hierarchy.length){var pe,ce=this._elem.hierarchy.length;for(pe=0;pe<ce;pe+=1)this._elem.hierarchy[pe].finalTransform.mProp.applyToMatrix(ue);return ue.inversePoint(he)}return ue.inversePoint(he)}function le(){return[1,1,1,1]}return function(he){var ue;function pe(de){fe.mask=new MaskManagerInterface(de,he)}function ce(de){fe.effect=de}function fe(de){switch(de){case"ADBE Root Vectors Group":case"Contents":case 2:return fe.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ue;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return fe.effect;case"ADBE Text Properties":return fe.textInterface;default:return null}}fe.getMatrix=se,fe.invertPoint=ae,fe.applyPoint=ie,fe.toWorld=te,fe.toWorldVec=ne,fe.fromWorld=re,fe.fromWorldVec=ee,fe.toComp=te,fe.fromComp=oe,fe.sampleImage=le,fe.sourceRectAtTime=he.sourceRectAtTime.bind(he),fe._elem=he,ue=TransformExpressionInterface(he.finalTransform.mProp);var me=getDescriptor(ue,"anchorPoint");return Object.defineProperties(fe,{hasParent:{get:function(){return he.hierarchy.length}},parent:{get:function(){return he.hierarchy[0].layerInterface}},rotation:getDescriptor(ue,"rotation"),scale:getDescriptor(ue,"scale"),position:getDescriptor(ue,"position"),opacity:getDescriptor(ue,"opacity"),anchorPoint:me,anchor_point:me,transform:{get:function(){return ue}},active:{get:function(){return he.isInRange}}}),fe.startTime=he.data.st,fe.index=he.data.ind,fe.source=he.data.refId,fe.height=he.data.ty===0?he.data.h:100,fe.width=he.data.ty===0?he.data.w:100,fe.inPoint=he.data.ip/he.comp.globalData.frameRate,fe.outPoint=he.data.op/he.comp.globalData.frameRate,fe._name=he.data.nm,fe.registerMaskInterface=pe,fe.registerEffectsInterface=ce,fe}}(),propertyGroupFactory=function(){return function(se,ne){return function(te){return te=te===void 0?1:te,te<=0?se:ne(te-1)}}}(),PropertyInterface=function(){return function(se,ne){var te={_name:se};function ee(re){return re=re===void 0?1:re,re<=0?te:ne(re-1)}return ee}}(),EffectsExpressionInterface=function(){var se={createEffectsInterface:ne};function ne(re,ie){if(re.effectsManager){var ae=[],oe=re.data.ef,le,he=re.effectsManager.effectElements.length;for(le=0;le<he;le+=1)ae.push(te(oe[le],re.effectsManager.effectElements[le],ie,re));var ue=re.data.ef||[],pe=function(fe){for(le=0,he=ue.length;le<he;){if(fe===ue[le].nm||fe===ue[le].mn||fe===ue[le].ix)return ae[le];le+=1}return null};return Object.defineProperty(pe,"numProperties",{get:function(){return ue.length}}),pe}return null}function te(re,ie,ae,oe){function le(fe){for(var me=re.ef,de=0,ve=me.length;de<ve;){if(fe===me[de].nm||fe===me[de].mn||fe===me[de].ix)return me[de].ty===5?ue[de]:ue[de]();de+=1}throw new Error}var he=propertyGroupFactory(le,ae),ue=[],pe,ce=re.ef.length;for(pe=0;pe<ce;pe+=1)re.ef[pe].ty===5?ue.push(te(re.ef[pe],ie.effectElements[pe],ie.effectElements[pe].propertyGroup,oe)):ue.push(ee(ie.effectElements[pe],re.ef[pe].ty,oe,he));return re.mn==="ADBE Color Control"&&Object.defineProperty(le,"color",{get:function(){return ue[0]()}}),Object.defineProperties(le,{numProperties:{get:function(){return re.np}},_name:{value:re.nm},propertyGroup:{value:he}}),le.enabled=re.en!==0,le.active=le.enabled,le}function ee(re,ie,ae,oe){var le=ExpressionPropertyInterface(re.p);function he(){return ie===10?ae.comp.compInterface(re.p.v):le()}return re.p.setGroupProperty&&re.p.setGroupProperty(PropertyInterface("",oe)),he}return se}(),ShapePathInterface=function(){return function(ne,te,ee){var re=te.sh;function ie(oe){return oe==="Shape"||oe==="shape"||oe==="Path"||oe==="path"||oe==="ADBE Vector Shape"||oe===2?ie.path:null}var ae=propertyGroupFactory(ie,ee);return re.setGroupProperty(PropertyInterface("Path",ae)),Object.defineProperties(ie,{path:{get:function(){return re.k&&re.getValue(),re}},shape:{get:function(){return re.k&&re.getValue(),re}},_name:{value:ne.nm},ix:{value:ne.ix},propertyIndex:{value:ne.ix},mn:{value:ne.mn},propertyGroup:{value:ee}}),ie}}(),ShapeExpressionInterface=function(){function se(me,de,ve){var ge=[],xe,_e=me?me.length:0;for(xe=0;xe<_e;xe+=1)me[xe].ty==="gr"?ge.push(te(me[xe],de[xe],ve)):me[xe].ty==="fl"?ge.push(ee(me[xe],de[xe],ve)):me[xe].ty==="st"?ge.push(ae(me[xe],de[xe],ve)):me[xe].ty==="tm"?ge.push(oe(me[xe],de[xe],ve)):me[xe].ty==="tr"||(me[xe].ty==="el"?ge.push(he(me[xe],de[xe],ve)):me[xe].ty==="sr"?ge.push(ue(me[xe],de[xe],ve)):me[xe].ty==="sh"?ge.push(ShapePathInterface(me[xe],de[xe],ve)):me[xe].ty==="rc"?ge.push(pe(me[xe],de[xe],ve)):me[xe].ty==="rd"?ge.push(ce(me[xe],de[xe],ve)):me[xe].ty==="rp"?ge.push(fe(me[xe],de[xe],ve)):me[xe].ty==="gf"?ge.push(re(me[xe],de[xe],ve)):ge.push(ie(me[xe],de[xe])));return ge}function ne(me,de,ve){var ge,xe=function(we){for(var be=0,Se=ge.length;be<Se;){if(ge[be]._name===we||ge[be].mn===we||ge[be].propertyIndex===we||ge[be].ix===we||ge[be].ind===we)return ge[be];be+=1}return typeof we=="number"?ge[we-1]:null};xe.propertyGroup=propertyGroupFactory(xe,ve),ge=se(me.it,de.it,xe.propertyGroup),xe.numProperties=ge.length;var _e=le(me.it[me.it.length-1],de.it[de.it.length-1],xe.propertyGroup);return xe.transform=_e,xe.propertyIndex=me.cix,xe._name=me.nm,xe}function te(me,de,ve){var ge=function(we){switch(we){case"ADBE Vectors Group":case"Contents":case 2:return ge.content;default:return ge.transform}};ge.propertyGroup=propertyGroupFactory(ge,ve);var xe=ne(me,de,ge.propertyGroup),_e=le(me.it[me.it.length-1],de.it[de.it.length-1],ge.propertyGroup);return ge.content=xe,ge.transform=_e,Object.defineProperty(ge,"_name",{get:function(){return me.nm}}),ge.numProperties=me.np,ge.propertyIndex=me.ix,ge.nm=me.nm,ge.mn=me.mn,ge}function ee(me,de,ve){function ge(xe){return xe==="Color"||xe==="color"?ge.color:xe==="Opacity"||xe==="opacity"?ge.opacity:null}return Object.defineProperties(ge,{color:{get:ExpressionPropertyInterface(de.c)},opacity:{get:ExpressionPropertyInterface(de.o)},_name:{value:me.nm},mn:{value:me.mn}}),de.c.setGroupProperty(PropertyInterface("Color",ve)),de.o.setGroupProperty(PropertyInterface("Opacity",ve)),ge}function re(me,de,ve){function ge(xe){return xe==="Start Point"||xe==="start point"?ge.startPoint:xe==="End Point"||xe==="end point"?ge.endPoint:xe==="Opacity"||xe==="opacity"?ge.opacity:null}return Object.defineProperties(ge,{startPoint:{get:ExpressionPropertyInterface(de.s)},endPoint:{get:ExpressionPropertyInterface(de.e)},opacity:{get:ExpressionPropertyInterface(de.o)},type:{get:function(){return"a"}},_name:{value:me.nm},mn:{value:me.mn}}),de.s.setGroupProperty(PropertyInterface("Start Point",ve)),de.e.setGroupProperty(PropertyInterface("End Point",ve)),de.o.setGroupProperty(PropertyInterface("Opacity",ve)),ge}function ie(){function me(){return null}return me}function ae(me,de,ve){var ge=propertyGroupFactory(Se,ve),xe=propertyGroupFactory(be,ge);function _e(Ce){Object.defineProperty(be,me.d[Ce].nm,{get:ExpressionPropertyInterface(de.d.dataProps[Ce].p)})}var ye,we=me.d?me.d.length:0,be={};for(ye=0;ye<we;ye+=1)_e(ye),de.d.dataProps[ye].p.setGroupProperty(xe);function Se(Ce){return Ce==="Color"||Ce==="color"?Se.color:Ce==="Opacity"||Ce==="opacity"?Se.opacity:Ce==="Stroke Width"||Ce==="stroke width"?Se.strokeWidth:null}return Object.defineProperties(Se,{color:{get:ExpressionPropertyInterface(de.c)},opacity:{get:ExpressionPropertyInterface(de.o)},strokeWidth:{get:ExpressionPropertyInterface(de.w)},dash:{get:function(){return be}},_name:{value:me.nm},mn:{value:me.mn}}),de.c.setGroupProperty(PropertyInterface("Color",ge)),de.o.setGroupProperty(PropertyInterface("Opacity",ge)),de.w.setGroupProperty(PropertyInterface("Stroke Width",ge)),Se}function oe(me,de,ve){function ge(_e){return _e===me.e.ix||_e==="End"||_e==="end"?ge.end:_e===me.s.ix?ge.start:_e===me.o.ix?ge.offset:null}var xe=propertyGroupFactory(ge,ve);return ge.propertyIndex=me.ix,de.s.setGroupProperty(PropertyInterface("Start",xe)),de.e.setGroupProperty(PropertyInterface("End",xe)),de.o.setGroupProperty(PropertyInterface("Offset",xe)),ge.propertyIndex=me.ix,ge.propertyGroup=ve,Object.defineProperties(ge,{start:{get:ExpressionPropertyInterface(de.s)},end:{get:ExpressionPropertyInterface(de.e)},offset:{get:ExpressionPropertyInterface(de.o)},_name:{value:me.nm}}),ge.mn=me.mn,ge}function le(me,de,ve){function ge(_e){return me.a.ix===_e||_e==="Anchor Point"?ge.anchorPoint:me.o.ix===_e||_e==="Opacity"?ge.opacity:me.p.ix===_e||_e==="Position"?ge.position:me.r.ix===_e||_e==="Rotation"||_e==="ADBE Vector Rotation"?ge.rotation:me.s.ix===_e||_e==="Scale"?ge.scale:me.sk&&me.sk.ix===_e||_e==="Skew"?ge.skew:me.sa&&me.sa.ix===_e||_e==="Skew Axis"?ge.skewAxis:null}var xe=propertyGroupFactory(ge,ve);return de.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",xe)),de.transform.mProps.p.setGroupProperty(PropertyInterface("Position",xe)),de.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",xe)),de.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",xe)),de.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",xe)),de.transform.mProps.sk&&(de.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",xe)),de.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",xe))),de.transform.op.setGroupProperty(PropertyInterface("Opacity",xe)),Object.defineProperties(ge,{opacity:{get:ExpressionPropertyInterface(de.transform.mProps.o)},position:{get:ExpressionPropertyInterface(de.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(de.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(de.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(de.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(de.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(de.transform.mProps.sa)},_name:{value:me.nm}}),ge.ty="tr",ge.mn=me.mn,ge.propertyGroup=ve,ge}function he(me,de,ve){function ge(ye){return me.p.ix===ye?ge.position:me.s.ix===ye?ge.size:null}var xe=propertyGroupFactory(ge,ve);ge.propertyIndex=me.ix;var _e=de.sh.ty==="tm"?de.sh.prop:de.sh;return _e.s.setGroupProperty(PropertyInterface("Size",xe)),_e.p.setGroupProperty(PropertyInterface("Position",xe)),Object.defineProperties(ge,{size:{get:ExpressionPropertyInterface(_e.s)},position:{get:ExpressionPropertyInterface(_e.p)},_name:{value:me.nm}}),ge.mn=me.mn,ge}function ue(me,de,ve){function ge(ye){return me.p.ix===ye?ge.position:me.r.ix===ye?ge.rotation:me.pt.ix===ye?ge.points:me.or.ix===ye||ye==="ADBE Vector Star Outer Radius"?ge.outerRadius:me.os.ix===ye?ge.outerRoundness:me.ir&&(me.ir.ix===ye||ye==="ADBE Vector Star Inner Radius")?ge.innerRadius:me.is&&me.is.ix===ye?ge.innerRoundness:null}var xe=propertyGroupFactory(ge,ve),_e=de.sh.ty==="tm"?de.sh.prop:de.sh;return ge.propertyIndex=me.ix,_e.or.setGroupProperty(PropertyInterface("Outer Radius",xe)),_e.os.setGroupProperty(PropertyInterface("Outer Roundness",xe)),_e.pt.setGroupProperty(PropertyInterface("Points",xe)),_e.p.setGroupProperty(PropertyInterface("Position",xe)),_e.r.setGroupProperty(PropertyInterface("Rotation",xe)),me.ir&&(_e.ir.setGroupProperty(PropertyInterface("Inner Radius",xe)),_e.is.setGroupProperty(PropertyInterface("Inner Roundness",xe))),Object.defineProperties(ge,{position:{get:ExpressionPropertyInterface(_e.p)},rotation:{get:ExpressionPropertyInterface(_e.r)},points:{get:ExpressionPropertyInterface(_e.pt)},outerRadius:{get:ExpressionPropertyInterface(_e.or)},outerRoundness:{get:ExpressionPropertyInterface(_e.os)},innerRadius:{get:ExpressionPropertyInterface(_e.ir)},innerRoundness:{get:ExpressionPropertyInterface(_e.is)},_name:{value:me.nm}}),ge.mn=me.mn,ge}function pe(me,de,ve){function ge(ye){return me.p.ix===ye?ge.position:me.r.ix===ye?ge.roundness:me.s.ix===ye||ye==="Size"||ye==="ADBE Vector Rect Size"?ge.size:null}var xe=propertyGroupFactory(ge,ve),_e=de.sh.ty==="tm"?de.sh.prop:de.sh;return ge.propertyIndex=me.ix,_e.p.setGroupProperty(PropertyInterface("Position",xe)),_e.s.setGroupProperty(PropertyInterface("Size",xe)),_e.r.setGroupProperty(PropertyInterface("Rotation",xe)),Object.defineProperties(ge,{position:{get:ExpressionPropertyInterface(_e.p)},roundness:{get:ExpressionPropertyInterface(_e.r)},size:{get:ExpressionPropertyInterface(_e.s)},_name:{value:me.nm}}),ge.mn=me.mn,ge}function ce(me,de,ve){function ge(ye){return me.r.ix===ye||ye==="Round Corners 1"?ge.radius:null}var xe=propertyGroupFactory(ge,ve),_e=de;return ge.propertyIndex=me.ix,_e.rd.setGroupProperty(PropertyInterface("Radius",xe)),Object.defineProperties(ge,{radius:{get:ExpressionPropertyInterface(_e.rd)},_name:{value:me.nm}}),ge.mn=me.mn,ge}function fe(me,de,ve){function ge(ye){return me.c.ix===ye||ye==="Copies"?ge.copies:me.o.ix===ye||ye==="Offset"?ge.offset:null}var xe=propertyGroupFactory(ge,ve),_e=de;return ge.propertyIndex=me.ix,_e.c.setGroupProperty(PropertyInterface("Copies",xe)),_e.o.setGroupProperty(PropertyInterface("Offset",xe)),Object.defineProperties(ge,{copies:{get:ExpressionPropertyInterface(_e.c)},offset:{get:ExpressionPropertyInterface(_e.o)},_name:{value:me.nm}}),ge.mn=me.mn,ge}return function(me,de,ve){var ge;function xe(ye){if(typeof ye=="number")return ye=ye===void 0?1:ye,ye===0?ve:ge[ye-1];for(var we=0,be=ge.length;we<be;){if(ge[we]._name===ye)return ge[we];we+=1}return null}function _e(){return ve}return xe.propertyGroup=propertyGroupFactory(xe,_e),ge=se(me,de,xe.propertyGroup),xe.numProperties=ge.length,xe._name="Contents",xe}}(),TextExpressionInterface=function(){return function(se){var ne;function te(ee){switch(ee){case"ADBE Text Document":return te.sourceText;default:return null}}return Object.defineProperty(te,"sourceText",{get:function(){se.textProperty.getValue();var re=se.textProperty.currentData.t;return(!ne||re!==ne.value)&&(ne=new String(re),ne.value=re||new String(re),Object.defineProperty(ne,"style",{get:function(){return{fillColor:se.textProperty.currentData.fc}}})),ne}}),te}}();function _typeof$2(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(te){return typeof te}:_typeof$2=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$2(se)}var FootageInterface=function(){var se=function(ee){var re="",ie=ee.getFootageData();function ae(){return re="",ie=ee.getFootageData(),oe}function oe(le){if(ie[le])return re=le,ie=ie[le],_typeof$2(ie)==="object"?oe:ie;var he=le.indexOf(re);if(he!==-1){var ue=parseInt(le.substr(he+re.length),10);return ie=ie[ue],_typeof$2(ie)==="object"?oe:ie}return""}return ae},ne=function(ee){function re(ie){return ie==="Outline"?re.outlineInterface():null}return re._name="Outline",re.outlineInterface=se(ee),re};return function(te){function ee(re){return re==="Data"?ee.dataInterface:null}return ee._name="Data",ee.dataInterface=ne(te),ee}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(se){return interfaces[se]||null}function _typeof$1(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(te){return typeof te}:_typeof$1=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$1(se)}function seedRandom(se,ne){var te=this,ee=256,re=6,ie=52,ae="random",oe=ne.pow(ee,re),le=ne.pow(2,ie),he=le*2,ue=ee-1,pe;function ce(_e,ye,we){var be=[];ye=ye===!0?{entropy:!0}:ye||{};var Se=ve(de(ye.entropy?[_e,xe(se)]:_e===null?ge():_e,3),be),Ce=new fe(be),Te=function(){for(var Fe=Ce.g(re),Le=oe,Ie=0;Fe<le;)Fe=(Fe+Ie)*ee,Le*=ee,Ie=Ce.g(1);for(;Fe>=he;)Fe/=2,Le/=2,Ie>>>=1;return(Fe+Ie)/Le};return Te.int32=function(){return Ce.g(4)|0},Te.quick=function(){return Ce.g(4)/4294967296},Te.double=Te,ve(xe(Ce.S),se),(ye.pass||we||function(De,Fe,Le,Ie){return Ie&&(Ie.S&&me(Ie,Ce),De.state=function(){return me(Ce,{})}),Le?(ne[ae]=De,Fe):De})(Te,Se,"global"in ye?ye.global:this==ne,ye.state)}ne["seed"+ae]=ce;function fe(_e){var ye,we=_e.length,be=this,Se=0,Ce=be.i=be.j=0,Te=be.S=[];for(we||(_e=[we++]);Se<ee;)Te[Se]=Se++;for(Se=0;Se<ee;Se++)Te[Se]=Te[Ce=ue&Ce+_e[Se%we]+(ye=Te[Se])],Te[Ce]=ye;be.g=function(De){for(var Fe,Le=0,Ie=be.i,Oe=be.j,ke=be.S;De--;)Fe=ke[Ie=ue&Ie+1],Le=Le*ee+ke[ue&(ke[Ie]=ke[Oe=ue&Oe+Fe])+(ke[Oe]=Fe)];return be.i=Ie,be.j=Oe,Le}}function me(_e,ye){return ye.i=_e.i,ye.j=_e.j,ye.S=_e.S.slice(),ye}function de(_e,ye){var we=[],be=_typeof$1(_e),Se;if(ye&&be=="object")for(Se in _e)try{we.push(de(_e[Se],ye-1))}catch{}return we.length?we:be=="string"?_e:_e+"\0"}function ve(_e,ye){for(var we=_e+"",be,Se=0;Se<we.length;)ye[ue&Se]=ue&(be^=ye[ue&Se]*19)+we.charCodeAt(Se++);return xe(ye)}function ge(){try{var _e=new Uint8Array(ee);return(te.crypto||te.msCrypto).getRandomValues(_e),xe(_e)}catch{var ye=te.navigator,we=ye&&ye.plugins;return[+new Date,te,we,te.screen,xe(se)]}}function xe(_e){return String.fromCharCode.apply(0,_e)}ve(ne.random(),se)}function initialize$2(se){seedRandom([],se)}var propTypes={SHAPE:"shape"};function _typeof(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(te){return typeof te}:_typeof=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof(se)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(se){return se.constructor===Array||se.constructor===Float32Array}function isNumerable(se,ne){return se==="number"||se==="boolean"||se==="string"||ne instanceof Number}function $bm_neg(se){var ne=_typeof(se);if(ne==="number"||ne==="boolean"||se instanceof Number)return-se;if($bm_isInstanceOfArray(se)){var te,ee=se.length,re=[];for(te=0;te<ee;te+=1)re[te]=-se[te];return re}return se.propType?se.v:-se}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(se,ne){var te=_typeof(se),ee=_typeof(ne);if(te==="string"||ee==="string"||isNumerable(te,se)&&isNumerable(ee,ne))return se+ne;if($bm_isInstanceOfArray(se)&&isNumerable(ee,ne))return se=se.slice(0),se[0]+=ne,se;if(isNumerable(te,se)&&$bm_isInstanceOfArray(ne))return ne=ne.slice(0),ne[0]=se+ne[0],ne;if($bm_isInstanceOfArray(se)&&$bm_isInstanceOfArray(ne)){for(var re=0,ie=se.length,ae=ne.length,oe=[];re<ie||re<ae;)(typeof se[re]=="number"||se[re]instanceof Number)&&(typeof ne[re]=="number"||ne[re]instanceof Number)?oe[re]=se[re]+ne[re]:oe[re]=ne[re]===void 0?se[re]:se[re]||ne[re],re+=1;return oe}return 0}var add=sum;function sub(se,ne){var te=_typeof(se),ee=_typeof(ne);if(isNumerable(te,se)&&isNumerable(ee,ne))return te==="string"&&(se=parseInt(se,10)),ee==="string"&&(ne=parseInt(ne,10)),se-ne;if($bm_isInstanceOfArray(se)&&isNumerable(ee,ne))return se=se.slice(0),se[0]-=ne,se;if(isNumerable(te,se)&&$bm_isInstanceOfArray(ne))return ne=ne.slice(0),ne[0]=se-ne[0],ne;if($bm_isInstanceOfArray(se)&&$bm_isInstanceOfArray(ne)){for(var re=0,ie=se.length,ae=ne.length,oe=[];re<ie||re<ae;)(typeof se[re]=="number"||se[re]instanceof Number)&&(typeof ne[re]=="number"||ne[re]instanceof Number)?oe[re]=se[re]-ne[re]:oe[re]=ne[re]===void 0?se[re]:se[re]||ne[re],re+=1;return oe}return 0}function mul(se,ne){var te=_typeof(se),ee=_typeof(ne),re;if(isNumerable(te,se)&&isNumerable(ee,ne))return se*ne;var ie,ae;if($bm_isInstanceOfArray(se)&&isNumerable(ee,ne)){for(ae=se.length,re=createTypedArray("float32",ae),ie=0;ie<ae;ie+=1)re[ie]=se[ie]*ne;return re}if(isNumerable(te,se)&&$bm_isInstanceOfArray(ne)){for(ae=ne.length,re=createTypedArray("float32",ae),ie=0;ie<ae;ie+=1)re[ie]=se*ne[ie];return re}return 0}function div(se,ne){var te=_typeof(se),ee=_typeof(ne),re;if(isNumerable(te,se)&&isNumerable(ee,ne))return se/ne;var ie,ae;if($bm_isInstanceOfArray(se)&&isNumerable(ee,ne)){for(ae=se.length,re=createTypedArray("float32",ae),ie=0;ie<ae;ie+=1)re[ie]=se[ie]/ne;return re}if(isNumerable(te,se)&&$bm_isInstanceOfArray(ne)){for(ae=ne.length,re=createTypedArray("float32",ae),ie=0;ie<ae;ie+=1)re[ie]=se/ne[ie];return re}return 0}function mod(se,ne){return typeof se=="string"&&(se=parseInt(se,10)),typeof ne=="string"&&(ne=parseInt(ne,10)),se%ne}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(se,ne,te){if(ne>te){var ee=te;te=ne,ne=ee}return Math.min(Math.max(se,ne),te)}function radiansToDegrees(se){return se/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(se){return se*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(se,ne){if(typeof se=="number"||se instanceof Number)return ne=ne||0,Math.abs(se-ne);ne||(ne=helperLengthArray);var te,ee=Math.min(se.length,ne.length),re=0;for(te=0;te<ee;te+=1)re+=Math.pow(ne[te]-se[te],2);return Math.sqrt(re)}function normalize(se){return div(se,length(se))}function rgbToHsl(se){var ne=se[0],te=se[1],ee=se[2],re=Math.max(ne,te,ee),ie=Math.min(ne,te,ee),ae,oe,le=(re+ie)/2;if(re===ie)ae=0,oe=0;else{var he=re-ie;switch(oe=le>.5?he/(2-re-ie):he/(re+ie),re){case ne:ae=(te-ee)/he+(te<ee?6:0);break;case te:ae=(ee-ne)/he+2;break;case ee:ae=(ne-te)/he+4;break}ae/=6}return[ae,oe,le,se[3]]}function hue2rgb(se,ne,te){return te<0&&(te+=1),te>1&&(te-=1),te<1/6?se+(ne-se)*6*te:te<1/2?ne:te<2/3?se+(ne-se)*(2/3-te)*6:se}function hslToRgb(se){var ne=se[0],te=se[1],ee=se[2],re,ie,ae;if(te===0)re=ee,ae=ee,ie=ee;else{var oe=ee<.5?ee*(1+te):ee+te-ee*te,le=2*ee-oe;re=hue2rgb(le,oe,ne+1/3),ie=hue2rgb(le,oe,ne),ae=hue2rgb(le,oe,ne-1/3)}return[re,ie,ae,se[3]]}function linear(se,ne,te,ee,re){if((ee===void 0||re===void 0)&&(ee=ne,re=te,ne=0,te=1),te<ne){var ie=te;te=ne,ne=ie}if(se<=ne)return ee;if(se>=te)return re;var ae=te===ne?0:(se-ne)/(te-ne);if(!ee.length)return ee+(re-ee)*ae;var oe,le=ee.length,he=createTypedArray("float32",le);for(oe=0;oe<le;oe+=1)he[oe]=ee[oe]+(re[oe]-ee[oe])*ae;return he}function random(se,ne){if(ne===void 0&&(se===void 0?(se=0,ne=1):(ne=se,se=void 0)),ne.length){var te,ee=ne.length;se||(se=createTypedArray("float32",ee));var re=createTypedArray("float32",ee),ie=BMMath.random();for(te=0;te<ee;te+=1)re[te]=se[te]+ie*(ne[te]-se[te]);return re}se===void 0&&(se=0);var ae=BMMath.random();return se+ae*(ne-se)}function createPath(se,ne,te,ee){var re,ie=se.length,ae=shapePool.newElement();ae.setPathData(!!ee,ie);var oe=[0,0],le,he;for(re=0;re<ie;re+=1)le=ne&&ne[re]?ne[re]:oe,he=te&&te[re]?te[re]:oe,ae.setTripleAt(se[re][0],se[re][1],he[0]+se[re][0],he[1]+se[re][1],le[0]+se[re][0],le[1]+se[re][1],re,!0);return ae}function initiateExpression(elem,data,property){function noOp(se){return se}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function se(ne,te){var ee,re,ie=this.pv.length?this.pv.length:1,ae=createTypedArray("float32",ie);ne=5;var oe=Math.floor(time*ne);for(ee=0,re=0;ee<oe;){for(re=0;re<ie;re+=1)ae[re]+=-te+te*2*BMMath.random();ee+=1}var le=time*ne,he=le-Math.floor(le),ue=createTypedArray("float32",ie);if(ie>1){for(re=0;re<ie;re+=1)ue[re]=this.pv[re]+ae[re]+(-te+te*2*BMMath.random())*he;return ue}return this.pv+ae[0]+(-te+te*2*BMMath.random())*he}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(se,ne){return loopIn(se,ne,!0)}function loopOutDuration(se,ne){return loopOut(se,ne,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(se,ne){var te=[ne[0]-se[0],ne[1]-se[1],ne[2]-se[2]],ee=Math.atan2(te[0],Math.sqrt(te[1]*te[1]+te[2]*te[2]))/degToRads,re=-Math.atan2(te[1],te[2])/degToRads;return[re,ee,0]}function easeOut(se,ne,te,ee,re){return applyEase(easeOutBez,se,ne,te,ee,re)}function easeIn(se,ne,te,ee,re){return applyEase(easeInBez,se,ne,te,ee,re)}function ease(se,ne,te,ee,re){return applyEase(easeInOutBez,se,ne,te,ee,re)}function applyEase(se,ne,te,ee,re,ie){re===void 0?(re=te,ie=ee):ne=(ne-te)/(ee-te),ne>1?ne=1:ne<0&&(ne=0);var ae=se(ne);if($bm_isInstanceOfArray(re)){var oe,le=re.length,he=createTypedArray("float32",le);for(oe=0;oe<le;oe+=1)he[oe]=(ie[oe]-re[oe])*ae+re[oe];return he}return(ie-re)*ae+re}function nearestKey(se){var ne,te=data.k.length,ee,re;if(!data.k.length||typeof data.k[0]=="number")ee=0,re=0;else if(ee=-1,se*=elem.comp.globalData.frameRate,se<data.k[0].t)ee=1,re=data.k[0].t;else{for(ne=0;ne<te-1;ne+=1)if(se===data.k[ne].t){ee=ne+1,re=data.k[ne].t;break}else if(se>data.k[ne].t&&se<data.k[ne+1].t){se-data.k[ne].t>data.k[ne+1].t-se?(ee=ne+2,re=data.k[ne+1].t):(ee=ne+1,re=data.k[ne].t);break}ee===-1&&(ee=ne+1,re=data.k[ne].t)}var ie={};return ie.index=ee,ie.time=re/elem.comp.globalData.frameRate,ie}function key(se){var ne,te,ee;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+se);se-=1,ne={time:data.k[se].t/elem.comp.globalData.frameRate,value:[]};var re=Object.prototype.hasOwnProperty.call(data.k[se],"s")?data.k[se].s:data.k[se-1].e;for(ee=re.length,te=0;te<ee;te+=1)ne[te]=re[te],ne.value[te]=re[te];return ne}function framesToTime(se,ne){return ne||(ne=elem.comp.globalData.frameRate),se/ne}function timeToFrames(se,ne){return!se&&se!==0&&(se=time),ne||(ne=elem.comp.globalData.frameRate),se*ne}function seedRandom(se){BMMath.seedrandom(randSeed+se)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(se,ne){return typeof value=="string"?ne===void 0?value.substring(se):value.substring(se,ne):""}function substr(se,ne){return typeof value=="string"?ne===void 0?value.substr(se):value.substr(se,ne):""}function posterizeTime(se){time=se===0?0:Math.floor(time*se)/se,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(se){return value=se,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function se(ae,oe,le){oe.x&&(le.k=!0,le.x=!0,le.initiateExpression=ExpressionManager.initiateExpression,le.effectsSequence.push(le.initiateExpression(ae,oe,le).bind(le)))}function ne(ae){return ae*=this.elem.globalData.frameRate,ae-=this.offsetTime,ae!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ae?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ae,this._cachingAtTime),this._cachingAtTime.lastFrame=ae),this._cachingAtTime.value}function te(ae){var oe=-.01,le=this.getValueAtTime(ae),he=this.getValueAtTime(ae+oe),ue=0;if(le.length){var pe;for(pe=0;pe<le.length;pe+=1)ue+=Math.pow(he[pe]-le[pe],2);ue=Math.sqrt(ue)*100}else ue=0;return ue}function ee(ae){if(this.vel!==void 0)return this.vel;var oe=-.001,le=this.getValueAtTime(ae),he=this.getValueAtTime(ae+oe),ue;if(le.length){ue=createTypedArray("float32",le.length);var pe;for(pe=0;pe<le.length;pe+=1)ue[pe]=(he[pe]-le[pe])/oe}else ue=(he-le)/oe;return ue}function re(){return this.pv}function ie(ae){this.propertyGroup=ae}return{searchExpressions:se,getSpeedAtTime:te,getVelocityAtTime:ee,getValueAtTime:ne,getStaticValueAtTime:re,setGroupProperty:ie}}();function addPropertyDecorator(){function se(ce,fe,me){if(!this.k||!this.keyframes)return this.pv;ce=ce?ce.toLowerCase():"";var de=this.comp.renderedFrame,ve=this.keyframes,ge=ve[ve.length-1].t;if(de<=ge)return this.pv;var xe,_e;me?(fe?xe=Math.abs(ge-this.elem.comp.globalData.frameRate*fe):xe=Math.max(0,ge-this.elem.data.ip),_e=ge-xe):((!fe||fe>ve.length-1)&&(fe=ve.length-1),_e=ve[ve.length-1-fe].t,xe=ge-_e);var ye,we,be;if(ce==="pingpong"){var Se=Math.floor((de-_e)/xe);if(Se%2!==0)return this.getValueAtTime((xe-(de-_e)%xe+_e)/this.comp.globalData.frameRate,0)}else if(ce==="offset"){var Ce=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),Te=this.getValueAtTime(ge/this.comp.globalData.frameRate,0),De=this.getValueAtTime(((de-_e)%xe+_e)/this.comp.globalData.frameRate,0),Fe=Math.floor((de-_e)/xe);if(this.pv.length){for(be=new Array(Ce.length),we=be.length,ye=0;ye<we;ye+=1)be[ye]=(Te[ye]-Ce[ye])*Fe+De[ye];return be}return(Te-Ce)*Fe+De}else if(ce==="continue"){var Le=this.getValueAtTime(ge/this.comp.globalData.frameRate,0),Ie=this.getValueAtTime((ge-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(be=new Array(Le.length),we=be.length,ye=0;ye<we;ye+=1)be[ye]=Le[ye]+(Le[ye]-Ie[ye])*((de-ge)/this.comp.globalData.frameRate)/5e-4;return be}return Le+(Le-Ie)*((de-ge)/.001)}return this.getValueAtTime(((de-_e)%xe+_e)/this.comp.globalData.frameRate,0)}function ne(ce,fe,me){if(!this.k)return this.pv;ce=ce?ce.toLowerCase():"";var de=this.comp.renderedFrame,ve=this.keyframes,ge=ve[0].t;if(de>=ge)return this.pv;var xe,_e;me?(fe?xe=Math.abs(this.elem.comp.globalData.frameRate*fe):xe=Math.max(0,this.elem.data.op-ge),_e=ge+xe):((!fe||fe>ve.length-1)&&(fe=ve.length-1),_e=ve[fe].t,xe=_e-ge);var ye,we,be;if(ce==="pingpong"){var Se=Math.floor((ge-de)/xe);if(Se%2===0)return this.getValueAtTime(((ge-de)%xe+ge)/this.comp.globalData.frameRate,0)}else if(ce==="offset"){var Ce=this.getValueAtTime(ge/this.comp.globalData.frameRate,0),Te=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),De=this.getValueAtTime((xe-(ge-de)%xe+ge)/this.comp.globalData.frameRate,0),Fe=Math.floor((ge-de)/xe)+1;if(this.pv.length){for(be=new Array(Ce.length),we=be.length,ye=0;ye<we;ye+=1)be[ye]=De[ye]-(Te[ye]-Ce[ye])*Fe;return be}return De-(Te-Ce)*Fe}else if(ce==="continue"){var Le=this.getValueAtTime(ge/this.comp.globalData.frameRate,0),Ie=this.getValueAtTime((ge+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(be=new Array(Le.length),we=be.length,ye=0;ye<we;ye+=1)be[ye]=Le[ye]+(Le[ye]-Ie[ye])*(ge-de)/.001;return be}return Le+(Le-Ie)*(ge-de)/.001}return this.getValueAtTime((xe-((ge-de)%xe+ge))/this.comp.globalData.frameRate,0)}function te(ce,fe){if(!this.k)return this.pv;if(ce=(ce||.4)*.5,fe=Math.floor(fe||5),fe<=1)return this.pv;var me=this.comp.renderedFrame/this.comp.globalData.frameRate,de=me-ce,ve=me+ce,ge=fe>1?(ve-de)/(fe-1):1,xe=0,_e=0,ye;this.pv.length?ye=createTypedArray("float32",this.pv.length):ye=0;for(var we;xe<fe;){if(we=this.getValueAtTime(de+xe*ge),this.pv.length)for(_e=0;_e<this.pv.length;_e+=1)ye[_e]+=we[_e];else ye+=we;xe+=1}if(this.pv.length)for(_e=0;_e<this.pv.length;_e+=1)ye[_e]/=fe;else ye/=fe;return ye}function ee(ce){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var fe=this._transformCachingAtTime.v;if(fe.cloneFromProps(this.pre.props),this.appliedTransformations<1){var me=this.a.getValueAtTime(ce);fe.translate(-me[0]*this.a.mult,-me[1]*this.a.mult,me[2]*this.a.mult)}if(this.appliedTransformations<2){var de=this.s.getValueAtTime(ce);fe.scale(de[0]*this.s.mult,de[1]*this.s.mult,de[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ve=this.sk.getValueAtTime(ce),ge=this.sa.getValueAtTime(ce);fe.skewFromAxis(-ve*this.sk.mult,ge*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var xe=this.r.getValueAtTime(ce);fe.rotate(-xe*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var _e=this.rz.getValueAtTime(ce),ye=this.ry.getValueAtTime(ce),we=this.rx.getValueAtTime(ce),be=this.or.getValueAtTime(ce);fe.rotateZ(-_e*this.rz.mult).rotateY(ye*this.ry.mult).rotateX(we*this.rx.mult).rotateZ(-be[2]*this.or.mult).rotateY(be[1]*this.or.mult).rotateX(be[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Se=this.px.getValueAtTime(ce),Ce=this.py.getValueAtTime(ce);if(this.data.p.z){var Te=this.pz.getValueAtTime(ce);fe.translate(Se*this.px.mult,Ce*this.py.mult,-Te*this.pz.mult)}else fe.translate(Se*this.px.mult,Ce*this.py.mult,0)}else{var De=this.p.getValueAtTime(ce);fe.translate(De[0]*this.p.mult,De[1]*this.p.mult,-De[2]*this.p.mult)}return fe}function re(){return this.v.clone(new Matrix)}var ie=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ce,fe,me){var de=ie(ce,fe,me);return de.dynamicProperties.length?de.getValueAtTime=ee.bind(de):de.getValueAtTime=re.bind(de),de.setGroupProperty=expressionHelpers.setGroupProperty,de};var ae=PropertyFactory.getProp;PropertyFactory.getProp=function(ce,fe,me,de,ve){var ge=ae(ce,fe,me,de,ve);ge.kf?ge.getValueAtTime=expressionHelpers.getValueAtTime.bind(ge):ge.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(ge),ge.setGroupProperty=expressionHelpers.setGroupProperty,ge.loopOut=se,ge.loopIn=ne,ge.smooth=te,ge.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(ge),ge.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(ge),ge.numKeys=fe.a===1?fe.k.length:0,ge.propertyIndex=fe.ix;var xe=0;return me!==0&&(xe=createTypedArray("float32",fe.a===1?fe.k[0].s.length:fe.k.length)),ge._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:xe},expressionHelpers.searchExpressions(ce,fe,ge),ge.k&&ve.addDynamicProperty(ge),ge};function oe(ce){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ce*=this.elem.globalData.frameRate,ce-=this.offsetTime,ce!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ce?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ce,this.interpolateShape(ce,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var le=ShapePropertyFactory.getConstructorFunction(),he=ShapePropertyFactory.getKeyframedConstructorFunction();function ue(){}ue.prototype={vertices:function(fe,me){this.k&&this.getValue();var de=this.v;me!==void 0&&(de=this.getValueAtTime(me,0));var ve,ge=de._length,xe=de[fe],_e=de.v,ye=createSizedArray(ge);for(ve=0;ve<ge;ve+=1)fe==="i"||fe==="o"?ye[ve]=[xe[ve][0]-_e[ve][0],xe[ve][1]-_e[ve][1]]:ye[ve]=[xe[ve][0],xe[ve][1]];return ye},points:function(fe){return this.vertices("v",fe)},inTangents:function(fe){return this.vertices("i",fe)},outTangents:function(fe){return this.vertices("o",fe)},isClosed:function(){return this.v.c},pointOnPath:function(fe,me){var de=this.v;me!==void 0&&(de=this.getValueAtTime(me,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(de));for(var ve=this._segmentsLength,ge=ve.lengths,xe=ve.totalLength*fe,_e=0,ye=ge.length,we=0,be;_e<ye;){if(we+ge[_e].addedLength>xe){var Se=_e,Ce=de.c&&_e===ye-1?0:_e+1,Te=(xe-we)/ge[_e].addedLength;be=bez.getPointInSegment(de.v[Se],de.v[Ce],de.o[Se],de.i[Ce],Te,ge[_e]);break}else we+=ge[_e].addedLength;_e+=1}return be||(be=de.c?[de.v[0][0],de.v[0][1]]:[de.v[de._length-1][0],de.v[de._length-1][1]]),be},vectorOnPath:function(fe,me,de){fe==1?fe=this.v.c:fe==0&&(fe=.999);var ve=this.pointOnPath(fe,me),ge=this.pointOnPath(fe+.001,me),xe=ge[0]-ve[0],_e=ge[1]-ve[1],ye=Math.sqrt(Math.pow(xe,2)+Math.pow(_e,2));if(ye===0)return[0,0];var we=de==="tangent"?[xe/ye,_e/ye]:[-_e/ye,xe/ye];return we},tangentOnPath:function(fe,me){return this.vectorOnPath(fe,me,"tangent")},normalOnPath:function(fe,me){return this.vectorOnPath(fe,me,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ue],le),extendPrototype([ue],he),he.prototype.getValueAtTime=oe,he.prototype.initiateExpression=ExpressionManager.initiateExpression;var pe=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ce,fe,me,de,ve){var ge=pe(ce,fe,me,de,ve);return ge.propertyIndex=fe.ix,ge.lock=!1,me===3?expressionHelpers.searchExpressions(ce,fe.pt,ge):me===4&&expressionHelpers.searchExpressions(ce,fe.ks,ge),ge.k&&ce.addDynamicProperty(ge),ge}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function se(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(ne,te){var ee=this.calculateExpression(te);if(ne.t!==ee){var re={};return this.copyData(re,ne),re.t=ee.toString(),re.__complete=!1,re}return ne},TextProperty.prototype.searchProperty=function(){var ne=this.searchKeyframes(),te=this.searchExpressions();return this.kf=ne||te,this.kf},TextProperty.prototype.searchExpressions=se}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function se(ne,te){var ee=createNS("feMerge");ee.setAttribute("result",ne);var re,ie;for(ie=0;ie<te.length;ie+=1)re=createNS("feMergeNode"),re.setAttribute("in",te[ie]),ee.appendChild(re),ee.appendChild(re);return ee}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(se,ne,te,ee,re){this.filterManager=ne;var ie=createNS("feColorMatrix");ie.setAttribute("type","matrix"),ie.setAttribute("color-interpolation-filters","linearRGB"),ie.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=ie,ie.setAttribute("result",ee+"_tint_1"),se.appendChild(ie),ie=createNS("feColorMatrix"),ie.setAttribute("type","matrix"),ie.setAttribute("color-interpolation-filters","sRGB"),ie.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),ie.setAttribute("result",ee+"_tint_2"),se.appendChild(ie),this.matrixFilter=ie;var ae=this.createMergeNode(ee,[re,ee+"_tint_1",ee+"_tint_2"]);se.appendChild(ae)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(se){if(se||this.filterManager._mdf){var ne=this.filterManager.effectElements[0].p.v,te=this.filterManager.effectElements[1].p.v,ee=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+ee+" 0"),this.matrixFilter.setAttribute("values",te[0]-ne[0]+" 0 0 0 "+ne[0]+" "+(te[1]-ne[1])+" 0 0 0 "+ne[1]+" "+(te[2]-ne[2])+" 0 0 0 "+ne[2]+" 0 0 0 1 0")}};function SVGFillFilter(se,ne,te,ee){this.filterManager=ne;var re=createNS("feColorMatrix");re.setAttribute("type","matrix"),re.setAttribute("color-interpolation-filters","sRGB"),re.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),re.setAttribute("result",ee),se.appendChild(re),this.matrixFilter=re}SVGFillFilter.prototype.renderFrame=function(se){if(se||this.filterManager._mdf){var ne=this.filterManager.effectElements[2].p.v,te=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+ne[0]+" 0 0 0 0 "+ne[1]+" 0 0 0 0 "+ne[2]+" 0 0 0 "+te+" 0")}};function SVGStrokeEffect(se,ne,te){this.initialized=!1,this.filterManager=ne,this.elem=te,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var se=this.elem.layerElement.children||this.elem.layerElement.childNodes,ne,te,ee,re;for(this.filterManager.effectElements[1].p.v===1?(re=this.elem.maskManager.masksProperties.length,ee=0):(ee=this.filterManager.effectElements[0].p.v-1,re=ee+1),te=createNS("g"),te.setAttribute("fill","none"),te.setAttribute("stroke-linecap","round"),te.setAttribute("stroke-dashoffset",1),ee;ee<re;ee+=1)ne=createNS("path"),te.appendChild(ne),this.paths.push({p:ne,m:ee});if(this.filterManager.effectElements[10].p.v===3){var ie=createNS("mask"),ae=createElementID();ie.setAttribute("id",ae),ie.setAttribute("mask-type","alpha"),ie.appendChild(te),this.elem.globalData.defs.appendChild(ie);var oe=createNS("g");for(oe.setAttribute("mask","url("+getLocationHref()+"#"+ae+")");se[0];)oe.appendChild(se[0]);this.elem.layerElement.appendChild(oe),this.masker=ie,te.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(se=this.elem.layerElement.children||this.elem.layerElement.childNodes;se.length;)this.elem.layerElement.removeChild(se[0]);this.elem.layerElement.appendChild(te),this.elem.layerElement.removeAttribute("mask"),te.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=te},SVGStrokeEffect.prototype.renderFrame=function(se){this.initialized||this.initialize();var ne,te=this.paths.length,ee,re;for(ne=0;ne<te;ne+=1)if(this.paths[ne].m!==-1&&(ee=this.elem.maskManager.viewData[this.paths[ne].m],re=this.paths[ne].p,(se||this.filterManager._mdf||ee.prop._mdf)&&re.setAttribute("d",ee.lastPath),se||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||ee.prop._mdf)){var ie;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ae=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,oe=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,le=re.getTotalLength();ie="0 0 0 "+le*ae+" ";var he=le*(oe-ae),ue=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,pe=Math.floor(he/ue),ce;for(ce=0;ce<pe;ce+=1)ie+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";ie+="0 "+le*10+" 0 0"}else ie="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;re.setAttribute("stroke-dasharray",ie)}if((se||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(se||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(se||this.filterManager.effectElements[3].p._mdf)){var fe=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(fe[0]*255)+","+bmFloor(fe[1]*255)+","+bmFloor(fe[2]*255)+")")}};function SVGTritoneFilter(se,ne,te,ee){this.filterManager=ne;var re=createNS("feColorMatrix");re.setAttribute("type","matrix"),re.setAttribute("color-interpolation-filters","linearRGB"),re.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),se.appendChild(re);var ie=createNS("feComponentTransfer");ie.setAttribute("color-interpolation-filters","sRGB"),ie.setAttribute("result",ee),this.matrixFilter=ie;var ae=createNS("feFuncR");ae.setAttribute("type","table"),ie.appendChild(ae),this.feFuncR=ae;var oe=createNS("feFuncG");oe.setAttribute("type","table"),ie.appendChild(oe),this.feFuncG=oe;var le=createNS("feFuncB");le.setAttribute("type","table"),ie.appendChild(le),this.feFuncB=le,se.appendChild(ie)}SVGTritoneFilter.prototype.renderFrame=function(se){if(se||this.filterManager._mdf){var ne=this.filterManager.effectElements[0].p.v,te=this.filterManager.effectElements[1].p.v,ee=this.filterManager.effectElements[2].p.v,re=ee[0]+" "+te[0]+" "+ne[0],ie=ee[1]+" "+te[1]+" "+ne[1],ae=ee[2]+" "+te[2]+" "+ne[2];this.feFuncR.setAttribute("tableValues",re),this.feFuncG.setAttribute("tableValues",ie),this.feFuncB.setAttribute("tableValues",ae)}};function SVGProLevelsFilter(se,ne,te,ee){this.filterManager=ne;var re=this.filterManager.effectElements,ie=createNS("feComponentTransfer");(re[10].p.k||re[10].p.v!==0||re[11].p.k||re[11].p.v!==1||re[12].p.k||re[12].p.v!==1||re[13].p.k||re[13].p.v!==0||re[14].p.k||re[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",ie)),(re[17].p.k||re[17].p.v!==0||re[18].p.k||re[18].p.v!==1||re[19].p.k||re[19].p.v!==1||re[20].p.k||re[20].p.v!==0||re[21].p.k||re[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",ie)),(re[24].p.k||re[24].p.v!==0||re[25].p.k||re[25].p.v!==1||re[26].p.k||re[26].p.v!==1||re[27].p.k||re[27].p.v!==0||re[28].p.k||re[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",ie)),(re[31].p.k||re[31].p.v!==0||re[32].p.k||re[32].p.v!==1||re[33].p.k||re[33].p.v!==1||re[34].p.k||re[34].p.v!==0||re[35].p.k||re[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",ie)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(ie.setAttribute("color-interpolation-filters","sRGB"),se.appendChild(ie)),(re[3].p.k||re[3].p.v!==0||re[4].p.k||re[4].p.v!==1||re[5].p.k||re[5].p.v!==1||re[6].p.k||re[6].p.v!==0||re[7].p.k||re[7].p.v!==1)&&(ie=createNS("feComponentTransfer"),ie.setAttribute("color-interpolation-filters","sRGB"),ie.setAttribute("result",ee),se.appendChild(ie),this.feFuncRComposed=this.createFeFunc("feFuncR",ie),this.feFuncGComposed=this.createFeFunc("feFuncG",ie),this.feFuncBComposed=this.createFeFunc("feFuncB",ie))}SVGProLevelsFilter.prototype.createFeFunc=function(se,ne){var te=createNS(se);return te.setAttribute("type","table"),ne.appendChild(te),te},SVGProLevelsFilter.prototype.getTableValue=function(se,ne,te,ee,re){for(var ie=0,ae=256,oe,le=Math.min(se,ne),he=Math.max(se,ne),ue=Array.call(null,{length:ae}),pe,ce=0,fe=re-ee,me=ne-se;ie<=256;)oe=ie/256,oe<=le?pe=me<0?re:ee:oe>=he?pe=me<0?ee:re:pe=ee+fe*Math.pow((oe-se)/me,1/te),ue[ce]=pe,ce+=1,ie+=256/(ae-1);return ue.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(se){if(se||this.filterManager._mdf){var ne,te=this.filterManager.effectElements;this.feFuncRComposed&&(se||te[3].p._mdf||te[4].p._mdf||te[5].p._mdf||te[6].p._mdf||te[7].p._mdf)&&(ne=this.getTableValue(te[3].p.v,te[4].p.v,te[5].p.v,te[6].p.v,te[7].p.v),this.feFuncRComposed.setAttribute("tableValues",ne),this.feFuncGComposed.setAttribute("tableValues",ne),this.feFuncBComposed.setAttribute("tableValues",ne)),this.feFuncR&&(se||te[10].p._mdf||te[11].p._mdf||te[12].p._mdf||te[13].p._mdf||te[14].p._mdf)&&(ne=this.getTableValue(te[10].p.v,te[11].p.v,te[12].p.v,te[13].p.v,te[14].p.v),this.feFuncR.setAttribute("tableValues",ne)),this.feFuncG&&(se||te[17].p._mdf||te[18].p._mdf||te[19].p._mdf||te[20].p._mdf||te[21].p._mdf)&&(ne=this.getTableValue(te[17].p.v,te[18].p.v,te[19].p.v,te[20].p.v,te[21].p.v),this.feFuncG.setAttribute("tableValues",ne)),this.feFuncB&&(se||te[24].p._mdf||te[25].p._mdf||te[26].p._mdf||te[27].p._mdf||te[28].p._mdf)&&(ne=this.getTableValue(te[24].p.v,te[25].p.v,te[26].p.v,te[27].p.v,te[28].p.v),this.feFuncB.setAttribute("tableValues",ne)),this.feFuncA&&(se||te[31].p._mdf||te[32].p._mdf||te[33].p._mdf||te[34].p._mdf||te[35].p._mdf)&&(ne=this.getTableValue(te[31].p.v,te[32].p.v,te[33].p.v,te[34].p.v,te[35].p.v),this.feFuncA.setAttribute("tableValues",ne))}};function SVGDropShadowEffect(se,ne,te,ee,re){var ie=ne.container.globalData.renderConfig.filterSize,ae=ne.data.fs||ie;se.setAttribute("x",ae.x||ie.x),se.setAttribute("y",ae.y||ie.y),se.setAttribute("width",ae.width||ie.width),se.setAttribute("height",ae.height||ie.height),this.filterManager=ne;var oe=createNS("feGaussianBlur");oe.setAttribute("in","SourceAlpha"),oe.setAttribute("result",ee+"_drop_shadow_1"),oe.setAttribute("stdDeviation","0"),this.feGaussianBlur=oe,se.appendChild(oe);var le=createNS("feOffset");le.setAttribute("dx","25"),le.setAttribute("dy","0"),le.setAttribute("in",ee+"_drop_shadow_1"),le.setAttribute("result",ee+"_drop_shadow_2"),this.feOffset=le,se.appendChild(le);var he=createNS("feFlood");he.setAttribute("flood-color","#00ff00"),he.setAttribute("flood-opacity","1"),he.setAttribute("result",ee+"_drop_shadow_3"),this.feFlood=he,se.appendChild(he);var ue=createNS("feComposite");ue.setAttribute("in",ee+"_drop_shadow_3"),ue.setAttribute("in2",ee+"_drop_shadow_2"),ue.setAttribute("operator","in"),ue.setAttribute("result",ee+"_drop_shadow_4"),se.appendChild(ue);var pe=this.createMergeNode(ee,[ee+"_drop_shadow_4",re]);se.appendChild(pe)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(se){if(se||this.filterManager._mdf){if((se||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),se||this.filterManager.effectElements[0].p._mdf){var ne=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(ne[0]*255),Math.round(ne[1]*255),Math.round(ne[2]*255)))}if((se||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),se||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var te=this.filterManager.effectElements[3].p.v,ee=(this.filterManager.effectElements[2].p.v-90)*degToRads,re=te*Math.cos(ee),ie=te*Math.sin(ee);this.feOffset.setAttribute("dx",re),this.feOffset.setAttribute("dy",ie)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(se,ne,te){this.initialized=!1,this.filterManager=ne,this.filterElem=se,this.elem=te,te.matteElement=createNS("g"),te.matteElement.appendChild(te.layerElement),te.matteElement.appendChild(te.transformedElement),te.baseElement=te.matteElement}SVGMatte3Effect.prototype.findSymbol=function(se){for(var ne=0,te=_svgMatteSymbols.length;ne<te;){if(_svgMatteSymbols[ne]===se)return _svgMatteSymbols[ne];ne+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(se,ne){var te=se.layerElement.parentNode;if(!!te){for(var ee=te.children,re=0,ie=ee.length;re<ie&&ee[re]!==se.layerElement;)re+=1;var ae;re<=ie-2&&(ae=ee[re+1]);var oe=createNS("use");oe.setAttribute("href","#"+ne),ae?te.insertBefore(oe,ae):te.appendChild(oe)}},SVGMatte3Effect.prototype.setElementAsMask=function(se,ne){if(!this.findSymbol(ne)){var te=createElementID(),ee=createNS("mask");ee.setAttribute("id",ne.layerId),ee.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(ne);var re=se.globalData.defs;re.appendChild(ee);var ie=createNS("symbol");ie.setAttribute("id",te),this.replaceInParent(ne,te),ie.appendChild(ne.layerElement),re.appendChild(ie);var ae=createNS("use");ae.setAttribute("href","#"+te),ee.appendChild(ae),ne.data.hd=!1,ne.show()}se.setMatte(ne.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var se=this.filterManager.effectElements[0].p.v,ne=this.elem.comp.elements,te=0,ee=ne.length;te<ee;)ne[te]&&ne[te].data.ind===se&&this.setElementAsMask(this.elem,ne[te]),te+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(se,ne,te,ee){se.setAttribute("x","-100%"),se.setAttribute("y","-100%"),se.setAttribute("width","300%"),se.setAttribute("height","300%"),this.filterManager=ne;var re=createNS("feGaussianBlur");re.setAttribute("result",ee),se.appendChild(re),this.feGaussianBlur=re}return SVGGaussianBlurEffect.prototype.renderFrame=function(se){if(se||this.filterManager._mdf){var ne=.3,te=this.filterManager.effectElements[0].p.v*ne,ee=this.filterManager.effectElements[1].p.v,re=ee==3?0:te,ie=ee==2?0:te;this.feGaussianBlur.setAttribute("stdDeviation",re+" "+ie);
 var ae=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ae)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie,lottie.exports);var Lottie=lottie.exports;class _Toggle{constructor(){let ne=["green","purple","pink","orange","brown","yellow"],
 te,ee=null;const re=()=>{let ue=window.requestAnimationFrame(()=>{window.cancelAnimationFrame(ue)})},ie=()=>{ee===null?(te=ne[Math.floor(Math.random()*ne.length)],$("main").addClass(te),ee=te,ne=ne.filter(ue=>ue!==ee),ne.push("default")):($("main").removeClass(te),te=ne[Math.floor(Math.random()*ne.length)],$("main").addClass(te),ne=ne.filter(ue=>ue!==te),ne.push(ee),ee=te),re()};let ae=$(".aaron-toggle__icon"),oe={frame:0},le=Lottie.loadAnimation({container:document.querySelector(".aaron-toggle__icon"),renderer:"svg",
 loop:!1,autoplay:!1,path:"https://uploads-ssl.webflow.com/63a0a2c10e91c5c7429ddf37/63a0a2c10e91c5478b9ddfcb_color-ring.json"}),he=gsapWithCSS.timeline({paused:!0});le.addEventListener("DOMLoaded",function(){he.to(oe,{frame:le.totalFrames-1,ease:"none",onUpdate:()=>le.goToAndStop(oe.frame,!0),duration:1}).to(oe,{onStart:ie},"<80%")}),ae.on("click",()=>he.restart())}}class Aaron{constructor(){this.hero=new _Hero,this.toggle=new _Toggle}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Horizontal{constructor(){let ne=$(".orb-line"),te=ne.find(".orb-line__line").find("img");gsapWithCSS.timeline({scrollTrigger:{trigger:ne,start:"top bottom",end:"bottom top",scrub:1}}).fromTo(te,{xPercent:0},{xPercent:-40,ease:"none"},0)}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Sliced{constructor()
 {let ne=gsapWithCSS.matchMedia(),te="(min-width: 991px)",ee="(max-width: 991px)",re=$(".orb-sliced"),ie=re.find(".orb-sliced__item"),ae=gsapWithCSS.timeline({scrollTrigger:{trigger:re,start:"top bottom",end:"bottom top",scrub:1}});ie.each((oe,le)=>{let he=$(le),pe=gsapWithCSS.utils.random(50,100)+"%",fe=gsapWithCSS.utils.random(50,100)+"%";
 ne.add(te,()=>{gsapWithCSS.set(he,{height:pe}),ae.to(he,{height:fe,ease:"none"},0)}),ne.add(ee,()=>{gsapWithCSS.set(he,{width:pe}),ae.to(he,{width:fe,ease:"none"},0)})})}}class Orb{constructor(){this.sliced=new _Sliced,this.horizontal=new _Horizontal}}gsapWithCSS.registerPlugin(ScrollTrigger,SplitText);class _LargeText{constructor(){let ne=gsapWithCSS.matchMedia(),te="(min-width: 991px)",ee=$(".depo-text"),
 re=ee.find(".depo-text__parent"),ie=re.find(".depo-font"),ae=new SplitText(ie,{type:"chars"}),oe=gsapWithCSS.timeline({scrollTrigger:{trigger:ee,start:"top 25%",end:"bottom bottom",scrub:!0},defaults:{ease:"none"}}),le=gsapWithCSS.timeline({scrollTrigger:{trigger:ee,start:"top 75%",end:"top -325%",scrub:!0},defaults:{ease:"none",duration:4}}),he=-$(re).width()+$(ee).width()*.7;oe.to(re,{x:he});let pe=ae.chars.length*.2,ce=pe*.2;le.from(ae.chars,{opacity:0,ease:"none",yPercent:100,duration:pe,stagger:ce}),ne.add(te,()=>{window.addEventListener("resize",()=>ScrollTrigger.refresh())})}}class _Awards{constructor(){let ne=$(".depo-awards__parent");$(ne).each(function(){let te=$(this),
 ee=te.find(".depo-awards__img"),re={x:0,y:0},ie,ae,oe=te.width(),le=te.height();te.on("mousemove",he=>{re.x=he.clientX-te[0].getBoundingClientRect().left,re.y=he.clientY-te[0].getBoundingClientRect().top,ie=(re.x-$(te).width()/2)/$(te).width()*(oe*.9),ae=(re.y-$(te).height()/2)/$(te).height()*(le*.8);let ue=ie/$(te).width()*15;g
 sapWithCSS.to(ee,{duration:.4,x:ie,y:ae,ease:"power2",rotate:ue})})})}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Slider{constructor(){let ne=$(".depo-slider"),te=ne.find(".depo-slider__list");gsapWithCSS.timeline({scrollTrigger:{trigger:ne,start:"top bottom",end:"bottom top",scrub:1}}).fromTo(te,{xPercent:0},{xPercent:-50,ease:"none"},0)}}class PromoDepo{constructor(){this.largeText=new _LargeText,this.awards=new _Awards,this.slider=new _Slider}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Cases{constructor(){let ne=gsapWithCSS.matchMedia(),te="(min-width: 991px)";const ee=()=>{let re=$(".fox-cases"),ie=$(".fox-cases__item"),ae=$(".fox-cases__content");const oe=()=>ie.addClass("show"),le=()=>ie.removeClass("show");gsapWithCSS.timeline({scrollTrigger:{trigger:re,start:"top top",end:"bottom bottom",
 scrub:1},defaults:{ease:"none",duration:5}}).from(ie,{y:gsapWithCSS.utils.wrap(["-100vh","100vh"]),duration:2}).to(ae,{opacity:.15,duration:1,pointerEvents:"none"},.5).to(ie,{yPercent:gsapWithCSS.utils.wrap([80,-80]),duration:2},">1").
 to(ae,{opacity:1,duration:.5,pointerEvents:"auto"},"<1"),ScrollTrigger.create({trigger:re,start:"top top",end:"bottom bottom",onEnter:oe,onLeaveBack:le})};ne.add(te,ee)}}class _Blur{constructor(){const ne=$(".fox-cases__bg"),te=$('<div class="section__blur"></div>');ne.append(te);const ee=ne.find(".section__blur"),
 re={width:window.innerWidth,height:window.innerHeight},ie={x:0,y:0};let ae,oe;window.addEventListener("mousemove",le=>{ie.x=le.clientX/re.width,ie.y=le.clientY/re.height-.5,ie.z=ie.x-ie.y,ae=ie.x/4+.14,oe=ie.y/4+.77,ee.css("background-image",
 `linear-gradient(90deg, rgb(${.89*256}, ${ae*256}, ${.14*256}) 0%, rgb(${1*256}, ${oe*256}, ${.2*256}) 100%)`),ee.css("background-image",`-webkit-linear-gradient(90deg, rgb(${.89*256}, ${ae*256}, ${.14*256}) 0%, rgb(${1*256}, ${oe*256}, ${.2*256}) 100%)`)})}}class _3D{constructor(){let ne={frame:0},te=Lottie.loadAnimation({container:document.querySelector(".fox-3d"),renderer:"svg",loop:!1,
 autoplay:!1,path:"https://uploads-ssl.webflow.com/64232d1298684b7aac80993f/644278223d142e3944b3f315_Shape%203.json"}),ee=gsapWithCSS.timeline({repeat:-1});te.addEventListener("DOMLoaded",function(){ee.to(ne,{frame:te.totalFrames-1,ease:"none",onUpdate:()=>te.goToAndStop(ne.frame,!0),duration:2})})}}gsapWithCSS.registerPlugin(ScrollTrigger);class _Parallax{constructor(){const ne=(ie,ae,oe,le,he,ue,pe,ce)=>{let fe={x:0,y:0},me,de,ve,ge;ie.on("mousemove",xe=>{fe.x=xe.clientX-ie[0].getBoundingClientRect().left,fe.y=xe.clientY-ie[0].getBoundingClientRect().top,me=(fe.x-$(ie).width()/2)/$(ie).width()
 *(oe*.9),de=(fe.y-$(ie).height()/2)/$(ie).height()*(le*.8),ve=me+me*pe,ge=de+de*pe;let _e=me/ae.
 width()*7.5;ce==!0?gsapWithCSS.to(ae,{duration:he,x:ve,y:ge,ease:ue,rotate:_e}):gsapWithCSS.to(ae,{duration:he,x:ve,y:ge,ease:ue})}),ie.on("mouseleave",()=>{gsapWithCSS.to(ae,{duration:he,ease:ue,x:0,y:0})})};let te=$("main"),ee=$(".focus__img--item"),re=gsapWithCSS.timeline({paused:!0,defaults:{stagger:.1,duration:1,ease:"power2"}});re.from(ee,{opacity:0}),ScrollTrigger.create({trigger:ee.eq(0),start:"top center",onEnter:()=>re.play()}),$(ee).each(function(ie){let ae=$(this),oe=100*(Math.random()-.5)*ie;ne(te,ae,oe,oe,1,"power2",0)})}}class Fox{constructor()
 {this.cases=new _Cases,this.blur=new _Blur,this.three=new _3D,this.parallax=new _Parallax}}gsapWithCSS.registerPlugin(ScrollTrigger);class _ScrollHorizontal{constructor(){let ne=window.innerWidth,te=$(".dima-horizontal"),ee=te.find(".dima-horizontal__img"),re=gsapWithCSS.timeline({scrollTrigger:{trigger:te,start:"top top",end:"bottom bottom",scrub:!0},defaults:{ease:"none"}}),ie=ee.width(),ae=ie-(window.innerWidth-80);re.to(ee,{x:-ae});const oe=()=>{let he=window.innerWidth;ne!==he&&(ie=ee.width(),ae=ie-(window.innerWidth-80),setTimeout(()=>{gsapWithCSS.set(ee,{clear:"all"})
 ,re.kill(),ScrollTrigger.refresh(),re=gsapWithCSS.timeline({scrollTrigger:{trigger:te,start:"top top",end:"bottom bottom",scrub:!0},defaults:{ease:"none"}}),re.to(ee,{x:-ae})},50))};function le(he){let ue;return function(pe){ue&&clearTimeout(ue),ue=setTimeout(he,300,pe)}}window.addEventListener("resize",le(function(he){oe()}))}}gsapWithCSS.registerPlugin(ScrollTrigger);class _ScrollScale{constructor(){$("[scroll-scale]").each((te,ee)=>{let re=$(ee),
	ie=re.find("img");gsapWithCSS.timeline({scrollTrigger:{trigger:re,start:"top bottom",end:"bottom top",scrub:!0}}).to(ie,{scale:1.2})})}}class Dima{constructor(){this.scroll=new _ScrollHorizontal,this.scrollScale=new _ScrollScale}}gsapWithCSS.registerPlugin(ScrollTrigger);class _HeroImg{constructor(){let ne=$("[terrane-pin]"),te=ne.find(".terrane-photo");gsapWithCSS.timeline({scrollTrigger:{trigger:ne,start:"top top",end:"bottom bottom",scrub:!0}}).to(te,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",stagger:{amount:2},ease:"none"},0)}}gsapWithCSS.registerPlugin(SplitText);class _Hover{constructor(){let ne=$(".terrane-hover__btn");ne.find(".terrane-hover__btn-circle");let te=ne.find(".terrane-hover__text").find(".f");new SplitText(te,{type:"lines",linesClass:"terrane-hover__text-line"});let ee=new SplitText(te,{type:"lines"});gsapWithCSS.set(ee.lines,{overflow:"hidden"}),$(".terrane-hover__text-line").each((ie,ae)=>{$(ae).css("--delay",`${ie*.1}s`)})}}class Terrane{constructor(){this.heroImg=new _HeroImg,this.hover=new _Hover}}class InnerCase{constructor(){$("main").attr("data-page")=="orb"&&(this.orb=new Orb),$("main").attr("data-page")=="depo-studio"&&(this.depoStudio=new PromoDepo),$("main").attr("data-page")=="aaron"&&(this.aaron=new Aaron),$("main").attr("data-page")=="fox"&&(this.fox=new Fox),$("main").attr("data-page")=="dima"&&(this.dima=new Dima),$("main").attr("data-page")=="terrane"&&(this.terrane=new Terrane),this.orderHover=new OrderHover,this.parallax=new ImgParallax,this.bgTiles=new BgTiles,this.nextSection=new ShowNext}}class Copy{constructor(){$("[copy-mail").each((te,ee)=>{let re=$(ee);re.on("click",()=>{let ie=$("<input>");ie.val("dharshankvmh42@gmail.com"),$("body").append(ie),ie.select(),document.execCommand("copy"),ie.remove(),re.find(".f").find("div").eq(0).find("div").detach(),re.find(".f").find("div").text("Copied:"),setTimeout(()=>{re.find(".f").find("div").text("copy:")},1e3)})})}}gsapWithCSS.registerPlugin(SplitText);class Burger{constructor(){let ne=gsapWithCSS.matchMedia(),te="(max-width: 991px)";const ee=()=>{let re=$("body"),ie=$(".nav__burger"),ae=ie.find(".f"),oe=$(".burger"),le=oe.find(".burger__bg")[0],he=oe.find(".burger__item");ie.on("click",()=>{re.hasClass("active-burger")?(re.removeClass("active-burger"),oe.
 addClass("no-delay"),re.removeClass("grey-tile"),this.textAnimation(ae,"menu")):(re.addClass("active-burger"),oe.removeClass("no-delay"),re.addClass("grey-tile"),this.textAnimation(ae,"close"))}),he.on("click",()=>{setTimeout(()=>{oe.addClass
 ("skip-delay")},310),setTimeout(()=>{oe.removeClass("skip-delay")},1400),oe.addClass("no-delay"),this.textAnimation(ae,"menu")}),new CreateGrid(le,"burger__tile");let ue=$(".burger__tile");gsapWithCSS.utils.shuffle(ue),ue.each(function(pe,ce){$(ce).
	css("transition-delay",pe*(.4/ue.length)+"s")}),this.resize(),this.split()};ne.add(te,()=>ee())}textAnimation(ne,te){const ee="abcdefghijklmnopqrstuvwxyz";ne.attr("data-value",te);let re=0,ie=setInterval(()=>{ne.text(ne.attr("data-value").split("").map((ae,oe)=>oe<re?ne.attr("data-value")[oe]:ee[Math.floor(Math.random()*26)]).join("")),re>=ne.attr("data-value").length&&clearInterval(ie),re+=Math.ceil(1/5)},40)}split(){let ne=$(".burger__item"),te=ne.find(".f-96"),ee=new SplitText(te,{type:"chars",charsClass:"burger__char"});ne.each((re,ie)=>{let ae=$(ie),oe=ae.find(".burger__char");ae.find(".burger__item-index").css("transition-delay",(re+1)*.1+.1+"s"),gsapWithCSS.utils.shuffle(oe),oe.each((he,ue)=>{$(ue).css("transition-delay",he/(oe.length-1)*.4+.1+"s")})}),gsapWithCSS.utils.shuffle(ee.chars)}resize(){const ne=()=>{setTimeout(()=>{let ee=$(".burger__tile");gsapWithCSS.utils.shuffle(ee),ee.each(function(re,ie){$(ie).css("transition-delay",re*(.4/ee.length)+"s")})},10)};function te(ee){let re;return function(ie){re&&clearTimeout(re),re=setTimeout(ee,300,ie)}}window.addEventListener("resize",te(function(ee){ne()}))}}class _404{constructor(){$("body").addClass("page-404"),$('[href="/contact"]').find("[text-target]").attr("data-value","contact page"),$("._404__svg").eq(0);let te=$("._404__svg:last-child"),ee=$("._404__zero");gsapWithCSS.set(te,{xPercent:-138}),gsapWithCSS.timeline({defaults:{duration:1,ease:"power2"}}).to(te,{xPercent:0},1).fromTo(ee,{scaleX:0},{scaleX:1,transformOrigin:"left"},"<0.2")}}let instance=null;class App{constructor(){if(instance)return instance;instance=this;const ne=()=>window.scrollTo({top:0,behavior:"instant"});window.addEventListener("load",()=>{setTimeout(ne,1)});const te=()=>{ne();let ee=$("main");new Title,new Utils(ee),new Copy,$("main").attr("data-barba-namespace")=="home"&&(this.home=new Home),$("main").attr("data-barba-namespace")=="cases"&&(this.cases=new Cases),$("main").attr("data-barba-namespace")=="contact"&&(this.contact=new Contact),$("main").attr("data-barba-namespace")=="playground"&&(this.playground=new Playground),$("main").attr("data-barba-namespace")=="innercase"&&(this.innercase=new 
		InnerCase),$("main").attr("data-barba-namespace")=="404"&&(this._404=new _404)};ct.init({debug:!1,timeout:7e3,transitions:[{name:"once",once(ee){new _InnerLoader(ee.next.container)}},{name:"once-home",to:{namespace:["home"]},once(ee){let ie=new Loader().duration*.9;new _HomeLoader(ee.next.container,ie),new NavProgress(ee.next.container)}},{name:"once-cases",to:{namespace:["cases"]},once(ee){new _InnerLoader(ee.next.container),new _CasesLoader(ee.next.container,.4)}},{name:"once-contact",to:{namespace:["contact"]},once(ee){new _InnerLoader(ee.next.container),new FormValidation,new _ContactLoader(ee.next.container,.4)}},{name:"once-playground",to:{namespace:["playground"]},once(ee){new _InnerLoader(ee.next.container),new NavProgress(ee.next.container),new _PlaygroundLoader(ee.next.container,.2)}},{name:"once-innercase",to:{namespace:["innercase"]},once(ee){new _InnerLoader(ee.next.container),
 new NavProgress(ee.next.container),new _InnerCaseLoader(ee.next.container,.2)}},{leave(ee){const re=this.async();new _Leave(ee.current.container,re)},enter(ee){new _Enter(ee.next.container)},after(ee){te(),new LinksHover(ee.next.container.querySelectorAll("[text-link]")),new NavProgress(ee.next.container)}},{to:{namespace:["home"]},leave(ee){const re=this.async();
 new _Leave(ee.current.container,re)},enter(ee){new _Enter(ee.next.container),
 new _HomeLoader(ee.next.container,0)},after(ee){te(),new LinksHover(ee.next.container.querySelectorAll("[text-link]")),new NavProgress(ee.next.container)}},{to:{namespace:["cases"]},leave(ee){const re=this.async();new _Leave(ee.current.container,re)},
 enter(ee){new _Enter(ee.next.container),new _CasesLoader(ee.next.container,.4)},after(ee){te()}},{to:{namespace:["contact"]},leave(ee){const re=this.async();
 new _Leave(ee.current.container,re)},enter(ee){new _Enter(ee.next.container)},after(ee){te(),new LinksHover(ee.next.container.querySelectorAll("[text-link]")),new FormValidation,new _ContactLoader(ee.next.container,.4)}},{to:{namespace:["playground"]},leave(ee){const re=this.async();new _Leave(ee.current.container,re)},enter(ee){new _Enter(ee.next.container)},after(ee){te(),new LinksHover(ee.next.container.querySelectorAll("[text-link]")),new NavProgress(ee.next.container),new _PlaygroundLoader(ee.next.container,.2)}},
 {to:{namespace:["innercase"]},leave(ee){const re=this.async();new _Leave(ee.current.container,re)},enter(ee){new _Enter(ee.next.container)},after(ee){te(),new LinksHover(ee.next.container.querySelectorAll("[text-link]")),new NavProgress(ee.next.container),new _InnerCaseLoader(ee.next.container,.2)}}]}),ct.hooks.once(),$("main"),this.scroll=new Scroll,this.logo=new Logo,this.linksHover=new LinksHover(document.querySelectorAll("[text-link]")),this.burger=new Burger,setTimeout(()=>{te()},1),ct.hooks.after(async ee=>{await restartWebflow()}),ct.hooks.enter(ee=>{ee.next.container.querySelectorAll("video").forEach(function(ie){ie.load()})})}}new App});